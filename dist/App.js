var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i={exports:{}},r={},n={exports:{}},s={},a=Symbol.for("react.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),c=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),C=Symbol.iterator;var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,I={};function v(e,t,i){this.props=e,this.context=t,this.refs=I,this.updater=i||y}function _(){}function S(e,t,i){this.props=e,this.context=t,this.refs=I,this.updater=i||y}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=v.prototype;var k=S.prototype=new _;k.constructor=S,b(k,v.prototype),k.isPureReactComponent=!0;var T=Array.isArray,A=Object.prototype.hasOwnProperty,w={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function J(e,t,i){var r,n={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)A.call(t,r)&&!E.hasOwnProperty(r)&&(n[r]=t[r]);var l=arguments.length-2;if(1===l)n.children=i;else if(1<l){for(var h=Array(l),u=0;u<l;u++)h[u]=arguments[u+2];n.children=h}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===n[r]&&(n[r]=l[r]);return{$$typeof:a,type:e,key:s,ref:o,props:n,_owner:w.current}}function R(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var x=/\/+/g;function G(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function D(e,t,i,r,n){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case a:case o:l=!0}}if(l)return n=n(l=e),e=""===r?"."+G(l,0):r,T(n)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),D(n,t,i,"",(function(e){return e}))):null!=n&&(R(n)&&(n=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(n,i+(!n.key||l&&l.key===n.key?"":(""+n.key).replace(x,"$&/")+"/")+e)),t.push(n)),1;if(l=0,r=""===r?".":r+":",T(e))for(var h=0;h<e.length;h++){var u=r+G(s=e[h],h);l+=D(s,t,i,u,n)}else if(u=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=C&&e[C]||e["@@iterator"])?e:null}(e),"function"==typeof u)for(e=u.call(e),h=0;!(s=e.next()).done;)l+=D(s=s.value,t,i,u=r+G(s,h++),n);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function B(e,t,i){if(null==e)return e;var r=[],n=0;return D(e,r,"","",(function(e){return t.call(i,e,n++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var Q={current:null},M={transition:null},Z={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:M,ReactCurrentOwner:w};s.Children={map:B,forEach:function(e,t,i){B(e,(function(){t.apply(this,arguments)}),i)},count:function(e){var t=0;return B(e,(function(){t++})),t},toArray:function(e){return B(e,(function(e){return e}))||[]},only:function(e){if(!R(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},s.Component=v,s.Fragment=l,s.Profiler=u,s.PureComponent=S,s.StrictMode=h,s.Suspense=g,s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,s.cloneElement=function(e,t,i){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=b({},e.props),n=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=w.current),void 0!==t.key&&(n=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(h in t)A.call(t,h)&&!E.hasOwnProperty(h)&&(r[h]=void 0===t[h]&&void 0!==l?l[h]:t[h])}var h=arguments.length-2;if(1===h)r.children=i;else if(1<h){l=Array(h);for(var u=0;u<h;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:a,type:e.type,key:n,ref:s,props:r,_owner:o}},s.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:d,_context:e},e.Consumer=e},s.createElement=J,s.createFactory=function(e){var t=J.bind(null,e);return t.type=e,t},s.createRef=function(){return{current:null}},s.forwardRef=function(e){return{$$typeof:p,render:e}},s.isValidElement=R,s.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:N}},s.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},s.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},s.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},s.useCallback=function(e,t){return Q.current.useCallback(e,t)},s.useContext=function(e){return Q.current.useContext(e)},s.useDebugValue=function(){},s.useDeferredValue=function(e){return Q.current.useDeferredValue(e)},s.useEffect=function(e,t){return Q.current.useEffect(e,t)},s.useId=function(){return Q.current.useId()},s.useImperativeHandle=function(e,t,i){return Q.current.useImperativeHandle(e,t,i)},s.useInsertionEffect=function(e,t){return Q.current.useInsertionEffect(e,t)},s.useLayoutEffect=function(e,t){return Q.current.useLayoutEffect(e,t)},s.useMemo=function(e,t){return Q.current.useMemo(e,t)},s.useReducer=function(e,t,i){return Q.current.useReducer(e,t,i)},s.useRef=function(e){return Q.current.useRef(e)},s.useState=function(e){return Q.current.useState(e)},s.useSyncExternalStore=function(e,t,i){return Q.current.useSyncExternalStore(e,t,i)},s.useTransition=function(){return Q.current.useTransition()},s.version="18.1.0",n.exports=s;var P=t(n.exports),O={exports:{}},L={};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
!function(e){function t(e,t){var i=e.length;e.push(t);e:for(;0<i;){var r=i-1>>>1,s=e[r];if(!(0<n(s,t)))break e;e[r]=t,e[i]=s,i=r}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],i=e.pop();if(i!==t){e[0]=i;e:for(var r=0,s=e.length,a=s>>>1;r<a;){var o=2*(r+1)-1,l=e[o],h=o+1,u=e[h];if(0>n(l,i))h<s&&0>n(u,l)?(e[r]=u,e[h]=i,r=h):(e[r]=l,e[o]=i,r=o);else{if(!(h<s&&0>n(u,i)))break e;e[r]=u,e[h]=i,r=h}}}return t}function n(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],h=[],u=1,d=null,c=3,p=!1,g=!1,f=!1,m="function"==typeof setTimeout?setTimeout:null,C="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var n=i(h);null!==n;){if(null===n.callback)r(h);else{if(!(n.startTime<=e))break;r(h),n.sortIndex=n.expirationTime,t(l,n)}n=i(h)}}function I(e){if(f=!1,b(e),!g)if(null!==i(l))g=!0,G(v);else{var t=i(h);null!==t&&D(I,t.startTime-e)}}function v(t,n){g=!1,f&&(f=!1,C(T),T=-1),p=!0;var s=c;try{for(b(n),d=i(l);null!==d&&(!(d.expirationTime>n)||t&&!E());){var a=d.callback;if("function"==typeof a){d.callback=null,c=d.priorityLevel;var o=a(d.expirationTime<=n);n=e.unstable_now(),"function"==typeof o?d.callback=o:d===i(l)&&r(l),b(n)}else r(l);d=i(l)}if(null!==d)var u=!0;else{var m=i(h);null!==m&&D(I,m.startTime-n),u=!1}return u}finally{d=null,c=s,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,k=null,T=-1,A=5,w=-1;function E(){return!(e.unstable_now()-w<A)}function J(){if(null!==k){var t=e.unstable_now();w=t;var i=!0;try{i=k(!0,t)}finally{i?_():(S=!1,k=null)}}else S=!1}if("function"==typeof y)_=function(){y(J)};else if("undefined"!=typeof MessageChannel){var R=new MessageChannel,x=R.port2;R.port1.onmessage=J,_=function(){x.postMessage(null)}}else _=function(){m(J,0)};function G(e){k=e,S||(S=!0,_())}function D(t,i){T=m((function(){t(e.unstable_now())}),i)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,G(v))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return c},e.unstable_getFirstCallbackNode=function(){return i(l)},e.unstable_next=function(e){switch(c){case 1:case 2:case 3:var t=3;break;default:t=c}var i=c;c=t;try{return e()}finally{c=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=c;c=e;try{return t()}finally{c=i}},e.unstable_scheduleCallback=function(r,n,s){var a=e.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?a+s:a:s=a,r){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return r={id:u++,callback:n,priorityLevel:r,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(r.sortIndex=s,t(h,r),null===i(l)&&r===i(h)&&(f?(C(T),T=-1):f=!0,D(I,s-a))):(r.sortIndex=o,t(l,r),g||p||(g=!0,G(v))),r},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=c;return function(){var i=c;c=t;try{return e.apply(this,arguments)}finally{c=i}}}}(L),O.exports=L;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
var X=n.exports,V=O.exports;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var W=new Set,U={};function H(e,t){K(e,t),K(e+"Capture",t)}function K(e,t){for(U[e]=t,e=0;e<t.length;e++)W.add(t[e])}var Y=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),z=Object.prototype.hasOwnProperty,j=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q={},$={};function ee(e,t,i,r,n,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){te[e]=new ee(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];te[t]=new ee(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){te[e]=new ee(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){te[e]=new ee(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){te[e]=new ee(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){te[e]=new ee(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){te[e]=new ee(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){te[e]=new ee(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){te[e]=new ee(e,5,!1,e.toLowerCase(),null,!1,!1)}));var ie=/[\-:]([a-z])/g;function re(e){return e[1].toUpperCase()}function ne(e,t,i,r){var n=te.hasOwnProperty(t)?te[t]:null;(null!==n?0!==n.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,i,r){if(null==t||function(e,t,i,r){if(null!==i&&0===i.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==i?!i.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,i,r))return!0;if(r)return!1;if(null!==i)switch(i.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,i,n,r)&&(i=null),r||null===n?function(e){return!!z.call($,e)||!z.call(q,e)&&(j.test(e)?$[e]=!0:(q[e]=!0,!1))}(t)&&(null===i?e.removeAttribute(t):e.setAttribute(t,""+i)):n.mustUseProperty?e[n.propertyName]=null===i?3!==n.type&&"":i:(t=n.attributeName,r=n.attributeNamespace,null===i?e.removeAttribute(t):(i=3===(n=n.type)||4===n&&!0===i?"":""+i,r?e.setAttributeNS(r,t,i):e.setAttribute(t,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(ie,re);te[t]=new ee(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(ie,re);te[t]=new ee(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(ie,re);te[t]=new ee(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){te[e]=new ee(e,1,!1,e.toLowerCase(),null,!1,!1)})),te.xlinkHref=new ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){te[e]=new ee(e,1,!1,e.toLowerCase(),null,!0,!0)}));var se=X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ae=Symbol.for("react.element"),oe=Symbol.for("react.portal"),le=Symbol.for("react.fragment"),he=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),ce=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),me=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),be=Symbol.iterator;function Ie(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=be&&e[be]||e["@@iterator"])?e:null}var ve,_e=Object.assign;function Se(e){if(void 0===ve)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);ve=t&&t[1]||""}return"\n"+ve+e}var ke=!1;function Te(e,t){if(!e||ke)return"";ke=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var n=t.stack.split("\n"),s=r.stack.split("\n"),a=n.length-1,o=s.length-1;1<=a&&0<=o&&n[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(n[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||n[a]!==s[o]){var l="\n"+n[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{ke=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Se(e):""}function Ae(e){switch(e.tag){case 5:return Se(e.type);case 16:return Se("Lazy");case 13:return Se("Suspense");case 19:return Se("SuspenseList");case 0:case 2:case 15:return e=Te(e.type,!1);case 11:return e=Te(e.type.render,!1);case 1:return e=Te(e.type,!0);default:return""}}function we(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case le:return"Fragment";case oe:return"Portal";case ue:return"Profiler";case he:return"StrictMode";case ge:return"Suspense";case fe:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ce:return(e.displayName||"Context")+".Consumer";case de:return(e._context.displayName||"Context")+".Provider";case pe:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case me:return null!==(t=e.displayName||null)?t:we(e.type)||"Memo";case Ce:t=e._payload,e=e._init;try{return we(e(t))}catch(e){}}return null}function Ee(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(t);case 8:return t===he?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function Je(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Re(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function xe(e){e._valueTracker||(e._valueTracker=function(e){var t=Re(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==i&&"function"==typeof i.get&&"function"==typeof i.set){var n=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ge(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),r="";return e&&(r=Re(e)?e.checked?"true":"false":e.value),(e=r)!==i&&(t.setValue(e),!0)}function De(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Be(e,t){var i=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:e._wrapperState.initialChecked})}function Ne(e,t){var i=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;i=Je(null!=t.value?t.value:i),e._wrapperState={initialChecked:r,initialValue:i,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Qe(e,t){null!=(t=t.checked)&&ne(e,"checked",t,!1)}function Me(e,t){Qe(e,t);var i=Je(t.value),r=t.type;if(null!=i)"number"===r?(0===i&&""===e.value||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Pe(e,t.type,i):t.hasOwnProperty("defaultValue")&&Pe(e,t.type,Je(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Ze(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}""!==(i=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==i&&(e.name=i)}function Pe(e,t,i){"number"===t&&De(e.ownerDocument)===e||(null==i?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var Oe=Array.isArray;function Le(e,t,i,r){if(e=e.options,t){t={};for(var n=0;n<i.length;n++)t["$"+i[n]]=!0;for(i=0;i<e.length;i++)n=t.hasOwnProperty("$"+e[i].value),e[i].selected!==n&&(e[i].selected=n),n&&r&&(e[i].defaultSelected=!0)}else{for(i=""+Je(i),t=null,n=0;n<e.length;n++){if(e[n].value===i)return e[n].selected=!0,void(r&&(e[n].defaultSelected=!0));null!==t||e[n].disabled||(t=e[n])}null!==t&&(t.selected=!0)}}function Xe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(F(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ve(e,t){var i=t.value;if(null==i){if(i=t.children,t=t.defaultValue,null!=i){if(null!=t)throw Error(F(92));if(Oe(i)){if(1<i.length)throw Error(F(93));i=i[0]}t=i}null==t&&(t=""),i=t}e._wrapperState={initialValue:Je(i)}}function Fe(e,t){var i=Je(t.value),r=Je(t.defaultValue);null!=i&&((i=""+i)!==e.value&&(e.value=i),null==t.defaultValue&&e.defaultValue!==i&&(e.defaultValue=i)),null!=r&&(e.defaultValue=""+r)}function We(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function Ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function He(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Ke,Ye,ze=(Ye=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((Ke=Ke||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ke.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction((function(){return Ye(e,t)}))}:Ye);function je(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&3===i.nodeType)return void(i.nodeValue=t)}e.textContent=t}var qe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$e=["Webkit","ms","Moz","O"];function et(e,t,i){return null==t||"boolean"==typeof t||""===t?"":i||"number"!=typeof t||0===t||qe.hasOwnProperty(e)&&qe[e]?(""+t).trim():t+"px"}function tt(e,t){for(var i in e=e.style,t)if(t.hasOwnProperty(i)){var r=0===i.indexOf("--"),n=et(i,t[i],r);"float"===i&&(i="cssFloat"),r?e.setProperty(i,n):e[i]=n}}Object.keys(qe).forEach((function(e){$e.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qe[t]=qe[e]}))}));var it=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rt(e,t){if(t){if(it[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(F(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(F(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(F(62))}}function nt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var st=null;function at(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ot=null,lt=null,ht=null;function ut(e){if(e=ns(e)){if("function"!=typeof ot)throw Error(F(280));var t=e.stateNode;t&&(t=as(t),ot(e.stateNode,e.type,t))}}function dt(e){lt?ht?ht.push(e):ht=[e]:lt=e}function ct(){if(lt){var e=lt,t=ht;if(ht=lt=null,ut(e),t)for(e=0;e<t.length;e++)ut(t[e])}}function pt(e,t){return e(t)}function gt(){}var ft=!1;function mt(e,t,i){if(ft)return e(t,i);ft=!0;try{return pt(e,t,i)}finally{ft=!1,(null!==lt||null!==ht)&&(gt(),ct())}}function Ct(e,t){var i=e.stateNode;if(null===i)return null;var r=as(i);if(null===r)return null;i=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(i&&"function"!=typeof i)throw Error(F(231,t,typeof i));return i}var yt=!1;if(Y)try{var bt={};Object.defineProperty(bt,"passive",{get:function(){yt=!0}}),window.addEventListener("test",bt,bt),window.removeEventListener("test",bt,bt)}catch(Ye){yt=!1}function It(e,t,i,r,n,s,a,o,l){var h=Array.prototype.slice.call(arguments,3);try{t.apply(i,h)}catch(e){this.onError(e)}}var vt=!1,_t=null,St=!1,kt=null,Tt={onError:function(e){vt=!0,_t=e}};function At(e,t,i,r,n,s,a,o,l){vt=!1,_t=null,It.apply(Tt,arguments)}function wt(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(i=t.return),e=t.return}while(e)}return 3===t.tag?i:null}function Et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Jt(e){if(wt(e)!==e)throw Error(F(188))}function Rt(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=wt(e)))throw Error(F(188));return t!==e?null:e}for(var i=e,r=t;;){var n=i.return;if(null===n)break;var s=n.alternate;if(null===s){if(null!==(r=n.return)){i=r;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===i)return Jt(n),e;if(s===r)return Jt(n),t;s=s.sibling}throw Error(F(188))}if(i.return!==r.return)i=n,r=s;else{for(var a=!1,o=n.child;o;){if(o===i){a=!0,i=n,r=s;break}if(o===r){a=!0,r=n,i=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===i){a=!0,i=s,r=n;break}if(o===r){a=!0,r=s,i=n;break}o=o.sibling}if(!a)throw Error(F(189))}}if(i.alternate!==r)throw Error(F(190))}if(3!==i.tag)throw Error(F(188));return i.stateNode.current===i?e:t}(e),null!==e?xt(e):null}function xt(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=xt(e);if(null!==t)return t;e=e.sibling}return null}var Gt=V.unstable_scheduleCallback,Dt=V.unstable_cancelCallback,Bt=V.unstable_shouldYield,Nt=V.unstable_requestPaint,Qt=V.unstable_now,Mt=V.unstable_getCurrentPriorityLevel,Zt=V.unstable_ImmediatePriority,Pt=V.unstable_UserBlockingPriority,Ot=V.unstable_NormalPriority,Lt=V.unstable_LowPriority,Xt=V.unstable_IdlePriority,Vt=null,Ft=null;var Wt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(Ut(e)/Ht|0)|0},Ut=Math.log,Ht=Math.LN2;var Kt=64,Yt=4194304;function zt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jt(e,t){var i=e.pendingLanes;if(0===i)return 0;var r=0,n=e.suspendedLanes,s=e.pingedLanes,a=268435455&i;if(0!==a){var o=a&~n;0!==o?r=zt(o):0!==(s&=a)&&(r=zt(s))}else 0!==(a=i&~n)?r=zt(a):0!==s&&(r=zt(s));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&n)&&((n=r&-r)>=(s=t&-t)||16===n&&0!=(4194240&s)))return t;if(0!=(4&r)&&(r|=16&i),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)n=1<<(i=31-Wt(t)),r|=e[i],t&=~n;return r}function qt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function $t(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ei(){var e=Kt;return 0==(4194240&(Kt<<=1))&&(Kt=64),e}function ti(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function ii(e,t,i){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-Wt(t)]=i}function ri(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var r=31-Wt(i),n=1<<r;n&t|e[r]&t&&(e[r]|=t),i&=~n}}var ni=0;function si(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var ai,oi,li,hi,ui,di=!1,ci=[],pi=null,gi=null,fi=null,mi=new Map,Ci=new Map,yi=[],bi="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ii(e,t){switch(e){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":mi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ci.delete(t.pointerId)}}function vi(e,t,i,r,n,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:i,eventSystemFlags:r,nativeEvent:s,targetContainers:[n]},null!==t&&(null!==(t=ns(t))&&oi(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==n&&-1===t.indexOf(n)&&t.push(n),e)}function _i(e){var t=rs(e.target);if(null!==t){var i=wt(t);if(null!==i)if(13===(t=i.tag)){if(null!==(t=Et(i)))return e.blockedOn=t,void ui(e.priority,(function(){li(i)}))}else if(3===t&&i.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}e.blockedOn=null}function Si(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var i=Bi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==i)return null!==(t=ns(i))&&oi(t),e.blockedOn=i,!1;var r=new(i=e.nativeEvent).constructor(i.type,i);st=r,i.target.dispatchEvent(r),st=null,t.shift()}return!0}function ki(e,t,i){Si(e)&&i.delete(t)}function Ti(){di=!1,null!==pi&&Si(pi)&&(pi=null),null!==gi&&Si(gi)&&(gi=null),null!==fi&&Si(fi)&&(fi=null),mi.forEach(ki),Ci.forEach(ki)}function Ai(e,t){e.blockedOn===t&&(e.blockedOn=null,di||(di=!0,V.unstable_scheduleCallback(V.unstable_NormalPriority,Ti)))}function wi(e){function t(t){return Ai(t,e)}if(0<ci.length){Ai(ci[0],e);for(var i=1;i<ci.length;i++){var r=ci[i];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==pi&&Ai(pi,e),null!==gi&&Ai(gi,e),null!==fi&&Ai(fi,e),mi.forEach(t),Ci.forEach(t),i=0;i<yi.length;i++)(r=yi[i]).blockedOn===e&&(r.blockedOn=null);for(;0<yi.length&&null===(i=yi[0]).blockedOn;)_i(i),null===i.blockedOn&&yi.shift()}var Ei=se.ReactCurrentBatchConfig,Ji=!0;function Ri(e,t,i,r){var n=ni,s=Ei.transition;Ei.transition=null;try{ni=1,Gi(e,t,i,r)}finally{ni=n,Ei.transition=s}}function xi(e,t,i,r){var n=ni,s=Ei.transition;Ei.transition=null;try{ni=4,Gi(e,t,i,r)}finally{ni=n,Ei.transition=s}}function Gi(e,t,i,r){if(Ji){var n=Bi(e,t,i,r);if(null===n)Jn(e,t,r,Di,i),Ii(e,r);else if(function(e,t,i,r,n){switch(t){case"focusin":return pi=vi(pi,e,t,i,r,n),!0;case"dragenter":return gi=vi(gi,e,t,i,r,n),!0;case"mouseover":return fi=vi(fi,e,t,i,r,n),!0;case"pointerover":var s=n.pointerId;return mi.set(s,vi(mi.get(s)||null,e,t,i,r,n)),!0;case"gotpointercapture":return s=n.pointerId,Ci.set(s,vi(Ci.get(s)||null,e,t,i,r,n)),!0}return!1}(n,e,t,i,r))r.stopPropagation();else if(Ii(e,r),4&t&&-1<bi.indexOf(e)){for(;null!==n;){var s=ns(n);if(null!==s&&ai(s),null===(s=Bi(e,t,i,r))&&Jn(e,t,r,Di,i),s===n)break;n=s}null!==n&&r.stopPropagation()}else Jn(e,t,r,null,i)}}var Di=null;function Bi(e,t,i,r){if(Di=null,null!==(e=rs(e=at(r))))if(null===(t=wt(e)))e=null;else if(13===(i=t.tag)){if(null!==(e=Et(t)))return e;e=null}else if(3===i){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Di=e,null}function Ni(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mt()){case Zt:return 1;case Pt:return 4;case Ot:case Lt:return 16;case Xt:return 536870912;default:return 16}default:return 16}}var Qi=null,Mi=null,Zi=null;function Pi(){if(Zi)return Zi;var e,t,i=Mi,r=i.length,n="value"in Qi?Qi.value:Qi.textContent,s=n.length;for(e=0;e<r&&i[e]===n[e];e++);var a=r-e;for(t=1;t<=a&&i[r-t]===n[s-t];t++);return Zi=n.slice(e,1<t?1-t:void 0)}function Oi(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Li(){return!0}function Xi(){return!1}function Vi(e){function t(t,i,r,n,s){for(var a in this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=n,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(n):n[a]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Li:Xi,this.isPropagationStopped=Xi,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Li)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Li)},persist:function(){},isPersistent:Li}),t}var Fi,Wi,Ui,Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ki=Vi(Hi),Yi=_e({},Hi,{view:0,detail:0}),zi=Vi(Yi),ji=_e({},Yi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ui&&(Ui&&"mousemove"===e.type?(Fi=e.screenX-Ui.screenX,Wi=e.screenY-Ui.screenY):Wi=Fi=0,Ui=e),Fi)},movementY:function(e){return"movementY"in e?e.movementY:Wi}}),qi=Vi(ji),$i=Vi(_e({},ji,{dataTransfer:0})),er=Vi(_e({},Yi,{relatedTarget:0})),tr=Vi(_e({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0})),ir=_e({},Hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rr=Vi(ir),nr=Vi(_e({},Hi,{data:0})),sr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ar={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},or={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=or[e])&&!!t[e]}function hr(){return lr}var ur=_e({},Yi,{key:function(e){if(e.key){var t=sr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Oi(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ar[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hr,charCode:function(e){return"keypress"===e.type?Oi(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Oi(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),dr=Vi(ur),cr=Vi(_e({},ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),pr=Vi(_e({},Yi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hr})),gr=Vi(_e({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0})),fr=_e({},ji,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mr=Vi(fr),Cr=[9,13,27,32],yr=Y&&"CompositionEvent"in window,br=null;Y&&"documentMode"in document&&(br=document.documentMode);var Ir=Y&&"TextEvent"in window&&!br,vr=Y&&(!yr||br&&8<br&&11>=br),_r=String.fromCharCode(32),Sr=!1;function kr(e,t){switch(e){case"keyup":return-1!==Cr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tr(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ar=!1;var wr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Er(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!wr[e.type]:"textarea"===t}function Jr(e,t,i,r){dt(r),0<(t=xn(t,"onChange")).length&&(i=new Ki("onChange","change",null,i,r),e.push({event:i,listeners:t}))}var Rr=null,xr=null;function Gr(e){Sn(e,0)}function Dr(e){if(Ge(ss(e)))return e}function Br(e,t){if("change"===e)return t}var Nr=!1;if(Y){var Qr;if(Y){var Mr="oninput"in document;if(!Mr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Mr="function"==typeof Zr.oninput}Qr=Mr}else Qr=!1;Nr=Qr&&(!document.documentMode||9<document.documentMode)}function Pr(){Rr&&(Rr.detachEvent("onpropertychange",Or),xr=Rr=null)}function Or(e){if("value"===e.propertyName&&Dr(xr)){var t=[];Jr(t,xr,e,at(e)),mt(Gr,t)}}function Lr(e,t,i){"focusin"===e?(Pr(),xr=i,(Rr=t).attachEvent("onpropertychange",Or)):"focusout"===e&&Pr()}function Xr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Dr(xr)}function Vr(e,t){if("click"===e)return Dr(t)}function Fr(e,t){if("input"===e||"change"===e)return Dr(t)}var Wr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function Ur(e,t){if(Wr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),r=Object.keys(t);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var n=i[r];if(!z.call(t,n)||!Wr(e[n],t[n]))return!1}return!0}function Hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kr(e,t){var i,r=Hr(e);for(e=0;r;){if(3===r.nodeType){if(i=e+r.textContent.length,e<=t&&i>=t)return{node:r,offset:t-e};e=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Hr(r)}}function Yr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Yr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function zr(){for(var e=window,t=De();t instanceof e.HTMLIFrameElement;){try{var i="string"==typeof t.contentWindow.location.href}catch(e){i=!1}if(!i)break;t=De((e=t.contentWindow).document)}return t}function jr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function qr(e){var t=zr(),i=e.focusedElem,r=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&Yr(i.ownerDocument.documentElement,i)){if(null!==r&&jr(i))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if((e=(t=i.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var n=i.textContent.length,s=Math.min(r.start,n);r=void 0===r.end?s:Math.min(r.end,n),!e.extend&&s>r&&(n=r,r=s,s=n),n=Kr(i,s);var a=Kr(i,r);n&&a&&(1!==e.rangeCount||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(n.node,n.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=i;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof i.focus&&i.focus(),i=0;i<t.length;i++)(e=t[i]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var $r=Y&&"documentMode"in document&&11>=document.documentMode,en=null,tn=null,rn=null,nn=!1;function sn(e,t,i){var r=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;nn||null==en||en!==De(r)||("selectionStart"in(r=en)&&jr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},rn&&Ur(rn,r)||(rn=r,0<(r=xn(tn,"onSelect")).length&&(t=new Ki("onSelect","select",null,t,i),e.push({event:t,listeners:r}),t.target=en)))}function an(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var on={animationend:an("Animation","AnimationEnd"),animationiteration:an("Animation","AnimationIteration"),animationstart:an("Animation","AnimationStart"),transitionend:an("Transition","TransitionEnd")},ln={},hn={};function un(e){if(ln[e])return ln[e];if(!on[e])return e;var t,i=on[e];for(t in i)if(i.hasOwnProperty(t)&&t in hn)return ln[e]=i[t];return e}Y&&(hn=document.createElement("div").style,"AnimationEvent"in window||(delete on.animationend.animation,delete on.animationiteration.animation,delete on.animationstart.animation),"TransitionEvent"in window||delete on.transitionend.transition);var dn=un("animationend"),cn=un("animationiteration"),pn=un("animationstart"),gn=un("transitionend"),fn=new Map,mn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(e,t){fn.set(e,t),H(t,[e])}for(var yn=0;yn<mn.length;yn++){var bn=mn[yn];Cn(bn.toLowerCase(),"on"+(bn[0].toUpperCase()+bn.slice(1)))}Cn(dn,"onAnimationEnd"),Cn(cn,"onAnimationIteration"),Cn(pn,"onAnimationStart"),Cn("dblclick","onDoubleClick"),Cn("focusin","onFocus"),Cn("focusout","onBlur"),Cn(gn,"onTransitionEnd"),K("onMouseEnter",["mouseout","mouseover"]),K("onMouseLeave",["mouseout","mouseover"]),K("onPointerEnter",["pointerout","pointerover"]),K("onPointerLeave",["pointerout","pointerover"]),H("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),H("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),H("onBeforeInput",["compositionend","keypress","textInput","paste"]),H("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),H("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),H("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var In="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vn=new Set("cancel close invalid load scroll toggle".split(" ").concat(In));function _n(e,t,i){var r=e.type||"unknown-event";e.currentTarget=i,function(e,t,i,r,n,s,a,o,l){if(At.apply(this,arguments),vt){if(!vt)throw Error(F(198));var h=_t;vt=!1,_t=null,St||(St=!0,kt=h)}}(r,t,void 0,e),e.currentTarget=null}function Sn(e,t){t=0!=(4&t);for(var i=0;i<e.length;i++){var r=e[i],n=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,h=o.currentTarget;if(o=o.listener,l!==s&&n.isPropagationStopped())break e;_n(n,o,h),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,h=o.currentTarget,o=o.listener,l!==s&&n.isPropagationStopped())break e;_n(n,o,h),s=l}}}if(St)throw e=kt,St=!1,kt=null,e}function kn(e,t){var i=t[es];void 0===i&&(i=t[es]=new Set);var r=e+"__bubble";i.has(r)||(En(t,e,2,!1),i.add(r))}function Tn(e,t,i){var r=0;t&&(r|=4),En(i,e,r,t)}var An="_reactListening"+Math.random().toString(36).slice(2);function wn(e){if(!e[An]){e[An]=!0,W.forEach((function(t){"selectionchange"!==t&&(vn.has(t)||Tn(t,!1,e),Tn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[An]||(t[An]=!0,Tn("selectionchange",!1,t))}}function En(e,t,i,r){switch(Ni(t)){case 1:var n=Ri;break;case 4:n=xi;break;default:n=Gi}i=n.bind(null,t,i,e),n=void 0,!yt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(n=!0),r?void 0!==n?e.addEventListener(t,i,{capture:!0,passive:n}):e.addEventListener(t,i,!0):void 0!==n?e.addEventListener(t,i,{passive:n}):e.addEventListener(t,i,!1)}function Jn(e,t,i,r,n){var s=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===n||8===o.nodeType&&o.parentNode===n)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===n||8===l.nodeType&&l.parentNode===n))return;a=a.return}for(;null!==o;){if(null===(a=rs(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}mt((function(){var r=s,n=at(i),a=[];e:{var o=fn.get(e);if(void 0!==o){var l=Ki,h=e;switch(e){case"keypress":if(0===Oi(i))break e;case"keydown":case"keyup":l=dr;break;case"focusin":h="focus",l=er;break;case"focusout":h="blur",l=er;break;case"beforeblur":case"afterblur":l=er;break;case"click":if(2===i.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=qi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=$i;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=pr;break;case dn:case cn:case pn:l=tr;break;case gn:l=gr;break;case"scroll":l=zi;break;case"wheel":l=mr;break;case"copy":case"cut":case"paste":l=rr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=cr}var u=0!=(4&t),d=!u&&"scroll"===e,c=u?null!==o?o+"Capture":null:o;u=[];for(var p,g=r;null!==g;){var f=(p=g).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==c&&(null!=(f=Ct(g,c))&&u.push(Rn(g,f,p)))),d)break;g=g.return}0<u.length&&(o=new l(o,h,null,i,n),a.push({event:o,listeners:u}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||i===st||!(h=i.relatedTarget||i.fromElement)||!rs(h)&&!h[$n])&&(l||o)&&(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(h=(h=i.relatedTarget||i.toElement)?rs(h):null)&&(h!==(d=wt(h))||5!==h.tag&&6!==h.tag)&&(h=null)):(l=null,h=r),l!==h)){if(u=qi,f="onMouseLeave",c="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(u=cr,f="onPointerLeave",c="onPointerEnter",g="pointer"),d=null==l?o:ss(l),p=null==h?o:ss(h),(o=new u(f,g+"leave",l,i,n)).target=d,o.relatedTarget=p,f=null,rs(n)===r&&((u=new u(c,g+"enter",h,i,n)).target=p,u.relatedTarget=d,f=u),d=f,l&&h)e:{for(c=h,g=0,p=u=l;p;p=Gn(p))g++;for(p=0,f=c;f;f=Gn(f))p++;for(;0<g-p;)u=Gn(u),g--;for(;0<p-g;)c=Gn(c),p--;for(;g--;){if(u===c||null!==c&&u===c.alternate)break e;u=Gn(u),c=Gn(c)}u=null}else u=null;null!==l&&Dn(a,o,l,u,!1),null!==h&&null!==d&&Dn(a,d,h,u,!0)}if("select"===(l=(o=r?ss(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=Br;else if(Er(o))if(Nr)m=Fr;else{m=Xr;var C=Lr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=Vr);switch(m&&(m=m(e,r))?Jr(a,m,i,n):(C&&C(e,o,r),"focusout"===e&&(C=o._wrapperState)&&C.controlled&&"number"===o.type&&Pe(o,"number",o.value)),C=r?ss(r):window,e){case"focusin":(Er(C)||"true"===C.contentEditable)&&(en=C,tn=r,rn=null);break;case"focusout":rn=tn=en=null;break;case"mousedown":nn=!0;break;case"contextmenu":case"mouseup":case"dragend":nn=!1,sn(a,i,n);break;case"selectionchange":if($r)break;case"keydown":case"keyup":sn(a,i,n)}var y;if(yr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ar?kr(e,i)&&(b="onCompositionEnd"):"keydown"===e&&229===i.keyCode&&(b="onCompositionStart");b&&(vr&&"ko"!==i.locale&&(Ar||"onCompositionStart"!==b?"onCompositionEnd"===b&&Ar&&(y=Pi()):(Mi="value"in(Qi=n)?Qi.value:Qi.textContent,Ar=!0)),0<(C=xn(r,b)).length&&(b=new nr(b,e,null,i,n),a.push({event:b,listeners:C}),y?b.data=y:null!==(y=Tr(i))&&(b.data=y))),(y=Ir?function(e,t){switch(e){case"compositionend":return Tr(t);case"keypress":return 32!==t.which?null:(Sr=!0,_r);case"textInput":return(e=t.data)===_r&&Sr?null:e;default:return null}}(e,i):function(e,t){if(Ar)return"compositionend"===e||!yr&&kr(e,t)?(e=Pi(),Zi=Mi=Qi=null,Ar=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vr&&"ko"!==t.locale?null:t.data}}(e,i))&&(0<(r=xn(r,"onBeforeInput")).length&&(n=new nr("onBeforeInput","beforeinput",null,i,n),a.push({event:n,listeners:r}),n.data=y))}Sn(a,t)}))}function Rn(e,t,i){return{instance:e,listener:t,currentTarget:i}}function xn(e,t){for(var i=t+"Capture",r=[];null!==e;){var n=e,s=n.stateNode;5===n.tag&&null!==s&&(n=s,null!=(s=Ct(e,i))&&r.unshift(Rn(e,s,n)),null!=(s=Ct(e,t))&&r.push(Rn(e,s,n))),e=e.return}return r}function Gn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Dn(e,t,i,r,n){for(var s=t._reactName,a=[];null!==i&&i!==r;){var o=i,l=o.alternate,h=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==h&&(o=h,n?null!=(l=Ct(i,s))&&a.unshift(Rn(i,l,o)):n||null!=(l=Ct(i,s))&&a.push(Rn(i,l,o))),i=i.return}0!==a.length&&e.push({event:t,listeners:a})}var Bn=/\r\n?/g,Nn=/\u0000|\uFFFD/g;function Qn(e){return("string"==typeof e?e:""+e).replace(Bn,"\n").replace(Nn,"")}function Mn(e,t,i){if(t=Qn(t),Qn(e)!==t&&i)throw Error(F(425))}function Zn(){}var Pn=null,On=null;function Ln(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Xn="function"==typeof setTimeout?setTimeout:void 0,Vn="function"==typeof clearTimeout?clearTimeout:void 0,Fn="function"==typeof Promise?Promise:void 0,Wn="function"==typeof queueMicrotask?queueMicrotask:void 0!==Fn?function(e){return Fn.resolve(null).then(e).catch(Un)}:Xn;function Un(e){setTimeout((function(){throw e}))}function Hn(e,t){var i=t,r=0;do{var n=i.nextSibling;if(e.removeChild(i),n&&8===n.nodeType)if("/$"===(i=n.data)){if(0===r)return e.removeChild(n),void wi(t);r--}else"$"!==i&&"$?"!==i&&"$!"!==i||r++;i=n}while(i);wi(t)}function Kn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function Yn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var i=e.data;if("$"===i||"$!"===i||"$?"===i){if(0===t)return e;t--}else"/$"===i&&t++}e=e.previousSibling}return null}var zn=Math.random().toString(36).slice(2),jn="__reactFiber$"+zn,qn="__reactProps$"+zn,$n="__reactContainer$"+zn,es="__reactEvents$"+zn,ts="__reactListeners$"+zn,is="__reactHandles$"+zn;function rs(e){var t=e[jn];if(t)return t;for(var i=e.parentNode;i;){if(t=i[$n]||i[jn]){if(i=t.alternate,null!==t.child||null!==i&&null!==i.child)for(e=Yn(e);null!==e;){if(i=e[jn])return i;e=Yn(e)}return t}i=(e=i).parentNode}return null}function ns(e){return!(e=e[jn]||e[$n])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ss(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(F(33))}function as(e){return e[qn]||null}var os=[],ls=-1;function hs(e){return{current:e}}function us(e){0>ls||(e.current=os[ls],os[ls]=null,ls--)}function ds(e,t){ls++,os[ls]=e.current,e.current=t}var cs={},ps=hs(cs),gs=hs(!1),fs=cs;function ms(e,t){var i=e.type.contextTypes;if(!i)return cs;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var n,s={};for(n in i)s[n]=t[n];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Cs(e){return null!=(e=e.childContextTypes)}function ys(){us(gs),us(ps)}function bs(e,t,i){if(ps.current!==cs)throw Error(F(168));ds(ps,t),ds(gs,i)}function Is(e,t,i){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return i;for(var n in r=r.getChildContext())if(!(n in t))throw Error(F(108,Ee(e)||"Unknown",n));return _e({},i,r)}function vs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cs,fs=ps.current,ds(ps,e),ds(gs,gs.current),!0}function _s(e,t,i){var r=e.stateNode;if(!r)throw Error(F(169));i?(e=Is(e,t,fs),r.__reactInternalMemoizedMergedChildContext=e,us(gs),us(ps),ds(ps,e)):us(gs),ds(gs,i)}var Ss=null,ks=!1,Ts=!1;function As(e){null===Ss?Ss=[e]:Ss.push(e)}function ws(){if(!Ts&&null!==Ss){Ts=!0;var e=0,t=ni;try{var i=Ss;for(ni=1;e<i.length;e++){var r=i[e];do{r=r(!0)}while(null!==r)}Ss=null,ks=!1}catch(t){throw null!==Ss&&(Ss=Ss.slice(e+1)),Gt(Zt,ws),t}finally{ni=t,Ts=!1}}return null}var Es=se.ReactCurrentBatchConfig;function Js(e,t){if(e&&e.defaultProps){for(var i in t=_e({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}var Rs=hs(null),xs=null,Gs=null,Ds=null;function Bs(){Ds=Gs=xs=null}function Ns(e){var t=Rs.current;us(Rs),e._currentValue=t}function Qs(e,t,i){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===i)break;e=e.return}}function Ms(e,t){xs=e,Ds=Gs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(al=!0),e.firstContext=null)}function Zs(e){var t=e._currentValue;if(Ds!==e)if(e={context:e,memoizedValue:t,next:null},null===Gs){if(null===xs)throw Error(F(308));Gs=e,xs.dependencies={lanes:0,firstContext:e}}else Gs=Gs.next=e;return t}var Ps=null,Os=!1;function Ls(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(e,t){var i=e.updateQueue;null!==i&&(i=i.shared,Oh(e)?(null===(e=i.interleaved)?(t.next=t,null===Ps?Ps=[i]:Ps.push(i)):(t.next=e.next,e.next=t),i.interleaved=t):(null===(e=i.pending)?t.next=t:(t.next=e.next,e.next=t),i.pending=t))}function Ws(e,t,i){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&i))){var r=t.lanes;i|=r&=e.pendingLanes,t.lanes=i,ri(e,i)}}function Us(e,t){var i=e.updateQueue,r=e.alternate;if(null!==r&&i===(r=r.updateQueue)){var n=null,s=null;if(null!==(i=i.firstBaseUpdate)){do{var a={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===s?n=s=a:s=s.next=a,i=i.next}while(null!==i);null===s?n=s=t:s=s.next=t}else n=s=t;return i={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=i)}null===(e=i.lastBaseUpdate)?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function Hs(e,t,i,r){var n=e.updateQueue;Os=!1;var s=n.firstBaseUpdate,a=n.lastBaseUpdate,o=n.shared.pending;if(null!==o){n.shared.pending=null;var l=o,h=l.next;l.next=null,null===a?s=h:a.next=h,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=h:o.next=h,u.lastBaseUpdate=l))}if(null!==s){var d=n.baseState;for(a=0,u=h=l=null,o=s;;){var c=o.lane,p=o.eventTime;if((r&c)===c){null!==u&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,f=o;switch(c=t,p=i,f.tag){case 1:if("function"==typeof(g=f.payload)){d=g.call(p,d,c);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null==(c="function"==typeof(g=f.payload)?g.call(p,d,c):g))break e;d=_e({},d,c);break e;case 2:Os=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(c=n.effects)?n.effects=[o]:c.push(o))}else p={eventTime:p,lane:c,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(h=u=p,l=d):u=u.next=p,a|=c;if(null===(o=o.next)){if(null===(o=n.shared.pending))break;o=(c=o).next,c.next=null,n.lastBaseUpdate=c,n.shared.pending=null}}if(null===u&&(l=d),n.baseState=l,n.firstBaseUpdate=h,n.lastBaseUpdate=u,null!==(t=n.shared.interleaved)){n=t;do{a|=n.lane,n=n.next}while(n!==t)}else null===s&&(n.shared.lanes=0);yh|=a,e.lanes=a,e.memoizedState=d}}function Ks(e,t,i){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],n=r.callback;if(null!==n){if(r.callback=null,r=i,"function"!=typeof n)throw Error(F(191,n));n.call(r)}}}var Ys=(new X.Component).refs;function zs(e,t,i,r){i=null==(i=i(r,t=e.memoizedState))?t:_e({},t,i),e.memoizedState=i,0===e.lanes&&(e.updateQueue.baseState=i)}var js={isMounted:function(e){return!!(e=e._reactInternals)&&wt(e)===e},enqueueSetState:function(e,t,i){e=e._reactInternals;var r=Qh(),n=Mh(e),s=Vs(r,n);s.payload=t,null!=i&&(s.callback=i),Fs(e,s),null!==(t=Zh(e,n,r))&&Ws(t,e,n)},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var r=Qh(),n=Mh(e),s=Vs(r,n);s.tag=1,s.payload=t,null!=i&&(s.callback=i),Fs(e,s),null!==(t=Zh(e,n,r))&&Ws(t,e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Qh(),r=Mh(e),n=Vs(i,r);n.tag=2,null!=t&&(n.callback=t),Fs(e,n),null!==(t=Zh(e,r,i))&&Ws(t,e,r)}};function qs(e,t,i,r,n,s,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Ur(i,r)||!Ur(n,s))}function $s(e,t,i){var r=!1,n=cs,s=t.contextType;return"object"==typeof s&&null!==s?s=Zs(s):(n=Cs(t)?fs:ps.current,s=(r=null!=(r=t.contextTypes))?ms(e,n):cs),t=new t(i,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=js,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=s),t}function ea(e,t,i,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,r),t.state!==e&&js.enqueueReplaceState(t,t.state,null)}function ta(e,t,i,r){var n=e.stateNode;n.props=i,n.state=e.memoizedState,n.refs=Ys,Ls(e);var s=t.contextType;"object"==typeof s&&null!==s?n.context=Zs(s):(s=Cs(t)?fs:ps.current,n.context=ms(e,s)),n.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(zs(e,t,s,i),n.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof n.getSnapshotBeforeUpdate||"function"!=typeof n.UNSAFE_componentWillMount&&"function"!=typeof n.componentWillMount||(t=n.state,"function"==typeof n.componentWillMount&&n.componentWillMount(),"function"==typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),t!==n.state&&js.enqueueReplaceState(n,n.state,null),Hs(e,i,n,r),n.state=e.memoizedState),"function"==typeof n.componentDidMount&&(e.flags|=4194308)}var ia=[],ra=0,na=null,sa=0,aa=[],oa=0,la=null,ha=1,ua="";function da(e,t){ia[ra++]=sa,ia[ra++]=na,na=e,sa=t}function ca(e,t,i){aa[oa++]=ha,aa[oa++]=ua,aa[oa++]=la,la=e;var r=ha;e=ua;var n=32-Wt(r)-1;r&=~(1<<n),i+=1;var s=32-Wt(t)+n;if(30<s){var a=n-n%5;s=(r&(1<<a)-1).toString(32),r>>=a,n-=a,ha=1<<32-Wt(t)+n|i<<n|r,ua=s+e}else ha=1<<s|i<<n|r,ua=e}function pa(e){null!==e.return&&(da(e,1),ca(e,1,0))}function ga(e){for(;e===na;)na=ia[--ra],ia[ra]=null,sa=ia[--ra],ia[ra]=null;for(;e===la;)la=aa[--oa],aa[oa]=null,ua=aa[--oa],aa[oa]=null,ha=aa[--oa],aa[oa]=null}var fa=null,ma=null,Ca=!1,ya=null;function ba(e,t){var i=fu(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,null===(t=e.deletions)?(e.deletions=[i],e.flags|=16):t.push(i)}function Ia(e,t){switch(e.tag){case 5:var i=e.type;return null!==(t=1!==t.nodeType||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,fa=e,ma=Kn(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,fa=e,ma=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(i=null!==la?{id:ha,overflow:ua}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},(i=fu(18,null,null,0)).stateNode=t,i.return=e,e.child=i,fa=e,ma=null,!0);default:return!1}}function va(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function _a(e){if(Ca){var t=ma;if(t){var i=t;if(!Ia(e,t)){if(va(e))throw Error(F(418));t=Kn(i.nextSibling);var r=fa;t&&Ia(e,t)?ba(r,i):(e.flags=-4097&e.flags|2,Ca=!1,fa=e)}}else{if(va(e))throw Error(F(418));e.flags=-4097&e.flags|2,Ca=!1,fa=e}}}function Sa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;fa=e}function ka(e){if(e!==fa)return!1;if(!Ca)return Sa(e),Ca=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Ln(e.type,e.memoizedProps)),t&&(t=ma)){if(va(e)){for(e=ma;e;)e=Kn(e.nextSibling);throw Error(F(418))}for(;t;)ba(e,t),t=Kn(t.nextSibling)}if(Sa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var i=e.data;if("/$"===i){if(0===t){ma=Kn(e.nextSibling);break e}t--}else"$"!==i&&"$!"!==i&&"$?"!==i||t++}e=e.nextSibling}ma=null}}else ma=fa?Kn(e.stateNode.nextSibling):null;return!0}function Ta(){ma=fa=null,Ca=!1}function Aa(e){null===ya?ya=[e]:ya.push(e)}function wa(e,t,i){if(null!==(e=i.ref)&&"function"!=typeof e&&"object"!=typeof e){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(F(309));var r=i.stateNode}if(!r)throw Error(F(147,e));var n=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=n.refs;t===Ys&&(t=n.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!=typeof e)throw Error(F(284));if(!i._owner)throw Error(F(290,e))}return e}function Ea(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ja(e){return(0,e._init)(e._payload)}function Ra(e){function t(t,i){if(e){var r=t.deletions;null===r?(t.deletions=[i],t.flags|=16):r.push(i)}}function i(i,r){if(!e)return null;for(;null!==r;)t(i,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function n(e,t){return(e=Cu(e,t)).index=0,e.sibling=null,e}function s(t,i,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<i?(t.flags|=2,i):r:(t.flags|=2,i):(t.flags|=1048576,i)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,i,r){return null===t||6!==t.tag?((t=vu(i,e.mode,r)).return=e,t):((t=n(t,i)).return=e,t)}function l(e,t,i,r){var s=i.type;return s===le?u(e,t,i.props.children,r,i.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===Ce&&Ja(s)===t.type)?((r=n(t,i.props)).ref=wa(e,t,i),r.return=e,r):((r=yu(i.type,i.key,i.props,null,e.mode,r)).ref=wa(e,t,i),r.return=e,r)}function h(e,t,i,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=_u(i,e.mode,r)).return=e,t):((t=n(t,i.children||[])).return=e,t)}function u(e,t,i,r,s){return null===t||7!==t.tag?((t=bu(i,e.mode,r,s)).return=e,t):((t=n(t,i)).return=e,t)}function d(e,t,i){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=vu(""+t,e.mode,i)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ae:return(i=yu(t.type,t.key,t.props,null,e.mode,i)).ref=wa(e,null,t),i.return=e,i;case oe:return(t=_u(t,e.mode,i)).return=e,t;case Ce:return d(e,(0,t._init)(t._payload),i)}if(Oe(t)||Ie(t))return(t=bu(t,e.mode,i,null)).return=e,t;Ea(e,t)}return null}function c(e,t,i,r){var n=null!==t?t.key:null;if("string"==typeof i&&""!==i||"number"==typeof i)return null!==n?null:o(e,t,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case ae:return i.key===n?l(e,t,i,r):null;case oe:return i.key===n?h(e,t,i,r):null;case Ce:return c(e,t,(n=i._init)(i._payload),r)}if(Oe(i)||Ie(i))return null!==n?null:u(e,t,i,r,null);Ea(e,i)}return null}function p(e,t,i,r,n){if("string"==typeof r&&""!==r||"number"==typeof r)return o(t,e=e.get(i)||null,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case ae:return l(t,e=e.get(null===r.key?i:r.key)||null,r,n);case oe:return h(t,e=e.get(null===r.key?i:r.key)||null,r,n);case Ce:return p(e,t,i,(0,r._init)(r._payload),n)}if(Oe(r)||Ie(r))return u(t,e=e.get(i)||null,r,n,null);Ea(t,r)}return null}function g(n,a,o,l){for(var h=null,u=null,g=a,f=a=0,m=null;null!==g&&f<o.length;f++){g.index>f?(m=g,g=null):m=g.sibling;var C=c(n,g,o[f],l);if(null===C){null===g&&(g=m);break}e&&g&&null===C.alternate&&t(n,g),a=s(C,a,f),null===u?h=C:u.sibling=C,u=C,g=m}if(f===o.length)return i(n,g),Ca&&da(n,f),h;if(null===g){for(;f<o.length;f++)null!==(g=d(n,o[f],l))&&(a=s(g,a,f),null===u?h=g:u.sibling=g,u=g);return Ca&&da(n,f),h}for(g=r(n,g);f<o.length;f++)null!==(m=p(g,n,f,o[f],l))&&(e&&null!==m.alternate&&g.delete(null===m.key?f:m.key),a=s(m,a,f),null===u?h=m:u.sibling=m,u=m);return e&&g.forEach((function(e){return t(n,e)})),Ca&&da(n,f),h}function f(n,a,o,l){var h=Ie(o);if("function"!=typeof h)throw Error(F(150));if(null==(o=h.call(o)))throw Error(F(151));for(var u=h=null,g=a,f=a=0,m=null,C=o.next();null!==g&&!C.done;f++,C=o.next()){g.index>f?(m=g,g=null):m=g.sibling;var y=c(n,g,C.value,l);if(null===y){null===g&&(g=m);break}e&&g&&null===y.alternate&&t(n,g),a=s(y,a,f),null===u?h=y:u.sibling=y,u=y,g=m}if(C.done)return i(n,g),Ca&&da(n,f),h;if(null===g){for(;!C.done;f++,C=o.next())null!==(C=d(n,C.value,l))&&(a=s(C,a,f),null===u?h=C:u.sibling=C,u=C);return Ca&&da(n,f),h}for(g=r(n,g);!C.done;f++,C=o.next())null!==(C=p(g,n,f,C.value,l))&&(e&&null!==C.alternate&&g.delete(null===C.key?f:C.key),a=s(C,a,f),null===u?h=C:u.sibling=C,u=C);return e&&g.forEach((function(e){return t(n,e)})),Ca&&da(n,f),h}return function e(r,s,o,l){if("object"==typeof o&&null!==o&&o.type===le&&null===o.key&&(o=o.props.children),"object"==typeof o&&null!==o){switch(o.$$typeof){case ae:e:{for(var h=o.key,u=s;null!==u;){if(u.key===h){if((h=o.type)===le){if(7===u.tag){i(r,u.sibling),(s=n(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===h||"object"==typeof h&&null!==h&&h.$$typeof===Ce&&Ja(h)===u.type){i(r,u.sibling),(s=n(u,o.props)).ref=wa(r,u,o),s.return=r,r=s;break e}i(r,u);break}t(r,u),u=u.sibling}o.type===le?((s=bu(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=yu(o.type,o.key,o.props,null,r.mode,l)).ref=wa(r,s,o),l.return=r,r=l)}return a(r);case oe:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){i(r,s.sibling),(s=n(s,o.children||[])).return=r,r=s;break e}i(r,s);break}t(r,s),s=s.sibling}(s=_u(o,r.mode,l)).return=r,r=s}return a(r);case Ce:return e(r,s,(u=o._init)(o._payload),l)}if(Oe(o))return g(r,s,o,l);if(Ie(o))return f(r,s,o,l);Ea(r,o)}return"string"==typeof o&&""!==o||"number"==typeof o?(o=""+o,null!==s&&6===s.tag?(i(r,s.sibling),(s=n(s,o)).return=r,r=s):(i(r,s),(s=vu(o,r.mode,l)).return=r,r=s),a(r)):i(r,s)}}var xa=Ra(!0),Ga=Ra(!1),Da={},Ba=hs(Da),Na=hs(Da),Qa=hs(Da);function Ma(e){if(e===Da)throw Error(F(174));return e}function Za(e,t){switch(ds(Qa,t),ds(Na,e),ds(Ba,Da),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:He(null,"");break;default:t=He(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}us(Ba),ds(Ba,t)}function Pa(){us(Ba),us(Na),us(Qa)}function Oa(e){Ma(Qa.current);var t=Ma(Ba.current),i=He(t,e.type);t!==i&&(ds(Na,e),ds(Ba,i))}function La(e){Na.current===e&&(us(Ba),us(Na))}var Xa=hs(0);function Va(e){for(var t=e;null!==t;){if(13===t.tag){var i=t.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=[];function Wa(){for(var e=0;e<Fa.length;e++)Fa[e]._workInProgressVersionPrimary=null;Fa.length=0}var Ua=se.ReactCurrentDispatcher,Ha=se.ReactCurrentBatchConfig,Ka=0,Ya=null,za=null,ja=null,qa=!1,$a=!1,eo=0,to=0;function io(){throw Error(F(321))}function ro(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Wr(e[i],t[i]))return!1;return!0}function no(e,t,i,r,n,s){if(Ka=s,Ya=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ua.current=null===e||null===e.memoizedState?Xo:Vo,e=i(r,n),$a){s=0;do{if($a=!1,eo=0,25<=s)throw Error(F(301));s+=1,ja=za=null,t.updateQueue=null,Ua.current=Fo,e=i(r,n)}while($a)}if(Ua.current=Lo,t=null!==za&&null!==za.next,Ka=0,ja=za=Ya=null,qa=!1,t)throw Error(F(300));return e}function so(){var e=0!==eo;return eo=0,e}function ao(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ja?Ya.memoizedState=ja=e:ja=ja.next=e,ja}function oo(){if(null===za){var e=Ya.alternate;e=null!==e?e.memoizedState:null}else e=za.next;var t=null===ja?Ya.memoizedState:ja.next;if(null!==t)ja=t,za=e;else{if(null===e)throw Error(F(310));e={memoizedState:(za=e).memoizedState,baseState:za.baseState,baseQueue:za.baseQueue,queue:za.queue,next:null},null===ja?Ya.memoizedState=ja=e:ja=ja.next=e}return ja}function lo(e,t){return"function"==typeof t?t(e):t}function ho(e){var t=oo(),i=t.queue;if(null===i)throw Error(F(311));i.lastRenderedReducer=e;var r=za,n=r.baseQueue,s=i.pending;if(null!==s){if(null!==n){var a=n.next;n.next=s.next,s.next=a}r.baseQueue=n=s,i.pending=null}if(null!==n){s=n.next,r=r.baseState;var o=a=null,l=null,h=s;do{var u=h.lane;if((Ka&u)===u)null!==l&&(l=l.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var d={lane:u,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};null===l?(o=l=d,a=r):l=l.next=d,Ya.lanes|=u,yh|=u}h=h.next}while(null!==h&&h!==s);null===l?a=r:l.next=o,Wr(r,t.memoizedState)||(al=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,i.lastRenderedState=r}if(null!==(e=i.interleaved)){n=e;do{s=n.lane,Ya.lanes|=s,yh|=s,n=n.next}while(n!==e)}else null===n&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function uo(e){var t=oo(),i=t.queue;if(null===i)throw Error(F(311));i.lastRenderedReducer=e;var r=i.dispatch,n=i.pending,s=t.memoizedState;if(null!==n){i.pending=null;var a=n=n.next;do{s=e(s,a.action),a=a.next}while(a!==n);Wr(s,t.memoizedState)||(al=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),i.lastRenderedState=s}return[s,r]}function co(){}function po(e,t){var i=Ya,r=oo(),n=t(),s=!Wr(r.memoizedState,n);if(s&&(r.memoizedState=n,al=!0),r=r.queue,ko(mo.bind(null,i,r,e),[e]),r.getSnapshot!==t||s||null!==ja&&1&ja.memoizedState.tag){if(i.flags|=2048,bo(9,fo.bind(null,i,r,n,t),void 0,null),null===dh)throw Error(F(349));0!=(30&Ka)||go(i,t,n)}return n}function go(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},null===(t=Ya.updateQueue)?(t={lastEffect:null,stores:null},Ya.updateQueue=t,t.stores=[e]):null===(i=t.stores)?t.stores=[e]:i.push(e)}function fo(e,t,i,r){t.value=i,t.getSnapshot=r,Co(t)&&Zh(e,1,-1)}function mo(e,t,i){return i((function(){Co(t)&&Zh(e,1,-1)}))}function Co(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Wr(e,i)}catch(e){return!0}}function yo(e){var t=ao();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:e},t.queue=e,e=e.dispatch=Qo.bind(null,Ya,e),[t.memoizedState,e]}function bo(e,t,i,r){return e={tag:e,create:t,destroy:i,deps:r,next:null},null===(t=Ya.updateQueue)?(t={lastEffect:null,stores:null},Ya.updateQueue=t,t.lastEffect=e.next=e):null===(i=t.lastEffect)?t.lastEffect=e.next=e:(r=i.next,i.next=e,e.next=r,t.lastEffect=e),e}function Io(){return oo().memoizedState}function vo(e,t,i,r){var n=ao();Ya.flags|=e,n.memoizedState=bo(1|t,i,void 0,void 0===r?null:r)}function _o(e,t,i,r){var n=oo();r=void 0===r?null:r;var s=void 0;if(null!==za){var a=za.memoizedState;if(s=a.destroy,null!==r&&ro(r,a.deps))return void(n.memoizedState=bo(t,i,s,r))}Ya.flags|=e,n.memoizedState=bo(1|t,i,s,r)}function So(e,t){return vo(8390656,8,e,t)}function ko(e,t){return _o(2048,8,e,t)}function To(e,t){return _o(4,2,e,t)}function Ao(e,t){return _o(4,4,e,t)}function wo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Eo(e,t,i){return i=null!=i?i.concat([e]):null,_o(4,4,wo.bind(null,t,e),i)}function Jo(){}function Ro(e,t){var i=oo();t=void 0===t?null:t;var r=i.memoizedState;return null!==r&&null!==t&&ro(t,r[1])?r[0]:(i.memoizedState=[e,t],e)}function xo(e,t){var i=oo();t=void 0===t?null:t;var r=i.memoizedState;return null!==r&&null!==t&&ro(t,r[1])?r[0]:(e=e(),i.memoizedState=[e,t],e)}function Go(e,t,i){return 0==(21&Ka)?(e.baseState&&(e.baseState=!1,al=!0),e.memoizedState=i):(Wr(i,t)||(i=ei(),Ya.lanes|=i,yh|=i,e.baseState=!0),t)}function Do(e,t){var i=ni;ni=0!==i&&4>i?i:4,e(!0);var r=Ha.transition;Ha.transition={};try{e(!1),t()}finally{ni=i,Ha.transition=r}}function Bo(){return oo().memoizedState}function No(e,t,i){var r=Mh(e);i={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null},Mo(e)?Zo(t,i):(Po(e,t,i),null!==(e=Zh(e,r,i=Qh()))&&Oo(e,t,r))}function Qo(e,t,i){var r=Mh(e),n={lane:r,action:i,hasEagerState:!1,eagerState:null,next:null};if(Mo(e))Zo(t,n);else{Po(e,t,n);var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,i);if(n.hasEagerState=!0,n.eagerState=o,Wr(o,a))return}catch(e){}null!==(e=Zh(e,r,i=Qh()))&&Oo(e,t,r)}}function Mo(e){var t=e.alternate;return e===Ya||null!==t&&t===Ya}function Zo(e,t){$a=qa=!0;var i=e.pending;null===i?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Po(e,t,i){Oh(e)?(null===(e=t.interleaved)?(i.next=i,null===Ps?Ps=[t]:Ps.push(t)):(i.next=e.next,e.next=i),t.interleaved=i):(null===(e=t.pending)?i.next=i:(i.next=e.next,e.next=i),t.pending=i)}function Oo(e,t,i){if(0!=(4194240&i)){var r=t.lanes;i|=r&=e.pendingLanes,t.lanes=i,ri(e,i)}}var Lo={readContext:Zs,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useInsertionEffect:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useSyncExternalStore:io,useId:io,unstable_isNewReconciler:!1},Xo={readContext:Zs,useCallback:function(e,t){return ao().memoizedState=[e,void 0===t?null:t],e},useContext:Zs,useEffect:So,useImperativeHandle:function(e,t,i){return i=null!=i?i.concat([e]):null,vo(4194308,4,wo.bind(null,t,e),i)},useLayoutEffect:function(e,t){return vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return vo(4,2,e,t)},useMemo:function(e,t){var i=ao();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var r=ao();return t=void 0!==i?i(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=No.bind(null,Ya,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ao().memoizedState=e},useState:yo,useDebugValue:Jo,useDeferredValue:function(e){return ao().memoizedState=e},useTransition:function(){var e=yo(!1),t=e[0];return e=Do.bind(null,e[1]),ao().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var r=Ya,n=ao();if(Ca){if(void 0===i)throw Error(F(407));i=i()}else{if(i=t(),null===dh)throw Error(F(349));0!=(30&Ka)||go(r,t,i)}n.memoizedState=i;var s={value:i,getSnapshot:t};return n.queue=s,So(mo.bind(null,r,s,e),[e]),r.flags|=2048,bo(9,fo.bind(null,r,s,i,t),void 0,null),i},useId:function(){var e=ao(),t=dh.identifierPrefix;if(Ca){var i=ua;t=":"+t+"R"+(i=(ha&~(1<<32-Wt(ha)-1)).toString(32)+i),0<(i=eo++)&&(t+="H"+i.toString(32)),t+=":"}else t=":"+t+"r"+(i=to++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vo={readContext:Zs,useCallback:Ro,useContext:Zs,useEffect:ko,useImperativeHandle:Eo,useInsertionEffect:To,useLayoutEffect:Ao,useMemo:xo,useReducer:ho,useRef:Io,useState:function(){return ho(lo)},useDebugValue:Jo,useDeferredValue:function(e){return Go(oo(),za.memoizedState,e)},useTransition:function(){return[ho(lo)[0],oo().memoizedState]},useMutableSource:co,useSyncExternalStore:po,useId:Bo,unstable_isNewReconciler:!1},Fo={readContext:Zs,useCallback:Ro,useContext:Zs,useEffect:ko,useImperativeHandle:Eo,useInsertionEffect:To,useLayoutEffect:Ao,useMemo:xo,useReducer:uo,useRef:Io,useState:function(){return uo(lo)},useDebugValue:Jo,useDeferredValue:function(e){var t=oo();return null===za?t.memoizedState=e:Go(t,za.memoizedState,e)},useTransition:function(){return[uo(lo)[0],oo().memoizedState]},useMutableSource:co,useSyncExternalStore:po,useId:Bo,unstable_isNewReconciler:!1};function Wo(e,t){try{var i="",r=t;do{i+=Ae(r),r=r.return}while(r);var n=i}catch(e){n="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:n}}function Uo(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var Ho,Ko,Yo,zo="function"==typeof WeakMap?WeakMap:Map;function jo(e,t,i){(i=Vs(-1,i)).tag=3,i.payload={element:null};var r=t.value;return i.callback=function(){Ah||(Ah=!0,wh=r),Uo(0,t)},i}function qo(e,t,i){(i=Vs(-1,i)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var n=t.value;i.payload=function(){return r(n)},i.callback=function(){Uo(0,t)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(i.callback=function(){Uo(0,t),"function"!=typeof r&&(null===Eh?Eh=new Set([this]):Eh.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),i}function $o(e,t,i){var r=e.pingCache;if(null===r){r=e.pingCache=new zo;var n=new Set;r.set(t,n)}else void 0===(n=r.get(t))&&(n=new Set,r.set(t,n));n.has(i)||(n.add(i),e=hu.bind(null,e,t,i),t.then(e,e))}function el(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function tl(e,t,i,r,n){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((t=Vs(-1,1)).tag=2,Fs(i,t))),i.lanes|=1),e):(e.flags|=65536,e.lanes=n,e)}function il(e,t){if(!Ca)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;null!==t;)null!==t.alternate&&(i=t),t=t.sibling;null===i?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var r=null;null!==i;)null!==i.alternate&&(r=i),i=i.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function rl(e){var t=null!==e.alternate&&e.alternate.child===e.child,i=0,r=0;if(t)for(var n=e.child;null!==n;)i|=n.lanes|n.childLanes,r|=14680064&n.subtreeFlags,r|=14680064&n.flags,n.return=e,n=n.sibling;else for(n=e.child;null!==n;)i|=n.lanes|n.childLanes,r|=n.subtreeFlags,r|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=r,e.childLanes=i,t}function nl(e,t,i){var r=t.pendingProps;switch(ga(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rl(t),null;case 1:case 17:return Cs(t.type)&&ys(),rl(t),null;case 3:return r=t.stateNode,Pa(),us(gs),us(ps),Wa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ka(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==ya&&(Fh(ya),ya=null))),rl(t),null;case 5:La(t);var n=Ma(Qa.current);if(i=t.type,null!==e&&null!=t.stateNode)Ko(e,t,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(F(166));return rl(t),null}if(e=Ma(Ba.current),ka(t)){r=t.stateNode,i=t.type;var s=t.memoizedProps;switch(r[jn]=t,r[qn]=s,e=0!=(1&t.mode),i){case"dialog":kn("cancel",r),kn("close",r);break;case"iframe":case"object":case"embed":kn("load",r);break;case"video":case"audio":for(n=0;n<In.length;n++)kn(In[n],r);break;case"source":kn("error",r);break;case"img":case"image":case"link":kn("error",r),kn("load",r);break;case"details":kn("toggle",r);break;case"input":Ne(r,s),kn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},kn("invalid",r);break;case"textarea":Ve(r,s),kn("invalid",r)}for(var a in rt(i,s),n=null,s)if(s.hasOwnProperty(a)){var o=s[a];"children"===a?"string"==typeof o?r.textContent!==o&&(!0!==s.suppressHydrationWarning&&Mn(r.textContent,o,e),n=["children",o]):"number"==typeof o&&r.textContent!==""+o&&(!0!==s.suppressHydrationWarning&&Mn(r.textContent,o,e),n=["children",""+o]):U.hasOwnProperty(a)&&null!=o&&"onScroll"===a&&kn("scroll",r)}switch(i){case"input":xe(r),Ze(r,s,!0);break;case"textarea":xe(r),We(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=Zn)}r=n,t.updateQueue=r,null!==r&&(t.flags|=4)}else{a=9===n.nodeType?n:n.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=Ue(i)),"http://www.w3.org/1999/xhtml"===e?"script"===i?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=a.createElement(i,{is:r.is}):(e=a.createElement(i),"select"===i&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,i),e[jn]=t,e[qn]=r,Ho(e,t),t.stateNode=e;e:{switch(a=nt(i,r),i){case"dialog":kn("cancel",e),kn("close",e),n=r;break;case"iframe":case"object":case"embed":kn("load",e),n=r;break;case"video":case"audio":for(n=0;n<In.length;n++)kn(In[n],e);n=r;break;case"source":kn("error",e),n=r;break;case"img":case"image":case"link":kn("error",e),kn("load",e),n=r;break;case"details":kn("toggle",e),n=r;break;case"input":Ne(e,r),n=Be(e,r),kn("invalid",e);break;case"option":default:n=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},n=_e({},r,{value:void 0}),kn("invalid",e);break;case"textarea":Ve(e,r),n=Xe(e,r),kn("invalid",e)}for(s in rt(i,n),o=n)if(o.hasOwnProperty(s)){var l=o[s];"style"===s?tt(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&ze(e,l):"children"===s?"string"==typeof l?("textarea"!==i||""!==l)&&je(e,l):"number"==typeof l&&je(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(U.hasOwnProperty(s)?null!=l&&"onScroll"===s&&kn("scroll",e):null!=l&&ne(e,s,l,a))}switch(i){case"input":xe(e),Ze(e,r,!1);break;case"textarea":xe(e),We(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Je(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?Le(e,!!r.multiple,s,!1):null!=r.defaultValue&&Le(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof n.onClick&&(e.onclick=Zn)}switch(i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return rl(t),null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(F(166));if(i=Ma(Qa.current),Ma(Ba.current),ka(t)){if(r=t.stateNode,i=t.memoizedProps,r[jn]=t,(s=r.nodeValue!==i)&&null!==(e=fa))switch(e.tag){case 3:Mn(r.nodeValue,i,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Mn(r.nodeValue,i,0!=(1&e.mode))}s&&(t.flags|=4)}else(r=(9===i.nodeType?i:i.ownerDocument).createTextNode(r))[jn]=t,t.stateNode=r}return rl(t),null;case 13:if(us(Xa),r=t.memoizedState,Ca&&null!==ma&&0!=(1&t.mode)&&0==(128&t.flags)){for(r=ma;r;)r=Kn(r.nextSibling);return Ta(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=ka(t),null===e){if(!r)throw Error(F(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(F(317));r[jn]=t}else Ta(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return rl(t),null}return null!==ya&&(Fh(ya),ya=null),0!=(128&t.flags)?(t.lanes=i,t):(r=null!==r,i=!1,null===e?ka(t):i=null!==e.memoizedState,r!==i&&r&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&Xa.current)?0===mh&&(mh=3):$h())),null!==t.updateQueue&&(t.flags|=4),rl(t),null);case 4:return Pa(),null===e&&wn(t.stateNode.containerInfo),rl(t),null;case 10:return Ns(t.type._context),rl(t),null;case 19:if(us(Xa),null===(s=t.memoizedState))return rl(t),null;if(r=0!=(128&t.flags),null===(a=s.rendering))if(r)il(s,!1);else{if(0!==mh||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=Va(e))){for(t.flags|=128,il(s,!1),null!==(r=a.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=i,i=t.child;null!==i;)e=r,(s=i).flags&=14680066,null===(a=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return ds(Xa,1&Xa.current|2),t.child}e=e.sibling}null!==s.tail&&Qt()>kh&&(t.flags|=128,r=!0,il(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Va(a))){if(t.flags|=128,r=!0,null!==(i=e.updateQueue)&&(t.updateQueue=i,t.flags|=4),il(s,!0),null===s.tail&&"hidden"===s.tailMode&&!a.alternate&&!Ca)return rl(t),null}else 2*Qt()-s.renderingStartTime>kh&&1073741824!==i&&(t.flags|=128,r=!0,il(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(null!==(i=s.last)?i.sibling=a:t.child=a,s.last=a)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Qt(),t.sibling=null,i=Xa.current,ds(Xa,r?1&i|2:1&i),t):(rl(t),null);case 22:case 23:return Yh(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!=(1&t.mode)?0!=(1073741824&gh)&&(rl(t),6&t.subtreeFlags&&(t.flags|=8192)):rl(t),null;case 24:case 25:return null}throw Error(F(156,t.tag))}Ho=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Ko=function(e,t,i,r){var n=e.memoizedProps;if(n!==r){e=t.stateNode,Ma(Ba.current);var s,a=null;switch(i){case"input":n=Be(e,n),r=Be(e,r),a=[];break;case"select":n=_e({},n,{value:void 0}),r=_e({},r,{value:void 0}),a=[];break;case"textarea":n=Xe(e,n),r=Xe(e,r),a=[];break;default:"function"!=typeof n.onClick&&"function"==typeof r.onClick&&(e.onclick=Zn)}for(h in rt(i,r),i=null,n)if(!r.hasOwnProperty(h)&&n.hasOwnProperty(h)&&null!=n[h])if("style"===h){var o=n[h];for(s in o)o.hasOwnProperty(s)&&(i||(i={}),i[s]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(U.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var l=r[h];if(o=null!=n?n[h]:void 0,r.hasOwnProperty(h)&&l!==o&&(null!=l||null!=o))if("style"===h)if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(i||(i={}),i[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(i||(i={}),i[s]=l[s])}else i||(a||(a=[]),a.push(h,i)),i=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,o=o?o.__html:void 0,null!=l&&o!==l&&(a=a||[]).push(h,l)):"children"===h?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(U.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&kn("scroll",e),a||o===l||(a=[])):(a=a||[]).push(h,l))}i&&(a=a||[]).push("style",i);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},Yo=function(e,t,i,r){i!==r&&(t.flags|=4)};var sl=se.ReactCurrentOwner,al=!1;function ol(e,t,i,r){t.child=null===e?Ga(t,null,i,r):xa(t,e.child,i,r)}function ll(e,t,i,r,n){i=i.render;var s=t.ref;return Ms(t,n),r=no(e,t,i,r,s,n),i=so(),null===e||al?(Ca&&i&&pa(t),t.flags|=1,ol(e,t,r,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Jl(e,t,n))}function hl(e,t,i,r,n){if(null===e){var s=i.type;return"function"!=typeof s||mu(s)||void 0!==s.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=yu(i.type,null,r,t,t.mode,n)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ul(e,t,s,r,n))}if(s=e.child,0==(e.lanes&n)){var a=s.memoizedProps;if((i=null!==(i=i.compare)?i:Ur)(a,r)&&e.ref===t.ref)return Jl(e,t,n)}return t.flags|=1,(e=Cu(s,r)).ref=t.ref,e.return=t,t.child=e}function ul(e,t,i,r,n){if(null!==e){var s=e.memoizedProps;if(Ur(s,r)&&e.ref===t.ref){if(al=!1,t.pendingProps=r=s,0==(e.lanes&n))return t.lanes=e.lanes,Jl(e,t,n);0!=(131072&e.flags)&&(al=!0)}}return pl(e,t,i,r,n)}function dl(e,t,i){var r=t.pendingProps,n=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ds(fh,gh),gh|=i;else{if(0==(1073741824&i))return e=null!==s?s.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ds(fh,gh),gh|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:i,ds(fh,gh),gh|=r}else null!==s?(r=s.baseLanes|i,t.memoizedState=null):r=i,ds(fh,gh),gh|=r;return ol(e,t,n,i),t.child}function cl(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function pl(e,t,i,r,n){var s=Cs(i)?fs:ps.current;return s=ms(t,s),Ms(t,n),i=no(e,t,i,r,s,n),r=so(),null===e||al?(Ca&&r&&pa(t),t.flags|=1,ol(e,t,i,n),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n,Jl(e,t,n))}function gl(e,t,i,r,n){if(Cs(i)){var s=!0;vs(t)}else s=!1;if(Ms(t,n),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),$s(t,i,r),ta(t,i,r,n),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,h=i.contextType;"object"==typeof h&&null!==h?h=Zs(h):h=ms(t,h=Cs(i)?fs:ps.current);var u=i.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==r||l!==h)&&ea(t,a,r,h),Os=!1;var c=t.memoizedState;a.state=c,Hs(t,r,a,n),l=t.memoizedState,o!==r||c!==l||gs.current||Os?("function"==typeof u&&(zs(t,i,u,r),l=t.memoizedState),(o=Os||qs(t,i,o,r,c,l,h))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=h,r=o):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Xs(e,t),o=t.memoizedProps,h=t.type===t.elementType?o:Js(t.type,o),a.props=h,d=t.pendingProps,c=a.context,"object"==typeof(l=i.contextType)&&null!==l?l=Zs(l):l=ms(t,l=Cs(i)?fs:ps.current);var p=i.getDerivedStateFromProps;(u="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==d||c!==l)&&ea(t,a,r,l),Os=!1,c=t.memoizedState,a.state=c,Hs(t,r,a,n);var g=t.memoizedState;o!==d||c!==g||gs.current||Os?("function"==typeof p&&(zs(t,i,p,r),g=t.memoizedState),(h=Os||qs(t,i,h,r,c,g,l)||!1)?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,g,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,g,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),a.props=r,a.state=g,a.context=l,r=h):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),r=!1)}return fl(e,t,i,r,s,n)}function fl(e,t,i,r,n,s){cl(e,t);var a=0!=(128&t.flags);if(!r&&!a)return n&&_s(t,i,!1),Jl(e,t,s);r=t.stateNode,sl.current=t;var o=a&&"function"!=typeof i.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=xa(t,e.child,null,s),t.child=xa(t,null,o,s)):ol(e,t,o,s),t.memoizedState=r.state,n&&_s(t,i,!0),t.child}function ml(e){var t=e.stateNode;t.pendingContext?bs(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bs(0,t.context,!1),Za(e,t.containerInfo)}function Cl(e,t,i,r,n){return Ta(),Aa(n),t.flags|=256,ol(e,t,i,r),t.child}var yl={dehydrated:null,treeContext:null,retryLane:0};function bl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Il(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function vl(e,t,i){var r,n=t.pendingProps,s=Xa.current,a=!1,o=0!=(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),ds(Xa,1&s),null===e)return _a(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},0==(1&n)&&null!==a?(a.childLanes=0,a.pendingProps=s):a=Iu(s,n,0,null),e=bu(e,n,i,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=bl(i),t.memoizedState=yl,e):_l(t,s));if(null!==(s=e.memoizedState)){if(null!==(r=s.dehydrated)){if(o)return 256&t.flags?(t.flags&=-257,Tl(e,t,i,Error(F(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Iu({mode:"visible",children:n.children},s,0,null),(a=bu(a,s,i,null)).flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,0!=(1&t.mode)&&xa(t,e.child,null,i),t.child.memoizedState=bl(i),t.memoizedState=yl,a);if(0==(1&t.mode))t=Tl(e,t,i,null);else if("$!"===r.data)t=Tl(e,t,i,Error(F(419)));else if(n=0!=(i&e.childLanes),al||n){if(null!==(n=dh)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(n=0!=(a&(n.suspendedLanes|i))?0:a)&&n!==s.retryLane&&(s.retryLane=n,Zh(e,n,-1))}$h(),t=Tl(e,t,i,Error(F(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=du.bind(null,e),r._reactRetry=t,t=null):(i=s.treeContext,ma=Kn(r.nextSibling),fa=t,Ca=!0,ya=null,null!==i&&(aa[oa++]=ha,aa[oa++]=ua,aa[oa++]=la,ha=i.id,ua=i.overflow,la=t),(t=_l(t,t.pendingProps.children)).flags|=4096);return t}return a?(n=kl(e,t,n.children,n.fallback,i),a=t.child,s=e.child.memoizedState,a.memoizedState=null===s?bl(i):Il(s,i),a.childLanes=e.childLanes&~i,t.memoizedState=yl,n):(i=Sl(e,t,n.children,i),t.memoizedState=null,i)}return a?(n=kl(e,t,n.children,n.fallback,i),a=t.child,s=e.child.memoizedState,a.memoizedState=null===s?bl(i):Il(s,i),a.childLanes=e.childLanes&~i,t.memoizedState=yl,n):(i=Sl(e,t,n.children,i),t.memoizedState=null,i)}function _l(e,t){return(t=Iu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Sl(e,t,i,r){var n=e.child;return e=n.sibling,i=Cu(n,{mode:"visible",children:i}),0==(1&t.mode)&&(i.lanes=r),i.return=t,i.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i}function kl(e,t,i,r,n){var s=t.mode,a=(e=e.child).sibling,o={mode:"hidden",children:i};return 0==(1&s)&&t.child!==e?((i=t.child).childLanes=0,i.pendingProps=o,t.deletions=null):(i=Cu(e,o)).subtreeFlags=14680064&e.subtreeFlags,null!==a?r=Cu(a,r):(r=bu(r,s,n,null)).flags|=2,r.return=t,i.return=t,i.sibling=r,t.child=i,r}function Tl(e,t,i,r){return null!==r&&Aa(r),xa(t,e.child,null,i),(e=_l(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Al(e,t,i){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Qs(e.return,t,i)}function wl(e,t,i,r,n){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:n}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=i,s.tailMode=n)}function El(e,t,i){var r=t.pendingProps,n=r.revealOrder,s=r.tail;if(ol(e,t,r.children,i),0!=(2&(r=Xa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Al(e,i,t);else if(19===e.tag)Al(e,i,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ds(Xa,r),0==(1&t.mode))t.memoizedState=null;else switch(n){case"forwards":for(i=t.child,n=null;null!==i;)null!==(e=i.alternate)&&null===Va(e)&&(n=i),i=i.sibling;null===(i=n)?(n=t.child,t.child=null):(n=i.sibling,i.sibling=null),wl(t,!1,n,i,s);break;case"backwards":for(i=null,n=t.child,t.child=null;null!==n;){if(null!==(e=n.alternate)&&null===Va(e)){t.child=n;break}e=n.sibling,n.sibling=i,i=n,n=e}wl(t,!0,i,null,s);break;case"together":wl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Jl(e,t,i){if(null!==e&&(t.dependencies=e.dependencies),yh|=t.lanes,0==(i&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(F(153));if(null!==t.child){for(i=Cu(e=t.child,e.pendingProps),t.child=i,i.return=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=Cu(e,e.pendingProps)).return=t;i.sibling=null}return t.child}function Rl(e,t){switch(ga(t),t.tag){case 1:return Cs(t.type)&&ys(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Pa(),us(gs),us(ps),Wa(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return La(t),null;case 13:if(us(Xa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(F(340));Ta()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return us(Xa),null;case 4:return Pa(),null;case 10:return Ns(t.type._context),null;case 22:case 23:return Yh(),null;default:return null}}var xl=!1,Gl=!1,Dl="function"==typeof WeakSet?WeakSet:Set,Bl=null;function Nl(e,t){var i=e.ref;if(null!==i)if("function"==typeof i)try{i(null)}catch(i){lu(e,t,i)}else i.current=null}function Ql(e,t,i){try{i()}catch(i){lu(e,t,i)}}var Ml=!1;function Zl(e,t,i){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var n=r=r.next;do{if((n.tag&e)===e){var s=n.destroy;n.destroy=void 0,void 0!==s&&Ql(t,i,s)}n=n.next}while(n!==r)}}function Pl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var i=t=t.next;do{if((i.tag&e)===e){var r=i.create;i.destroy=r()}i=i.next}while(i!==t)}}function Ol(e){var t=e.ref;if(null!==t){var i=e.stateNode;e.tag,e=i,"function"==typeof t?t(e):t.current=e}}function Ll(e){var t=e.alternate;null!==t&&(e.alternate=null,Ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[jn],delete t[qn],delete t[es],delete t[ts],delete t[is])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xl(e){return 5===e.tag||3===e.tag||4===e.tag}function Vl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Xl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Fl(e,t,i){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===i.nodeType?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(8===i.nodeType?(t=i.parentNode).insertBefore(e,i):(t=i).appendChild(e),null!=(i=i._reactRootContainer)||null!==t.onclick||(t.onclick=Zn));else if(4!==r&&null!==(e=e.child))for(Fl(e,t,i),e=e.sibling;null!==e;)Fl(e,t,i),e=e.sibling}function Wl(e,t,i){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Wl(e,t,i),e=e.sibling;null!==e;)Wl(e,t,i),e=e.sibling}var Ul=null,Hl=!1;function Kl(e,t,i){for(i=i.child;null!==i;)Yl(e,t,i),i=i.sibling}function Yl(e,t,i){if(Ft&&"function"==typeof Ft.onCommitFiberUnmount)try{Ft.onCommitFiberUnmount(Vt,i)}catch(e){}switch(i.tag){case 5:Gl||Nl(i,t);case 6:var r=Ul,n=Hl;Ul=null,Kl(e,t,i),Hl=n,null!==(Ul=r)&&(Hl?(e=Ul,i=i.stateNode,8===e.nodeType?e.parentNode.removeChild(i):e.removeChild(i)):Ul.removeChild(i.stateNode));break;case 18:null!==Ul&&(Hl?(e=Ul,i=i.stateNode,8===e.nodeType?Hn(e.parentNode,i):1===e.nodeType&&Hn(e,i),wi(e)):Hn(Ul,i.stateNode));break;case 4:r=Ul,n=Hl,Ul=i.stateNode.containerInfo,Hl=!0,Kl(e,t,i),Ul=r,Hl=n;break;case 0:case 11:case 14:case 15:if(!Gl&&(null!==(r=i.updateQueue)&&null!==(r=r.lastEffect))){n=r=r.next;do{var s=n,a=s.destroy;s=s.tag,void 0!==a&&(0!=(2&s)||0!=(4&s))&&Ql(i,t,a),n=n.next}while(n!==r)}Kl(e,t,i);break;case 1:if(!Gl&&(Nl(i,t),"function"==typeof(r=i.stateNode).componentWillUnmount))try{r.props=i.memoizedProps,r.state=i.memoizedState,r.componentWillUnmount()}catch(e){lu(i,t,e)}Kl(e,t,i);break;case 21:Kl(e,t,i);break;case 22:1&i.mode?(Gl=(r=Gl)||null!==i.memoizedState,Kl(e,t,i),Gl=r):Kl(e,t,i);break;default:Kl(e,t,i)}}function zl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var i=e.stateNode;null===i&&(i=e.stateNode=new Dl),t.forEach((function(t){var r=cu.bind(null,e,t);i.has(t)||(i.add(t),t.then(r,r))}))}}function jl(e,t){var i=t.deletions;if(null!==i)for(var r=0;r<i.length;r++){var n=i[r];try{var s=e,a=t,o=a;e:for(;null!==o;){switch(o.tag){case 5:Ul=o.stateNode,Hl=!1;break e;case 3:case 4:Ul=o.stateNode.containerInfo,Hl=!0;break e}o=o.return}if(null===Ul)throw Error(F(160));Yl(s,a,n),Ul=null,Hl=!1;var l=n.alternate;null!==l&&(l.return=null),n.return=null}catch(e){lu(n,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ql(t,e),t=t.sibling}function ql(e,t){var i=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jl(t,e),$l(e),4&r){try{Zl(3,e,e.return),Pl(3,e)}catch(t){lu(e,e.return,t)}try{Zl(5,e,e.return)}catch(t){lu(e,e.return,t)}}break;case 1:jl(t,e),$l(e),512&r&&null!==i&&Nl(i,i.return);break;case 5:if(jl(t,e),$l(e),512&r&&null!==i&&Nl(i,i.return),32&e.flags){var n=e.stateNode;try{je(n,"")}catch(t){lu(e,e.return,t)}}if(4&r&&null!=(n=e.stateNode)){var s=e.memoizedProps,a=null!==i?i.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===o&&"radio"===s.type&&null!=s.name&&Qe(n,s),nt(o,a);var h=nt(o,s);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];"style"===u?tt(n,d):"dangerouslySetInnerHTML"===u?ze(n,d):"children"===u?je(n,d):ne(n,u,d,h)}switch(o){case"input":Me(n,s);break;case"textarea":Fe(n,s);break;case"select":var c=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?Le(n,!!s.multiple,p,!1):c!==!!s.multiple&&(null!=s.defaultValue?Le(n,!!s.multiple,s.defaultValue,!0):Le(n,!!s.multiple,s.multiple?[]:"",!1))}n[qn]=s}catch(t){lu(e,e.return,t)}}break;case 6:if(jl(t,e),$l(e),4&r){if(null===e.stateNode)throw Error(F(162));h=e.stateNode,u=e.memoizedProps;try{h.nodeValue=u}catch(t){lu(e,e.return,t)}}break;case 3:if(jl(t,e),$l(e),4&r&&null!==i&&i.memoizedState.isDehydrated)try{wi(t.containerInfo)}catch(t){lu(e,e.return,t)}break;case 4:default:jl(t,e),$l(e);break;case 13:jl(t,e),$l(e),8192&(h=e.child).flags&&null!==h.memoizedState&&(null===h.alternate||null===h.alternate.memoizedState)&&(Sh=Qt()),4&r&&zl(e);break;case 22:if(h=null!==i&&null!==i.memoizedState,1&e.mode?(Gl=(u=Gl)||h,jl(t,e),Gl=u):jl(t,e),$l(e),8192&r){u=null!==e.memoizedState;e:for(d=null,c=e;;){if(5===c.tag){if(null===d){d=c;try{n=c.stateNode,u?"function"==typeof(s=n.style).setProperty?s.setProperty("display","none","important"):s.display="none":(o=c.stateNode,a=null!=(l=c.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,o.style.display=et("display",a))}catch(t){lu(e,e.return,t)}}}else if(6===c.tag){if(null===d)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(t){lu(e,e.return,t)}}else if((22!==c.tag&&23!==c.tag||null===c.memoizedState||c===e)&&null!==c.child){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;null===c.sibling;){if(null===c.return||c.return===e)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}if(u&&!h&&0!=(1&e.mode))for(Bl=e,e=e.child;null!==e;){for(h=Bl=e;null!==Bl;){switch(d=(u=Bl).child,u.tag){case 0:case 11:case 14:case 15:Zl(4,u,u.return);break;case 1:if(Nl(u,u.return),"function"==typeof(s=u.stateNode).componentWillUnmount){c=u,p=u.return;try{n=c,s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(e){lu(c,p,e)}}break;case 5:Nl(u,u.return);break;case 22:if(null!==u.memoizedState){rh(h);continue}}null!==d?(d.return=u,Bl=d):rh(h)}e=e.sibling}}break;case 19:jl(t,e),$l(e),4&r&&zl(e);case 21:}}function $l(e){var t=e.flags;if(2&t){try{e:{for(var i=e.return;null!==i;){if(Xl(i)){var r=i;break e}i=i.return}throw Error(F(160))}switch(r.tag){case 5:var n=r.stateNode;32&r.flags&&(je(n,""),r.flags&=-33),Wl(e,Vl(e),n);break;case 3:case 4:var s=r.stateNode.containerInfo;Fl(e,Vl(e),s);break;default:throw Error(F(161))}}catch(t){lu(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function eh(e,t,i){Bl=e,th(e)}function th(e,t,i){for(var r=0!=(1&e.mode);null!==Bl;){var n=Bl,s=n.child;if(22===n.tag&&r){var a=null!==n.memoizedState||xl;if(!a){var o=n.alternate,l=null!==o&&null!==o.memoizedState||Gl;o=xl;var h=Gl;if(xl=a,(Gl=l)&&!h)for(Bl=n;null!==Bl;)l=(a=Bl).child,22===a.tag&&null!==a.memoizedState?nh(n):null!==l?(l.return=a,Bl=l):nh(n);for(;null!==s;)Bl=s,th(s),s=s.sibling;Bl=n,xl=o,Gl=h}ih(e)}else 0!=(8772&n.subtreeFlags)&&null!==s?(s.return=n,Bl=s):ih(e)}}function ih(e){for(;null!==Bl;){var t=Bl;if(0!=(8772&t.flags)){var i=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gl||Pl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gl)if(null===i)r.componentDidMount();else{var n=t.elementType===t.type?i.memoizedProps:Js(t.type,i.memoizedProps);r.componentDidUpdate(n,i.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ks(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(i=null,null!==t.child)switch(t.child.tag){case 5:case 1:i=t.child.stateNode}Ks(t,a,i)}break;case 5:var o=t.stateNode;if(null===i&&4&t.flags){i=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&i.focus();break;case"img":l.src&&(i.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var h=t.alternate;if(null!==h){var u=h.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&wi(d)}}}break;default:throw Error(F(163))}Gl||512&t.flags&&Ol(t)}catch(e){lu(t,t.return,e)}}if(t===e){Bl=null;break}if(null!==(i=t.sibling)){i.return=t.return,Bl=i;break}Bl=t.return}}function rh(e){for(;null!==Bl;){var t=Bl;if(t===e){Bl=null;break}var i=t.sibling;if(null!==i){i.return=t.return,Bl=i;break}Bl=t.return}}function nh(e){for(;null!==Bl;){var t=Bl;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{Pl(4,t)}catch(e){lu(t,i,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var n=t.return;try{r.componentDidMount()}catch(e){lu(t,n,e)}}var s=t.return;try{Ol(t)}catch(e){lu(t,s,e)}break;case 5:var a=t.return;try{Ol(t)}catch(e){lu(t,a,e)}}}catch(e){lu(t,t.return,e)}if(t===e){Bl=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Bl=o;break}Bl=t.return}}var sh,ah=Math.ceil,oh=se.ReactCurrentDispatcher,lh=se.ReactCurrentOwner,hh=se.ReactCurrentBatchConfig,uh=0,dh=null,ch=null,ph=0,gh=0,fh=hs(0),mh=0,Ch=null,yh=0,bh=0,Ih=0,vh=null,_h=null,Sh=0,kh=1/0,Th=null,Ah=!1,wh=null,Eh=null,Jh=!1,Rh=null,xh=0,Gh=0,Dh=null,Bh=-1,Nh=0;function Qh(){return 0!=(6&uh)?Qt():-1!==Bh?Bh:Bh=Qt()}function Mh(e){return 0==(1&e.mode)?1:0!=(2&uh)&&0!==ph?ph&-ph:null!==Es.transition?(0===Nh&&(Nh=ei()),Nh):0!==(e=ni)?e:e=void 0===(e=window.event)?16:Ni(e.type)}function Zh(e,t,i){if(50<Gh)throw Gh=0,Dh=null,Error(F(185));var r=Ph(e,t);return null===r?null:(ii(r,t,i),0!=(2&uh)&&r===dh||(r===dh&&(0==(2&uh)&&(bh|=t),4===mh&&Wh(r,ph)),Lh(r,i),1===t&&0===uh&&0==(1&e.mode)&&(kh=Qt()+500,ks&&ws())),r)}function Ph(e,t){e.lanes|=t;var i=e.alternate;for(null!==i&&(i.lanes|=t),i=e,e=e.return;null!==e;)e.childLanes|=t,null!==(i=e.alternate)&&(i.childLanes|=t),i=e,e=e.return;return 3===i.tag?i.stateNode:null}function Oh(e){return(null!==dh||null!==Ps)&&0!=(1&e.mode)&&0==(2&uh)}function Lh(e,t){var i=e.callbackNode;!function(e,t){for(var i=e.suspendedLanes,r=e.pingedLanes,n=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Wt(s),o=1<<a,l=n[a];-1===l?0!=(o&i)&&0==(o&r)||(n[a]=qt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=jt(e,e===dh?ph:0);if(0===r)null!==i&&Dt(i),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=i&&Dt(i),1===t)0===e.tag?function(e){ks=!0,As(e)}(Uh.bind(null,e)):As(Uh.bind(null,e)),Wn((function(){0===uh&&ws()})),i=null;else{switch(si(r)){case 1:i=Zt;break;case 4:i=Pt;break;case 16:default:i=Ot;break;case 536870912:i=Xt}i=pu(i,Xh.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Xh(e,t){if(Bh=-1,Nh=0,0!=(6&uh))throw Error(F(327));var i=e.callbackNode;if(au()&&e.callbackNode!==i)return null;var r=jt(e,e===dh?ph:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=eu(e,r);else{t=r;var n=uh;uh|=2;var s=qh();for(dh===e&&ph===t||(Th=null,kh=Qt()+500,zh(e,t));;)try{iu();break}catch(t){jh(e,t)}Bs(),oh.current=s,uh=n,null!==ch?t=0:(dh=null,ph=0,t=mh)}if(0!==t){if(2===t&&(0!==(n=$t(e))&&(r=n,t=Vh(e,n))),1===t)throw i=Ch,zh(e,0),Wh(e,r),Lh(e,Qt()),i;if(6===t)Wh(e,r);else{if(n=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var i=t.updateQueue;if(null!==i&&null!==(i=i.stores))for(var r=0;r<i.length;r++){var n=i[r],s=n.getSnapshot;n=n.value;try{if(!Wr(s(),n))return!1}catch(e){return!1}}}if(i=t.child,16384&t.subtreeFlags&&null!==i)i.return=t,t=i;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(n)&&(2===(t=eu(e,r))&&(0!==(s=$t(e))&&(r=s,t=Vh(e,s))),1===t))throw i=Ch,zh(e,0),Wh(e,r),Lh(e,Qt()),i;switch(e.finishedWork=n,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:case 5:su(e,_h,Th);break;case 3:if(Wh(e,r),(130023424&r)===r&&10<(t=Sh+500-Qt())){if(0!==jt(e,0))break;if(((n=e.suspendedLanes)&r)!==r){Qh(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=Xn(su.bind(null,e,_h,Th),t);break}su(e,_h,Th);break;case 4:if(Wh(e,r),(4194240&r)===r)break;for(t=e.eventTimes,n=-1;0<r;){var a=31-Wt(r);s=1<<a,(a=t[a])>n&&(n=a),r&=~s}if(r=n,10<(r=(120>(r=Qt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ah(r/1960))-r)){e.timeoutHandle=Xn(su.bind(null,e,_h,Th),r);break}su(e,_h,Th);break;default:throw Error(F(329))}}}return Lh(e,Qt()),e.callbackNode===i?Xh.bind(null,e):null}function Vh(e,t){var i=vh;return e.current.memoizedState.isDehydrated&&(zh(e,t).flags|=256),2!==(e=eu(e,t))&&(t=_h,_h=i,null!==t&&Fh(t)),e}function Fh(e){null===_h?_h=e:_h.push.apply(_h,e)}function Wh(e,t){for(t&=~Ih,t&=~bh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-Wt(t),r=1<<i;e[i]=-1,t&=~r}}function Uh(e){if(0!=(6&uh))throw Error(F(327));au();var t=jt(e,0);if(0==(1&t))return Lh(e,Qt()),null;var i=eu(e,t);if(0!==e.tag&&2===i){var r=$t(e);0!==r&&(t=r,i=Vh(e,r))}if(1===i)throw i=Ch,zh(e,0),Wh(e,t),Lh(e,Qt()),i;if(6===i)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,su(e,_h,Th),Lh(e,Qt()),null}function Hh(e,t){var i=uh;uh|=1;try{return e(t)}finally{0===(uh=i)&&(kh=Qt()+500,ks&&ws())}}function Kh(e){null!==Rh&&0===Rh.tag&&0==(6&uh)&&au();var t=uh;uh|=1;var i=hh.transition,r=ni;try{if(hh.transition=null,ni=1,e)return e()}finally{ni=r,hh.transition=i,0==(6&(uh=t))&&ws()}}function Yh(){gh=fh.current,us(fh)}function zh(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(-1!==i&&(e.timeoutHandle=-1,Vn(i)),null!==ch)for(i=ch.return;null!==i;){var r=i;switch(ga(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&ys();break;case 3:Pa(),us(gs),us(ps),Wa();break;case 5:La(r);break;case 4:Pa();break;case 13:case 19:us(Xa);break;case 10:Ns(r.type._context);break;case 22:case 23:Yh()}i=i.return}if(dh=e,ch=e=Cu(e.current,null),ph=gh=t,mh=0,Ch=null,Ih=bh=yh=0,_h=vh=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(r=(i=Ps[t]).interleaved)){i.interleaved=null;var n=r.next,s=i.pending;if(null!==s){var a=s.next;s.next=n,r.next=a}i.pending=r}Ps=null}return e}function jh(e,t){for(;;){var i=ch;try{if(Bs(),Ua.current=Lo,qa){for(var r=Ya.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}qa=!1}if(Ka=0,ja=za=Ya=null,$a=!1,eo=0,lh.current=null,null===i||null===i.return){mh=1,Ch=t,ch=null;break}e:{var s=e,a=i.return,o=i,l=t;if(t=ph,o.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var h=l,u=o,d=u.tag;if(0==(1&u.mode)&&(0===d||11===d||15===d)){var c=u.alternate;c?(u.updateQueue=c.updateQueue,u.memoizedState=c.memoizedState,u.lanes=c.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=el(a);if(null!==p){p.flags&=-257,tl(p,a,o,0,t),1&p.mode&&$o(s,h,t),l=h;var g=(t=p).updateQueue;if(null===g){var f=new Set;f.add(l),t.updateQueue=f}else g.add(l);break e}if(0==(1&t)){$o(s,h,t),$h();break e}l=Error(F(426))}else if(Ca&&1&o.mode){var m=el(a);if(null!==m){0==(65536&m.flags)&&(m.flags|=256),tl(m,a,o,0,t),Aa(l);break e}}s=l,4!==mh&&(mh=2),null===vh?vh=[s]:vh.push(s),l=Wo(l,o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Us(o,jo(0,l,t));break e;case 1:s=l;var C=o.type,y=o.stateNode;if(0==(128&o.flags)&&("function"==typeof C.getDerivedStateFromError||null!==y&&"function"==typeof y.componentDidCatch&&(null===Eh||!Eh.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t,Us(o,qo(o,s,t));break e}}o=o.return}while(null!==o)}nu(i)}catch(e){t=e,ch===i&&null!==i&&(ch=i=i.return);continue}break}}function qh(){var e=oh.current;return oh.current=Lo,null===e?Lo:e}function $h(){0!==mh&&3!==mh&&2!==mh||(mh=4),null===dh||0==(268435455&yh)&&0==(268435455&bh)||Wh(dh,ph)}function eu(e,t){var i=uh;uh|=2;var r=qh();for(dh===e&&ph===t||(Th=null,zh(e,t));;)try{tu();break}catch(t){jh(e,t)}if(Bs(),uh=i,oh.current=r,null!==ch)throw Error(F(261));return dh=null,ph=0,mh}function tu(){for(;null!==ch;)ru(ch)}function iu(){for(;null!==ch&&!Bt();)ru(ch)}function ru(e){var t=sh(e.alternate,e,gh);e.memoizedProps=e.pendingProps,null===t?nu(e):ch=t,lh.current=null}function nu(e){var t=e;do{var i=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(i=nl(i,t,gh)))return void(ch=i)}else{if(null!==(i=Rl(i,t)))return i.flags&=32767,void(ch=i);if(null===e)return mh=6,void(ch=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ch=t);ch=t=e}while(null!==t);0===mh&&(mh=5)}function su(e,t,i){var r=ni,n=hh.transition;try{hh.transition=null,ni=1,function(e,t,i,r){do{au()}while(null!==Rh);if(0!=(6&uh))throw Error(F(327));i=e.finishedWork;var n=e.finishedLanes;if(null===i)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var s=i.lanes|i.childLanes;if(function(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<i;){var n=31-Wt(i),s=1<<n;t[n]=0,r[n]=-1,e[n]=-1,i&=~s}}(e,s),e===dh&&(ch=dh=null,ph=0),0==(2064&i.subtreeFlags)&&0==(2064&i.flags)||Jh||(Jh=!0,pu(Ot,(function(){return au(),null}))),s=0!=(15990&i.flags),0!=(15990&i.subtreeFlags)||s){s=hh.transition,hh.transition=null;var a=ni;ni=1;var o=uh;uh|=4,lh.current=null,function(e,t){if(Pn=Ji,jr(e=zr())){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(i=(i=e.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(r&&0!==r.rangeCount){i=r.anchorNode;var n=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{i.nodeType,s.nodeType}catch(e){i=null;break e}var a=0,o=-1,l=-1,h=0,u=0,d=e,c=null;t:for(;;){for(var p;d!==i||0!==n&&3!==d.nodeType||(o=a+n),d!==s||0!==r&&3!==d.nodeType||(l=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)c=d,d=p;for(;;){if(d===e)break t;if(c===i&&++h===n&&(o=a),c===s&&++u===r&&(l=a),null!==(p=d.nextSibling))break;c=(d=c).parentNode}d=p}i=-1===o||-1===l?null:{start:o,end:l}}else i=null}i=i||{start:0,end:0}}else i=null;for(On={focusedElem:e,selectionRange:i},Ji=!1,Bl=t;null!==Bl;)if(e=(t=Bl).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,Bl=e;else for(;null!==Bl;){t=Bl;try{var g=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var f=g.memoizedProps,m=g.memoizedState,C=t.stateNode,y=C.getSnapshotBeforeUpdate(t.elementType===t.type?f:Js(t.type,f),m);C.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var I=b.body;null!=I&&(I.textContent="")}break;default:throw Error(F(163))}}catch(e){lu(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Bl=e;break}Bl=t.return}g=Ml,Ml=!1}(e,i),ql(i,e),qr(On),Ji=!!Pn,On=Pn=null,e.current=i,eh(i),Nt(),uh=o,ni=a,hh.transition=s}else e.current=i;if(Jh&&(Jh=!1,Rh=e,xh=n),0===(s=e.pendingLanes)&&(Eh=null),function(e){if(Ft&&"function"==typeof Ft.onCommitFiberRoot)try{Ft.onCommitFiberRoot(Vt,e,void 0,128==(128&e.current.flags))}catch(e){}}(i.stateNode),Lh(e,Qt()),null!==t)for(r=e.onRecoverableError,i=0;i<t.length;i++)r(t[i]);if(Ah)throw Ah=!1,e=wh,wh=null,e;0!=(1&xh)&&0!==e.tag&&au(),0!=(1&(s=e.pendingLanes))?e===Dh?Gh++:(Gh=0,Dh=e):Gh=0,ws()}(e,t,i,r)}finally{hh.transition=n,ni=r}return null}function au(){if(null!==Rh){var e=si(xh),t=hh.transition,i=ni;try{if(hh.transition=null,ni=16>e?16:e,null===Rh)var r=!1;else{if(e=Rh,Rh=null,xh=0,0!=(6&uh))throw Error(F(331));var n=uh;for(uh|=4,Bl=e.current;null!==Bl;){var s=Bl,a=s.child;if(0!=(16&Bl.flags)){var o=s.deletions;if(null!==o){for(var l=0;l<o.length;l++){var h=o[l];for(Bl=h;null!==Bl;){var u=Bl;switch(u.tag){case 0:case 11:case 15:Zl(8,u,s)}var d=u.child;if(null!==d)d.return=u,Bl=d;else for(;null!==Bl;){var c=(u=Bl).sibling,p=u.return;if(Ll(u),u===h){Bl=null;break}if(null!==c){c.return=p,Bl=c;break}Bl=p}}}var g=s.alternate;if(null!==g){var f=g.child;if(null!==f){g.child=null;do{var m=f.sibling;f.sibling=null,f=m}while(null!==f)}}Bl=s}}if(0!=(2064&s.subtreeFlags)&&null!==a)a.return=s,Bl=a;else e:for(;null!==Bl;){if(0!=(2048&(s=Bl).flags))switch(s.tag){case 0:case 11:case 15:Zl(9,s,s.return)}var C=s.sibling;if(null!==C){C.return=s.return,Bl=C;break e}Bl=s.return}}var y=e.current;for(Bl=y;null!==Bl;){var b=(a=Bl).child;if(0!=(2064&a.subtreeFlags)&&null!==b)b.return=a,Bl=b;else e:for(a=y;null!==Bl;){if(0!=(2048&(o=Bl).flags))try{switch(o.tag){case 0:case 11:case 15:Pl(9,o)}}catch(e){lu(o,o.return,e)}if(o===a){Bl=null;break e}var I=o.sibling;if(null!==I){I.return=o.return,Bl=I;break e}Bl=o.return}}if(uh=n,ws(),Ft&&"function"==typeof Ft.onPostCommitFiberRoot)try{Ft.onPostCommitFiberRoot(Vt,e)}catch(e){}r=!0}return r}finally{ni=i,hh.transition=t}}return!1}function ou(e,t,i){Fs(e,t=jo(0,t=Wo(i,t),1)),t=Qh(),null!==(e=Ph(e,1))&&(ii(e,1,t),Lh(e,t))}function lu(e,t,i){if(3===e.tag)ou(e,e,i);else for(;null!==t;){if(3===t.tag){ou(t,e,i);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Eh||!Eh.has(r))){Fs(t,e=qo(t,e=Wo(i,e),1)),e=Qh(),null!==(t=Ph(t,1))&&(ii(t,1,e),Lh(t,e));break}}t=t.return}}function hu(e,t,i){var r=e.pingCache;null!==r&&r.delete(t),t=Qh(),e.pingedLanes|=e.suspendedLanes&i,dh===e&&(ph&i)===i&&(4===mh||3===mh&&(130023424&ph)===ph&&500>Qt()-Sh?zh(e,0):Ih|=i),Lh(e,t)}function uu(e,t){0===t&&(0==(1&e.mode)?t=1:(t=Yt,0==(130023424&(Yt<<=1))&&(Yt=4194304)));var i=Qh();null!==(e=Ph(e,t))&&(ii(e,t,i),Lh(e,i))}function du(e){var t=e.memoizedState,i=0;null!==t&&(i=t.retryLane),uu(e,i)}function cu(e,t){var i=0;switch(e.tag){case 13:var r=e.stateNode,n=e.memoizedState;null!==n&&(i=n.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}null!==r&&r.delete(t),uu(e,i)}function pu(e,t){return Gt(e,t)}function gu(e,t,i,r){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fu(e,t,i,r){return new gu(e,t,i,r)}function mu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Cu(e,t){var i=e.alternate;return null===i?((i=fu(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&e.flags,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function yu(e,t,i,r,n,s){var a=2;if(r=e,"function"==typeof e)mu(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case le:return bu(i.children,n,s,t);case he:a=8,n|=8;break;case ue:return(e=fu(12,i,t,2|n)).elementType=ue,e.lanes=s,e;case ge:return(e=fu(13,i,t,n)).elementType=ge,e.lanes=s,e;case fe:return(e=fu(19,i,t,n)).elementType=fe,e.lanes=s,e;case ye:return Iu(i,n,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case de:a=10;break e;case ce:a=9;break e;case pe:a=11;break e;case me:a=14;break e;case Ce:a=16,r=null;break e}throw Error(F(130,null==e?e:typeof e,""))}return(t=fu(a,i,t,n)).elementType=e,t.type=r,t.lanes=s,t}function bu(e,t,i,r){return(e=fu(7,e,r,t)).lanes=i,e}function Iu(e,t,i,r){return(e=fu(22,e,r,t)).elementType=ye,e.lanes=i,e.stateNode={},e}function vu(e,t,i){return(e=fu(6,e,null,t)).lanes=i,e}function _u(e,t,i){return(t=fu(4,null!==e.children?e.children:[],e.key,t)).lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Su(e,t,i,r,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ti(0),this.expirationTimes=ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.identifierPrefix=r,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function ku(e,t,i,r,n,s,a,o,l){return e=new Su(e,t,i,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=fu(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),e}function Tu(e,t,i){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:oe,key:null==r?null:""+r,children:e,containerInfo:t,implementation:i}}function Au(e){if(!e)return cs;e:{if(wt(e=e._reactInternals)!==e||1!==e.tag)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Cs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(F(171))}if(1===e.tag){var i=e.type;if(Cs(i))return Is(e,i,t)}return t}function wu(e,t,i,r,n,s,a,o,l){return(e=ku(i,r,!0,e,0,s,0,o,l)).context=Au(null),i=e.current,(s=Vs(r=Qh(),n=Mh(i))).callback=null!=t?t:null,Fs(i,s),e.current.lanes=n,ii(e,n,r),Lh(e,r),e}function Eu(e,t,i,r){var n=t.current,s=Qh(),a=Mh(n);return i=Au(i),null===t.context?t.context=i:t.pendingContext=i,(t=Vs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Fs(n,t),null!==(e=Zh(n,a,s))&&Ws(e,n,a),a}function Ju(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Ru(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var i=e.retryLane;e.retryLane=0!==i&&i<t?i:t}}function xu(e,t){Ru(e,t),(e=e.alternate)&&Ru(e,t)}sh=function(e,t,i){if(null!==e)if(e.memoizedProps!==t.pendingProps||gs.current)al=!0;else{if(0==(e.lanes&i)&&0==(128&t.flags))return al=!1,function(e,t,i){switch(t.tag){case 3:ml(t),Ta();break;case 5:Oa(t);break;case 1:Cs(t.type)&&vs(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,n=t.memoizedProps.value;ds(Rs,r._currentValue),r._currentValue=n;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ds(Xa,1&Xa.current),t.flags|=128,null):0!=(i&t.child.childLanes)?vl(e,t,i):(ds(Xa,1&Xa.current),null!==(e=Jl(e,t,i))?e.sibling:null);ds(Xa,1&Xa.current);break;case 19:if(r=0!=(i&t.childLanes),0!=(128&e.flags)){if(r)return El(e,t,i);t.flags|=128}if(null!==(n=t.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),ds(Xa,Xa.current),r)break;return null;case 22:case 23:return t.lanes=0,dl(e,t,i)}return Jl(e,t,i)}(e,t,i);al=0!=(131072&e.flags)}else al=!1,Ca&&0!=(1048576&t.flags)&&ca(t,sa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var n=ms(t,ps.current);Ms(t,i),n=no(null,t,r,e,n,i);var s=so();return t.flags|=1,"object"==typeof n&&null!==n&&"function"==typeof n.render&&void 0===n.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Cs(r)?(s=!0,vs(t)):s=!1,t.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,Ls(t),n.updater=js,t.stateNode=n,n._reactInternals=t,ta(t,r,e,i),t=fl(null,t,r,!0,s,i)):(t.tag=0,Ca&&s&&pa(t),ol(null,t,n,i),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(n=r._init)(r._payload),t.type=r,n=t.tag=function(e){if("function"==typeof e)return mu(e)?1:0;if(null!=e){if((e=e.$$typeof)===pe)return 11;if(e===me)return 14}return 2}(r),e=Js(r,e),n){case 0:t=pl(null,t,r,e,i);break e;case 1:t=gl(null,t,r,e,i);break e;case 11:t=ll(null,t,r,e,i);break e;case 14:t=hl(null,t,r,Js(r.type,e),i);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,n=t.pendingProps,pl(e,t,r,n=t.elementType===r?n:Js(r,n),i);case 1:return r=t.type,n=t.pendingProps,gl(e,t,r,n=t.elementType===r?n:Js(r,n),i);case 3:e:{if(ml(t),null===e)throw Error(F(387));r=t.pendingProps,n=(s=t.memoizedState).element,Xs(e,t),Hs(t,r,null,i);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Cl(e,t,r,i,n=Error(F(423)));break e}if(r!==n){t=Cl(e,t,r,i,n=Error(F(424)));break e}for(ma=Kn(t.stateNode.containerInfo.firstChild),fa=t,Ca=!0,ya=null,i=Ga(t,null,r,i),t.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(Ta(),r===n){t=Jl(e,t,i);break e}ol(e,t,r,i)}t=t.child}return t;case 5:return Oa(t),null===e&&_a(t),r=t.type,n=t.pendingProps,s=null!==e?e.memoizedProps:null,a=n.children,Ln(r,n)?a=null:null!==s&&Ln(r,s)&&(t.flags|=32),cl(e,t),ol(e,t,a,i),t.child;case 6:return null===e&&_a(t),null;case 13:return vl(e,t,i);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xa(t,null,r,i):ol(e,t,r,i),t.child;case 11:return r=t.type,n=t.pendingProps,ll(e,t,r,n=t.elementType===r?n:Js(r,n),i);case 7:return ol(e,t,t.pendingProps,i),t.child;case 8:case 12:return ol(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(r=t.type._context,n=t.pendingProps,s=t.memoizedProps,a=n.value,ds(Rs,r._currentValue),r._currentValue=a,null!==s)if(Wr(s.value,a)){if(s.children===n.children&&!gs.current){t=Jl(e,t,i);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var o=s.dependencies;if(null!==o){a=s.child;for(var l=o.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=Vs(-1,i&-i)).tag=2;var h=s.updateQueue;if(null!==h){var u=(h=h.shared).pending;null===u?l.next=l:(l.next=u.next,u.next=l),h.pending=l}}s.lanes|=i,null!==(l=s.alternate)&&(l.lanes|=i),Qs(s.return,i,t),o.lanes|=i;break}l=l.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(F(341));a.lanes|=i,null!==(o=a.alternate)&&(o.lanes|=i),Qs(a,i,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ol(e,t,n.children,i),t=t.child}return t;case 9:return n=t.type,r=t.pendingProps.children,Ms(t,i),r=r(n=Zs(n)),t.flags|=1,ol(e,t,r,i),t.child;case 14:return n=Js(r=t.type,t.pendingProps),hl(e,t,r,n=Js(r.type,n),i);case 15:return ul(e,t,t.type,t.pendingProps,i);case 17:return r=t.type,n=t.pendingProps,n=t.elementType===r?n:Js(r,n),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Cs(r)?(e=!0,vs(t)):e=!1,Ms(t,i),$s(t,r,n),ta(t,r,n,i),fl(null,t,r,!0,e,i);case 19:return El(e,t,i);case 22:return dl(e,t,i)}throw Error(F(156,t.tag))};var Gu="function"==typeof reportError?reportError:function(e){console.error(e)};function Du(e){this._internalRoot=e}function Bu(e){this._internalRoot=e}function Nu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Mu(){}function Zu(e,t,i,r,n){var s=i._reactRootContainer;if(s){var a=s;if("function"==typeof n){var o=n;n=function(){var e=Ju(a);o.call(e)}}Eu(t,a,e,n)}else a=function(e,t,i,r,n){if(n){if("function"==typeof r){var s=r;r=function(){var e=Ju(a);s.call(e)}}var a=wu(t,r,e,0,null,!1,0,"",Mu);return e._reactRootContainer=a,e[$n]=a.current,wn(8===e.nodeType?e.parentNode:e),Kh(),a}for(;n=e.lastChild;)e.removeChild(n);if("function"==typeof r){var o=r;r=function(){var e=Ju(l);o.call(e)}}var l=ku(e,0,!1,null,0,!1,0,"",Mu);return e._reactRootContainer=l,e[$n]=l.current,wn(8===e.nodeType?e.parentNode:e),Kh((function(){Eu(t,l,i,r)})),l}(i,t,e,n,r);return Ju(a)}Bu.prototype.render=Du.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(F(409));Eu(e,t,null,null)},Bu.prototype.unmount=Du.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Kh((function(){Eu(null,e,null,null)})),t[$n]=null}},Bu.prototype.unstable_scheduleHydration=function(e){if(e){var t=hi();e={blockedOn:null,target:e,priority:t};for(var i=0;i<yi.length&&0!==t&&t<yi[i].priority;i++);yi.splice(i,0,e),0===i&&_i(e)}},ai=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=zt(t.pendingLanes);0!==i&&(ri(t,1|i),Lh(t,Qt()),0==(6&uh)&&(kh=Qt()+500,ws()))}break;case 13:var r=Qh();Kh((function(){return Zh(e,1,r)})),xu(e,1)}},oi=function(e){13===e.tag&&(Zh(e,134217728,Qh()),xu(e,134217728))},li=function(e){if(13===e.tag){var t=Qh(),i=Mh(e);Zh(e,i,t),xu(e,i)}},hi=function(){return ni},ui=function(e,t){var i=ni;try{return ni=e,t()}finally{ni=i}},ot=function(e,t,i){switch(t){case"input":if(Me(e,i),t=i.name,"radio"===i.type&&null!=t){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var r=i[t];if(r!==e&&r.form===e.form){var n=as(r);if(!n)throw Error(F(90));Ge(r),Me(r,n)}}}break;case"textarea":Fe(e,i);break;case"select":null!=(t=i.value)&&Le(e,!!i.multiple,t,!1)}},pt=Hh,gt=Kh;var Pu,Ou,Lu={usingClientEntryPoint:!1,Events:[ns,ss,as,dt,ct,Hh]},Xu={findFiberByHostInstance:rs,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},Vu={bundleType:Xu.bundleType,version:Xu.version,rendererPackageName:Xu.rendererPackageName,rendererConfig:Xu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:se.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Rt(e))?null:e.stateNode},findFiberByHostInstance:Xu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Fu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fu.isDisabled&&Fu.supportsFiber)try{Vt=Fu.inject(Vu),Ft=Fu}catch(Ye){}}function Wu(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(i.length?" "+i.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lu,r.createPortal=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Nu(t))throw Error(F(200));return Tu(e,t,null,i)},r.createRoot=function(e,t){if(!Nu(e))throw Error(F(299));var i=!1,r="",n=Gu;return null!=t&&(!0===t.unstable_strictMode&&(i=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(n=t.onRecoverableError)),t=ku(e,1,!1,null,0,i,0,r,n),e[$n]=t.current,wn(8===e.nodeType?e.parentNode:e),new Du(t)},r.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(F(188));throw e=Object.keys(e).join(","),Error(F(268,e))}return e=null===(e=Rt(t))?null:e.stateNode},r.flushSync=function(e){return Kh(e)},r.hydrate=function(e,t,i){if(!Qu(t))throw Error(F(200));return Zu(null,e,t,!0,i)},r.hydrateRoot=function(e,t,i){if(!Nu(e))throw Error(F(405));var r=null!=i&&i.hydratedSources||null,n=!1,s="",a=Gu;if(null!=i&&(!0===i.unstable_strictMode&&(n=!0),void 0!==i.identifierPrefix&&(s=i.identifierPrefix),void 0!==i.onRecoverableError&&(a=i.onRecoverableError)),t=wu(t,null,e,1,null!=i?i:null,n,0,s,a),e[$n]=t.current,wn(e),r)for(e=0;e<r.length;e++)n=(n=(i=r[e])._getVersion)(i._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[i,n]:t.mutableSourceEagerHydrationData.push(i,n);return new Bu(t)},r.render=function(e,t,i){if(!Qu(t))throw Error(F(200));return Zu(null,e,t,!1,i)},r.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(F(40));return!!e._reactRootContainer&&(Kh((function(){Zu(null,null,e,!1,(function(){e._reactRootContainer=null,e[$n]=null}))})),!0)},r.unstable_batchedUpdates=Hh,r.unstable_renderSubtreeIntoContainer=function(e,t,i,r){if(!Qu(i))throw Error(F(200));if(null==e||void 0===e._reactInternals)throw Error(F(38));return Zu(e,t,i,!1,r)},r.version="18.1.0-next-22edb9f77-20220426",Pu=i,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),Pu.exports=r,Ou=i.exports.createRoot;var Uu={};function Hu(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:Uu}var Ku=Object.assign,Yu=Object.getOwnPropertyDescriptor,zu=Object.defineProperty,ju=Object.prototype,qu=[];Object.freeze(qu);var $u={};Object.freeze($u);var ed="undefined"!=typeof Proxy,td=Object.toString();function id(){ed||Wu("Proxy not available")}function rd(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var nd=function(){};function sd(e){return"function"==typeof e}function ad(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function od(e){return null!==e&&"object"==typeof e}function ld(e){if(!od(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var i=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof i&&i.toString()===td}function hd(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function ud(e,t,i){zu(e,t,{enumerable:!1,writable:!0,configurable:!0,value:i})}function dd(e,t,i){zu(e,t,{enumerable:!1,writable:!1,configurable:!0,value:i})}function cd(e,t){var i="isMobX"+e;return t.prototype[i]=!0,function(e){return od(e)&&!0===e[i]}}function pd(e){return e instanceof Map}function gd(e){return e instanceof Set}var fd=void 0!==Object.getOwnPropertySymbols;var md="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:fd?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Cd(e){return null===e?null:"object"==typeof e?""+e:e}function yd(e,t){return ju.hasOwnProperty.call(e,t)}var bd=Object.getOwnPropertyDescriptors||function(e){var t={};return md(e).forEach((function(i){t[i]=Yu(e,i)})),t};function Id(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vd(e,t,i){return t&&Id(e.prototype,t),i&&Id(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function _d(){return _d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},_d.apply(this,arguments)}function Sd(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,kd(e,t)}function kd(e,t){return kd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},kd(e,t)}function Td(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ad(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function wd(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return Ad(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Ad(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Ed=Symbol("mobx-stored-annotations");function Jd(e){return Object.assign((function(t,i){Rd(t,i,e)}),e)}function Rd(e,t,i){yd(e,Ed)||ud(e,Ed,_d({},e[Ed])),function(e){return"override"===e.annotationType_}(i)||(e[Ed][t]=i)}var xd=Symbol("mobx administration"),Gd=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Jc.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function(){return $c(this)},t.reportChanged=function(){jc(),ep(this),qc()},t.toString=function(){return this.name_},e}(),Dd=cd("Atom",Gd);function Bd(e,t,i){void 0===t&&(t=nd),void 0===i&&(i=nd);var r,n=new Gd(e);return t!==nd&&yp("onBO",n,t,r),i!==nd&&Cp(n,i),n}var Nd={identity:function(e,t){return e===t},structural:function(e,t){return Jg(e,t)},default:function(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return Jg(e,t,1)}};function Qd(e,t,i){return Jp(e)?e:Array.isArray(e)?pc.array(e,{name:i}):ld(e)?pc.object(e,void 0,{name:i}):pd(e)?pc.map(e,{name:i}):gd(e)?pc.set(e,{name:i}):"function"!=typeof e||pp(e)||Ep(e)?e:hd(e)?Ap(e):cp(i,e)}function Md(e){return e}function Zd(e,t){return{annotationType_:e,options_:t,make_:Pd,extend_:Od}}function Pd(e,t,i,r){var n;if(null!=(n=this.options_)&&n.bound)return null===this.extend_(e,t,i,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,i,!1)?0:2;if(pp(i.value))return 1;var s=Ld(e,this,t,i,!1);return zu(r,t,s),2}function Od(e,t,i,r){var n=Ld(e,this,t,i);return e.defineProperty_(t,n,r)}function Ld(e,t,i,r,n){var s,a,o,l,h,u,d,c;void 0===n&&(n=Hc.safeDescriptors),c=r,t.annotationType_,c.value;var p,g=r.value;null!=(s=t.options_)&&s.bound&&(g=g.bind(null!=(p=e.proxy_)?p:e.target_));return{value:_c(null!=(a=null==(o=t.options_)?void 0:o.name)?a:i.toString(),g,null!=(l=null==(h=t.options_)?void 0:h.autoAction)&&l,null!=(u=t.options_)&&u.bound?null!=(d=e.proxy_)?d:e.target_:void 0),configurable:!n||e.isPlainObject_,enumerable:!1,writable:!n}}function Xd(e,t){return{annotationType_:e,options_:t,make_:Vd,extend_:Fd}}function Vd(e,t,i,r){var n;if(r===e.target_)return null===this.extend_(e,t,i,!1)?0:2;if(null!=(n=this.options_)&&n.bound&&(!yd(e.target_,t)||!Ep(e.target_[t]))&&null===this.extend_(e,t,i,!1))return 0;if(Ep(i.value))return 1;var s=Wd(e,this,t,i,!1,!1);return zu(r,t,s),2}function Fd(e,t,i,r){var n,s=Wd(e,this,t,i,null==(n=this.options_)?void 0:n.bound);return e.defineProperty_(t,s,r)}function Wd(e,t,i,r,n,s){var a;void 0===s&&(s=Hc.safeDescriptors),a=r,t.annotationType_,a.value;var o,l=r.value;(Ep(l)||(l=Ap(l)),n)&&((l=l.bind(null!=(o=e.proxy_)?o:e.target_)).isMobXFlow=!0);return{value:l,configurable:!s||e.isPlainObject_,enumerable:!1,writable:!s}}function Ud(e,t){return{annotationType_:e,options_:t,make_:Hd,extend_:Kd}}function Hd(e,t,i){return null===this.extend_(e,t,i,!1)?0:1}function Kd(e,t,i,r){var n;return n=i,this.annotationType_,n.get,e.defineComputedProperty_(t,_d({},this.options_,{get:i.get,set:i.set}),r)}function Yd(e,t){return{annotationType_:e,options_:t,make_:zd,extend_:jd}}function zd(e,t,i){return null===this.extend_(e,t,i,!1)?0:1}function jd(e,t,i,r){var n,s;return this.annotationType_,e.defineObservableProperty_(t,i.value,null!=(n=null==(s=this.options_)?void 0:s.enhancer)?n:Qd,r)}var qd=$d();function $d(e){return{annotationType_:"true",options_:e,make_:ec,extend_:tc}}function ec(e,t,i,r){var n,s,a,o;if(i.get)return mc.make_(e,t,i,r);if(i.set){var l=_c(t.toString(),i.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!Hc.safeDescriptors||e.isPlainObject_,set:l})?0:2:(zu(r,t,{configurable:!0,set:l}),2)}if(r!==e.target_&&"function"==typeof i.value)return hd(i.value)?(null!=(o=this.options_)&&o.autoBind?Ap.bound:Ap).make_(e,t,i,r):(null!=(a=this.options_)&&a.autoBind?cp.bound:cp).make_(e,t,i,r);var h,u=!1===(null==(n=this.options_)?void 0:n.deep)?pc.ref:pc;"function"==typeof i.value&&null!=(s=this.options_)&&s.autoBind&&(i.value=i.value.bind(null!=(h=e.proxy_)?h:e.target_));return u.make_(e,t,i,r)}function tc(e,t,i,r){var n,s,a;if(i.get)return mc.extend_(e,t,i,r);if(i.set)return e.defineProperty_(t,{configurable:!Hc.safeDescriptors||e.isPlainObject_,set:_c(t.toString(),i.set)},r);"function"==typeof i.value&&null!=(n=this.options_)&&n.autoBind&&(i.value=i.value.bind(null!=(a=e.proxy_)?a:e.target_));return(!1===(null==(s=this.options_)?void 0:s.deep)?pc.ref:pc).extend_(e,t,i,r)}var ic={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function rc(e){return e||ic}Object.freeze(ic);var nc=Yd("observable"),sc=Yd("observable.ref",{enhancer:Md}),ac=Yd("observable.shallow",{enhancer:function(e,t,i){return null==e||fg(e)||eg(e)||ag(e)||hg(e)?e:Array.isArray(e)?pc.array(e,{name:i,deep:!1}):ld(e)?pc.object(e,void 0,{name:i,deep:!1}):pd(e)?pc.map(e,{name:i,deep:!1}):gd(e)?pc.set(e,{name:i,deep:!1}):void 0}}),oc=Yd("observable.struct",{enhancer:function(e,t){return Jg(e,t)?t:e}}),lc=Jd(nc);function hc(e){return!0===e.deep?Qd:!1===e.deep?Md:(t=e.defaultDecorator)&&null!=(i=null==(r=t.options_)?void 0:r.enhancer)?i:Qd;var t,i,r}function uc(e,t,i){if(!ad(t))return Jp(e)?e:ld(e)?pc.object(e,t,i):Array.isArray(e)?pc.array(e,t):pd(e)?pc.map(e,t):gd(e)?pc.set(e,t):"object"==typeof e&&null!==e?e:pc.box(e,t);Rd(e,t,nc)}Object.assign(uc,lc);var dc,cc,pc=Ku(uc,{box:function(e,t){var i=rc(t);return new Ec(e,hc(i),i.name,!0,i.equals)},array:function(e,t){var i=rc(t);return(!1===Hc.useProxies||!1===i.proxy?kg:Wp)(e,hc(i),i.name)},map:function(e,t){var i=rc(t);return new sg(e,hc(i),i.name)},set:function(e,t){var i=rc(t);return new lg(e,hc(i),i.name)},object:function(e,t,i){return Ip(!1===Hc.useProxies||!1===(null==i?void 0:i.proxy)?cg({},i):function(e,t){var i,r;return id(),e=cg(e,t),null!=(r=(i=e[xd]).proxy_)?r:i.proxy_=new Proxy(e,Dp)}({},i),e,t)},ref:Jd(sc),shallow:Jd(ac),deep:lc,struct:Jd(oc)}),gc=Ud("computed"),fc=Ud("computed.struct",{equals:Nd.structural}),mc=function(e,t){if(ad(t))return Rd(e,t,gc);if(ld(e))return Jd(Ud("computed",e));var i=ld(t)?t:{};return i.get=e,i.name||(i.name=e.name||""),new xc(i)};Object.assign(mc,gc),mc.struct=Jd(fc);var Cc,yc=0,bc=1,Ic=null!=(dc=null==(cc=Yu((function(){}),"name"))?void 0:cc.configurable)&&dc,vc={value:"action",configurable:!0,writable:!1,enumerable:!1};function _c(e,t,i,r){function n(){return Sc(e,i,t,r||this,arguments)}return void 0===i&&(i=!1),n.isMobxAction=!0,Ic&&(vc.value=e,Object.defineProperty(n,"name",vc)),n}function Sc(e,t,i,r,n){var s=function(e,t,i,r){var n=!1,s=0,a=Hc.trackingDerivation,o=!t||!a;jc();var l=Hc.allowStateChanges;o&&(Pc(),l=Tc(!0));var h=Lc(!0),u={runAsAction_:o,prevDerivation_:a,prevAllowStateChanges_:l,prevAllowStateReads_:h,notifySpy_:n,startTime_:s,actionId_:bc++,parentActionId_:yc};return yc=u.actionId_,u}(0,t);try{return i.apply(r,n)}catch(e){throw s.error_=e,e}finally{!function(e){yc!==e.actionId_&&Wu(30);yc=e.parentActionId_,void 0!==e.error_&&(Hc.suppressReactionErrors=!0);Ac(e.prevAllowStateChanges_),Xc(e.prevAllowStateReads_),qc(),e.runAsAction_&&Oc(e.prevDerivation_);Hc.suppressReactionErrors=!1}(s)}}function kc(e,t){var i=Tc(e);try{return t()}finally{Ac(i)}}function Tc(e){var t=Hc.allowStateChanges;return Hc.allowStateChanges=e,t}function Ac(e){Hc.allowStateChanges=e}Cc=Symbol.toPrimitive;var wc,Ec=function(e){function t(t,i,r,n,s){var a;return void 0===r&&(r="ObservableValue"),void 0===s&&(s=Nd.default),(a=e.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=i,a.name_=r,a.equals=s,a.value_=i(t,void 0,r),a}Sd(t,e);var i=t.prototype;return i.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},i.set=function(e){this.value_,(e=this.prepareNewValue_(e))!==Hc.UNCHANGED&&this.setNewValue_(e)},i.prepareNewValue_=function(e){if(Bp(this)){var t=Qp(this,{object:this,type:Xp,newValue:e});if(!t)return Hc.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value_,this.name_),this.equals(this.value_,e)?Hc.UNCHANGED:e},i.setNewValue_=function(e){var t=this.value_;this.value_=e,this.reportChanged(),Mp(this)&&Pp(this,{type:Xp,object:this,newValue:e,oldValue:t})},i.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},i.intercept_=function(e){return Np(this,e)},i.observe_=function(e,t){return t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:Xp,newValue:this.value_,oldValue:void 0}),Zp(this,e)},i.raw=function(){return this.value_},i.toJSON=function(){return this.get()},i.toString=function(){return this.name_+"["+this.value_+"]"},i.valueOf=function(){return Cd(this.get())},i[Cc]=function(){return this.valueOf()},t}(Gd);wc=Symbol.toPrimitive;var Jc,Rc,xc=function(){function e(e){this.dependenciesState_=Jc.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=Jc.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Dc(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Rc.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||Wu(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=_c("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?Nd.structural:Nd.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){!function(e){if(e.lowestObserverState_!==Jc.UP_TO_DATE_)return;e.lowestObserverState_=Jc.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===Jc.UP_TO_DATE_&&(e.dependenciesState_=Jc.POSSIBLY_STALE_,e.onBecomeStale_())}))}(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function(){if(this.isComputing_&&Wu(32,this.name_,this.derivation),0!==Hc.inBatch||0!==this.observers_.size||this.keepAlive_){if($c(this),Nc(this)){var e=Hc.trackingContext;this.keepAlive_&&!e&&(Hc.trackingContext=this),this.trackAndCompute()&&function(e){if(e.lowestObserverState_===Jc.STALE_)return;e.lowestObserverState_=Jc.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===Jc.POSSIBLY_STALE_?t.dependenciesState_=Jc.STALE_:t.dependenciesState_===Jc.UP_TO_DATE_&&(e.lowestObserverState_=Jc.UP_TO_DATE_)}))}(this),Hc.trackingContext=e}}else Nc(this)&&(this.warnAboutUntrackedRead_(),jc(),this.value_=this.computeValue_(!1),qc());var t=this.value_;if(Bc(t))throw t.cause;return t},t.set=function(e){if(this.setter_){this.isRunningSetter_&&Wu(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter_=!1}}else Wu(34,this.name_)},t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===Jc.NOT_TRACKING_,i=this.computeValue_(!0),r=t||Bc(e)||Bc(i)||!this.equals_(e,i);return r&&(this.value_=i),r},t.computeValue_=function(e){this.isComputing_=!0;var t,i=Tc(!1);if(e)t=Qc(this,this.derivation,this.scope_);else if(!0===Hc.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new Dc(e)}return Ac(i),this.isComputing_=!1,t},t.suspend_=function(){this.keepAlive_||(Mc(this),this.value_=void 0)},t.observe_=function(e,t){var i=this,r=!0,n=void 0;return function(e,t){var i,r;void 0===t&&(t=$u);var n,s=null!=(i=null==(r=t)?void 0:r.name)?i:"Autorun";if(t.scheduler||t.delay){var a=fp(t),o=!1;n=new tp(s,(function(){o||(o=!0,a((function(){o=!1,n.isDisposed_||n.track(l)})))}),t.onError,t.requiresObservable)}else n=new tp(s,(function(){this.track(l)}),t.onError,t.requiresObservable);function l(){e(n)}return n.schedule_(),n.getDisposer_()}((function(){var s=i.get();if(!r||t){var a=Pc();e({observableKind:"computed",debugObjectName:i.name_,type:Xp,object:i,newValue:s,oldValue:n}),Oc(a)}r=!1,n=s}))},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return Cd(this.get())},t[wc]=function(){return this.valueOf()},e}(),Gc=cd("ComputedValue",xc);!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(Jc||(Jc={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(Rc||(Rc={}));var Dc=function(e){this.cause=void 0,this.cause=e};function Bc(e){return e instanceof Dc}function Nc(e){switch(e.dependenciesState_){case Jc.UP_TO_DATE_:return!1;case Jc.NOT_TRACKING_:case Jc.STALE_:return!0;case Jc.POSSIBLY_STALE_:for(var t=Lc(!0),i=Pc(),r=e.observing_,n=r.length,s=0;s<n;s++){var a=r[s];if(Gc(a)){if(Hc.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return Oc(i),Xc(t),!0}if(e.dependenciesState_===Jc.STALE_)return Oc(i),Xc(t),!0}}return Vc(e),Oc(i),Xc(t),!1}}function Qc(e,t,i){var r=Lc(!0);Vc(e),e.newObserving_=new Array(e.observing_.length+100),e.unboundDepsCount_=0,e.runId_=++Hc.runId;var n,s=Hc.trackingDerivation;if(Hc.trackingDerivation=e,Hc.inBatch++,!0===Hc.disableErrorBoundaries)n=t.call(i);else try{n=t.call(i)}catch(e){n=new Dc(e)}return Hc.inBatch--,Hc.trackingDerivation=s,function(e){for(var t=e.observing_,i=e.observing_=e.newObserving_,r=Jc.UP_TO_DATE_,n=0,s=e.unboundDepsCount_,a=0;a<s;a++){var o=i[a];0===o.diffValue_&&(o.diffValue_=1,n!==a&&(i[n]=o),n++),o.dependenciesState_>r&&(r=o.dependenciesState_)}i.length=n,e.newObserving_=null,s=t.length;for(;s--;){var l=t[s];0===l.diffValue_&&Yc(l,e),l.diffValue_=0}for(;n--;){var h=i[n];1===h.diffValue_&&(h.diffValue_=0,Kc(h,e))}r!==Jc.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}(e),Xc(r),n}function Mc(e){var t=e.observing_;e.observing_=[];for(var i=t.length;i--;)Yc(t[i],e);e.dependenciesState_=Jc.NOT_TRACKING_}function Zc(e){var t=Pc();try{return e()}finally{Oc(t)}}function Pc(){var e=Hc.trackingDerivation;return Hc.trackingDerivation=null,e}function Oc(e){Hc.trackingDerivation=e}function Lc(e){var t=Hc.allowStateReads;return Hc.allowStateReads=e,t}function Xc(e){Hc.allowStateReads=e}function Vc(e){if(e.dependenciesState_!==Jc.UP_TO_DATE_){e.dependenciesState_=Jc.UP_TO_DATE_;for(var t=e.observing_,i=t.length;i--;)t[i].lowestObserverState_=Jc.UP_TO_DATE_}}var Fc=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Wc=!0,Uc=!1,Hc=function(){var e=Hu();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Wc=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Fc).version&&(Wc=!1),Wc?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Fc):(setTimeout((function(){Uc||Wu(35)}),1),new Fc)}();function Kc(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Yc(e,t){e.observers_.delete(t),0===e.observers_.size&&zc(e)}function zc(e){!1===e.isPendingUnobservation_&&(e.isPendingUnobservation_=!0,Hc.pendingUnobservations.push(e))}function jc(){Hc.inBatch++}function qc(){if(0==--Hc.inBatch){rp();for(var e=Hc.pendingUnobservations,t=0;t<e.length;t++){var i=e[t];i.isPendingUnobservation_=!1,0===i.observers_.size&&(i.isBeingObserved_&&(i.isBeingObserved_=!1,i.onBUO()),i instanceof xc&&i.suspend_())}Hc.pendingUnobservations=[]}}function $c(e){var t=Hc.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved_&&Hc.trackingContext&&(e.isBeingObserved_=!0,e.onBO())),!0):(0===e.observers_.size&&Hc.inBatch>0&&zc(e),!1)}function ep(e){e.lowestObserverState_!==Jc.STALE_&&(e.lowestObserverState_=Jc.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===Jc.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=Jc.STALE_})))}var tp=function(){function e(e,t,i,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=Jc.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=Rc.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=i,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,Hc.pendingReactions.push(this),rp())},t.isScheduled=function(){return this.isScheduled_},t.runReaction_=function(){if(!this.isDisposed_){jc(),this.isScheduled_=!1;var e=Hc.trackingContext;if(Hc.trackingContext=this,Nc(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}Hc.trackingContext=e,qc()}},t.track=function(e){if(!this.isDisposed_){jc(),this.isRunning_=!0;var t=Hc.trackingContext;Hc.trackingContext=this;var i=Qc(this,e,void 0);Hc.trackingContext=t,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&Mc(this),Bc(i)&&this.reportExceptionInDerivation_(i.cause),qc()}},t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_)this.errorHandler_(e,this);else{if(Hc.disableErrorBoundaries)throw e;var i="[mobx] uncaught error in '"+this+"'";Hc.suppressReactionErrors||console.error(i,e),Hc.globalReactionErrorHandlers.forEach((function(i){return i(e,t)}))}},t.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(jc(),Mc(this),qc()))},t.getDisposer_=function(){var e=this.dispose.bind(this);return e[xd]=this,e},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(e){void 0===e&&(e=!1),function(){Wu("trace() is not available in production builds");for(var e=!1,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];"boolean"==typeof i[i.length-1]&&(e=i.pop());var n=Rp(i);if(!n)return Wu("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");n.isTracing_===Rc.NONE&&console.log("[mobx.trace] '"+n.name_+"' tracing enabled");n.isTracing_=e?Rc.BREAK:Rc.LOG}(this,e)},e}(),ip=function(e){return e()};function rp(){Hc.inBatch>0||Hc.isRunningReactions||ip(np)}function np(){Hc.isRunningReactions=!0;for(var e=Hc.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var i=e.splice(0),r=0,n=i.length;r<n;r++)i[r].runReaction_()}Hc.isRunningReactions=!1}var sp=cd("Reaction",tp);var ap=Zd("action"),op=Zd("action.bound",{bound:!0}),lp=Zd("autoAction",{autoAction:!0}),hp=Zd("autoAction.bound",{autoAction:!0,bound:!0});function up(e){return function(t,i){return sd(t)?_c(t.name||"<unnamed action>",t,e):sd(i)?_c(t,i,e):ad(i)?Rd(t,i,e?lp:ap):ad(t)?Jd(Zd(e?"autoAction":"action",{name:t,autoAction:e})):void 0}}var dp=up(!1);Object.assign(dp,ap);var cp=up(!0);function pp(e){return sd(e)&&!0===e.isMobxAction}Object.assign(cp,lp),dp.bound=Jd(op),cp.bound=Jd(hp);var gp=function(e){return e()};function fp(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:gp}function mp(e,t,i){var r;void 0===i&&(i=$u);var n,s,a,o,l=null!=(r=i.name)?r:"Reaction",h=dp(l,i.onError?(n=i.onError,s=t,function(){try{return s.apply(this,arguments)}catch(e){n.call(this,e)}}):t),u=!i.scheduler&&!i.delay,d=fp(i),c=!0,p=!1,g=i.compareStructural?Nd.structural:i.equals||Nd.default,f=new tp(l,(function(){c||u?m():p||(p=!0,d(m))}),i.onError,i.requiresObservable);function m(){if(p=!1,!f.isDisposed_){var t=!1;f.track((function(){var i=kc(!1,(function(){return e(f)}));t=c||!g(a,i),o=a,a=i})),(c&&i.fireImmediately||!c&&t)&&h(a,o,f),c=!1}}return f.schedule_(),f.getDisposer_()}function Cp(e,t,i){return yp("onBUO",e,t,i)}function yp(e,t,i,r){var n="function"==typeof r?Tg(t,i):Tg(t),s=sd(r)?r:i,a=e+"L";return n[a]?n[a].add(s):n[a]=new Set([s]),function(){var e=n[a];e&&(e.delete(s),0===e.size&&delete n[a])}}function bp(e){!0===e.isolateGlobalState&&function(){if((Hc.pendingReactions.length||Hc.inBatch||Hc.isRunningReactions)&&Wu(36),Uc=!0,Wc){var e=Hu();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),Hc=new Fc}}();var t,i,r=e.useProxies,n=e.enforceActions;if(void 0!==r&&(Hc.useProxies="always"===r||"never"!==r&&"undefined"!=typeof Proxy),"ifavailable"===r&&(Hc.verifyProxies=!0),void 0!==n){var s="always"===n?"always":"observed"===n;Hc.enforceActions=s,Hc.allowStateChanges=!0!==s&&"always"!==s}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(Hc[t]=!!e[t])})),Hc.allowStateReads=!Hc.observableRequiresReaction,e.reactionScheduler&&(t=e.reactionScheduler,i=ip,ip=function(e){return t((function(){return i(e)}))})}function Ip(e,t,i,r){var n=bd(t),s=cg(e,r)[xd];jc();try{md(n).forEach((function(e){s.extend_(e,n[e],!i||(!(e in i)||i[e]))}))}finally{qc()}return e}function vp(e){var t,i={name:e.name_};return e.observing_&&e.observing_.length>0&&(i.dependencies=(t=e.observing_,Array.from(new Set(t))).map(vp)),i}var _p=0;function Sp(){this.message="FLOW_CANCELLED"}Sp.prototype=Object.create(Error.prototype);var kp=Xd("flow"),Tp=Xd("flow.bound",{bound:!0}),Ap=Object.assign((function(e,t){if(ad(t))return Rd(e,t,kp);var i=e,r=i.name||"<unnamed flow>",n=function(){var e,t=this,n=arguments,s=++_p,a=dp(r+" - runid: "+s+" - init",i).apply(t,n),o=void 0,l=new Promise((function(t,i){var n=0;function l(e){var t;o=void 0;try{t=dp(r+" - runid: "+s+" - yield "+n++,a.next).call(a,e)}catch(e){return i(e)}u(t)}function h(e){var t;o=void 0;try{t=dp(r+" - runid: "+s+" - yield "+n++,a.throw).call(a,e)}catch(e){return i(e)}u(t)}function u(e){if(!sd(null==e?void 0:e.then))return e.done?t(e.value):(o=Promise.resolve(e.value)).then(l,h);e.then(u,i)}e=i,l(void 0)}));return l.cancel=dp(r+" - runid: "+s+" - cancel",(function(){try{o&&wp(o);var t=a.return(void 0),i=Promise.resolve(t.value);i.then(nd,nd),wp(i),e(new Sp)}catch(t){e(t)}})),l};return n.isMobXFlow=!0,n}),kp);function wp(e){sd(e.cancel)&&e.cancel()}function Ep(e){return!0===(null==e?void 0:e.isMobXFlow)}function Jp(e){return function(e,t){return!!e&&(void 0!==t?!!fg(e)&&e[xd].values_.has(t):fg(e)||!!e[xd]||Dd(e)||sp(e)||Gc(e))}(e)}function Rp(e){switch(e.length){case 0:return Hc.trackingDerivation;case 1:return Tg(e[0]);case 2:return Tg(e[0],e[1])}}function xp(e,t){void 0===t&&(t=void 0),jc();try{return e.apply(t)}finally{qc()}}function Gp(e){return e[xd]}Ap.bound=Jd(Tp);var Dp={has:function(e,t){return Gp(e).has_(t)},get:function(e,t){return Gp(e).get_(t)},set:function(e,t,i){var r;return!!ad(t)&&(null==(r=Gp(e).set_(t,i,!0))||r)},deleteProperty:function(e,t){var i;return!!ad(t)&&(null==(i=Gp(e).delete_(t,!0))||i)},defineProperty:function(e,t,i){var r;return null==(r=Gp(e).defineProperty_(t,i))||r},ownKeys:function(e){return Gp(e).ownKeys_()},preventExtensions:function(e){Wu(13)}};function Bp(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function Np(e,t){var i=e.interceptors_||(e.interceptors_=[]);return i.push(t),rd((function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}))}function Qp(e,t){var i=Pc();try{for(var r=[].concat(e.interceptors_||[]),n=0,s=r.length;n<s&&((t=r[n](t))&&!t.type&&Wu(14),t);n++);return t}finally{Oc(i)}}function Mp(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function Zp(e,t){var i=e.changeListeners_||(e.changeListeners_=[]);return i.push(t),rd((function(){var e=i.indexOf(t);-1!==e&&i.splice(e,1)}))}function Pp(e,t){var i=Pc(),r=e.changeListeners_;if(r){for(var n=0,s=(r=r.slice()).length;n<s;n++)r[n](t);Oc(i)}}function Op(e,t,i){var r=cg(e,i)[xd];jc();try{0,null!=t||(t=function(e){return yd(e,Ed)||ud(e,Ed,_d({},e[Ed])),e[Ed]}(e)),md(t).forEach((function(e){return r.make_(e,t[e])}))}finally{qc()}return e}var Lp=Symbol("mobx-keys");var Xp="update",Vp={get:function(e,t){var i=e[xd];return t===xd?i:"length"===t?i.getArrayLength_():"string"!=typeof t||isNaN(t)?yd(Up,t)?Up[t]:e[t]:i.get_(parseInt(t))},set:function(e,t,i){var r=e[xd];return"length"===t&&r.setArrayLength_(i),"symbol"==typeof t||isNaN(t)?e[t]=i:r.set_(parseInt(t),i),!0},preventExtensions:function(){Wu(15)}},Fp=function(){function e(e,t,i,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=i,this.legacyMode_=r,this.atom_=new Gd(e),this.enhancer_=function(e,i){return t(e,i,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.dehanceValues_=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},t.intercept_=function(e){return Np(this,e)},t.observe_=function(e,t){return void 0===t&&(t=!1),t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Zp(this,e)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&Wu("Out of range: "+e);var t=this.values_.length;if(e!==t)if(e>t){for(var i=new Array(e-t),r=0;r<e-t;r++)i[r]=void 0;this.spliceWithArray_(t,0,i)}else this.spliceWithArray_(e,t-e)},t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&Wu(16),this.lastKnownLength_+=t,this.legacyMode_&&t>0&&Sg(e+t+1)},t.spliceWithArray_=function(e,t,i){var r=this;this.atom_;var n=this.values_.length;if(void 0===e?e=0:e>n?e=n:e<0&&(e=Math.max(0,n+e)),t=1===arguments.length?n-e:null==t?0:Math.max(0,Math.min(t,n-e)),void 0===i&&(i=qu),Bp(this)){var s=Qp(this,{object:this.proxy_,type:"splice",index:e,removedCount:t,added:i});if(!s)return qu;t=s.removedCount,i=s.added}if(i=0===i.length?i:i.map((function(e){return r.enhancer_(e,void 0)})),this.legacyMode_){var a=i.length-t;this.updateArrayLength_(n,a)}var o=this.spliceItemsIntoValues_(e,t,i);return 0===t&&0===i.length||this.notifyArraySplice_(e,i,o),this.dehanceValues_(o)},t.spliceItemsIntoValues_=function(e,t,i){var r;if(i.length<1e4)return(r=this.values_).splice.apply(r,[e,t].concat(i));var n=this.values_.slice(e,e+t),s=this.values_.slice(e+t);this.values_.length+=i.length-t;for(var a=0;a<i.length;a++)this.values_[e+a]=i[a];for(var o=0;o<s.length;o++)this.values_[e+i.length+o]=s[o];return n},t.notifyArrayChildUpdate_=function(e,t,i){var r=!this.owned_&&!1,n=Mp(this),s=n||r?{observableKind:"array",object:this.proxy_,type:Xp,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:i}:null;this.atom_.reportChanged(),n&&Pp(this,s)},t.notifyArraySplice_=function(e,t,i){var r=!this.owned_&&!1,n=Mp(this),s=n||r?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:e,removed:i,added:t,removedCount:i.length,addedCount:t.length}:null;this.atom_.reportChanged(),n&&Pp(this,s)},t.get_=function(e){if(e<this.values_.length)return this.atom_.reportObserved(),this.dehanceValue_(this.values_[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX")},t.set_=function(e,t){var i=this.values_;if(e<i.length){this.atom_;var r=i[e];if(Bp(this)){var n=Qp(this,{type:Xp,object:this.proxy_,index:e,newValue:t});if(!n)return;t=n.newValue}(t=this.enhancer_(t,r))!==r&&(i[e]=t,this.notifyArrayChildUpdate_(e,t,r))}else e===i.length?this.spliceWithArray_(e,0,[t]):Wu(17,e,i.length)},e}();function Wp(e,t,i,r){void 0===i&&(i="ObservableArray"),void 0===r&&(r=!1),id();var n=new Fp(i,t,r,!1);dd(n.values_,xd,n);var s=new Proxy(n.values_,Vp);if(n.proxy_=s,e&&e.length){var a=Tc(!0);n.spliceWithArray_(0,0,e),Ac(a)}return s}var Up={clear:function(){return this.splice(0)},replace:function(e){var t=this[xd];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),n=2;n<i;n++)r[n-2]=arguments[n];var s=this[xd];switch(arguments.length){case 0:return[];case 1:return s.spliceWithArray_(e);case 2:return s.spliceWithArray_(e,t)}return s.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,i){return this[xd].spliceWithArray_(e,t,i)},push:function(){for(var e=this[xd],t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,i),e.values_.length},pop:function(){return this.splice(Math.max(this[xd].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[xd],t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.spliceWithArray_(0,0,i),e.values_.length},reverse:function(){return Hc.trackingDerivation&&Wu(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Hc.trackingDerivation&&Wu(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[xd],i=t.dehanceValues_(t.values_).indexOf(e);return i>-1&&(this.splice(i,1),!0)}};function Hp(e,t){"function"==typeof Array.prototype[e]&&(Up[e]=t(e))}function Kp(e){return function(){var t=this[xd];t.atom_.reportObserved();var i=t.dehanceValues_(t.values_);return i[e].apply(i,arguments)}}function Yp(e){return function(t,i){var r=this,n=this[xd];return n.atom_.reportObserved(),n.dehanceValues_(n.values_)[e]((function(e,n){return t.call(i,e,n,r)}))}}function zp(e){return function(){var t=this,i=this[xd];i.atom_.reportObserved();var r=i.dehanceValues_(i.values_),n=arguments[0];return arguments[0]=function(e,i,r){return n(e,i,r,t)},r[e].apply(r,arguments)}}Hp("concat",Kp),Hp("flat",Kp),Hp("includes",Kp),Hp("indexOf",Kp),Hp("join",Kp),Hp("lastIndexOf",Kp),Hp("slice",Kp),Hp("toString",Kp),Hp("toLocaleString",Kp),Hp("every",Yp),Hp("filter",Yp),Hp("find",Yp),Hp("findIndex",Yp),Hp("flatMap",Yp),Hp("forEach",Yp),Hp("map",Yp),Hp("some",Yp),Hp("reduce",zp),Hp("reduceRight",zp);var jp,qp,$p=cd("ObservableArrayAdministration",Fp);function eg(e){return od(e)&&$p(e[xd])}var tg={},ig="add";jp=Symbol.iterator,qp=Symbol.toStringTag;var rg,ng,sg=function(){function e(e,t,i){var r=this;void 0===t&&(t=Qd),void 0===i&&(i="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[xd]=tg,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=i,sd(Map)||Wu(18),this.keysAtom_=Bd("ObservableMap.keys()"),this.data_=new Map,this.hasMap_=new Map,kc(!0,(function(){r.merge(e)}))}var t=e.prototype;return t.has_=function(e){return this.data_.has(e)},t.has=function(e){var t=this;if(!Hc.trackingDerivation)return this.has_(e);var i=this.hasMap_.get(e);if(!i){var r=i=new Ec(this.has_(e),Md,"ObservableMap.key?",!1);this.hasMap_.set(e,r),Cp(r,(function(){return t.hasMap_.delete(e)}))}return i.get()},t.set=function(e,t){var i=this.has_(e);if(Bp(this)){var r=Qp(this,{type:i?Xp:ig,object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return i?this.updateValue_(e,t):this.addValue_(e,t),this},t.delete=function(e){var t=this;if((this.keysAtom_,Bp(this))&&!Qp(this,{type:"delete",object:this,name:e}))return!1;if(this.has_(e)){var i=Mp(this),r=i?{observableKind:"map",debugObjectName:this.name_,type:"delete",object:this,oldValue:this.data_.get(e).value_,name:e}:null;return xp((function(){var i;t.keysAtom_.reportChanged(),null==(i=t.hasMap_.get(e))||i.setNewValue_(!1),t.data_.get(e).setNewValue_(void 0),t.data_.delete(e)})),i&&Pp(this,r),!0}return!1},t.updateValue_=function(e,t){var i=this.data_.get(e);if((t=i.prepareNewValue_(t))!==Hc.UNCHANGED){var r=Mp(this),n=r?{observableKind:"map",debugObjectName:this.name_,type:Xp,object:this,oldValue:i.value_,name:e,newValue:t}:null;i.setNewValue_(t),r&&Pp(this,n)}},t.addValue_=function(e,t){var i=this;this.keysAtom_,xp((function(){var r,n=new Ec(t,i.enhancer_,"ObservableMap.key",!1);i.data_.set(e,n),t=n.value_,null==(r=i.hasMap_.get(e))||r.setNewValue_(!0),i.keysAtom_.reportChanged()}));var r=Mp(this),n=r?{observableKind:"map",debugObjectName:this.name_,type:ig,object:this,name:e,newValue:t}:null;r&&Pp(this,n)},t.get=function(e){return this.has(e)?this.dehanceValue_(this.data_.get(e).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var e=this,t=this.keys();return Gg({next:function(){var i=t.next(),r=i.done,n=i.value;return{done:r,value:r?void 0:e.get(n)}}})},t.entries=function(){var e=this,t=this.keys();return Gg({next:function(){var i=t.next(),r=i.done,n=i.value;return{done:r,value:r?void 0:[n,e.get(n)]}}})},t[jp]=function(){return this.entries()},t.forEach=function(e,t){for(var i,r=wd(this);!(i=r()).done;){var n=i.value,s=n[0],a=n[1];e.call(t,a,s,this)}},t.merge=function(e){var t=this;return ag(e)&&(e=new Map(e)),xp((function(){ld(e)?function(e){var t=Object.keys(e);if(!fd)return t;var i=Object.getOwnPropertySymbols(e);return i.length?[].concat(t,i.filter((function(t){return ju.propertyIsEnumerable.call(e,t)}))):t}(e).forEach((function(i){return t.set(i,e[i])})):Array.isArray(e)?e.forEach((function(e){var i=e[0],r=e[1];return t.set(i,r)})):pd(e)?(e.constructor!==Map&&Wu(19,e),e.forEach((function(e,i){return t.set(i,e)}))):null!=e&&Wu(20,e)})),this},t.clear=function(){var e=this;xp((function(){Zc((function(){for(var t,i=wd(e.keys());!(t=i()).done;){var r=t.value;e.delete(r)}}))}))},t.replace=function(e){var t=this;return xp((function(){for(var i,r=function(e){if(pd(e)||ag(e))return e;if(Array.isArray(e))return new Map(e);if(ld(e)){var t=new Map;for(var i in e)t.set(i,e[i]);return t}return Wu(21,e)}(e),n=new Map,s=!1,a=wd(t.data_.keys());!(i=a()).done;){var o=i.value;if(!r.has(o))if(t.delete(o))s=!0;else{var l=t.data_.get(o);n.set(o,l)}}for(var h,u=wd(r.entries());!(h=u()).done;){var d=h.value,c=d[0],p=d[1],g=t.data_.has(c);if(t.set(c,p),t.data_.has(c)){var f=t.data_.get(c);n.set(c,f),g||(s=!0)}}if(!s)if(t.data_.size!==n.size)t.keysAtom_.reportChanged();else for(var m=t.data_.keys(),C=n.keys(),y=m.next(),b=C.next();!y.done;){if(y.value!==b.value){t.keysAtom_.reportChanged();break}y=m.next(),b=C.next()}t.data_=n})),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(e,t){return Zp(this,e)},t.intercept_=function(e){return Np(this,e)},vd(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:qp,get:function(){return"Map"}}]),e}(),ag=cd("ObservableMap",sg);var og={};rg=Symbol.iterator,ng=Symbol.toStringTag;var lg=function(){function e(e,t,i){void 0===t&&(t=Qd),void 0===i&&(i="ObservableSet"),this.name_=void 0,this[xd]=og,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=i,sd(Set)||Wu(22),this.atom_=Bd(this.name_),this.enhancer_=function(e,r){return t(e,r,i)},e&&this.replace(e)}var t=e.prototype;return t.dehanceValue_=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.clear=function(){var e=this;xp((function(){Zc((function(){for(var t,i=wd(e.data_.values());!(t=i()).done;){var r=t.value;e.delete(r)}}))}))},t.forEach=function(e,t){for(var i,r=wd(this);!(i=r()).done;){var n=i.value;e.call(t,n,n,this)}},t.add=function(e){var t=this;if((this.atom_,Bp(this))&&!Qp(this,{type:ig,object:this,newValue:e}))return this;if(!this.has(e)){xp((function(){t.data_.add(t.enhancer_(e,void 0)),t.atom_.reportChanged()}));var i=Mp(this),r=i?{observableKind:"set",debugObjectName:this.name_,type:ig,object:this,newValue:e}:null;i&&Pp(this,r)}return this},t.delete=function(e){var t=this;if(Bp(this)&&!Qp(this,{type:"delete",object:this,oldValue:e}))return!1;if(this.has(e)){var i=Mp(this),r=i?{observableKind:"set",debugObjectName:this.name_,type:"delete",object:this,oldValue:e}:null;return xp((function(){t.atom_.reportChanged(),t.data_.delete(e)})),i&&Pp(this,r),!0}return!1},t.has=function(e){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(e))},t.entries=function(){var e=0,t=Array.from(this.keys()),i=Array.from(this.values());return Gg({next:function(){var r=e;return e+=1,r<i.length?{value:[t[r],i[r]],done:!1}:{done:!0}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var e=this,t=0,i=Array.from(this.data_.values());return Gg({next:function(){return t<i.length?{value:e.dehanceValue_(i[t++]),done:!1}:{done:!0}}})},t.replace=function(e){var t=this;return hg(e)&&(e=new Set(e)),xp((function(){Array.isArray(e)||gd(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&Wu("Cannot initialize set from "+e)})),this},t.observe_=function(e,t){return Zp(this,e)},t.intercept_=function(e){return Np(this,e)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[rg]=function(){return this.values()},vd(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:ng,get:function(){return"Set"}}]),e}(),hg=cd("ObservableSet",lg),ug=Object.create(null),dg=function(){function e(e,t,i,r){void 0===t&&(t=new Map),void 0===r&&(r=qd),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=i,this.defaultAnnotation_=r,this.keysAtom_=new Gd("ObservableObject.keys"),this.isPlainObject_=ld(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(e){return this.values_.get(e).get()},t.setObservablePropValue_=function(e,t){var i=this.values_.get(e);if(i instanceof xc)return i.set(t),!0;if(Bp(this)){var r=Qp(this,{type:Xp,object:this.proxy_||this.target_,name:e,newValue:t});if(!r)return null;t=r.newValue}if((t=i.prepareNewValue_(t))!==Hc.UNCHANGED){var n=Mp(this),s=n?{type:Xp,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:i.value_,name:e,newValue:t}:null;i.setNewValue_(t),n&&Pp(this,s)}return!0},t.get_=function(e){return Hc.trackingDerivation&&!yd(this.target_,e)&&this.has_(e),this.target_[e]},t.set_=function(e,t,i){return void 0===i&&(i=!1),yd(this.target_,e)?this.values_.has(e)?this.setObservablePropValue_(e,t):i?Reflect.set(this.target_,e,t):(this.target_[e]=t,!0):this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,i)},t.has_=function(e){if(!Hc.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);return t||(t=new Ec(e in this.target_,Md,"ObservableObject.key?",!1),this.pendingKeys_.set(e,t)),t.get()},t.make_=function(e,t){if(!0===t&&(t=this.defaultAnnotation_),!1!==t){if(!(e in this.target_)){var i;if(null!=(i=this.target_[Ed])&&i[e])return;Wu(1,t.annotationType_,this.name_+"."+e.toString())}for(var r=this.target_;r&&r!==ju;){var n=Yu(r,e);if(n){var s=t.make_(this,e,n,r);if(0===s)return;if(1===s)break}r=Object.getPrototypeOf(r)}mg(this,t,e)}},t.extend_=function(e,t,i,r){if(void 0===r&&(r=!1),!0===i&&(i=this.defaultAnnotation_),!1===i)return this.defineProperty_(e,t,r);var n=i.extend_(this,e,t,r);return n&&mg(this,i,e),n},t.defineProperty_=function(e,t,i){void 0===i&&(i=!1);try{jc();var r=this.delete_(e);if(!r)return r;if(Bp(this)){var n=Qp(this,{object:this.proxy_||this.target_,name:e,type:ig,newValue:t.value});if(!n)return null;var s=n.newValue;t.value!==s&&(t=_d({},t,{value:s}))}if(i){if(!Reflect.defineProperty(this.target_,e,t))return!1}else zu(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{qc()}return!0},t.defineObservableProperty_=function(e,t,i,r){void 0===r&&(r=!1);try{jc();var n=this.delete_(e);if(!n)return n;if(Bp(this)){var s=Qp(this,{object:this.proxy_||this.target_,name:e,type:ig,newValue:t});if(!s)return null;t=s.newValue}var a=gg(e),o={configurable:!Hc.safeDescriptors||this.isPlainObject_,enumerable:!0,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,e,o))return!1}else zu(this.target_,e,o);var l=new Ec(t,i,"ObservableObject.key",!1);this.values_.set(e,l),this.notifyPropertyAddition_(e,l.value_)}finally{qc()}return!0},t.defineComputedProperty_=function(e,t,i){void 0===i&&(i=!1);try{jc();var r=this.delete_(e);if(!r)return r;if(Bp(this))if(!Qp(this,{object:this.proxy_||this.target_,name:e,type:ig,newValue:void 0}))return null;t.name||(t.name="ObservableObject.key"),t.context=this.proxy_||this.target_;var n=gg(e),s={configurable:!Hc.safeDescriptors||this.isPlainObject_,enumerable:!1,get:n.get,set:n.set};if(i){if(!Reflect.defineProperty(this.target_,e,s))return!1}else zu(this.target_,e,s);this.values_.set(e,new xc(t)),this.notifyPropertyAddition_(e,void 0)}finally{qc()}return!0},t.delete_=function(e,t){if(void 0===t&&(t=!1),!yd(this.target_,e))return!0;if(Bp(this)&&!Qp(this,{object:this.proxy_||this.target_,name:e,type:"remove"}))return null;try{var i,r;jc();var n,s=Mp(this),a=this.values_.get(e),o=void 0;if(!a&&s)o=null==(n=Yu(this.target_,e))?void 0:n.value;if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];if(a&&(this.values_.delete(e),a instanceof Ec&&(o=a.value_),ep(a)),this.keysAtom_.reportChanged(),null==(i=this.pendingKeys_)||null==(r=i.get(e))||r.set(e in this.target_),s){var l={type:"remove",observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:o,name:e};0,s&&Pp(this,l)}}finally{qc()}return!0},t.observe_=function(e,t){return Zp(this,e)},t.intercept_=function(e){return Np(this,e)},t.notifyPropertyAddition_=function(e,t){var i,r,n=Mp(this);if(n){var s=n?{type:ig,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;n&&Pp(this,s)}null==(i=this.pendingKeys_)||null==(r=i.get(e))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),md(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function cg(e,t){var i;if(yd(e,xd))return e;var r=null!=(i=null==t?void 0:t.name)?i:"ObservableObject",n=new dg(e,new Map,String(r),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:$d(e):void 0}(t));return ud(e,xd,n),e}var pg=cd("ObservableObjectAdministration",dg);function gg(e){return ug[e]||(ug[e]={get:function(){return this[xd].getObservablePropValue_(e)},set:function(t){return this[xd].setObservablePropValue_(e,t)}})}function fg(e){return!!od(e)&&pg(e[xd])}function mg(e,t,i){var r;null==(r=e.target_[Ed])||delete r[i]}var Cg,yg,bg=0,Ig=function(){};Cg=Ig,yg=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(Cg.prototype,yg):void 0!==Cg.prototype.__proto__?Cg.prototype.__proto__=yg:Cg.prototype=yg;var vg=function(e,t,i){function r(t,i,r,n){var s;void 0===r&&(r="ObservableArray"),void 0===n&&(n=!1),s=e.call(this)||this;var a=new Fp(r,i,n,!0);if(a.proxy_=Td(s),dd(Td(s),xd,a),t&&t.length){var o=Tc(!0);s.spliceWithArray(0,0,t),Ac(o)}return s}Sd(r,e);var n=r.prototype;return n.concat=function(){this[xd].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return eg(e)?e.slice():e})))},n[i]=function(){var e=this,t=0;return Gg({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},vd(r,[{key:"length",get:function(){return this[xd].getArrayLength_()},set:function(e){this[xd].setArrayLength_(e)}},{key:t,get:function(){return"Array"}}]),r}(Ig,Symbol.toStringTag,Symbol.iterator);function _g(e){zu(vg.prototype,""+e,function(e){return{enumerable:!1,configurable:!0,get:function(){return this[xd].get_(e)},set:function(t){this[xd].set_(e,t)}}}(e))}function Sg(e){if(e>bg){for(var t=bg;t<e+100;t++)_g(t);bg=e}}function kg(e,t,i){return new vg(e,t,i)}function Tg(e,t){if("object"==typeof e&&null!==e){if(eg(e))return void 0!==t&&Wu(23),e[xd].atom_;if(hg(e))return e[xd];if(ag(e)){if(void 0===t)return e.keysAtom_;var i=e.data_.get(t)||e.hasMap_.get(t);return i||Wu(25,t,wg(e)),i}if(fg(e)){if(!t)return Wu(26);var r=e[xd].values_.get(t);return r||Wu(27,t,wg(e)),r}if(Dd(e)||Gc(e)||sp(e))return e}else if(sd(e)&&sp(e[xd]))return e[xd];Wu(28)}function Ag(e,t){return e||Wu(29),void 0!==t?Ag(Tg(e,t)):Dd(e)||Gc(e)||sp(e)||ag(e)||hg(e)?e:e[xd]?e[xd]:void Wu(24,e)}function wg(e,t){var i;if(void 0!==t)i=Tg(e,t);else{if(pp(e))return e.name;i=fg(e)||ag(e)||hg(e)?Ag(e):Tg(e)}return i.name_}Object.entries(Up).forEach((function(e){var t=e[0],i=e[1];"concat"!==t&&ud(vg.prototype,t,i)})),Sg(1e3);var Eg=ju.toString;function Jg(e,t,i){return void 0===i&&(i=-1),Rg(e,t,i)}function Rg(e,t,i,r,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var s=typeof e;if("function"!==s&&"object"!==s&&"object"!=typeof t)return!1;var a=Eg.call(e);if(a!==Eg.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":i>=0&&i++}e=xg(e),t=xg(t);var o="[object Array]"===a;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,h=t.constructor;if(l!==h&&!(sd(l)&&l instanceof l&&sd(h)&&h instanceof h)&&"constructor"in e&&"constructor"in t)return!1}if(0===i)return!1;i<0&&(i=-1),n=n||[];for(var u=(r=r||[]).length;u--;)if(r[u]===e)return n[u]===t;if(r.push(e),n.push(t),o){if((u=e.length)!==t.length)return!1;for(;u--;)if(!Rg(e[u],t[u],i-1,r,n))return!1}else{var d,c=Object.keys(e);if(u=c.length,Object.keys(t).length!==u)return!1;for(;u--;)if(!yd(t,d=c[u])||!Rg(e[d],t[d],i-1,r,n))return!1}return r.pop(),n.pop(),!0}function xg(e){return eg(e)?e.slice():pd(e)||ag(e)||gd(e)||hg(e)?Array.from(e.entries()):e}function Gg(e){return e[Symbol.iterator]=Dg,e}function Dg(){return this}function Bg(e){let t=e.split(",").map((e=>e.trim())).filter((e=>""!==e)).map((e=>e.split(":"))),i={};for(let[e,r]of t)switch(void 0===r&&(r=!0),isNaN(+r)||(r=+r),e){case"size":i.fontSize="number"==typeof r?r+"em":r;break;case"color":i.color=r}return i}["Symbol","Map","Set"].forEach((function(e){void 0===Hu()[e]&&Wu("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:wg},$mobx:xd});class Ng{constructor(e,t){this.type=e,this.value=t,this.parent=null,this.children=[]}get componentType(){switch(this.type){case"icon":case"style":return"span";default:return this.type}}get componentOptions(){switch(this.type){case"icon":return{className:`ui-icon ${this.value} inline`};case"style":return{style:Bg(this.value)};default:return this.type}}addChildren(e){this.children.push(e),e.parent=this}convertToComponent(){return"root"===this.type?n.exports.createElement(n.exports.Fragment,null,...this.children.map((e=>e.convertToComponent()))):"plainText"===this.type?this.value:"br"===this.type?n.exports.createElement("br",null):n.exports.createElement(this.componentType,this.componentOptions,...this.children.map((e=>e.convertToComponent())))}}class Qg{constructor(){this.root=new Ng("root",null),this.current=this.root,this.stack=["root"]}addText(e){let t;t="\n"===e?new Ng("br"):new Ng("plainText",function(e){return e.replaceAll("\\[","[").replaceAll("\\]","]")}(e)),this.current.addChildren(t)}addSingleTag(e,t){this.current.addChildren(new Ng(e,t))}openTag(e,t){let i=new Ng(e,t);this.current.addChildren(i),this.current=i,this.stack.push(e)}closeTag(e){if(this.stack.length<=1)throw new Error("invalid close operation!");do{this.current=this.current.parent}while(this.stack.pop()!==e)}}function Mg(e){const t=function(...e){return new RegExp(`(${e.map((e=>e.source)).join("|")})`)}(/(?<!\\)\[\/?/,/(?<!\\)\]/,/\n/),i=e.split(t).filter((e=>""!==e));let r="plain";const n=new Qg;function s(e,t){new Set(["icon"]).has(e)?n.addSingleTag(e,t):n.openTag(e,t)}for(let e of i)switch(e){case"[":if("plain"!==r)throw new Error("String Parse Error!");r="tag";break;case"[/":if("plain"!==r)throw new Error("String Parse Error!");r="tagEnd";break;case"]":if("tag"!==r&&"tagEnd"!==r)throw new Error("String Parse Error!");r="plain";break;default:if("tag"===r){let[t,i]=e.split("=");s(t,i)}else"tagEnd"===r?n.closeTag(e):n.addText(e)}return n.root.convertToComponent()}var Zg={"title.body":"Body","title.skin":"Skin","title.hats":"Hats","title.hairstyle":"Hairstyle","title.shirts":"Shirts","title.pants":"Pants","UI.language.en":"English","UI.language.ko":"Korean","UI.color":"Color","UI.howToObtain":"How To Obtain","UI.aside.language":"Languages","UI.aside.help":"Help","UI.aside.import":"Import Textures","UI.import.texture":"Import [style=size:0.7]Texture[/style]","UI.import.additionalTexture":"Import [style=size:0.7]Additional Texture[/style]","UI.import.body":"Import [style=size:0.7]Body Textures[/style]","UI.import.body.male":"Male","UI.import.body.male_bald":"Male(Bald)","UI.import.body.female":"Female","UI.import.body.female_bald":"Female(Bald)","UI.import.skin":"Import [style=size:0.7]Skin Colors[/style]","UI.import.reset":"Reset Texture","UI.import.resetAll":"Reset All Textures","howto.title.1":"Preview","howto.title.2":"Selection","howto.title.3":"Import Texture File","howto.title.4":"How to Obtain","howto.title.5":"Body Section","howto.title.6":"Navigation Bar","howto.title.7":"In Mobile","howto.desc.1":"You can preview the appearence of the character you coordinated on the controller.\nYou can rotate it with the [icon=left-turn-button][icon=right-turn-button] buttons, select the character's gender with the [icon=male-button][icon=female-button] buttons.","howto.desc.2":"This where you can choose the character's outfit.\nYou can browse the item with swiping the carousel, mouse wheel, or the [icon=left-button][icon=right-button] buttons, and select it by clicking on the item.\nYou can expand and fold the selection box with the [icon=expand-button] button.\nIf color slides exist, you can change the color of the item only for items that can be colored.","howto.desc.3":"You can import your character's texture with 'Import Texture' button.\nFiles that can be imported are png and xnb.\nIn hairstyle section, you can import hairstyles2.xnb file by clicking 'Import Additional Texture' button.","howto.desc.4":"In this area, you can see how to obtain the item you chose.","howto.desc.5":"In body section, you can set the character's appearence, skin colors, and eye colors.\nYou can choose the skin color with item selection carousel, and select the eye color with color slides.\nYou can import your body texture files with 'Import body Texture' button.","howto.desc.6":"You can set the language with the [icon=language-button] button. Currently, English and Korean are available.\nYou can open the guide again with the [icon=help-button] button.\nYou can open the texture import hub modal with [icon=import-button] button.","howto.desc.7":"Some operations are different in a mobile environment.\nIf you slide the screen up, you can expand the item selection carousel. And if you slide down, you can fold it back.\nIf you want to import your texture files, press menu button-[icon=import-button] button.","error.noTextureXnb":"Not a valid xnb file!\nYou should import an xnb file containing texture data.","error.errorReadingXnb":"Error reading xnb file!","hats.name.0":"Cowboy Hat","hats.name.1":"Bowler Hat","hats.name.2":"Top Hat","hats.name.3":"Sombrero","hats.name.4":"Straw Hat","hats.name.5":"Official Cap","hats.name.6":"Blue Bonnet","hats.name.7":"Plum Chapeau","hats.name.8":"Skeleton Mask","hats.name.9":"Goblin Mask","hats.name.10":"Chicken Mask","hats.name.11":"Earmuffs","hats.name.12":"Delicate Bow","hats.name.13":"Tropiclip","hats.name.14":"Butterfly Bow","hats.name.15":"Hunter's Cap","hats.name.16":"Trucker Hat","hats.name.17":"Sailor's Cap","hats.name.18":"Good Ol' Cap","hats.name.19":"Fedora","hats.name.20":"Cool Cap","hats.name.21":"Lucky Bow","hats.name.22":"Polka Bow","hats.name.23":"Gnome's Cap","hats.name.24":"Eye Patch","hats.name.25":"Santa Hat","hats.name.26":"Tiara","hats.name.27":"Hard Hat","hats.name.28":"Sou'wester","hats.name.29":"Daisy","hats.name.30":"Watermelon Band","hats.name.31":"Mouse Ears","hats.name.32":"Cat Ears","hats.name.33":"Cowgal Hat","hats.name.34":"Cowpoke Hat","hats.name.35":"Archer's Cap","hats.name.36":"Panda Hat","hats.name.37":"Blue Cowboy Hat","hats.name.38":"Red Cowboy Hat","hats.name.39":"Cone Hat","hats.name.40":"Living Hat","hats.name.41":"Emily's Magic Hat","hats.name.42":"Mushroom Cap","hats.name.43":"Dinosaur Hat","hats.name.44":"Totem Mask","hats.name.45":"Logo Cap","hats.name.46":"Wearable Dwarf Helm","hats.name.47":"Fashion Hat","hats.name.48":"Pumpkin Mask","hats.name.49":"Hair Bone","hats.name.50":"Knight's Helmet","hats.name.51":"Squire's Helmet","hats.name.52":"Spotted Headscarf","hats.name.53":"Beanie","hats.name.54":"Floppy Beanie","hats.name.55":"Fishing Hat","hats.name.56":"Blobfish Mask","hats.name.57":"Party Hat","hats.name.58":"Party Hat","hats.name.59":"Party Hat","hats.name.60":"Arcane Hat","hats.name.61":"Chef Hat","hats.name.62":"Pirate Hat","hats.name.63":"Flat Topped Hat","hats.name.64":"Elegant Turban","hats.name.65":"White Turban","hats.name.66":"Garbage Hat","hats.name.67":"Golden Mask","hats.name.68":"Propeller Hat","hats.name.69":"Bridal Veil","hats.name.70":"Witch Hat","hats.name.71":"Copper Pan","hats.name.72":"Green Turban","hats.name.73":"Magic Cowboy Hat","hats.name.74":"Magic Turban","hats.name.75":"Golden Helmet","hats.name.76":"Deluxe Pirate Hat","hats.name.77":"Pink Bow","hats.name.78":"Frog Hat","hats.name.79":"Small Cap","hats.name.80":"Bluebird Mask","hats.name.81":"Deluxe Cowboy Hat","hats.name.82":"Mr. Qi's Hat","hats.name.83":"Dark Cowboy Hat","hats.name.84":"Radioactive Goggles","hats.name.85":"Swashbuckler Hat","hats.name.86":"Qi Mask","hats.name.87":"Star Helmet","hats.name.88":"Sunglasses","hats.name.89":"Goggles","hats.name.90":"Forager's Hat","hats.name.91":"Tiger Hat","hats.name.92":"???","hats.name.93":"Warrior Helmet","shirts.name.0":"Classic Overalls","shirts.name.2":"Mint Blouse","shirts.name.3":"Dark Shirt","shirts.name.4":"Skull Shirt","shirts.name.5":"Light Blue Shirt","shirts.name.6":"Tan Striped Shirt","shirts.name.7":"Green Overalls","shirts.name.8":'"Good Grief" Shirt',"shirts.name.9":"Aquamarine Shirt","shirts.name.10":"Suit Top","shirts.name.11":"Green Belted Shirt","shirts.name.12":"Lime Green Striped Shirt","shirts.name.13":"Red Striped Shirt","shirts.name.14":"Skeleton Shirt","shirts.name.15":"Orange Shirt","shirts.name.16":"Night Sky Shirt","shirts.name.17":"Mayoral Suspenders","shirts.name.18":"Brown Jacket","shirts.name.19":"Sailor Shirt","shirts.name.20":"Green Vest","shirts.name.21":"Yellow and Green Shirt","shirts.name.26":"Light Blue Striped Shirt","shirts.name.27":"Pink Striped Shirt","shirts.name.28":"Heart Shirt","shirts.name.29":"Work Shirt","shirts.name.30":"Store Owner's Jacket","shirts.name.34":"Green Tunic","shirts.name.35":"Fancy Red Blouse","shirts.name.38":"Plain Shirt","shirts.name.39":"Retro Rainbow Shirt","shirts.name.42":"Lime Green Tunic","shirts.name.71":"White Overalls Shirt","shirts.name.87":"Neat Bow Shirt","shirts.name.123":"Shirt And Tie","shirts.name.127":"Emily's Magic Shirt","shirts.name.128":"Striped Shirt","shirts.name.129":"Tank Top","shirts.name.131":"Cowboy Poncho","shirts.name.132":"Crop Tank Top","shirts.name.134":"Bikini Top","shirts.name.135":"Wumbus Shirt","shirts.name.136":"80's Shirt","shirts.name.137":"Letterman Jacket","shirts.name.138":"Black Leather Jacket","shirts.name.139":"Strapped Top","shirts.name.140":"Button Down Shirt","shirts.name.141":"Crop Top Shirt","shirts.name.142":"Tube Top","shirts.name.143":"Tye Die Shirt","shirts.name.148":"Steel Breastplate","shirts.name.149":"Copper Breastplate","shirts.name.150":"Gold Breastplate","shirts.name.151":"Iridium Breastplate","shirts.name.153":"Fake Muscles Shirt","shirts.name.154":"Flannel Shirt","shirts.name.155":"Bomber Jacket","shirts.name.156":"Caveman Shirt","shirts.name.157":"Fishing Vest","shirts.name.158":"Fish Shirt","shirts.name.159":"Shirt And Belt","shirts.name.160":"Gray Hoodie","shirts.name.161":"Blue Hoodie","shirts.name.162":"Red Hoodie","shirts.name.163":"Denim Jacket","shirts.name.164":"Track Jacket","shirts.name.165":"White Gi","shirts.name.166":"Orange Gi","shirts.name.167":"Gray Vest","shirts.name.168":"Kelp Shirt","shirts.name.169":"Studded Vest","shirts.name.170":"Gaudy Shirt","shirts.name.171":"Oasis Gown","shirts.name.172":"Blacksmith Apron","shirts.name.173":"Neat Bow Shirt","shirts.name.174":"High-Waisted Shirt","shirts.name.175":"High-Waisted Shirt","shirts.name.176":"Basic Pullover","shirts.name.178":"Turtleneck Sweater","shirts.name.179":"Iridium Energy Shirt","shirts.name.180":"Tunnelers Jersey","shirts.name.183":"Gray Suit","shirts.name.184":"Red Tuxedo","shirts.name.185":"Navy Tuxedo","shirts.name.186":"Holiday Shirt","shirts.name.187":"Leafy Top","shirts.name.188":"Goodnight Shirt","shirts.name.189":"Green Belted Shirt","shirts.name.190":"Happy Shirt","shirts.name.191":"Shirt with Bow","shirts.name.192":"Jester Shirt","shirts.name.193":"Ocean Shirt","shirts.name.194":"Dark Striped Shirt","shirts.name.195":"Bandana Shirt","shirts.name.196":"Backpack Shirt","shirts.name.197":"Purple Blouse","shirts.name.198":"Vintage Polo","shirts.name.199":"Toga Shirt","shirts.name.200":"Star Shirt","shirts.name.201":"Classy Top","shirts.name.203":"Bandana Shirt","shirts.name.204":"Vacation Shirt","shirts.name.205":"Green Thumb Shirt","shirts.name.206":"Bandana Shirt","shirts.name.207":"Slime Shirt","shirts.name.208":"Excavator Shirt","shirts.name.209":"Sports Shirt","shirts.name.210":"Heart Shirt","shirts.name.211":"Dark Jacket","shirts.name.212":"Sunset Shirt","shirts.name.213":"Chef Coat","shirts.name.214":"Shirt O' The Sea","shirts.name.215":"Arcane Shirt","shirts.name.216":"Plain Overalls","shirts.name.217":"Sleeveless Overalls","shirts.name.218":"Cardigan","shirts.name.219":"Yoba Shirt","shirts.name.220":"Necklace Shirt","shirts.name.221":"Belted Coat","shirts.name.222":"Gold Trimmed Shirt","shirts.name.223":"Prismatic Shirt","shirts.name.224":"Pendant Shirt","shirts.name.225":"High Heat Shirt","shirts.name.226":"Flames Shirt","shirts.name.227":"Antiquity Shirt","shirts.name.228":"Soft Arrow Shirt","shirts.name.229":"Doll Shirt","shirts.name.230":"Jewelry Shirt","shirts.name.231":"Canvas Jacket","shirts.name.232":"Trash Can Shirt","shirts.name.233":"Rusty Shirt","shirts.name.234":"Circuitboard Shirt","shirts.name.235":"Fluffy Shirt","shirts.name.236":"Sauce-Stained Shirt","shirts.name.237":"Brown Suit","shirts.name.238":"Golden Shirt","shirts.name.239":"Captain's Uniform","shirts.name.240":"Officer Uniform","shirts.name.241":"Ranger Uniform","shirts.name.242":"Blue Long Vest","shirts.name.243":"Regal Mantle","shirts.name.244":"Relic Shirt","shirts.name.245":"Bobo Shirt","shirts.name.246":"Fried Egg Shirt","shirts.name.247":"Burger Shirt","shirts.name.248":"Collared Shirt","shirts.name.249":"Toasted Shirt","shirts.name.250":"Carp Shirt","shirts.name.251":"Red Flannel Shirt","shirts.name.252":"Tortilla Shirt","shirts.name.253":"Warm Flannel Shirt","shirts.name.254":"Sugar Shirt","shirts.name.255":"Green Flannel Shirt","shirts.name.256":"Oil Stained Shirt","shirts.name.257":"Morel Shirt","shirts.name.258":"Spring Shirt","shirts.name.259":"Sailor Shirt","shirts.name.260":"Rain Coat","shirts.name.261":"Sailor Shirt","shirts.name.262":"Dark Bandana Shirt","shirts.name.263":"Dark Highlight Shirt","shirts.name.264":"Omni Shirt","shirts.name.265":"Bridal Shirt","shirts.name.266":"Brown Overalls","shirts.name.267":"Orange Bow Shirt","shirts.name.268":"White Overalls","shirts.name.269":"Pour-Over Shirt","shirts.name.270":"Green Jacket Shirt","shirts.name.271":"Short Jacket","shirts.name.272":"Polka Dot Shirt","shirts.name.273":"White Dot Shirt","shirts.name.274":"Camo Shirt","shirts.name.275":"Dirt Shirt","shirts.name.276":"Crab Cake Shirt","shirts.name.277":"Silky Shirt","shirts.name.278":"Blue Buttoned Vest","shirts.name.279":"Faded Denim Shirt","shirts.name.280":"Red Buttoned Vest","shirts.name.281":"Green Buttoned Vest","shirts.name.282":"Tomato Shirt","shirts.name.283":"Fringed Vest","shirts.name.284":"Globby Shirt","shirts.name.285":"Midnight Dog Jacket","shirts.name.286":"Shrimp Enthusiast Shirt","shirts.name.287":"Tea Shirt","shirts.name.288":"Trinket Shirt","shirts.name.289":"Darkness Suit","shirts.name.290":"Mineral Dog Jacket","shirts.name.291":"Magenta Shirt","shirts.name.292":"Ginger Overalls","shirts.name.293":"Banana Shirt","shirts.name.294":"Yellow Suit","shirts.name.295":"Hot Pink Shirt","shirts.name.296":"Tropical Sunrise Shirt","shirts.name.297":"Island Bikini","shirts.name.997":"Magic Sprinkle Shirt","shirts.name.998":"Prismatic Shirt","shirts.name.999":"Prismatic Shirt","shirts.name.default":"Shirt","pants.name.0":"Farmer Pants","pants.name.1":"Shorts","pants.name.2":"Long Dress","pants.name.3":"Skirt","pants.name.4":"Pleated Skirt","pants.name.5":"Dinosaur Pants","pants.name.6":"Grass Skirt","pants.name.7":"Luau Skirt","pants.name.8":"Genie Pants","pants.name.9":"Tight Pants","pants.name.10":"Baggy Pants","pants.name.11":"Simple Dress","pants.name.12":"Relaxed Fit Pants","pants.name.13":"Relaxed Fit Shorts","pants.name.15":"Trimmed Lucky Purple Shorts","pants.name.998":"Prismatic Pants","pants.name.999":"Prismatic Genie Pants","pants.name.default":"Pants","hats.desc.-1":"","hats.desc.0":"Achieve 'A Complete Collection' and purchase for 1,000g in the Hat Shop.","hats.desc.1":"Achieve 'Millionaire' and purchase for 1,000g in the Hat Shop.","hats.desc.2":"Purchase for 8,000 Qi Coins in Qi's Casino.","hats.desc.3":"Achieve 'Legend' and purchase for 1,000g in the Hat Shop.","hats.desc.4":"Win the egg hunt at the Egg Festival.\nCan purchase in the Hat Shop after get it once.","hats.desc.5":"Achieve 'Ol' Mariner' and purchase for 1,000g in the Hat Shop.","hats.desc.6":"Achieve 'Treasure Trove' and purchase for 1,000g in the Hat Shop.","hats.desc.7":"Achieve 'Sous Chef' andpurchase for 1,000g in the Hat Shop.","hats.desc.8":"Kill 50 Skeletons and receive in Adventurer's Guild.\nCan purchase for 20,000g in the Adventurer's Guild after achieved the goal.","hats.desc.9":"Achieve 'Full Shipment' and purchase for 1,000g in the Hat Shop.","hats.desc.10":"Achieve 'A Big Help' and purchase for 1,000g in the Hat Shop.","hats.desc.11":"Achieve 'Popular' and purchase for 1,000g in the Hat Shop.","hats.desc.12":"Achieve 'Cook' and purchase for 1,000g in the Hat Shop.","hats.desc.13":"Achieve 'Moving Up' and purchase for 1,000g in the Hat Shop.","hats.desc.14":"Achieve 'A New Friend' and purchase for 1,000g in the Hat Shop.","hats.desc.15":"Achieve 'Living Large' and purchase for 1,000g in the Hat Shop.","hats.desc.16":"Achieve 'Artisan' and purchase for 1,000g in the Hat Shop.","hats.desc.17":"Win the fishing competition at the Festival of Ice.\nCan purchase in the Hat Shop after get it once.","hats.desc.18":"Achieve 'Greenhorn' and purchase for 1,000g in the Hat Shop.","hats.desc.19":"Purchase for 500 Star Token at the Stardew Valley Fair.","hats.desc.20":"Achieve 'Homesteader' and purchase for 1,000g in the Hat Shop.","hats.desc.21":"Achieve 'Cowpoke' and purchase for 1,000g in the Hat Shop.","hats.desc.22":"Achieve 'Gofer' and purchase for 1,000g in the Hat Shop.","hats.desc.23":"Achieve 'Craft Master' and purchase for 1,000g in the Hat Shop.","hats.desc.24":"Achieve 'Master Angler' and purchase for 1,000g in the Hat Shop.","hats.desc.25":"Achieve 'Networking' and purchase for 1,000g in the Hat Shop.","hats.desc.26":"Achieve 'Cliques' and purchase for 1,000g in the Hat Shop.","hats.desc.27":"Kill 30 Duggies and receive in Adventurer's Guild.\nCan purchase for 20,000g in the Adventurer's Guild after achieved the goal.","hats.desc.28":"Achieve 'Fisherman' and purchase for 1,000g in the Hat Shop.","hats.desc.29":"Achieve 'D.I.Y.' and purchase for 1,000g in the Hat Shop.","hats.desc.30":"Achieve 'Mother Catch' and purchase for 1,000g in the Hat Shop.","hats.desc.31":"Achieve 'Best Friends' and purchase for 1,000g in the Hat Shop.","hats.desc.32":"Achieve 'The Beloved Farmer' and purchase for 1,000g in the Hat Shop.","hats.desc.33":"Achieve 'Monoculture' and purchase for 1,000g in the Hat Shop.","hats.desc.34":"Achieve 'Polyculture' and purchase for 1,000g in the Hat Shop.","hats.desc.35":"Achieve 'Gourmet Chef' and purchase for 1,000g in the Hat Shop.","hats.desc.36":"Unobtainable","hats.desc.37":"Found by 1/26 chance in treasure chests in the Skull Cavern.","hats.desc.38":"Found by 1/26 chance in treasure chests in the Skull Cavern.","hats.desc.39":"Purchase during the Night Market at the Magic Shop Boat.","hats.desc.40":"0.001% chance to find while cutting weeds.\n0.01% chance of droping from Wilderness Golems.","hats.desc.41":"Obtained in Emily's 14-heart cutscene.","hats.desc.42":"1% chance of obtaining when chopping down a Mushroom Tree.","hats.desc.43":"Tailoring (Cloth + Dinosaur Egg)","hats.desc.44":"Tailoring (Cloth + Warp Totems)","hats.desc.45":"Tailoring (Cloth + Lava Eel)","hats.desc.46":"Tailoring (Cloth + Dwarf Gadget / Dwarvish Helm)","hats.desc.47":"Tailoring (Cloth + Caviar)","hats.desc.48":"Tailoring (Cloth + Jack-O-Lantern)","hats.desc.49":"Tailoring (Cloth + Prehistoric Tibia)","hats.desc.50":"Kill 50 Pepper Rex and receive in Adventurer's Guild.\nCan purchase for 20,000g in the Adventurer's Guild after achieved the goal.","hats.desc.51":"Monster drop from Metal Heads(for every 100 kills)","hats.desc.52":"Tailoring (Cloth + Red Mushroom)","hats.desc.53":"Tailoring (Cloth + Acorn / Maple Seed / Pine Cone / Mahogany Seed)","hats.desc.54":"Tailoring (Cloth + Oak Resin / Maple Syrup / Pine Tar)","hats.desc.55":"Tailoring (Cloth + Ice Pip / Midnight Squid / Scorpion Carp / Slinejack / Spook Fish / Stonefish / Void Salmon)","hats.desc.56":"Tailoring (Cloth + Blobfish)","hats.desc.57":"Tailoring (Cloth + Pizza)","hats.desc.58":"Tailoring (Cloth + Chocolate Cake)","hats.desc.59":"Tailoring (Cloth + Fish Taco)","hats.desc.60":"Kill 100 Mummies and receive in Adventurer's Guild.\nCan purchase for 20,000g in the Adventurer's Guild after achieved the goal.","hats.desc.61":"Achieve 'Gourmet Chef' and purchase for 1,000g in the Hat Shop.","hats.desc.62":"Tailoring (Cloth + Treasure Chest)","hats.desc.63":"Tailoring (Cloth + Cranberry Sauce / Stuffing)","hats.desc.64":"Achieve All achievements and  purchase for 1,000g in the Hat Shop.","hats.desc.65":"Tailoring (Cloth + Sweet Gem Berry)\nFound by 1/26 chance in treasure chests in the Skull Cavern.","hats.desc.66":"0.2% chance to find while checking Garbage Cans in Town, only after checking 20 cans","hats.desc.67":"Tailoring (Cloth + Golden Mask)","hats.desc.68":"Tailoring (Cloth + Miner's Treat)","hats.desc.69":"Tailoring (Cloth + Pearl)","hats.desc.70":"Tailoring (Cloth + Golden Pumpkin)","hats.desc.71":"Wear the Copper Pan in the hat slot.","hats.desc.72":"Exchange for 50 Omni Geodes to Desert Trader.","hats.desc.73":"Exchange for 333 Omni Geodes to Desert Trader(Odd days)","hats.desc.74":"Exchange for 333 Omni Geodes to Desert Trader(Even days)","hats.desc.75":"5% chance of obtaining when open the Golden Coconut.","hats.desc.76":"Found by 1/9 chance in rare treasure chests in the Volcano Dungeon.","hats.desc.77":"Purchase for 10,000g by Dwarf in Volcano Dungeon(25% chance)","hats.desc.78":"Fish in the Gourmand Frog's cave on Ginger Island","hats.desc.79":"Exchange for 30 Taro Roots to Island Trader on Mondays.","hats.desc.80":"Exchange for 30 Taro Roots to Island Trader on Wednesdays.","hats.desc.81":"Exchange for 30 Taro Roots to Island Trader on Fridays.","hats.desc.82":"Purchase for 5 Qi Gems in Qi's Walnut Room","hats.desc.83":"Found by 1/26 chance in treasure chests in the Skull Cavern.","hats.desc.84":"Tailoring (Cloth + Radioactive Bar)","hats.desc.85":"Tailoring (Cloth + Dragon Tooth)","hats.desc.86":"Tailoring (Cloth + Qi Fruit)","hats.desc.87":"Tailoring (Cloth + Mushroom Tree Seed)","hats.desc.88":"Tailoring (Cloth + Cinder Shard)","hats.desc.89":"Tailoring (Cloth + Bug Steak)","hats.desc.90":"Tailoring (Cloth + Ginger)","hats.desc.91":"0.1% chance of droping from Tiger Slimes.","hats.desc.92":"Interact with the monkey in the Volcano Caldera once you have achieved 100% Perfection.","hats.desc.93":"Tailoring (Cloth + Ostrich Egg)","shirts.desc.0":"Starting\nTailoring (Cloth + Complete Breakfast)\nRandomly sold at the Oasis.","shirts.desc.1":"Starting\nTailoring (Cloth + Clay)\nRandomly sold at the Oasis.","shirts.desc.2":"Starting\nTailoring (Cloth + Dandelion)\nRandomly sold at the Oasis.","shirts.desc.3":"Starting\nTailoring (Cloth + Bat Wing)\nRandomly sold at the Oasis.","shirts.desc.4":"Starting\nTailoring (Cloth + Prehistoric Skull)\n0.22% chance of droping from Haunted Skulls.\nRandomly sold at the Oasis.","shirts.desc.5":"Starting\nTailoring (Cloth + Mayonnaise)\nRandomly sold at the Oasis.","shirts.desc.6":"Starting\nTailoring (Cloth + Sap)\nRandomly sold at the Oasis.","shirts.desc.7":"Starting\nTailoring (Cloth + Fiddlehead Fern)\nRandomly sold at the Oasis.","shirts.desc.8":"Starting\nTailoring (Cloth + Wild Horseradish)\nRandomly sold at the Oasis.","shirts.desc.9":"Starting\nTailoring (Cloth + Duck Mayonnaise)\nRandomly sold at the Oasis.","shirts.desc.10":"Starting\nTailoring (Cloth + Bouquet)\nRandomly sold at the Oasis.","shirts.desc.11":"Starting\nTailoring (Cloth + Cave Carrot)\nRandomly sold at the Oasis.","shirts.desc.12":"Starting\nTailoring (Cloth + Duck Feather)\nRandomly sold at the Oasis.","shirts.desc.13":"Starting\nTailoring (Cloth + Cranberry Candy)\nRandomly sold at the Oasis.","shirts.desc.14":"Starting\nTailoring (Cloth + Prehistoric Rib / Prehistoric Scapula / Prehistoric Vertebra / Skeletal Hand / Skeletal Tail / Bone Fragment / Fossilized Skull / Fossilized Spine / Fossilized Tail / Fossilized Leg / Fossilized Ribs / Snake Skull / Snake Vertebrae / Mummified Bat / Mummified Frog)\n0.22% chance of droping from Haunted Skulls.\nRandomly sold at the Oasis.","shirts.desc.15":"Starting\nTailoring (Cloth + Chanterelle)\nRandomly sold at the Oasis.","shirts.desc.16":"Starting\nTailoring (Cloth + Blueberry Tart)\nRandomly sold at the Oasis.","shirts.desc.17":"Starting\nTailoring (Cloth + Vegetable Medley)\nRandomly sold at the Oasis.","shirts.desc.18":"Starting\nTailoring (Cloth + Mudstone)\nRandomly sold at the Oasis.","shirts.desc.19":"Starting\nRandomly sold at the Oasis.","shirts.desc.20":"Starting\nTailoring (Cloth + Bean Hotpot)\nRandomly sold at the Oasis.","shirts.desc.21":"Starting\nTailoring (Cloth + Omelet)\nRandomly sold at the Oasis.","shirts.desc.22":"Starting\nRandomly sold at the Oasis.","shirts.desc.23":"Starting\nRandomly sold at the Oasis.","shirts.desc.24":"Starting\nTailoring (Cloth + Goat Milk)\nRandomly sold at the Oasis.","shirts.desc.25":"Starting\nTailoring (Cloth + Large Goat Milk)\nRandomly sold at the Oasis.","shirts.desc.26":"Starting\nTailoring (Cloth + Rice Pudding)\nRandomly sold at the Oasis.","shirts.desc.27":"Starting\nTailoring (Cloth + Bug Meat)\nRandomly sold at the Oasis.","shirts.desc.28":"Starting\nRandomly sold at the Oasis.","shirts.desc.29":"Starting\nTailoring (Cloth + Stone)\nRandomly sold at the Oasis.","shirts.desc.30":"Starting\nTailoring (Cloth + Fried Calamari)\nRandomly sold at the Oasis.","shirts.desc.31":"Starting\nTailoring (Cloth + Baked Fish)\nRandomly sold at the Oasis.","shirts.desc.32":"Starting\nTailoring (Cloth + Salmonberry)\nRandomly sold at the Oasis.","shirts.desc.33":"Starting\nTailoring (Cloth + Salad)\nRandomly sold at the Oasis.","shirts.desc.34":"Starting\nTailoring (Cloth + Ancient Sword)\nRandomly sold at the Oasis.","shirts.desc.35":"Starting\nTailoring (Cloth + Holly)\nRandomly sold at the Oasis.","shirts.desc.36":"Starting\nTailoring (Cloth + Sashimi)\nRandomly sold at the Oasis.","shirts.desc.37":"Starting\nTailoring (Cloth + Maki Roll)\nRandomly sold at the Oasis.","shirts.desc.38":"Starting\nTailoring (Cloth + Wool)\nRandomly sold at the Oasis.","shirts.desc.39":"Starting\nTailoring (Cloth + Ice Cream)\nRandomly sold at the Oasis.","shirts.desc.40":"Starting\nRandomly sold at the Oasis.","shirts.desc.41":"Starting\nRandomly sold at the Oasis.","shirts.desc.42":"Starting\nTailoring (Cloth + Leek)\nRandomly sold at the Oasis.","shirts.desc.43":"Starting\nRandomly sold at the Oasis.","shirts.desc.44":"Starting\nTailoring (Cloth + Snow Yam)\nRandomly sold at the Oasis.","shirts.desc.45":"Starting\nRandomly sold at the Oasis.","shirts.desc.46":"Starting\nRandomly sold at the Oasis.","shirts.desc.47":"Starting\nTailoring (Cloth + Hardwood)\nRandomly sold at the Oasis.","shirts.desc.48":"Starting\nTailoring (Cloth + Coal)\nRandomly sold at the Oasis.","shirts.desc.49":"Starting\nRandomly sold at the Oasis.","shirts.desc.50":"Starting\nTailoring (Cloth + Sweet Pea)\nRandomly sold at the Oasis.","shirts.desc.51":"Starting\nTailoring (Cloth + Pink Cake)\nRandomly sold at the Oasis.","shirts.desc.52":"Starting\nTailoring (Cloth + Lucky Lunch)\nRandomly sold at the Oasis.","shirts.desc.53":"Starting\nTailoring (Cloth + Roasted Hazelnuts)\nRandomly sold at the Oasis.","shirts.desc.54":"Starting\nRandomly sold at the Oasis.","shirts.desc.55":"Starting\nTailoring (Cloth + Fried Eel)\nRandomly sold at the Oasis.","shirts.desc.56":"Starting\nRandomly sold at the Oasis.","shirts.desc.57":"Starting\nTailoring (Cloth + Fire Quartz)\nRandomly sold at the Oasis.","shirts.desc.58":"Starting\nTailoring (Cloth + Blackberry Cobbler)\nRandomly sold at the Oasis.","shirts.desc.59":"Starting\nTailoring (Cloth + Pumpkin Soup)\nRandomly sold at the Oasis.","shirts.desc.60":"Starting\nRandomly sold at the Oasis.","shirts.desc.61":"Starting\nTailoring (Cloth + Bread)\nRandomly sold at the Oasis.","shirts.desc.62":"Starting\nTailoring (Cloth + Opal)\nRandomly sold at the Oasis.","shirts.desc.63":"Starting\nTailoring (Cloth + Rhubarb Pie)\nRandomly sold at the Oasis.","shirts.desc.64":"Starting\nTailoring (Cloth + Crystal Fruit)\nRandomly sold at the Oasis.","shirts.desc.65":"Starting\nTailoring (Cloth + Artichoke Dip)\nRandomly sold at the Oasis.","shirts.desc.66":"Starting\nTailoring (Cloth + Cheese)\nRandomly sold at the Oasis.","shirts.desc.67":"Starting\nTailoring (Cloth + Daffodil)\nRandomly sold at the Oasis.","shirts.desc.68":"Starting\nTailoring (Cloth + Farmer's Lunch)\nRandomly sold at the Oasis.","shirts.desc.69":"Starting\nTailoring (Cloth + Algae Soup)\nRandomly sold at the Oasis.","shirts.desc.70":"Starting\nTailoring (Cloth + Fairy Stone)\nRandomly sold at the Oasis.","shirts.desc.71":"Starting\nTailoring (Cloth + Milk)\nRandomly sold at the Oasis.","shirts.desc.72":"Starting\nTailoring (Cloth + Fruit Salad)\nRandomly sold at the Oasis.","shirts.desc.73":"Starting\nTailoring (Cloth + Thunder Egg)\nRandomly sold at the Oasis.","shirts.desc.74":"Starting\nTailoring (Cloth + Common Mushroom)\nRandomly sold at the Oasis.","shirts.desc.75":"Starting\nTailoring (Cloth + Wild Bait)\nRandomly sold at the Oasis.","shirts.desc.76":"Starting\nRandomly sold at the Oasis.","shirts.desc.77":"Starting\nTailoring (Cloth + Cookie)\nRandomly sold at the Oasis.","shirts.desc.78":"Starting\nTailoring (Cloth + Crocus)\nRandomly sold at the Oasis.","shirts.desc.79":"Starting\nTailoring (Cloth + Blackberry)\nRandomly sold at the Oasis.","shirts.desc.80":"Starting\nRandomly sold at the Oasis.","shirts.desc.81":"Starting\nTailoring (Cloth + Alamite)\nRandomly sold at the Oasis.","shirts.desc.82":"Starting\nRandomly sold at the Oasis.","shirts.desc.83":"Starting\nTailoring (Cloth + Void Egg)\nRandomly sold at the Oasis.","shirts.desc.84":"Starting\nRandomly sold at the Oasis.","shirts.desc.85":"Starting\nTailoring (Cloth + Ruby)\nRandomly sold at the Oasis.","shirts.desc.86":"Starting\nTailoring (Cloth + Slate)\nRandomly sold at the Oasis.","shirts.desc.87":"Starting\nRandomly sold at the Oasis.","shirts.desc.88":"Starting\nTailoring (Cloth + Parsnip Soup)\nRandomly sold at the Oasis.","shirts.desc.89":"Starting\nTailoring (Cloth + Amethyst)\nRandomly sold at the Oasis.","shirts.desc.90":"Starting\nRandomly sold at the Oasis.","shirts.desc.91":"Starting\nTailoring (Cloth + Pickles)\nRandomly sold at the Oasis.","shirts.desc.92":"Starting\nTailoring (Cloth + Jellies)\nRandomly sold at the Oasis.","shirts.desc.93":"Starting\nTailoring (Cloth + Goat Cheese)\nRandomly sold at the Oasis.","shirts.desc.94":"Starting\nTailoring (Cloth + Earth Crystal)\nRandomly sold at the Oasis.","shirts.desc.95":"Starting\nTailoring (Cloth + Rabbit's Foot)\nRandomly sold at the Oasis.","shirts.desc.96":"Starting\nTailoring (Cloth + Slime)\nRandomly sold at the Oasis.","shirts.desc.97":"Starting\nTailoring (Cloth + Basalt)\nRandomly sold at the Oasis.","shirts.desc.98":"Starting\nTailoring (Cloth + Neptunite)\nRandomly sold at the Oasis.","shirts.desc.99":"Starting\nTailoring (Cloth + Purple Mushroom)\nRandomly sold at the Oasis.","shirts.desc.100":"Starting\nTailoring (Cloth + Celestine)\nRandomly sold at the Oasis.","shirts.desc.101":"Starting\nTailoring (Cloth + Bixite)\nRandomly sold at the Oasis.","shirts.desc.102":"Starting\nTailoring (Cloth + Limestone)\nRandomly sold at the Oasis.","shirts.desc.103":"Starting\nTailoring (Cloth + Ghost Crystal)\nRandomly sold at the Oasis.","shirts.desc.104":"Starting\nTailoring (Cloth + Geminite)\nRandomly sold at the Oasis.","shirts.desc.105":"Starting\nTailoring (Cloth + Joja Cola)\nRandomly sold at the Oasis.","shirts.desc.106":"Starting\nTailoring (Cloth + Battery Pack)\nRandomly sold at the Oasis.","shirts.desc.107":"Starting\nTailoring (Cloth + Nekoite)\nRandomly sold at the Oasis.","shirts.desc.108":"Starting\nRandomly sold at the Oasis.","shirts.desc.109":"Starting\nRandomly sold at the Oasis.","shirts.desc.110":"Starting\nRandomly sold at the Oasis.","shirts.desc.111":"Starting\nTailoring (Cloth + Crispy Bass)\nRandomly sold at the Oasis.","shirts.desc.112":"Tailoring (Cloth + Fried Mushroom)\nRandomly sold at the Oasis.","shirts.desc.113":"Tailoring (Cloth + Dolomite)\nRandomly sold at the Oasis.","shirts.desc.114":"Tailoring (Cloth + Eggplant Parmesan)\nRandomly sold at the Oasis.","shirts.desc.115":"Tailoring (Cloth + Aerinite)\nRandomly sold at the Oasis.","shirts.desc.116":"Tailoring (Cloth + Salmon Dinner)\nRandomly sold at the Oasis.","shirts.desc.117":"Tailoring (Cloth + Roots Platter)\nRandomly sold at the Oasis.","shirts.desc.118":"Randomly sold at the Oasis.","shirts.desc.119":"Randomly sold at the Oasis.","shirts.desc.120":"Randomly sold at the Oasis.","shirts.desc.121":"Randomly sold at the Oasis.","shirts.desc.122":"Tailoring (Cloth + Granite)\nRandomly sold at the Oasis.","shirts.desc.123":"Tailoring (Cloth + Bruschetta)\nRandomly sold at the Oasis.","shirts.desc.124":"Tailoring (Cloth + Fish Stew)\nRandomly sold at the Oasis.","shirts.desc.125":"Tailoring (Cloth + Lobster Bisque)\nRandomly sold at the Oasis.","shirts.desc.126":"Tailoring (Cloth + Coleslaw)\nRandomly sold at the Oasis.","shirts.desc.127":"Obtained in Emily's 14-heart cutscene.","shirts.desc.128":"Tailoring (Cloth + Corn)","shirts.desc.129":"Tailoring (Cloth + Radish / Red Cabbage)","shirts.desc.130":"Tailoring (Cloth + Rusty Spur)","shirts.desc.131":"Tailoring (Cloth + Wheat)","shirts.desc.132":"Tailoring (Cloth + Rainbow Shell)","shirts.desc.133":"Tailoring (Cloth + Strange Doll (green))","shirts.desc.134":"Tailoring (Cloth + Cactus Fruit)","shirts.desc.135":"Tailoring (Cloth + Energy Tonic)","shirts.desc.136":"Tailoring (Cloth + Beer / Mead / Pale Ale / Wines / Piña Colada)","shirts.desc.137":"Tailoring (Cloth + Coral / Nautilus Shell / Sea Urchin)","shirts.desc.138":"Tailoring (Cloth + Artichoke / Beet / Bok Choy / Eggplant / Pumpkin / Yam)","shirts.desc.139":"Tailoring (Cloth + Amaranth)","shirts.desc.140":"Tailoring (Cloth + Sea Cucumber / Super Cucumber)","shirts.desc.141":"Unobtainable","shirts.desc.142":"Tailoring (Cloth + Emerald)","shirts.desc.143":"Tailoring (Cloth + Aquamarine)","shirts.desc.144":"Tailoring (Cloth + Topaz)","shirts.desc.145":"Tailoring (Cloth + Jade)","shirts.desc.146":"Tailoring (Cloth + Iron Bar)","shirts.desc.147":"Tailoring (Cloth + Copper Bar)","shirts.desc.148":"Tailoring (Cloth + Gold Bar)","shirts.desc.149":"Tailoring (Cloth + Iridium Bar)","shirts.desc.150":"Tailoring (Cloth + Muscle Remedy)","shirts.desc.151":"Tailoring (Cloth + Coffee Bean)","shirts.desc.152":"Tailoring (Cloth + Cherry Bomb / Bomb / Mega Bomb)","shirts.desc.153":"Tailoring (Cloth + Prehistoric Tool / Prehistoric Handaxe)","shirts.desc.154":"Tailoring (Cloth + Bullhead / Carp / Chub / Largemouth Bass / Lingcod / Perch / Pike / Smallmouth Bass / Sturgeon / Walleye / Woodskip)","shirts.desc.155":"Tailoring (Cloth + Ghostfish / Sandfish / Bream / Catfish / Dorado / Rainbow Trout / Shad / Sunfish / Tiger Trout)","shirts.desc.156":"Tailoring (Cloth + Cauliflower / Garlic / Green Bean / Hops / Kale / Parsnip / Potato / Taro Root / Tea Leaves / Unmilled Rice)","shirts.desc.157":"Tailoring (Cloth + Geode)","shirts.desc.158":"Tailoring (Cloth + Frozen Geode)","shirts.desc.159":"Tailoring (Cloth + Magma Geode)","shirts.desc.160":"Tailoring (Cloth + Field Snack)","shirts.desc.161":"Tailoring (Cloth + Pancakes)","shirts.desc.162":"Tailoring (Cloth + Pale Broth)","shirts.desc.163":"Tailoring (Cloth + Vinegar)","shirts.desc.164":"Tailoring (Cloth + Quartz)","shirts.desc.165":"Tailoring (Cloth + Seaweed)","shirts.desc.166":"Tailoring (Cloth + Obsidian)","shirts.desc.167":"Tailoring (Cloth + Soapstone)","shirts.desc.168":"Tailoring (Cloth + Tom Kha Soup)","shirts.desc.169":"Tailoring (Cloth + Fiddlehead Risotto)","shirts.desc.170":"Unobtainable","shirts.desc.171":"Tailoring (Cloth + Basic Fertilizer / Basic Retaining Soil / Speed-Gro / Tree Fertilizer)","shirts.desc.172":"Tailoring (Cloth + Deluxe Speed-Gro / Quality Fertilizer / Quality Retaining Soil)","shirts.desc.173":"Tailoring (Cloth + Fiber / Wood)","shirts.desc.174":"Tailoring (Cloth + Copper Ore / Iron Ore / Gold Ore / Radioactive Ore)","shirts.desc.175":"Tailoring (Cloth + Iridium Ore)","shirts.desc.176":"Tailoring (Cloth + Pepper Poppers)","shirts.desc.177":"Tailoring (Cloth + Baryte)","shirts.desc.178":"Tailoring (Cloth + Calcite)","shirts.desc.179":"Tailoring (Cloth + Esperite)","shirts.desc.180":"Tailoring (Cloth + Red Plate)","shirts.desc.181":"Tailoring (Cloth + Rare Disc)","shirts.desc.182":"Tailoring (Cloth + Pumpkin Pie)","shirts.desc.183":"Tailoring (Cloth + Jagoite)","shirts.desc.184":"Tailoring (Cloth + Lunarite)","shirts.desc.185":"Tailoring (Cloth + Malachite)","shirts.desc.186":"Tailoring (Cloth + Lemon Stone)","shirts.desc.187":"Tailoring (Cloth + Orpiment)","shirts.desc.188":"Tailoring (Cloth + Pyrite)","shirts.desc.189":"Tailoring (Cloth + Ocean Stone)","shirts.desc.190":"Tailoring (Cloth + Tigerseye)","shirts.desc.191":"Tailoring (Cloth + Jasper)","shirts.desc.192":"Tailoring (Cloth + Sandstone)","shirts.desc.193":"Tailoring (Cloth + Fire Opal)","shirts.desc.194":"Tailoring (Cloth + Hematite)","shirts.desc.195":"Tailoring (Cloth + Marble)","shirts.desc.196":"Tailoring (Cloth + Star Shards)","shirts.desc.197":"Tailoring (Cloth + Helvite)","shirts.desc.198":"Tailoring (Cloth + Kyanite)","shirts.desc.199":"Tailoring (Cloth + Coconut)","shirts.desc.200":"Tailoring (Cloth + Jamborite)","shirts.desc.201":"Tailoring (Cloth + Fluorapatite)","shirts.desc.202":"Tailoring (Cloth + Petrified Slime)","shirts.desc.203":"Tailoring (Cloth + Amphibian Fossil / Nautilus Fossil / Palm Fossil / Trilobite)","shirts.desc.204":"Tailoring (Cloth + Juices)","shirts.desc.205":"Tailoring (Cloth + Strange Bun)","shirts.desc.206":"Tailoring (Cloth + Frozen Tear)","shirts.desc.207":"Tailoring (Cloth + Glazed Yams)","shirts.desc.208":"Tailoring (Cloth + Escargot)","shirts.desc.209":"Tailoring (Cloth + Dish O' The Sea)","shirts.desc.210":"Tailoring (Cloth + Void Essence)","shirts.desc.211":"Tailoring (Cloth + Egg)","shirts.desc.212":"Tailoring (Cloth + Large Milk)","shirts.desc.213":"Tailoring (Cloth + Large Egg)","shirts.desc.214":"Tailoring (Cloth + Solar Essence)","shirts.desc.215":"Tailoring (Cloth + Refined Quartz)","shirts.desc.216":"Tailoring (Cloth + Autumn's Bounty)","shirts.desc.217":"Tailoring (Cloth + Dwarf scrolls)","shirts.desc.218":"Tailoring Randomly (Cloth + Prismatic Shard)","shirts.desc.219":"Tailoring (Cloth + Diamond)","shirts.desc.220":"Tailoring (Cloth + Torch)","shirts.desc.221":"Tailoring (Cloth + Spicy Eel)","shirts.desc.222":"Tailoring (Cloth + Chipped Amphora)","shirts.desc.223":"Tailoring (Cloth + Arrowhead)","shirts.desc.224":"Tailoring (Cloth + Ancient Doll)","shirts.desc.225":"Tailoring (Cloth + Elvish Jewelry)","shirts.desc.226":"Tailoring (Cloth + Chewing Stick)","shirts.desc.227":"Tailoring (Cloth + Broken CD / Broken Glasses / Driftwood / Soggy Newspaper / Trash)","shirts.desc.228":"Tailoring (Cloth + Rusty Spoon)","shirts.desc.229":"Tailoring (Cloth + Rusty Cog)","shirts.desc.230":"Tailoring (Cloth + Chicken Statue)","shirts.desc.231":"Tailoring (Cloth + Spaghetti)","shirts.desc.232":"Tailoring (Cloth + Ancient Seed)","shirts.desc.233":"Tailoring (Cloth + Dried Starfish)","shirts.desc.234":"Tailoring (Cloth + Anchor)","shirts.desc.235":"Tailoring (Cloth + Glass Shards)","shirts.desc.236":"Tailoring (Cloth + Trout Soup)","shirts.desc.237":"Tailoring (Cloth + Bone Flute)","shirts.desc.238":"Tailoring (Cloth + Ancient Drum)","shirts.desc.239":"Tailoring (Cloth + Golden Relic)","shirts.desc.240":"Tailoring (Cloth + Strange Doll (yellow))","shirts.desc.241":"Tailoring (Cloth + Fried Egg)","shirts.desc.242":"Tailoring (Cloth + Survival Burger)","shirts.desc.243":"Tailoring (Cloth + Green Algae / White Algae)","shirts.desc.244":"Tailoring (Cloth + Cheese Cauliflower)","shirts.desc.245":"Tailoring (Cloth + Carp Surprise)","shirts.desc.246":"Tailoring (Cloth + Hashbrowns)","shirts.desc.247":"Tailoring (Cloth + Tortilla)","shirts.desc.248":"Tailoring (Cloth + Wheat Flour)","shirts.desc.249":"Tailoring (Cloth + Sugar)","shirts.desc.250":"Tailoring (Cloth + Super Meal)","shirts.desc.251":"Tailoring (Cloth + Oil)","shirts.desc.252":"Tailoring (Cloth + Morel)","shirts.desc.253":"Tailoring (Cloth + Spring Onion)","shirts.desc.254":"Tailoring (Cloth + Albacore / Anchovy / Eel / Halibut / Herring / Pufferfish / Red Mullet / Red Snapper / Sardine / Squid / Tilapia / Tuna)","shirts.desc.255":"Tailoring (Cloth + Crayfish / Periwinkle / Snail)","shirts.desc.256":"Tailoring (Cloth + Clam / Cockle / Crab / Lobster / Mussel / Oyster / Shrimp)","shirts.desc.257":"Tailoring (Cloth + Truffle / Truffle Oil)\n0.22% chance of droping from Haunted Skulls.","shirts.desc.258":"Tailoring (Cloth + Life Elixir / Oil of Garlic)\n0.22% chance of droping from Haunted Skulls.","shirts.desc.259":"Tailoring (Cloth + Omni Geode)","shirts.desc.260":"Tailoring (Cloth + Ornamental Fan)","shirts.desc.261":"Tailoring (Cloth + Hazelnut)","shirts.desc.262":"Tailoring (Cloth + Winter Root)","shirts.desc.263":"Tailoring (Cloth + Rice)","shirts.desc.264":"Tailoring (Cloth + Triple Shot Espresso / Coffee)","shirts.desc.265":"Tailoring (Cloth + Duck Egg)","shirts.desc.266":"Tailoring (Cloth + Plum Pudding)","shirts.desc.267":"Tailoring (Cloth + Roes / Void Mayonnaise)","shirts.desc.268":"Tailoring (Cloth + Poppyseed Muffin)","shirts.desc.269":"Tailoring (Cloth + Stir Fry)","shirts.desc.270":"Tailoring (Cloth + Maple Bar)","shirts.desc.271":"Tailoring (Cloth + Crab Cakes)","shirts.desc.272":"Tailoring (Cloth + Radish Salad)","shirts.desc.273":"Tailoring (Cloth + Octopus)","shirts.desc.274":"Tailoring (Cloth + Salmon)","shirts.desc.275":"Unobtainable","shirts.desc.276":"Tailoring (Cloth + Rhubarb / Spice Berry)","shirts.desc.277":"Tailoring (Cloth + Tomato)","shirts.desc.278":"Tailoring (Cloth + Chowder)","shirts.desc.279":"Tailoring (Cloth + Aged Roes)","shirts.desc.280":"Tailoring (Cloth + Squid Ink)","shirts.desc.281":"Tailoring (Cloth + Shrimp Cocktail)","shirts.desc.282":"Tailoring (Cloth + Green Tea)","shirts.desc.283":"Tailoring (Cloth + Artifact Trove)","shirts.desc.284":"Tailoring (Cloth + Wilted Bouquet)","shirts.desc.285":"Tailoring (Cloth + Seafoam Pudding)","shirts.desc.286":"Tailoring (Cloth + Magma Cap)","shirts.desc.287":"Tailoring (Cloth + Ginger Ale)","shirts.desc.288":"Tailoring (Cloth + Banana Pudding)","shirts.desc.289":"Tailoring (Cloth + Mango Sticky Rice)","shirts.desc.290":"Tailoring (Cloth + Poi)","shirts.desc.291":"Tailoring (Cloth + Tropical Curry)","shirts.desc.292":"Tailoring (Cloth + Golden Coconut)","shirts.desc.293":"Tailoring (Cloth + Magic Rock Candy)","shirts.desc.294":"Tailoring Randomly (Cloth + Prismatic Shard)","shirts.desc.295":"Tailoring Randomly (Cloth + Prismatic Shard)","pants.desc.0":"Starting\nTailoring (Cloth + Cranberries / Pineapple / Strawberry / Wild Plum)","pants.desc.1":"Starting\nTailoring (Cloth + Blueberry / Grape / Hot Pepper / Melon)","pants.desc.2":"Starting\nTailoring (Cloth + Fairy Rose / Sunflower)","pants.desc.3":"Starting\nTailoring (Cloth + Blue Jazz / Tulip)","pants.desc.4":"Tailoring (Cloth + Poppy / Summer Spangle)","pants.desc.5":"Tailoring (Cloth + Dinosaur Mayonnaise)","pants.desc.6":"Tailoring (Cloth + Hay)","pants.desc.7":"Exchange for 50 Taro Roots to Island Trader.","pants.desc.8":"Tailoring (Cloth + Starfruit / Ancient Fruit)","pants.desc.9":"Unobtainable","pants.desc.10":"Tailoring (Cloth + Slime Egg)\n0.22% chance of droping from Haunted Skulls.","pants.desc.11":"Tailoring (Cloth + Honey)","pants.desc.12":"Tailoring (Cloth + Apple / Apricot / Banana / Cherry / Mango / Pomegranate)\n0.22% chance of droping from Haunted Skulls.","pants.desc.13":"Tailoring (Cloth + Orange / Peach)","pants.desc.14":"Tailoring (Lucky Purple Shorts + Gold Bar)\nPlacing a Staircase in the player's pants slot.","pants.desc.15":"Tailoring Randomly (Cloth + Prismatic Shard)","pants.desc.16":"Tailoring Randomly (Cloth + Prismatic Shard)"},Pg={"title.body":"체형","title.skin":"피부색","title.hats":"모자","title.hairstyle":"머리카락","title.shirts":"상의","title.pants":"하의","UI.language.en":"영어","UI.language.ko":"한국어","UI.color":"색상 선택","UI.howToObtain":"획득 방법","UI.aside.language":"언어","UI.aside.help":"도움말","UI.aside.import":"리텍스처 불러오기","UI.import.texture":"[style=size:0.7]리텍[/style] 불러오기","UI.import.additionalTexture":"[style=size:0.7]추가 리텍[/style] 불러오기","UI.import.body":"[style=size:0.7]체형 리텍[/style] 불러오기","UI.import.body.male":"남성","UI.import.body.male_bald":"남성(대머리)","UI.import.body.female":"여성","UI.import.body.female_bald":"여성(대머리)","UI.import.skin":"[style=size:0.7]피부색[/style] 불러오기","UI.import.reset":"리텍 되돌리기","UI.import.resetAll":"모든 리텍 되돌리기","howto.title.1":"미리보기","howto.title.2":"의상 선택 영역","howto.title.3":"리텍스처 불러오기","howto.title.4":"획득 방법","howto.title.5":"체형","howto.title.6":"상단 내비게이션 바","howto.title.7":"모바일 조작","howto.desc.1":"컨트롤러에서 선택한 캐릭터의 외관을 미리볼 수 있습니다.\n[icon=left-turn-button][icon=right-turn-button] 버튼으로 플레이어를 회전할 수 있고, [icon=male-button][icon=female-button] 버튼으로 플레이어의 성별을 선택할 수 있습니다.","howto.desc.2":"의상을 선택할 수 있는 부분입니다.\n스와이프 및 마우스 휠, 또는 [icon=left-button][icon=right-button] 버튼으로 의상을 둘러볼 수 있고, 아이콘 클릭으로 선택할 수 있습니다.\n[icon=expand-button] 버튼으로 의상 선택 창을 접고 펼칠 수 있습니다.\n컬러 슬라이드가 존재하면, 색을 지정할 수 있는 의상에 한해 의상의 색을 바꿀 수 있습니다.","howto.desc.3":"'리텍 불러오기' 버튼을 누르면 png 파일이나 xnb 파일을 임포트해서 자신이 사용하는 리텍스처를 적용해 미리볼 수 있습니다.\n'추가 리텍 불러오기' 버튼으로 hairstyles2.xnb 파일을 임포트할 수 있습니다.","howto.desc.4":"선택한 의상을 얻는 방법을 볼 수 있습니다.","howto.desc.5":"캐릭터의 체형, 피부색, 눈색을 설정할 수 있는 부분입니다.\n위쪽 선택 창에서 피부색을, 아래쪽 컬러 슬라이드로 눈색을 설정할 수 있습니다.\n'체형 리텍 불러오기' 버튼을 누르면 자신이 사용하는 체형 png, xnb 파일을 임포트할 수 있습니다.","howto.desc.6":"[icon=language-button] 버튼으로 언어를 설정할 수 있습니다. 현재 선택 가능한 언어는 영어, 한국어입니다.\n[icon=help-button] 버튼을 누르면 다시 도움말을 열 수 있습니다.\n[icon=import-button] 버튼을 누르면 리텍스처를 임포트할 수 있는 허브 창이 띄워집니다.","howto.desc.7":"모바일 환경에서는 일부 조작법이 다릅니다.\n화면을 위쪽으로 슬라이드하면, 의상 선택 창을 키울 수 있고, 아래쪽으로 슬라이드하면, 도로 줄일 수 있습니다.\n목록 메뉴-[icon=import-button]을 누르면 리텍스처를 불러올 수 있습니다.","error.noTextureXnb":"적절한 xnb 파일 형식이 아닙니다!\n텍스처 데이터를 담은 xnb 파일이어야 합니다.","error.errorReadingXnb":"xnb 파일을 읽는 데 에러가 발생했습니다!","hats.name.0":"카우보이 모자","hats.name.1":"중절모","hats.name.2":"실크해트","hats.name.3":"솜브레로","hats.name.4":"밀짚모자","hats.name.5":"공무원 모자","hats.name.6":"파란 보닛","hats.name.7":"자두색 샤포","hats.name.8":"해골 가면","hats.name.9":"고블린 가면","hats.name.10":"닭 가면","hats.name.11":"귀마개","hats.name.12":"섬세한 리본","hats.name.13":"열대클립","hats.name.14":"나비 리본","hats.name.15":"사냥꾼모자","hats.name.16":"트럭 운전수 모자","hats.name.17":"선원 모자","hats.name.18":"편한 모자","hats.name.19":"페도라","hats.name.20":"쿨 캡","hats.name.21":"럭키 리본","hats.name.22":"땡땡이 리본","hats.name.23":"노움의 모자","hats.name.24":"안대","hats.name.25":"산타 모자","hats.name.26":"티아라","hats.name.27":"안전모","hats.name.28":"방수모","hats.name.29":"민들레","hats.name.30":"수박 머리띠","hats.name.31":"쥐 귀","hats.name.32":"고양이 귀","hats.name.33":"카우걸 모자","hats.name.34":"소몰이 모자","hats.name.35":"궁수의 모자","hats.name.36":"판다 모자","hats.name.37":"파란 카우보이 모자","hats.name.38":"붉은 카우보이 모자","hats.name.39":"고깔모자","hats.name.40":"살아있는 모자","hats.name.41":"에밀리의 마법 모자","hats.name.42":"버섯 캡","hats.name.43":"공룡 모자","hats.name.44":"토템 가면","hats.name.45":"로고 캡","hats.name.46":"대형 드워프 투구","hats.name.47":"패션 모자","hats.name.48":"호박 가면","hats.name.49":"뼈 장식","hats.name.50":"기사의 투구","hats.name.51":"종자의 투구","hats.name.52":"물방울무늬 머리 스카프","hats.name.53":"비니","hats.name.54":"헐렁한 비니","hats.name.55":"낚시용 모자","hats.name.56":"블롭피쉬 가면","hats.name.57":"파티 모자","hats.name.58":"파티 모자","hats.name.59":"파티 모자","hats.name.60":"신비한 모자","hats.name.61":"셰프 모자","hats.name.62":"해적모","hats.name.63":"플랫 톱 모자","hats.name.64":"우아한 터번","hats.name.65":"흰색 터번","hats.name.66":"쓰레기 모자","hats.name.67":"황금 가면","hats.name.68":"프로펠러 모자","hats.name.69":"신부의 면사포","hats.name.70":"마녀 모자","hats.name.71":"구리 냄비","hats.name.72":"녹색 터번","hats.name.73":"마법 카우보이 모자","hats.name.74":"마법 터번","hats.name.75":"황금 투구","hats.name.76":"디럭스 해적모","hats.name.77":"핑크 리본","hats.name.78":"개구리 모자","hats.name.79":"작은 캡","hats.name.80":"파랑새 가면","hats.name.81":"디럭스 카우보이 모자","hats.name.82":"미스터 치 모자","hats.name.83":"어두운 카우보이 모자","hats.name.84":"방사능 고글","hats.name.85":"스워시버클러 모자","hats.name.86":"치의 가면","hats.name.87":"스타 헬멧","hats.name.88":"선글라스","hats.name.89":"고글","hats.name.90":"채집가의 모자","hats.name.91":"호랑이 모자","hats.name.92":"???","hats.name.93":"전사의 투구","shirts.name.0":"전형적인 멜빵바지","shirts.name.2":"민트색 블라우스","shirts.name.3":"어두운 셔츠","shirts.name.4":"두개골 셔츠","shirts.name.5":"연파랑 셔츠","shirts.name.6":"베이지색 줄무늬 셔츠","shirts.name.7":"녹색 멜빵바지","shirts.name.8":'"세상에" 셔츠',"shirts.name.9":"연하늘색 셔츠","shirts.name.10":"정장 상의","shirts.name.11":"녹색 벨트 셔츠","shirts.name.12":"라임색 줄무늬 셔츠","shirts.name.13":"붉은 줄무늬 셔츠","shirts.name.14":"해골 셔츠","shirts.name.15":"주황색 셔츠","shirts.name.16":"밤하늘 셔츠","shirts.name.17":"시장의 멜빵","shirts.name.18":"갈색 재킷","shirts.name.19":"선원 셔츠","shirts.name.20":"녹색 조끼","shirts.name.21":"노란색과 초록색 셔츠","shirts.name.26":"연파랑 줄무늬 셔츠","shirts.name.27":"핑크 줄무늬 셔츠","shirts.name.28":"하트 셔츠","shirts.name.29":"작업용 셔츠","shirts.name.30":"상점 주인의 재킷","shirts.name.34":"녹색 튜닉","shirts.name.35":"화려한 붉은 블라우스","shirts.name.38":"평범한 셔츠","shirts.name.39":"레트로 무지개 셔츠","shirts.name.42":"라임색 튜닉","shirts.name.71":"흰색 멜빵바지 셔츠","shirts.name.87":"단정한 나비넥타이 셔츠","shirts.name.123":"셔츠와 넥타이","shirts.name.127":"에밀리의 마법 셔츠","shirts.name.128":"줄무늬 셔츠","shirts.name.129":"탱크탑","shirts.name.131":"카우보이 판초","shirts.name.132":"크롭 탱크탑","shirts.name.134":"비키니 탑","shirts.name.135":"웜버스 셔츠","shirts.name.136":"80년대 셔츠","shirts.name.137":"레터맨 재킷","shirts.name.138":"검은 레터맨 재킷","shirts.name.139":"끈 달린 탑","shirts.name.140":"와이셔츠","shirts.name.141":"크롭 탑 셔츠","shirts.name.142":"튜브 탑","shirts.name.143":"타이 다이 셔츠","shirts.name.148":"강철 흉갑","shirts.name.149":"구리 흉갑","shirts.name.150":"황금 흉갑","shirts.name.151":"이리듐 흉갑","shirts.name.153":"가짜 근육 셔츠","shirts.name.154":"플란넬 셔츠","shirts.name.155":"항공 재킷","shirts.name.156":"원시인 셔츠","shirts.name.157":"낚시용 조끼","shirts.name.158":"물고기 셔츠","shirts.name.159":"셔츠와 벨트","shirts.name.160":"회색 후드","shirts.name.161":"파란 후드","shirts.name.162":"붉은 후드","shirts.name.163":"청재킷","shirts.name.164":"육상 재킷","shirts.name.165":"흰색 도복","shirts.name.166":"주황색 도복","shirts.name.167":"회색 조끼","shirts.name.168":"해초 셔츠","shirts.name.169":"징 박힌 조끼","shirts.name.170":"얇은 셔츠","shirts.name.171":"오아시스 가운","shirts.name.172":"대장장이용 앞치마","shirts.name.173":"단정한 나비넥타이 셔츠","shirts.name.174":"하이 웨이스트 셔츠","shirts.name.175":"하이 웨이스트 셔츠","shirts.name.176":"평범한 스웨터","shirts.name.178":"터틀넥 스웨터","shirts.name.179":"이리듐 에너지 셔츠","shirts.name.180":"터널러즈 저지","shirts.name.183":"회색 정장","shirts.name.184":"붉은 턱시도","shirts.name.185":"네이비색 턱시도","shirts.name.186":"홀리데이 셔츠","shirts.name.187":"나뭇잎 탑","shirts.name.188":"굿나잇 셔츠","shirts.name.189":"녹색 벨트 셔츠","shirts.name.190":"해피 셔츠","shirts.name.191":"나비넥타이 셔츠","shirts.name.192":"광대 셔츠","shirts.name.193":"바다 셔츠","shirts.name.194":"어두운 줄무늬 셔츠","shirts.name.195":"반다나 셔츠","shirts.name.196":"배낭 셔츠","shirts.name.197":"보라색 블라우스","shirts.name.198":"빈티지 폴로","shirts.name.199":"토가 셔츠","shirts.name.200":"별 셔츠","shirts.name.201":"교양 있는 탑","shirts.name.203":"반다나 셔츠","shirts.name.204":"휴가 셔츠","shirts.name.205":"원예가의 셔츠","shirts.name.206":"반다나 셔츠","shirts.name.207":"슬라임 셔츠","shirts.name.208":"발굴자의 셔츠","shirts.name.209":"스포츠 셔츠","shirts.name.210":"하트 셔츠","shirts.name.211":"어두운 재킷","shirts.name.212":"노을 셔츠","shirts.name.213":"셰프 코트","shirts.name.214":"바다의 셔츠","shirts.name.215":"신비한 셔츠","shirts.name.216":"평범한 멜빵바지","shirts.name.217":"민소매 멜빵바지","shirts.name.218":"가디건","shirts.name.219":"요바 셔츠","shirts.name.220":"목걸이 셔츠","shirts.name.221":"벨트 코트","shirts.name.222":"황금 테두리 셔츠","shirts.name.223":"무지갯빛 셔츠","shirts.name.224":"펜던트 셔츠","shirts.name.225":"고온 셔츠","shirts.name.226":"불꽃 셔츠","shirts.name.227":"고대 셔츠","shirts.name.228":"부드러운 화살표 셔츠","shirts.name.229":"인형 셔츠","shirts.name.230":"장신구 셔츠","shirts.name.231":"캔버스 재킷","shirts.name.232":"쓰레기통 셔츠","shirts.name.233":"녹슨 셔츠","shirts.name.234":"회로판 셔츠","shirts.name.235":"푹신한 셔츠","shirts.name.236":"소스 묻은 셔츠","shirts.name.237":"갈색 정장","shirts.name.238":"황금 셔츠","shirts.name.239":"선장 유니폼","shirts.name.240":"경찰 유니폼","shirts.name.241":"삼림 관리원 유니폼","shirts.name.242":"긴 파란 조끼","shirts.name.243":"제왕의 망토","shirts.name.244":"유물 셔츠","shirts.name.245":"보보 셔츠","shirts.name.246":"계란 프라이 셔츠","shirts.name.247":"버거 셔츠","shirts.name.248":"깃 셔츠","shirts.name.249":"토스트 셔츠","shirts.name.250":"잉어 셔츠","shirts.name.251":"붉은 플란넬 셔츠","shirts.name.252":"또띠야 셔츠","shirts.name.253":"따뜻한 플란넬 셔츠","shirts.name.254":"설탕 셔츠","shirts.name.255":"녹색 플란넬 셔츠","shirts.name.256":"기름 얼룩 셔츠","shirts.name.257":"곰보 셔츠","shirts.name.258":"봄 셔츠","shirts.name.259":"선원 셔츠","shirts.name.260":"우비","shirts.name.261":"선원 셔츠","shirts.name.262":"어두운 반다나 셔츠","shirts.name.263":"어두운 하이라이트 셔츠","shirts.name.264":"옴니 셔츠","shirts.name.265":"신부 셔츠","shirts.name.266":"갈색 멜빵바지","shirts.name.267":"주황색 나비넥타이 셔츠","shirts.name.268":"흰색 멜빵바지","shirts.name.269":"포어-오버 셔츠","shirts.name.270":"녹색 재킷 셔츠","shirts.name.271":"짧은 재킷","shirts.name.272":"물방울무늬 셔츠","shirts.name.273":"흰 물방울무늬 셔츠","shirts.name.274":"위장색 셔츠","shirts.name.275":"흙 셔츠","shirts.name.276":"게살 케이크 셔츠","shirts.name.277":"실크 셔츠","shirts.name.278":"파란 단추 조끼","shirts.name.279":"색 바랜 데님 셔츠","shirts.name.280":"붉은 단추 조끼","shirts.name.281":"초록 단추 조끼","shirts.name.282":"토마토 셔츠","shirts.name.283":"술 달린 조끼","shirts.name.284":"방울 셔츠","shirts.name.285":"자정의 개 재킷","shirts.name.286":"새우 애호가 셔츠","shirts.name.287":"'티' 셔츠","shirts.name.288":"장신구 셔츠","shirts.name.289":"어둠의 정장","shirts.name.290":"미네랄 도그 재킷","shirts.name.291":"자홍색 셔츠","shirts.name.292":"진저 멜빵바지","shirts.name.293":"바나나 셔츠","shirts.name.294":"노란 양복","shirts.name.295":"핫 핑크 셔츠","shirts.name.296":"열대 일출 셔츠","shirts.name.297":"섬 비키니","shirts.name.997":"마법 스프링클 셔츠","shirts.name.998":"무지갯빛 셔츠","shirts.name.999":"무지갯빛 셔츠","shirts.name.default":"셔츠","pants.name.0":"농부 바지","pants.name.1":"반바지","pants.name.2":"롱 드레스","pants.name.3":"치마","pants.name.4":"주름치마","pants.name.5":"공룡 바지","pants.name.6":"잔디 치마","pants.name.7":"루아우 치마","pants.name.8":"지니 바지","pants.name.9":"꽉 붙는 바지","pants.name.10":"헐렁한 바지","pants.name.11":"간단한 드레스","pants.name.12":"편안한 바지","pants.name.13":"편안한 반바지","pants.name.15":"테두리가 장식된 행운의 보라 반바지","pants.name.998":"무지갯빛 바지","pants.name.999":"무지갯빛 지니 바지","pants.name.default":"바지","hats.desc.0":"'완성된 컬렉션' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.1":"'백만장자' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.2":"카지노에서 치 코인 8000개와 교환","hats.desc.3":"'전설' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.4":"달걀 축제 최초 우승 보상\n획득 후 모자 상점에서 추가 구매 가능","hats.desc.5":"'경험 많은 뱃사람' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.6":"'보물창고' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.7":"'수셰프' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.8":"해골 50마리 처치 후 모험가 길드에서 받음\n달성 후 모험가 길드에서 20000골드에 추가 구매 가능","hats.desc.9":"'수송품 한가득' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.10":"'큰 도움' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.11":"'인기인' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.12":"'요리사' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.13":"'출세' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.14":"'새 친구' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.15":"'크게 살기' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.16":"'장인' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.17":"얼음 축제 낚시 대회 최초 우승 보상\n획득 후 모자 상점에서 추가 구매 가능","hats.desc.18":"'풋내기' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.19":"스타듀 밸리 품평회에서 스타토큰 500개와 교환","hats.desc.20":"'농가 주인' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.21":"'소몰이' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.22":"'심부름꾼' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.23":"'제작의 달인' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.24":"'낚시의 달인' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.25":"'인맥 형성' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.26":"'무리' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.27":"더기 30마리 처치 후 모험가 길드에서 받음\n달성 후 모험가 길드에서 20000골드에 추가 구매 가능","hats.desc.28":"'낚시꾼' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.29":"'수작업' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.30":"'낚시의 신' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.31":"'절친' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.32":"'총애 받는 농부' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.33":"'단일 재배' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.34":"'혼합양식' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.35":"'미식가 셰프' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.36":"획득 불가능","hats.desc.37":"해골 광산 보물상자에서 1/26 확률로 획득","hats.desc.38":"해골 광산 보물상자에서 1/26 확률로 획득","hats.desc.39":"야시장에서 구매","hats.desc.40":"잡초를 벨 때 0.001% 확률로 획득\n야생 골렘에게서 0.01% 확률로 드랍","hats.desc.41":"에밀리 14하트 이벤트 보상","hats.desc.42":"버섯 나무를 벨 때 1% 확률로 획득","hats.desc.43":"재봉틀에서 옷감과 공룡알로 재단","hats.desc.44":"재봉틀에서 옷감과 토템류 아이템로 재단","hats.desc.45":"재봉틀에서 옷감과 용암 장어로 재단","hats.desc.46":"재봉틀에서 옷감과 드워프 도구/드워프 투구로 재단","hats.desc.47":"재봉틀에서 옷감과 캐비어로 재단","hats.desc.48":"재봉틀에서 옷감과 잭 오 랜턴으로 재단","hats.desc.49":"재봉틀에서 옷감과 선사 시대 경골로 재단","hats.desc.50":"페퍼 렉스 50마리 처치 후 모험가 길드에서 받음\n달성 후 모험가 길드에서 20000골드에 추가 구매 가능","hats.desc.51":"메탈 헤드에게서 드랍(100마리당 1개꼴로 드랍됨)","hats.desc.52":"재봉틀에서 옷감과 붉은색 버섯으로 재단","hats.desc.53":"재봉틀에서 옷감과 도토리/단풍나무 씨앗/솔방울/마호가니 씨앗으로 재단","hats.desc.54":"재봉틀에서 옷감과 참나무 수지/메이플 시럽/소나무 타르로 재단","hats.desc.55":"재봉틀에서 옷감과 쑥치/아이스핍/전갈잉어/자정오징어/통안어/슬라임잭/공허의 연어로 재단","hats.desc.56":"재봉틀에서 옷감과 블롭피시로 재단","hats.desc.57":"재봉틀에서 옷감과 피자로 재단","hats.desc.58":"재봉틀에서 옷감과 초콜릿 케이크로 재단","hats.desc.59":"재봉틀에서 옷감과 생선 타코로 재단","hats.desc.60":"미라 100마리 처치 후 모험가 길드에서 받음\n달성 후 모험가 길드에서 20000골드에 추가 구매 가능","hats.desc.61":"'미식가 셰프' 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.62":"재봉틀에서 옷감과 보물상자로 재단","hats.desc.63":"재봉틀에서 옷감과 크랜베리 소스/요리용 속으로 재단","hats.desc.64":"모든 업적 달성 후 모자 상점에서 1000골드에 구매","hats.desc.65":"재봉틀에서 옷감과 달콤보석베리로 재단\n해골 광산 보물상자에서 1/26 확률로 획득","hats.desc.66":"쓰레기통 20개 이상을 뒤진 후 쓰레기통에서 0.2% 확률로 획득","hats.desc.67":"재봉틀에서 옷감과 황금 가면으로 재단","hats.desc.68":"재봉틀에서 옷감과 광부의 간식으로 재단","hats.desc.69":"재봉틀에서 옷감과 진주로 재단","hats.desc.70":"재봉틀에서 옷감과 황금 호박으로 재단","hats.desc.71":"구리 선광 냄비를 머리에 착용","hats.desc.72":"사막 상인에게서 전 정동석 50개와 교환","hats.desc.73":"홀수 날에 사막 상인에게서 전 정동석 333개와 교환","hats.desc.74":"짝수 날에 사막 상인에게서 전 정동석 333개와 교환","hats.desc.75":"황금 코코넛에서 5% 확률로 획득","hats.desc.76":"화산던전 레어 보물상자에서 1/9 확률로 획득","hats.desc.77":"25% 확률로 화산던전 드워프에게서 10000골드에 구매","hats.desc.78":"진저섬 미식가 개구리 동굴에서 낚시","hats.desc.79":"월요일에 섬 상인에게서 토란 30개와 교환","hats.desc.80":"수요일에 섬 상인에게서 토란 30개와 교환","hats.desc.81":"금요일에 섬 상인에게서 토란 30개와 교환","hats.desc.82":"치의 호두방에서 치 보석 5개로 구매","hats.desc.83":"해골 광산 보물상자에서 1/26 확률로 획득","hats.desc.84":"재봉틀에서 옷감과 방사능 주괴로 재단","hats.desc.85":"재봉틀에서 옷감과 용의 이빨로 재단","hats.desc.86":"재봉틀에서 옷감과 치 열매로 재단","hats.desc.87":"재봉틀에서 옷감과 버섯나무 씨앗으로 재단","hats.desc.88":"재봉틀에서 옷감과 잉걸불 파편으로 재단","hats.desc.89":"재봉틀에서 옷감과 벌레 스테이크로 재단","hats.desc.90":"재봉틀에서 옷감과 생강으로 재단","hats.desc.91":"호랑 슬라임에게서 0.1% 확률로 드랍","hats.desc.92":"진엔딩 이후 화산광산 10층의 원숭이에게서 받음","hats.desc.93":"재봉틀에서 옷감과 타조알로 재단","shirts.desc.0":"시작 시 선택\n재봉틀에서 옷감과 완벽한 아침으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.1":"시작 시 선택\n재봉틀에서 옷감과 점토로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.2":"시작 시 선택\n재봉틀에서 옷감과 민들레로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.3":"시작 시 선택\n재봉틀에서 옷감과 박쥐 날개로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.4":"시작 시 선택\n재봉틀에서 옷감과 선사 시대 두개골로 재단\n귀신 들린 해골에게서 0.22% 확률로 드랍\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.5":"시작 시 선택\n재봉틀에서 옷감과 마요네즈로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.6":"시작 시 선택\n재봉틀에서 옷감과 수액으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.7":"시작 시 선택\n재봉틀에서 옷감과 청나래고사리로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.8":"시작 시 선택\n재봉틀에서 옷감과 야생 고추냉이로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.9":"시작 시 선택\n재봉틀에서 옷감과 오리 마요네즈로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.10":"시작 시 선택\n재봉틀에서 옷감과 부케로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.11":"시작 시 선택\n재봉틀에서 옷감과 동굴 당근으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.12":"시작 시 선택\n재봉틀에서 옷감과 오리깃털로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.13":"시작 시 선택\n재봉틀에서 옷감과 크랜베리 캔디로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.14":"시작 시 선택\n재봉틀에서 옷감과 선사 시대 늑골/선사 시대 견갑골/선사 시대 척추골/손 뼈/꼬리 뼈/뼛조각/화석화된 두개골/화석화된 척추/화석화된 꼬리/화석화된 다리/화석화된 늑골/뱀 두개골/뱀 척추/미이라화된 박쥐/미이라화된 개구리로 재단\n귀신 들린 해골에게서 0.22% 확률로 드랍\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.15":"시작 시 선택\n재봉틀에서 옷감과 살구버섯으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.16":"시작 시 선택\n재봉틀에서 옷감과 블루베리 타르트로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.17":"시작 시 선택\n재봉틀에서 옷감과 야채의 메들리로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.18":"시작 시 선택\n재봉틀에서 옷감과 이암으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.19":"시작 시 선택\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.20":"시작 시 선택\n재봉틀에서 옷감과 콩 스튜로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.21":"시작 시 선택\n재봉틀에서 옷감과 오믈렛으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.22":"시작 시 선택\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.23":"시작 시 선택\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.24":"시작 시 선택\n재봉틀에서 옷감과 염소젖으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.25":"시작 시 선택\n재봉틀에서 옷감과 큰 염소젖으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.26":"시작 시 선택\n재봉틀에서 옷감과 라이스 푸딩으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.27":"시작 시 선택\n재봉틀에서 옷감과 벌레 고기로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.28":"시작 시 선택\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.29":"시작 시 선택\n재봉틀에서 옷감과 돌로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.30":"시작 시 선택\n재봉틀에서 옷감과 오징어튀김으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.31":"시작 시 선택\n재봉틀에서 옷감과 생선구이로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.32":"시작 시 선택\n재봉틀에서 옷감과 새먼베리로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.33":"시작 시 선택\n재봉틀에서 옷감과 샐러드로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.34":"시작 시 선택\n재봉틀에서 옷감과 고대 검으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.35":"시작 시 선택\n재봉틀에서 옷감과 호랑가시나무 열매로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.36":"시작 시 선택\n재봉틀에서 옷감과 회로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.37":"시작 시 선택\n재봉틀에서 옷감과 마키 롤로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.38":"시작 시 선택\n재봉틀에서 옷감과 양털로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.39":"시작 시 선택\n재봉틀에서 옷감과 아이스크림으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.40":"시작 시 선택\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.41":"시작 시 선택\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.42":"시작 시 선택\n재봉틀에서 옷감과 리크로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.43":"시작 시 선택\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.44":"시작 시 선택\n재봉틀에서 옷감과 눈마로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.45":"시작 시 선택\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.46":"시작 시 선택\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.47":"시작 시 선택\n재봉틀에서 옷감과 단단한 나무로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.48":"시작 시 선택\n재봉틀에서 옷감과 석탄으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.49":"시작 시 선택\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.50":"시작 시 선택\n재봉틀에서 옷감과 스위트피로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.51":"시작 시 선택\n재봉틀에서 옷감과 핑크 케이크로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.52":"시작 시 선택\n재봉틀에서 옷감과 행운의 점심으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.53":"시작 시 선택\n재봉틀에서 옷감과 구운 헤이즐넛으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.54":"시작 시 선택\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.55":"시작 시 선택\n재봉틀에서 옷감과 장어튀김으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.56":"시작 시 선택\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.57":"시작 시 선택\n재봉틀에서 옷감과 불의 석영으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.58":"시작 시 선택\n재봉틀에서 옷감과 블랙베리 코블러로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.59":"시작 시 선택\n재봉틀에서 옷감과 호박죽으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.60":"시작 시 선택\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.61":"시작 시 선택\n재봉틀에서 옷감과 빵으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.62":"시작 시 선택\n재봉틀에서 옷감과 오팔로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.63":"시작 시 선택\n재봉틀에서 옷감과 대황 파이로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.64":"시작 시 선택\n재봉틀에서 옷감과 수정 과일로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.65":"시작 시 선택\n재봉틀에서 옷감과 아티초크 소스로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.66":"시작 시 선택\n재봉틀에서 옷감과 치즈로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.67":"시작 시 선택\n재봉틀에서 옷감과 수선화로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.68":"시작 시 선택\n재봉틀에서 옷감과 농부의 점심으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.69":"시작 시 선택\n재봉틀에서 옷감과 녹조류 스프로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.70":"시작 시 선택\n재봉틀에서 옷감과 요정석으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.71":"시작 시 선택\n재봉틀에서 옷감과 우유로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.72":"시작 시 선택\n재봉틀에서 옷감과 과일 샐러드로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.73":"시작 시 선택\n재봉틀에서 옷감과 둥근 옥수로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.74":"시작 시 선택\n재봉틀에서 옷감과 흔한 버섯으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.75":"시작 시 선택\n재봉틀에서 옷감과 야생 미끼로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.76":"시작 시 선택\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.77":"시작 시 선택\n재봉틀에서 옷감과 쿠키로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.78":"시작 시 선택\n재봉틀에서 옷감과 크로커스로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.79":"시작 시 선택\n재봉틀에서 옷감과 블랙베리로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.80":"시작 시 선택\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.81":"시작 시 선택\n재봉틀에서 옷감과 알라마이트로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.82":"시작 시 선택\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.83":"시작 시 선택\n재봉틀에서 옷감과 공허의 달걀로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.84":"시작 시 선택\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.85":"시작 시 선택\n재봉틀에서 옷감과 루비로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.86":"시작 시 선택\n재봉틀에서 옷감과 점판암으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.87":"시작 시 선택\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.88":"시작 시 선택\n재봉틀에서 옷감과 설탕당근 스프로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.89":"시작 시 선택\n재봉틀에서 옷감과 자수정으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.90":"시작 시 선택\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.91":"시작 시 선택\n재봉틀에서 옷감과 피클로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.92":"시작 시 선택\n재봉틀에서 옷감과 젤리로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.93":"시작 시 선택\n재봉틀에서 옷감과 염소 치즈로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.94":"시작 시 선택\n재봉틀에서 옷감과 땅의 수정으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.95":"시작 시 선택\n재봉틀에서 옷감과 토끼발로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.96":"시작 시 선택\n재봉틀에서 옷감과 슬라임으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.97":"시작 시 선택\n재봉틀에서 옷감과 현무암으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.98":"시작 시 선택\n재봉틀에서 옷감과 넵튜나이트로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.99":"시작 시 선택\n재봉틀에서 옷감과 보라색 버섯으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.100":"시작 시 선택\n재봉틀에서 옷감과 천청석으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.101":"시작 시 선택\n재봉틀에서 옷감과 빅사이트로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.102":"시작 시 선택\n재봉틀에서 옷감과 석회석으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.103":"시작 시 선택\n재봉틀에서 옷감과 유령수정으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.104":"시작 시 선택\n재봉틀에서 옷감과 제미나이트로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.105":"시작 시 선택\n재봉틀에서 옷감과 조자 콜라로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.106":"시작 시 선택\n재봉틀에서 옷감과 배터리 팩으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.107":"시작 시 선택\n재봉틀에서 옷감과 네코아이트로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.108":"시작 시 선택\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.109":"시작 시 선택\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.110":"시작 시 선택\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.111":"시작 시 선택\n재봉틀에서 옷감과 우럭 튀김으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.112":"재봉틀에서 옷감과 버섯구이로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.113":"재봉틀에서 옷감과 백운석으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.114":"재봉틀에서 옷감과 가지 파마산으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.115":"재봉틀에서 옷감과 에어리나이트로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.116":"재봉틀에서 옷감과 연어 정찬으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.117":"재봉틀에서 옷감과 뿌리채소 모음으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.118":"샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.119":"샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.120":"샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.121":"샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.122":"재봉틀에서 옷감과 화강암으로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.123":"재봉틀에서 옷감과 브루쉐타로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.124":"재봉틀에서 옷감과 생선 스튜로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.125":"재봉틀에서 옷감과 가재 비스크로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.126":"재봉틀에서 옷감과 코울슬로로 재단\n샌디에게서 1000골드에 구매(랜덤으로 나옴)","shirts.desc.127":"에밀리 14하트 이벤트","shirts.desc.128":"재봉틀에서 옷감과 옥수수로 재단","shirts.desc.129":"재봉틀에서 옷감과 무/붉은 양배추로 재단","shirts.desc.130":"재봉틀에서 옷감과 녹슨 징으로 재단","shirts.desc.131":"재봉틀에서 옷감과 밀로 재단","shirts.desc.132":"재봉틀에서 옷감과 무지개 껍데기로 재단","shirts.desc.133":"재봉틀에서 옷감과 이상한 인형 (녹색)으로 재단","shirts.desc.134":"재봉틀에서 옷감과 선인장 열매로 재단","shirts.desc.135":"재봉틀에서 옷감과 자양강장제로 재단","shirts.desc.136":"재봉틀에서 옷감과 맥주/벌꿀 술/페일 에일/와인/피나콜라다로 재단","shirts.desc.137":"재봉틀에서 옷감과 산호/앵무조개 껍데기/성게로 재단","shirts.desc.138":"재봉틀에서 옷감과 아티초크/사탕무/청경채/가지/호박/참마로 재단","shirts.desc.139":"재봉틀에서 옷감과 아마란스로 재단","shirts.desc.140":"재봉틀에서 옷감과 해삼/슈퍼해삼으로 재단","shirts.desc.141":"획득 불가능","shirts.desc.142":"재봉틀에서 옷감과 에메랄드로 재단","shirts.desc.143":"재봉틀에서 옷감과 아쿠아마린으로 재단","shirts.desc.144":"재봉틀에서 옷감과 토파즈로 재단","shirts.desc.145":"재봉틀에서 옷감과 옥으로 재단","shirts.desc.146":"재봉틀에서 옷감과 철 주괴로 재단","shirts.desc.147":"재봉틀에서 옷감과 구리 주괴로 재단","shirts.desc.148":"재봉틀에서 옷감과 금 주괴로 재단","shirts.desc.149":"재봉틀에서 옷감과 이리듐 주괴로 재단","shirts.desc.150":"재봉틀에서 옷감과 근육 치료제로 재단","shirts.desc.151":"재봉틀에서 옷감과 커피콩으로 재단","shirts.desc.152":"재봉틀에서 옷감과 체리 폭탄/폭탄/거대 폭탄으로 재단","shirts.desc.153":"재봉틀에서 옷감과 선사 시대 도구/선사 시대 손도끼로 재단","shirts.desc.154":"재봉틀에서 옷감과 눈동자개/잉어/피라미/큰입우럭/범노래미/농어/강꼬치고기/작은입우럭/철갑상어/월아이/숲고기로 재단","shirts.desc.155":"재봉틀에서 옷감과 귀신물고기/도루묵/도미/메기/만새기/무지개송어/전어/개복치/타이거 송어로 재단","shirts.desc.156":"재봉틀에서 옷감과 콜리플라워/마늘/완두콩/홉/케일/파스닙/감자/토란/찻잎/가공되지 않은 쌀로 재단","shirts.desc.157":"재봉틀에서 옷감과 정동석으로 재단","shirts.desc.158":"재봉틀에서 옷감과 얼어붙은 정동석으로 재단","shirts.desc.159":"재봉틀에서 옷감과 마그마 정동석으로 재단","shirts.desc.160":"재봉틀에서 옷감과 수제 에너지바로 재단","shirts.desc.161":"재봉틀에서 옷감과 팬케이크로 재단","shirts.desc.162":"재봉틀에서 옷감과 창백한 죽으로 재단","shirts.desc.163":"재봉틀에서 옷감과 식초로 재단","shirts.desc.164":"재봉틀에서 옷감과 석영으로 재단","shirts.desc.165":"재봉틀에서 옷감과 해초로 재단","shirts.desc.166":"재봉틀에서 옷감과 흑요석으로 재단","shirts.desc.167":"재봉틀에서 옷감과 동석으로 재단","shirts.desc.168":"재봉틀에서 옷감과 똠카 스프로 재단","shirts.desc.169":"재봉틀에서 옷감과 청나래고사리 리조또로 재단","shirts.desc.170":"획득 불가능","shirts.desc.171":"재봉틀에서 옷감과 기본 비료/기본 보습 토양/성장 촉진제/나무용 비료로 재단","shirts.desc.172":"재봉틀에서 옷감과 고급 비료/고급 보습 토양/디럭스 성장 촉진제로 재단","shirts.desc.173":"재봉틀에서 옷감과 섬유/나무로 재단","shirts.desc.174":"재봉틀에서 옷감과 구리광석/철광석/금광석/방사능 광석으로 재단","shirts.desc.175":"재봉틀에서 옷감과 이리듐광석으로 재단","shirts.desc.176":"재봉틀에서 옷감과 페퍼 파퍼로 재단","shirts.desc.177":"재봉틀에서 옷감과 중정석으로 재단","shirts.desc.178":"재봉틀에서 옷감과 방해석으로 재단","shirts.desc.179":"재봉틀에서 옷감과 에스퍼라이트로 재단","shirts.desc.180":"재봉틀에서 옷감과 붉은 정식으로 재단","shirts.desc.181":"재봉틀에서 옷감과 희귀한 원반으로 재단","shirts.desc.182":"재봉틀에서 옷감과 호박 파이로 재단","shirts.desc.183":"재봉틀에서 옷감과 재고아이트로 재단","shirts.desc.184":"재봉틀에서 옷감과 루나라이트로 재단","shirts.desc.185":"재봉틀에서 옷감과 공작석으로 재단","shirts.desc.186":"재봉틀에서 옷감과 레몬 스톤으로 재단","shirts.desc.187":"재봉틀에서 옷감과 석웅황으로 재단","shirts.desc.188":"재봉틀에서 옷감과 황철석으로 재단","shirts.desc.189":"재봉틀에서 옷감과 바다수정으로 재단","shirts.desc.190":"재봉틀에서 옷감과 호안석으로 재단","shirts.desc.191":"재봉틀에서 옷감과 벽옥으로 재단","shirts.desc.192":"재봉틀에서 옷감과 사암으로 재단","shirts.desc.193":"재봉틀에서 옷감과 화단백석으로 재단","shirts.desc.194":"재봉틀에서 옷감과 적철석으로 재단","shirts.desc.195":"재봉틀에서 옷감과 대리석으로 재단","shirts.desc.196":"재봉틀에서 옷감과 별조각으로 재단","shirts.desc.197":"재봉틀에서 옷감과 헬바이트로 재단","shirts.desc.198":"재봉틀에서 옷감과 남정석으로 재단","shirts.desc.199":"재봉틀에서 옷감과 코코넛으로 재단","shirts.desc.200":"재봉틀에서 옷감과 잠보라이트로 재단","shirts.desc.201":"재봉틀에서 옷감과 플루오르 인회석으로 재단","shirts.desc.202":"재봉틀에서 옷감과 석화된 슬라임으로 재단","shirts.desc.203":"재봉틀에서 옷감과 양서류 화석/앵무조개 화석/야자 화석/삼엽충으로 재단","shirts.desc.204":"재봉틀에서 옷감과 주스로 재단","shirts.desc.205":"재봉틀에서 옷감과 수상한 롤로 재단","shirts.desc.206":"재봉틀에서 옷감과 얼어붙은 눈물로 재단","shirts.desc.207":"재봉틀에서 옷감과 맛탕으로 재단","shirts.desc.208":"재봉틀에서 옷감과 에스카르고로 재단","shirts.desc.209":"재봉틀에서 옷감과 바다의 요리로 재단","shirts.desc.210":"재봉틀에서 옷감과 공허 정수로 재단","shirts.desc.211":"재봉틀에서 옷감과 달걀로 재단","shirts.desc.212":"재봉틀에서 옷감과 큰 우유로 재단","shirts.desc.213":"재봉틀에서 옷감과 큰 달걀로 재단","shirts.desc.214":"재봉틀에서 옷감과 태양 정수로 재단","shirts.desc.215":"재봉틀에서 옷감과 정제된 석영으로 재단","shirts.desc.216":"재봉틀에서 옷감과 가을의 수확으로 재단","shirts.desc.217":"재봉틀에서 옷감과 드워프 스크롤로 재단","shirts.desc.218":"재봉틀에서 옷감과 무지개 파편을 조합하면 랜덤 획득","shirts.desc.219":"재봉틀에서 옷감과 다이아몬드로 재단","shirts.desc.220":"재봉틀에서 옷감과 횃불로 재단","shirts.desc.221":"재봉틀에서 옷감과 매콤한 장어로 재단","shirts.desc.222":"재봉틀에서 옷감과 깨진 암포라로 재단","shirts.desc.223":"재봉틀에서 옷감과 화살촉으로 재단","shirts.desc.224":"재봉틀에서 옷감과 고대 인형으로 재단","shirts.desc.225":"재봉틀에서 옷감과 엘프 장신구로 재단","shirts.desc.226":"재봉틀에서 옷감과 씹는 막대로 재단","shirts.desc.227":"재봉틀에서 옷감과 깨진 CD/깨진 안경/유목/젖은 신문지/쓰레기로 재단","shirts.desc.228":"재봉틀에서 옷감과 녹슨 숟가락으로 재단","shirts.desc.229":"재봉틀에서 옷감과 녹슨 톱니바퀴로 재단","shirts.desc.230":"재봉틀에서 옷감과 닭 동상으로 재단","shirts.desc.231":"재봉틀에서 옷감과 스파게티로 재단","shirts.desc.232":"재봉틀에서 옷감과 고대 씨앗으로 재단","shirts.desc.233":"재봉틀에서 옷감과 말린 불가사리로 재단","shirts.desc.234":"재봉틀에서 옷감과 닻으로 재단","shirts.desc.235":"재봉틀에서 옷감과 유리 파편으로 재단","shirts.desc.236":"재봉틀에서 옷감과 송어 스프로 재단","shirts.desc.237":"재봉틀에서 옷감과 뼈피리로 재단","shirts.desc.238":"재봉틀에서 옷감과 고대 북으로 재단","shirts.desc.239":"재봉틀에서 옷감과 황금 유물로 재단","shirts.desc.240":"재봉틀에서 옷감과 이상한 인형 (노란색)으로 재단","shirts.desc.241":"재봉틀에서 옷감과 계란 프라이로 재단","shirts.desc.242":"재봉틀에서 옷감과 생존형 버거로 재단","shirts.desc.243":"재봉틀에서 옷감과 녹조류/흰 조류로 재단","shirts.desc.244":"재봉틀에서 옷감과 치즈 콜리플라워로 재단","shirts.desc.245":"재봉틀에서 옷감과 깜짝잉어로 재단","shirts.desc.246":"재봉틀에서 옷감과 해시브라운으로 재단","shirts.desc.247":"재봉틀에서 옷감과 또띠아로 재단","shirts.desc.248":"재봉틀에서 옷감과 밀가루로 재단","shirts.desc.249":"재봉틀에서 옷감과 설탕으로 재단","shirts.desc.250":"재봉틀에서 옷감과 슈퍼 건강식으로 재단","shirts.desc.251":"재봉틀에서 옷감과 기름으로 재단","shirts.desc.252":"재봉틀에서 옷감과 곰보버섯으로 재단","shirts.desc.253":"재봉틀에서 옷감과 파로 재단","shirts.desc.254":"재봉틀에서 옷감과 날개다랑어/멸치/장어/넙치/청어/복어/숭어/붉은 퉁돔/정어리/오징어/틸라피아/참치로 재단","shirts.desc.255":"재봉틀에서 옷감과 민물가재/충알고둥/달팽이로 재단","shirts.desc.256":"재봉틀에서 옷감과 조개/새조개/게/바닷가재/홍합/굴/새우로 재단","shirts.desc.257":"재봉틀에서 옷감과 송로버섯/송로버섯 오일로 재단\n귀신 들린 해골에게서 0.22% 확률로 드랍","shirts.desc.258":"재봉틀에서 옷감과 생명의 영약/마늘즙으로 재단\n귀신 들린 해골에게서 0.22% 확률로 드랍","shirts.desc.259":"재봉틀에서 옷감과 전 정동석으로 재단","shirts.desc.260":"재봉틀에서 옷감과 화려한 부채로 재단","shirts.desc.261":"재봉틀에서 옷감과 헤이즐넛으로 재단","shirts.desc.262":"재봉틀에서 옷감과 겨울뿌리로 재단","shirts.desc.263":"재봉틀에서 옷감과 쌀로 재단","shirts.desc.264":"재봉틀에서 옷감과 트리플 샷 에스프레소/커피로 재단","shirts.desc.265":"재봉틀에서 옷감과 오리알로 재단","shirts.desc.266":"재봉틀에서 옷감과 자두 푸딩으로 재단","shirts.desc.267":"재봉틀에서 옷감과 어란/공허 마요네즈로 재단","shirts.desc.268":"재봉틀에서 옷감과 양귀비씨 머핀으로 재단","shirts.desc.269":"재봉틀에서 옷감과 야채 볶음으로 재단","shirts.desc.270":"재봉틀에서 옷감과 메이플 바로 재단","shirts.desc.271":"재봉틀에서 옷감과 게살 케이크로 재단","shirts.desc.272":"재봉틀에서 옷감과 무 샐러드로 재단","shirts.desc.273":"재봉틀에서 옷감과 문어로 재단","shirts.desc.274":"재봉틀에서 옷감과 연어로 재단","shirts.desc.275":"획득 불가능","shirts.desc.276":"재봉틀에서 옷감과 대황/백량금으로 재단","shirts.desc.277":"재봉틀에서 옷감과 토마토로 재단","shirts.desc.278":"재봉틀에서 옷감과 차우더로 재단","shirts.desc.279":"재봉틀에서 옷감과 숙성된 어란으로 재단","shirts.desc.280":"재봉틀에서 옷감과 오징어 먹물로 재단","shirts.desc.281":"재봉틀에서 옷감과 새우 칵테일로 재단","shirts.desc.282":"재봉틀에서 옷감과 녹차로 재단","shirts.desc.283":"재봉틀에서 옷감과 유물 상자로 재단","shirts.desc.284":"재봉틀에서 옷감과 시들은 부케로 재단","shirts.desc.285":"재봉틀에서 옷감과 바다 거품 푸딩으로 재단","shirts.desc.286":"재봉틀에서 옷감과 마그마 버섯으로 재단","shirts.desc.287":"재봉틀에서 옷감과 진저 에일로 재단","shirts.desc.288":"재봉틀에서 옷감과 바나나 푸딩으로 재단","shirts.desc.289":"재봉틀에서 옷감과 카오 니야우 마무앙으로 재단","shirts.desc.290":"재봉틀에서 옷감과 포이로 재단","shirts.desc.291":"재봉틀에서 옷감과 열대 카레로 재단","shirts.desc.292":"재봉틀에서 옷감과 황금 코코넛으로 재단","shirts.desc.293":"재봉틀에서 옷감과 마법 얼음사탕으로 재단","shirts.desc.294":"재봉틀에서 옷감과 무지개 파편을 조합하면 랜덤 획득","shirts.desc.295":"재봉틀에서 옷감과 무지개 파편을 조합하면 랜덤 획득","pants.desc.0":"시작 시 선택\n재봉틀에서 옷감과 딸기/야생 자두/크랜베리/파인애플로 재단","pants.desc.1":"시작 시 선택\n재봉틀에서 옷감과 매운 고추/멜론/블루베리/포도로 재단","pants.desc.2":"시작 시 선택\n재봉틀에서 옷감과 요정장미/해바라기로 재단","pants.desc.3":"시작 시 선택\n재봉틀에서 옷감과 튤립/푸른 재즈로 재단","pants.desc.4":"재봉틀에서 옷감과 양귀비/여름별꽃으로 재단","pants.desc.5":"재봉틀에서 옷감과 공룡 마요네즈로 재단","pants.desc.6":"재봉틀에서 옷감과 건초로 재단","pants.desc.7":"섬 상인에게서 토란 50개와 교환","pants.desc.8":"재봉틀에서 옷감과 고대 과일/스타프루트로 재단","pants.desc.9":"획득 불가능","pants.desc.10":"재봉틀에서 옷감과 슬라임 알로 재단\n귀신들린 해골에게서 0.22% 확률로 드랍","pants.desc.11":"재봉틀에서 옷감과 벌꿀로 재단","pants.desc.12":"재봉틀에서 옷감과 망고/바나나/사과/살구/석류/체리로 재단\n귀신들린 해골에게서 0.22% 확률로 드랍","pants.desc.13":"재봉틀에서 옷감과 오렌지/복숭아로 재단","pants.desc.14":"재봉틀에서 행운의 보라색 반바지와 금 주괴로 재단\n바지 슬롯에 계단을 올려놓음","pants.desc.15":"재봉틀에서 옷감과 무지개 파편을 조합하면 랜덤 획득","pants.desc.16":"재봉틀에서 옷감과 무지개 파편을 조합하면 랜덤 획득"};class Og{static langData={en:Zg,ko:Pg};static getAllLanguageList(){return Object.keys(this.langData)}currentLanguage="en";constructor(){Op(this,{currentLanguage:pc,changeLanguage:dp,getText:mc})}changeLanguage(e){this.currentLanguage=e}get getText(){return e=>{let t=Og.langData[this.currentLanguage];return void 0!==t&&void 0!==t[e]||(t=Og.langData.en),void 0===t[e]?e:t[e]}}get getTextHTML(){return e=>Mg(this.getText(e))}}Object.freeze(Og.langData);const Lg=new Og,Xg=Lg.getText.bind(Lg),Vg=n.exports.createContext({}),Fg=({children:e})=>n.exports.createElement(Vg.Provider,{value:Lg},e);var Wg=setTimeout;function Ug(e){return Boolean(e&&void 0!==e.length)}function Hg(){}function Kg(e){if(!(this instanceof Kg))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],ef(e,this)}function Yg(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,Kg._immediateFn((function(){var i=1===e._state?t.onFulfilled:t.onRejected;if(null!==i){var r;try{r=i(e._value)}catch(e){return void jg(t.promise,e)}zg(t.promise,r)}else(1===e._state?zg:jg)(t.promise,e._value)}))):e._deferreds.push(t)}function zg(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if(t instanceof Kg)return e._state=3,e._value=t,void qg(e);if("function"==typeof i)return void ef((r=i,n=t,function(){r.apply(n,arguments)}),e)}e._state=1,e._value=t,qg(e)}catch(t){jg(e,t)}var r,n}function jg(e,t){e._state=2,e._value=t,qg(e)}function qg(e){2===e._state&&0===e._deferreds.length&&Kg._immediateFn((function(){e._handled||Kg._unhandledRejectionFn(e._value)}));for(var t=0,i=e._deferreds.length;t<i;t++)Yg(e,e._deferreds[t]);e._deferreds=null}function $g(e,t,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=i}function ef(e,t){var i=!1;try{e((function(e){i||(i=!0,zg(t,e))}),(function(e){i||(i=!0,jg(t,e))}))}catch(e){if(i)return;i=!0,jg(t,e)}}Kg.prototype.catch=function(e){return this.then(null,e)},Kg.prototype.then=function(e,t){var i=new this.constructor(Hg);return Yg(this,new $g(e,t,i)),i},Kg.prototype.finally=function(e){var t=this.constructor;return this.then((function(i){return t.resolve(e()).then((function(){return i}))}),(function(i){return t.resolve(e()).then((function(){return t.reject(i)}))}))},Kg.all=function(e){return new Kg((function(t,i){if(!Ug(e))return i(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var n=r.length;function s(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var o=a.then;if("function"==typeof o)return void o.call(a,(function(t){s(e,t)}),i)}r[e]=a,0==--n&&t(r)}catch(e){i(e)}}for(var a=0;a<r.length;a++)s(a,r[a])}))},Kg.allSettled=function(e){return new this((function(t,i){if(!e||void 0===e.length)return i(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var n=r.length;function s(e,i){if(i&&("object"==typeof i||"function"==typeof i)){var a=i.then;if("function"==typeof a)return void a.call(i,(function(t){s(e,t)}),(function(i){r[e]={status:"rejected",reason:i},0==--n&&t(r)}))}r[e]={status:"fulfilled",value:i},0==--n&&t(r)}for(var a=0;a<r.length;a++)s(a,r[a])}))},Kg.resolve=function(e){return e&&"object"==typeof e&&e.constructor===Kg?e:new Kg((function(t){t(e)}))},Kg.reject=function(e){return new Kg((function(t,i){i(e)}))},Kg.race=function(e){return new Kg((function(t,i){if(!Ug(e))return i(new TypeError("Promise.race accepts an array"));for(var r=0,n=e.length;r<n;r++)Kg.resolve(e[r]).then(t,i)}))},Kg._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){Wg(e,0)},Kg._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var tf=Object.getOwnPropertySymbols,rf=Object.prototype.hasOwnProperty,nf=Object.prototype.propertyIsEnumerable;function sf(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var af=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;var r=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==r.join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var i,r,n=sf(e),s=1;s<arguments.length;s++){for(var a in i=Object(arguments[s]))rf.call(i,a)&&(n[a]=i[a]);if(tf){r=tf(i);for(var o=0;o<r.length;o++)nf.call(i,r[o])&&(n[r[o]]=i[r[o]])}}return n};
/*!
 * @pixi/polyfill - v6.3.2
 * Compiled Wed, 04 May 2022 17:49:13 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */"undefined"==typeof globalThis&&("undefined"!=typeof self?self.globalThis=self:"undefined"!=typeof global&&(global.globalThis=global)),globalThis.Promise||(globalThis.Promise=Kg),Object.assign||(Object.assign=af);if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!globalThis.performance||!globalThis.performance.now){var of=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-of}}for(var lf=Date.now(),hf=["ms","moz","webkit","o"],uf=0;uf<hf.length&&!globalThis.requestAnimationFrame;++uf){var df=hf[uf];globalThis.requestAnimationFrame=globalThis[df+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[df+"CancelAnimationFrame"]||globalThis[df+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(e){if("function"!=typeof e)throw new TypeError(e+"is not a function");var t=Date.now(),i=16+lf-t;return i<0&&(i=0),lf=t,globalThis.self.setTimeout((function(){lf=Date.now(),e(performance.now())}),i)}),globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(e){return clearTimeout(e)}),Math.sign||(Math.sign=function(e){return 0===(e=Number(e))||isNaN(e)?e:e>0?1:-1}),Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array),globalThis.Float32Array||(globalThis.Float32Array=Array),globalThis.Uint32Array||(globalThis.Uint32Array=Array),globalThis.Uint16Array||(globalThis.Uint16Array=Array),globalThis.Uint8Array||(globalThis.Uint8Array=Array),globalThis.Int32Array||(globalThis.Int32Array=Array);var cf=/iPhone/i,pf=/iPod/i,gf=/iPad/i,ff=/\biOS-universal(?:.+)Mac\b/i,mf=/\bAndroid(?:.+)Mobile\b/i,Cf=/Android/i,yf=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,bf=/Silk/i,If=/Windows Phone/i,vf=/\bWindows(?:.+)ARM\b/i,_f=/BlackBerry/i,Sf=/BB10/i,kf=/Opera Mini/i,Tf=/\b(CriOS|Chrome)(?:.+)Mobile/i,Af=/Mobile(?:.+)Firefox\b/i,wf=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};function Ef(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var i=t.userAgent,r=i.split("[FBAN");void 0!==r[1]&&(i=r[0]),void 0!==(r=i.split("Twitter"))[1]&&(i=r[0]);var n=function(e){return function(t){return t.test(e)}}(i),s={apple:{phone:n(cf)&&!n(If),ipod:n(pf),tablet:!n(cf)&&(n(gf)||wf(t))&&!n(If),universal:n(ff),device:(n(cf)||n(pf)||n(gf)||n(ff)||wf(t))&&!n(If)},amazon:{phone:n(yf),tablet:!n(yf)&&n(bf),device:n(yf)||n(bf)},android:{phone:!n(If)&&n(yf)||!n(If)&&n(mf),tablet:!n(If)&&!n(yf)&&!n(mf)&&(n(bf)||n(Cf)),device:!n(If)&&(n(yf)||n(bf)||n(mf)||n(Cf))||n(/\bokhttp\b/i)},windows:{phone:n(If),tablet:n(vf),device:n(If)||n(vf)},other:{blackberry:n(_f),blackberry10:n(Sf),opera:n(kf),firefox:n(Af),chrome:n(Tf),device:n(_f)||n(Sf)||n(kf)||n(Af)||n(Tf)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}
/*!
 * @pixi/settings - v6.3.2
 * Compiled Wed, 04 May 2022 17:49:13 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Jf,Rf,xf,Gf,Df,Bf,Nf,Qf,Mf,Zf,Pf,Of,Lf,Xf,Vf,Ff,Wf,Uf,Hf,Kf=Ef(globalThis.navigator);!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(Jf||(Jf={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(Rf||(Rf={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(xf||(xf={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(Gf||(Gf={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Df||(Df={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Bf||(Bf={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Nf||(Nf={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(Qf||(Qf={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(Mf||(Mf={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(Zf||(Zf={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Pf||(Pf={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(Of||(Of={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(Lf||(Lf={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(Xf||(Xf={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(Vf||(Vf={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(Ff||(Ff={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(Wf||(Wf={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(Uf||(Uf={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(Hf||(Hf={}));var Yf={MIPMAP_TEXTURES:Of.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:Uf.NONE,SPRITE_MAX_TEXTURES:function(e){var t=!0;if(Kf.tablet||Kf.phone){var i;if(Kf.apple.device)if(i=navigator.userAgent.match(/OS (\d+)_(\d+)?/))parseInt(i[1],10)<11&&(t=!1);if(Kf.android.device)if(i=navigator.userAgent.match(/Android\s([0-9.]*)/))parseInt(i[1],10)<7&&(t=!1)}return t?e:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:Vf.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:Pf.CLAMP,SCALE_MODE:Zf.LINEAR,PRECISION_VERTEX:Ff.HIGH,PRECISION_FRAGMENT:Kf.apple.device?Ff.HIGH:Ff.MEDIUM,CAN_UPLOAD_SAME_BUFFER:!Kf.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},zf={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,i="~";function r(){}function n(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function s(e,t,r,s,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new n(r,s||e,a),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),o.prototype.eventNames=function(){var e,r,n=[];if(0===this._eventsCount)return n;for(r in e=this._events)t.call(e,r)&&n.push(i?r.slice(1):r);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},o.prototype.listeners=function(e){var t=i?i+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,s=r.length,a=new Array(s);n<s;n++)a[n]=r[n].fn;return a},o.prototype.listenerCount=function(e){var t=i?i+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,n,s,a){var o=i?i+e:e;if(!this._events[o])return!1;var l,h,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,n),!0;case 5:return u.fn.call(u.context,t,r,n,s),!0;case 6:return u.fn.call(u.context,t,r,n,s,a),!0}for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u.fn.apply(u.context,l)}else{var c,p=u.length;for(h=0;h<p;h++)switch(u[h].once&&this.removeListener(e,u[h].fn,void 0,!0),d){case 1:u[h].fn.call(u[h].context);break;case 2:u[h].fn.call(u[h].context,t);break;case 3:u[h].fn.call(u[h].context,t,r);break;case 4:u[h].fn.call(u[h].context,t,r,n);break;default:if(!l)for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u[h].fn.apply(u[h].context,l)}}return!0},o.prototype.on=function(e,t,i){return s(this,e,t,i,!1)},o.prototype.once=function(e,t,i){return s(this,e,t,i,!0)},o.prototype.removeListener=function(e,t,r,n){var s=i?i+e:e;if(!this._events[s])return this;if(!t)return a(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||a(this,s);else{for(var l=0,h=[],u=o.length;l<u;l++)(o[l].fn!==t||n&&!o[l].once||r&&o[l].context!==r)&&h.push(o[l]);h.length?this._events[s]=1===h.length?h[0]:h:a(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=i,o.EventEmitter=o,e.exports=o}(zf);var jf=zf.exports,qf={exports:{}};function $f(e,t,i){i=i||2;var r,n,s,a,o,l,h,u=t&&t.length,d=u?t[0]*i:e.length,c=em(e,0,d,i,!0),p=[];if(!c||c.next===c.prev)return p;if(u&&(c=function(e,t,i,r){var n,s,a,o=[];for(n=0,s=t.length;n<s;n++)(a=em(e,t[n]*r,n<s-1?t[n+1]*r:e.length,r,!1))===a.next&&(a.steiner=!0),o.push(dm(a));for(o.sort(om),n=0;n<o.length;n++)i=tm(i=lm(o[n],i),i.next);return i}(e,t,c,i)),e.length>80*i){r=s=e[0],n=a=e[1];for(var g=i;g<d;g+=i)(o=e[g])<r&&(r=o),(l=e[g+1])<n&&(n=l),o>s&&(s=o),l>a&&(a=l);h=0!==(h=Math.max(s-r,a-n))?1/h:0}return im(c,p,i,r,n,h),p}function em(e,t,i,r,n){var s,a;if(n===km(e,t,i,r)>0)for(s=t;s<i;s+=r)a=vm(s,e[s],e[s+1],a);else for(s=i-r;s>=t;s-=r)a=vm(s,e[s],e[s+1],a);return a&&fm(a,a.next)&&(_m(a),a=a.next),a}function tm(e,t){if(!e)return e;t||(t=e);var i,r=e;do{if(i=!1,r.steiner||!fm(r,r.next)&&0!==gm(r.prev,r,r.next))r=r.next;else{if(_m(r),(r=t=r.prev)===r.next)break;i=!0}}while(i||r!==t);return t}function im(e,t,i,r,n,s,a){if(e){!a&&s&&function(e,t,i,r){var n=e;do{null===n.z&&(n.z=um(n.x,n.y,t,i,r)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,function(e){var t,i,r,n,s,a,o,l,h=1;do{for(i=e,e=null,s=null,a=0;i;){for(a++,r=i,o=0,t=0;t<h&&(o++,r=r.nextZ);t++);for(l=h;o>0||l>0&&r;)0!==o&&(0===l||!r||i.z<=r.z)?(n=i,i=i.nextZ,o--):(n=r,r=r.nextZ,l--),s?s.nextZ=n:e=n,n.prevZ=s,s=n;i=r}s.nextZ=null,h*=2}while(a>1)}(n)}(e,r,n,s);for(var o,l,h=e;e.prev!==e.next;)if(o=e.prev,l=e.next,s?nm(e,r,n,s):rm(e))t.push(o.i/i),t.push(e.i/i),t.push(l.i/i),_m(e),e=l.next,h=l.next;else if((e=l)===h){a?1===a?im(e=sm(tm(e),t,i),t,i,r,n,s,2):2===a&&am(e,t,i,r,n,s):im(tm(e),t,i,r,n,s,1);break}}}function rm(e){var t=e.prev,i=e,r=e.next;if(gm(t,i,r)>=0)return!1;for(var n=e.next.next;n!==e.prev;){if(cm(t.x,t.y,i.x,i.y,r.x,r.y,n.x,n.y)&&gm(n.prev,n,n.next)>=0)return!1;n=n.next}return!0}function nm(e,t,i,r){var n=e.prev,s=e,a=e.next;if(gm(n,s,a)>=0)return!1;for(var o=n.x<s.x?n.x<a.x?n.x:a.x:s.x<a.x?s.x:a.x,l=n.y<s.y?n.y<a.y?n.y:a.y:s.y<a.y?s.y:a.y,h=n.x>s.x?n.x>a.x?n.x:a.x:s.x>a.x?s.x:a.x,u=n.y>s.y?n.y>a.y?n.y:a.y:s.y>a.y?s.y:a.y,d=um(o,l,t,i,r),c=um(h,u,t,i,r),p=e.prevZ,g=e.nextZ;p&&p.z>=d&&g&&g.z<=c;){if(p!==e.prev&&p!==e.next&&cm(n.x,n.y,s.x,s.y,a.x,a.y,p.x,p.y)&&gm(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,g!==e.prev&&g!==e.next&&cm(n.x,n.y,s.x,s.y,a.x,a.y,g.x,g.y)&&gm(g.prev,g,g.next)>=0)return!1;g=g.nextZ}for(;p&&p.z>=d;){if(p!==e.prev&&p!==e.next&&cm(n.x,n.y,s.x,s.y,a.x,a.y,p.x,p.y)&&gm(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;g&&g.z<=c;){if(g!==e.prev&&g!==e.next&&cm(n.x,n.y,s.x,s.y,a.x,a.y,g.x,g.y)&&gm(g.prev,g,g.next)>=0)return!1;g=g.nextZ}return!0}function sm(e,t,i){var r=e;do{var n=r.prev,s=r.next.next;!fm(n,s)&&mm(n,r,r.next,s)&&bm(n,s)&&bm(s,n)&&(t.push(n.i/i),t.push(r.i/i),t.push(s.i/i),_m(r),_m(r.next),r=e=s),r=r.next}while(r!==e);return tm(r)}function am(e,t,i,r,n,s){var a=e;do{for(var o=a.next.next;o!==a.prev;){if(a.i!==o.i&&pm(a,o)){var l=Im(a,o);return a=tm(a,a.next),l=tm(l,l.next),im(a,t,i,r,n,s),void im(l,t,i,r,n,s)}o=o.next}a=a.next}while(a!==e)}function om(e,t){return e.x-t.x}function lm(e,t){var i=function(e,t){var i,r=t,n=e.x,s=e.y,a=-1/0;do{if(s<=r.y&&s>=r.next.y&&r.next.y!==r.y){var o=r.x+(s-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(o<=n&&o>a){if(a=o,o===n){if(s===r.y)return r;if(s===r.next.y)return r.next}i=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!i)return null;if(n===a)return i;var l,h=i,u=i.x,d=i.y,c=1/0;r=i;do{n>=r.x&&r.x>=u&&n!==r.x&&cm(s<d?n:a,s,u,d,s<d?a:n,s,r.x,r.y)&&(l=Math.abs(s-r.y)/(n-r.x),bm(r,e)&&(l<c||l===c&&(r.x>i.x||r.x===i.x&&hm(i,r)))&&(i=r,c=l)),r=r.next}while(r!==h);return i}(e,t);if(!i)return t;var r=Im(i,e),n=tm(i,i.next);return tm(r,r.next),t===i?n:t}function hm(e,t){return gm(e.prev,e,t.prev)<0&&gm(t.next,e,e.next)<0}function um(e,t,i,r,n){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*n)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*n)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function dm(e){var t=e,i=e;do{(t.x<i.x||t.x===i.x&&t.y<i.y)&&(i=t),t=t.next}while(t!==e);return i}function cm(e,t,i,r,n,s,a,o){return(n-a)*(t-o)-(e-a)*(s-o)>=0&&(e-a)*(r-o)-(i-a)*(t-o)>=0&&(i-a)*(s-o)-(n-a)*(r-o)>=0}function pm(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&mm(i,i.next,e,t))return!0;i=i.next}while(i!==e);return!1}(e,t)&&(bm(e,t)&&bm(t,e)&&function(e,t){var i=e,r=!1,n=(e.x+t.x)/2,s=(e.y+t.y)/2;do{i.y>s!=i.next.y>s&&i.next.y!==i.y&&n<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next}while(i!==e);return r}(e,t)&&(gm(e.prev,e,t.prev)||gm(e,t.prev,t))||fm(e,t)&&gm(e.prev,e,e.next)>0&&gm(t.prev,t,t.next)>0)}function gm(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function fm(e,t){return e.x===t.x&&e.y===t.y}function mm(e,t,i,r){var n=ym(gm(e,t,i)),s=ym(gm(e,t,r)),a=ym(gm(i,r,e)),o=ym(gm(i,r,t));return n!==s&&a!==o||(!(0!==n||!Cm(e,i,t))||(!(0!==s||!Cm(e,r,t))||(!(0!==a||!Cm(i,e,r))||!(0!==o||!Cm(i,t,r)))))}function Cm(e,t,i){return t.x<=Math.max(e.x,i.x)&&t.x>=Math.min(e.x,i.x)&&t.y<=Math.max(e.y,i.y)&&t.y>=Math.min(e.y,i.y)}function ym(e){return e>0?1:e<0?-1:0}function bm(e,t){return gm(e.prev,e,e.next)<0?gm(e,t,e.next)>=0&&gm(e,e.prev,t)>=0:gm(e,t,e.prev)<0||gm(e,e.next,t)<0}function Im(e,t){var i=new Sm(e.i,e.x,e.y),r=new Sm(t.i,t.x,t.y),n=e.next,s=t.prev;return e.next=t,t.prev=e,i.next=n,n.prev=i,r.next=i,i.prev=r,s.next=r,r.prev=s,r}function vm(e,t,i,r){var n=new Sm(e,t,i);return r?(n.next=r.next,n.prev=r,r.next.prev=n,r.next=n):(n.prev=n,n.next=n),n}function _m(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Sm(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function km(e,t,i,r){for(var n=0,s=t,a=i-r;s<i;s+=r)n+=(e[a]-e[s])*(e[s+1]+e[a+1]),a=s;return n}qf.exports=$f,qf.exports.default=$f,$f.deviation=function(e,t,i,r){var n=t&&t.length,s=n?t[0]*i:e.length,a=Math.abs(km(e,0,s,i));if(n)for(var o=0,l=t.length;o<l;o++){var h=t[o]*i,u=o<l-1?t[o+1]*i:e.length;a-=Math.abs(km(e,h,u,i))}var d=0;for(o=0;o<r.length;o+=3){var c=r[o]*i,p=r[o+1]*i,g=r[o+2]*i;d+=Math.abs((e[c]-e[g])*(e[p+1]-e[c+1])-(e[c]-e[p])*(e[g+1]-e[c+1]))}return 0===a&&0===d?0:Math.abs((d-a)/a)},$f.flatten=function(e){for(var t=e[0][0].length,i={vertices:[],holes:[],dimensions:t},r=0,n=0;n<e.length;n++){for(var s=0;s<e[n].length;s++)for(var a=0;a<t;a++)i.vertices.push(e[n][s][a]);n>0&&(r+=e[n-1].length,i.holes.push(r))}return i};var Tm={exports:{}};
/*! https://mths.be/punycode v1.3.2 by @mathias */!function(t,i){!function(r){var n=i&&!i.nodeType&&i,s=t&&!t.nodeType&&t,a="object"==typeof e&&e;a.global!==a&&a.window!==a&&a.self!==a||(r=a);var o,l,h=2147483647,u=36,d=/^xn--/,c=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,m=String.fromCharCode;function C(e){throw RangeError(g[e])}function y(e,t){for(var i=e.length,r=[];i--;)r[i]=t(e[i]);return r}function b(e,t){var i=e.split("@"),r="";return i.length>1&&(r=i[0]+"@",e=i[1]),r+y((e=e.replace(p,".")).split("."),t).join(".")}function I(e){for(var t,i,r=[],n=0,s=e.length;n<s;)(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<s?56320==(64512&(i=e.charCodeAt(n++)))?r.push(((1023&t)<<10)+(1023&i)+65536):(r.push(t),n--):r.push(t);return r}function v(e){return y(e,(function(e){var t="";return e>65535&&(t+=m((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=m(e)})).join("")}function _(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function S(e,t,i){var r=0;for(e=i?f(e/700):e>>1,e+=f(e/t);e>455;r+=u)e=f(e/35);return f(r+36*e/(e+38))}function k(e){var t,i,r,n,s,a,o,l,d,c,p,g=[],m=e.length,y=0,b=128,I=72;for((i=e.lastIndexOf("-"))<0&&(i=0),r=0;r<i;++r)e.charCodeAt(r)>=128&&C("not-basic"),g.push(e.charCodeAt(r));for(n=i>0?i+1:0;n<m;){for(s=y,a=1,o=u;n>=m&&C("invalid-input"),((l=(p=e.charCodeAt(n++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:u)>=u||l>f((h-y)/a))&&C("overflow"),y+=l*a,!(l<(d=o<=I?1:o>=I+26?26:o-I));o+=u)a>f(h/(c=u-d))&&C("overflow"),a*=c;I=S(y-s,t=g.length+1,0==s),f(y/t)>h-b&&C("overflow"),b+=f(y/t),y%=t,g.splice(y++,0,b)}return v(g)}function T(e){var t,i,r,n,s,a,o,l,d,c,p,g,y,b,v,k=[];for(g=(e=I(e)).length,t=128,i=0,s=72,a=0;a<g;++a)(p=e[a])<128&&k.push(m(p));for(r=n=k.length,n&&k.push("-");r<g;){for(o=h,a=0;a<g;++a)(p=e[a])>=t&&p<o&&(o=p);for(o-t>f((h-i)/(y=r+1))&&C("overflow"),i+=(o-t)*y,t=o,a=0;a<g;++a)if((p=e[a])<t&&++i>h&&C("overflow"),p==t){for(l=i,d=u;!(l<(c=d<=s?1:d>=s+26?26:d-s));d+=u)v=l-c,b=u-c,k.push(m(_(c+v%b,0))),l=f(v/b);k.push(m(_(l,0))),s=S(i,y,r==n),i=0,++r}++i,++t}return k.join("")}if(o={version:"1.3.2",ucs2:{decode:I,encode:v},decode:k,encode:T,toASCII:function(e){return b(e,(function(e){return c.test(e)?"xn--"+T(e):e}))},toUnicode:function(e){return b(e,(function(e){return d.test(e)?k(e.slice(4).toLowerCase()):e}))}},n&&s)if(t.exports==n)s.exports=o;else for(l in o)o.hasOwnProperty(l)&&(n[l]=o[l]);else r.punycode=o}(e)}(Tm,Tm.exports);var Am={};function wm(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var Em=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};Am.decode=Am.parse=function(e,t,i,r){t=t||"&",i=i||"=";var n={};if("string"!=typeof e||0===e.length)return n;var s=/\+/g;e=e.split(t);var a=1e3;r&&"number"==typeof r.maxKeys&&(a=r.maxKeys);var o=e.length;a>0&&o>a&&(o=a);for(var l=0;l<o;++l){var h,u,d,c,p=e[l].replace(s,"%20"),g=p.indexOf(i);g>=0?(h=p.substr(0,g),u=p.substr(g+1)):(h=p,u=""),d=decodeURIComponent(h),c=decodeURIComponent(u),wm(n,d)?Array.isArray(n[d])?n[d].push(c):n[d]=[n[d],c]:n[d]=c}return n},Am.encode=Am.stringify=function(e,t,i,r){return t=t||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(r){var n=encodeURIComponent(Em(r))+i;return Array.isArray(e[r])?e[r].map((function(e){return n+encodeURIComponent(Em(e))})).join(t):n+encodeURIComponent(Em(e[r]))})).join(t):r?encodeURIComponent(Em(r))+i+encodeURIComponent(Em(e)):""};var Jm=Tm.exports,Rm={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}},xm=pC,Gm=function(e,t){return pC(e,!1,!0).resolve(t)},Dm=function(e){Rm.isString(e)&&(e=pC(e));return e instanceof Bm?e.format():Bm.prototype.format.call(e)};function Bm(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Nm,Qm,Mm,Zm,Pm,Om,Lm,Xm,Vm,Fm,Wm,Um,Hm,Km,Ym,zm,jm,qm,$m,eC=/^([a-z0-9.+-]+:)/i,tC=/:[0-9]*$/,iC=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,rC=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),nC=["'"].concat(rC),sC=["%","/","?",";","#"].concat(nC),aC=["/","?","#"],oC=/^[+a-z0-9A-Z_-]{0,63}$/,lC=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,hC={javascript:!0,"javascript:":!0},uC={javascript:!0,"javascript:":!0},dC={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},cC=Am;function pC(e,t,i){if(e&&Rm.isObject(e)&&e instanceof Bm)return e;var r=new Bm;return r.parse(e,t,i),r}Bm.prototype.parse=function(e,t,i){if(!Rm.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),n=-1!==r&&r<e.indexOf("#")?"?":"#",s=e.split(n);s[0]=s[0].replace(/\\/g,"/");var a=e=s.join(n);if(a=a.trim(),!i&&1===e.split("#").length){var o=iC.exec(a);if(o)return this.path=a,this.href=a,this.pathname=o[1],o[2]?(this.search=o[2],this.query=t?cC.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=eC.exec(a);if(l){var h=(l=l[0]).toLowerCase();this.protocol=h,a=a.substr(l.length)}if(i||l||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var u="//"===a.substr(0,2);!u||l&&uC[l]||(a=a.substr(2),this.slashes=!0)}if(!uC[l]&&(u||l&&!dC[l])){for(var d,c,p=-1,g=0;g<aC.length;g++){-1!==(f=a.indexOf(aC[g]))&&(-1===p||f<p)&&(p=f)}-1!==(c=-1===p?a.lastIndexOf("@"):a.lastIndexOf("@",p))&&(d=a.slice(0,c),a=a.slice(c+1),this.auth=decodeURIComponent(d)),p=-1;for(g=0;g<sC.length;g++){var f;-1!==(f=a.indexOf(sC[g]))&&(-1===p||f<p)&&(p=f)}-1===p&&(p=a.length),this.host=a.slice(0,p),a=a.slice(p),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var C=this.hostname.split(/\./),y=(g=0,C.length);g<y;g++){var b=C[g];if(b&&!b.match(oC)){for(var I="",v=0,_=b.length;v<_;v++)b.charCodeAt(v)>127?I+="x":I+=b[v];if(!I.match(oC)){var S=C.slice(0,g),k=C.slice(g+1),T=b.match(lC);T&&(S.push(T[1]),k.unshift(T[2])),k.length&&(a="/"+k.join(".")+a),this.hostname=S.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=Jm.toASCII(this.hostname));var A=this.port?":"+this.port:"",w=this.hostname||"";this.host=w+A,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!hC[h])for(g=0,y=nC.length;g<y;g++){var E=nC[g];if(-1!==a.indexOf(E)){var J=encodeURIComponent(E);J===E&&(J=escape(E)),a=a.split(E).join(J)}}var R=a.indexOf("#");-1!==R&&(this.hash=a.substr(R),a=a.slice(0,R));var x=a.indexOf("?");if(-1!==x?(this.search=a.substr(x),this.query=a.substr(x+1),t&&(this.query=cC.parse(this.query)),a=a.slice(0,x)):t&&(this.search="",this.query={}),a&&(this.pathname=a),dC[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){A=this.pathname||"";var G=this.search||"";this.path=A+G}return this.href=this.format(),this},Bm.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",i=this.pathname||"",r=this.hash||"",n=!1,s="";this.host?n=e+this.host:this.hostname&&(n=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&Rm.isObject(this.query)&&Object.keys(this.query).length&&(s=cC.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||dC[t])&&!1!==n?(n="//"+(n||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):n||(n=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+n+(i=i.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+r},Bm.prototype.resolve=function(e){return this.resolveObject(pC(e,!1,!0)).format()},Bm.prototype.resolveObject=function(e){if(Rm.isString(e)){var t=new Bm;t.parse(e,!1,!0),e=t}for(var i=new Bm,r=Object.keys(this),n=0;n<r.length;n++){var s=r[n];i[s]=this[s]}if(i.hash=e.hash,""===e.href)return i.href=i.format(),i;if(e.slashes&&!e.protocol){for(var a=Object.keys(e),o=0;o<a.length;o++){var l=a[o];"protocol"!==l&&(i[l]=e[l])}return dC[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(e.protocol&&e.protocol!==i.protocol){if(!dC[e.protocol]){for(var h=Object.keys(e),u=0;u<h.length;u++){var d=h[u];i[d]=e[d]}return i.href=i.format(),i}if(i.protocol=e.protocol,e.host||uC[e.protocol])i.pathname=e.pathname;else{for(var c=(e.pathname||"").split("/");c.length&&!(e.host=c.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),i.pathname=c.join("/")}if(i.search=e.search,i.query=e.query,i.host=e.host||"",i.auth=e.auth,i.hostname=e.hostname||e.host,i.port=e.port,i.pathname||i.search){var p=i.pathname||"",g=i.search||"";i.path=p+g}return i.slashes=i.slashes||e.slashes,i.href=i.format(),i}var f=i.pathname&&"/"===i.pathname.charAt(0),m=e.host||e.pathname&&"/"===e.pathname.charAt(0),C=m||f||i.host&&e.pathname,y=C,b=i.pathname&&i.pathname.split("/")||[],I=(c=e.pathname&&e.pathname.split("/")||[],i.protocol&&!dC[i.protocol]);if(I&&(i.hostname="",i.port=null,i.host&&(""===b[0]?b[0]=i.host:b.unshift(i.host)),i.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===c[0]?c[0]=e.host:c.unshift(e.host)),e.host=null),C=C&&(""===c[0]||""===b[0])),m)i.host=e.host||""===e.host?e.host:i.host,i.hostname=e.hostname||""===e.hostname?e.hostname:i.hostname,i.search=e.search,i.query=e.query,b=c;else if(c.length)b||(b=[]),b.pop(),b=b.concat(c),i.search=e.search,i.query=e.query;else if(!Rm.isNullOrUndefined(e.search)){if(I)i.hostname=i.host=b.shift(),(T=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=T.shift(),i.host=i.hostname=T.shift());return i.search=e.search,i.query=e.query,Rm.isNull(i.pathname)&&Rm.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!b.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var v=b.slice(-1)[0],_=(i.host||e.host||b.length>1)&&("."===v||".."===v)||""===v,S=0,k=b.length;k>=0;k--)"."===(v=b[k])?b.splice(k,1):".."===v?(b.splice(k,1),S++):S&&(b.splice(k,1),S--);if(!C&&!y)for(;S--;S)b.unshift("..");!C||""===b[0]||b[0]&&"/"===b[0].charAt(0)||b.unshift(""),_&&"/"!==b.join("/").substr(-1)&&b.push("");var T,A=""===b[0]||b[0]&&"/"===b[0].charAt(0);I&&(i.hostname=i.host=A?"":b.length?b.shift():"",(T=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=T.shift(),i.host=i.hostname=T.shift()));return(C=C||i.host&&b.length)&&!A&&b.unshift(""),b.length?i.pathname=b.join("/"):(i.pathname=null,i.path=null),Rm.isNull(i.pathname)&&Rm.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=e.auth||i.auth,i.slashes=i.slashes||e.slashes,i.href=i.format(),i},Bm.prototype.parseHost=function(){var e=this.host,t=tC.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(Nm||(Nm={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(Qm||(Qm={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(Mm||(Mm={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(Zm||(Zm={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Pm||(Pm={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Om||(Om={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Lm||(Lm={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(Xm||(Xm={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(Vm||(Vm={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(Fm||(Fm={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Wm||(Wm={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(Um||(Um={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(Hm||(Hm={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(Km||(Km={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(Ym||(Ym={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(zm||(zm={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(jm||(jm={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(qm||(qm={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}($m||($m={}));
/*!
 * @pixi/utils - v6.3.2
 * Compiled Wed, 04 May 2022 17:49:13 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var gC={parse:xm,format:Dm,resolve:Gm};Yf.RETINA_PREFIX=/@([0-9\.]+)x/,Yf.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var fC,mC=!1;var CC={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function yC(e,t){return void 0===t&&(t=[]),t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t}function bC(e){var t=e.toString(16);return"#"+(t="000000".substring(0,6-t.length)+t)}function IC(e){return"string"==typeof e&&"#"===(e=CC[e.toLowerCase()]||e)[0]&&(e=e.slice(1)),parseInt(e,16)}var vC=function(){for(var e=[],t=[],i=0;i<32;i++)e[i]=i,t[i]=i;e[Zm.NORMAL_NPM]=Zm.NORMAL,e[Zm.ADD_NPM]=Zm.ADD,e[Zm.SCREEN_NPM]=Zm.SCREEN,t[Zm.NORMAL]=Zm.NORMAL_NPM,t[Zm.ADD]=Zm.ADD_NPM,t[Zm.SCREEN]=Zm.SCREEN_NPM;var r=[];return r.push(t),r.push(e),r}();function _C(e,t){return vC[t?1:0][e]}function SC(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var i=e>>16&255,r=e>>8&255,n=255&e;return(255*t<<24)+((i=i*t+.5|0)<<16)+((r=r*t+.5|0)<<8)+(n=n*t+.5|0)}function kC(e,t,i,r){return(i=i||new Float32Array(4))[0]=(e>>16&255)/255,i[1]=(e>>8&255)/255,i[2]=(255&e)/255,(r||void 0===r)&&(i[0]*=t,i[1]*=t,i[2]*=t),i[3]=t,i}function TC(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}function AC(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1}function wC(e){return!(e&e-1||!e)}function EC(e){var t=(e>65535?1:0)<<4,i=((e>>>=t)>255?1:0)<<3;return t|=i,t|=i=((e>>>=i)>15?1:0)<<2,(t|=i=((e>>>=i)>3?1:0)<<1)|(e>>>=i)>>1}function JC(e,t,i){var r,n=e.length;if(!(t>=n||0===i)){var s=n-(i=t+i>n?n-t:i);for(r=t;r<s;++r)e[r]=e[r+i];e.length=s}}function RC(e){return 0===e?0:e<0?-1:1}var xC=0;function GC(){return++xC}var DC={};function BC(e,t,i){if(void 0===i&&(i=3),!DC[t]){var r=(new Error).stack;void 0===r?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e):(r=r.split("\n").splice(i).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+e),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e),console.warn(r))),DC[t]=!0}}var NC,QC={},MC=Object.create(null),ZC=Object.create(null),PC=function(){function e(e,t,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||Yf.RESOLUTION,this.resize(e,t)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(e,t){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(t*this.resolution)},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),e}();function OC(e,t){var i=Yf.RETINA_PREFIX.exec(e);return i?parseFloat(i[1]):void 0!==t?t:1}
/*!
 * @pixi/math - v6.3.2
 * Compiled Wed, 04 May 2022 17:49:13 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var LC,XC=2*Math.PI,VC=180/Math.PI,FC=Math.PI/180;!function(e){e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC"}(LC||(LC={}));var WC=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=0,this.y=0,this.x=e,this.y=t}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},e.prototype.copyTo=function(e){return e.set(this.x,this.y),e},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x=e,this.y=t,this},e.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},e}(),UC=[new WC,new WC,new WC,new WC],HC=function(){function e(e,t,i,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(e),this.y=Number(t),this.width=Number(i),this.height=Number(r),this.type=LC.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},e.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},e.prototype.contains=function(e,t){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)},e.prototype.intersects=function(e,t){if(!t){var i=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=i)return!1;var r=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>r}var n=this.left,s=this.right,a=this.top,o=this.bottom;if(s<=n||o<=a)return!1;var l=UC[0].set(e.left,e.top),h=UC[1].set(e.left,e.bottom),u=UC[2].set(e.right,e.top),d=UC[3].set(e.right,e.bottom);if(u.x<=l.x||h.y<=l.y)return!1;var c=Math.sign(t.a*t.d-t.b*t.c);if(0===c)return!1;if(t.apply(l,l),t.apply(h,h),t.apply(u,u),t.apply(d,d),Math.max(l.x,h.x,u.x,d.x)<=n||Math.min(l.x,h.x,u.x,d.x)>=s||Math.max(l.y,h.y,u.y,d.y)<=a||Math.min(l.y,h.y,u.y,d.y)>=o)return!1;var p=c*(h.y-l.y),g=c*(l.x-h.x),f=p*n+g*a,m=p*s+g*a,C=p*n+g*o,y=p*s+g*o;if(Math.max(f,m,C,y)<=p*l.x+g*l.y||Math.min(f,m,C,y)>=p*d.x+g*d.y)return!1;var b=c*(l.y-u.y),I=c*(u.x-l.x),v=b*n+I*a,_=b*s+I*a,S=b*n+I*o,k=b*s+I*o;return!(Math.max(v,_,S,k)<=b*l.x+I*l.y||Math.min(v,_,S,k)>=b*d.x+I*d.y)},e.prototype.pad=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},e.prototype.fit=function(e){var t=Math.max(this.x,e.x),i=Math.min(this.x+this.width,e.x+e.width),r=Math.max(this.y,e.y),n=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(i-t,0),this.y=r,this.height=Math.max(n-r,0),this},e.prototype.ceil=function(e,t){void 0===e&&(e=1),void 0===t&&(t=.001);var i=Math.ceil((this.x+this.width-t)*e)/e,r=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=i-this.x,this.height=r-this.y,this},e.prototype.enlarge=function(e){var t=Math.min(this.x,e.x),i=Math.max(this.x+this.width,e.x+e.width),r=Math.min(this.y,e.y),n=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=i-t,this.y=r,this.height=n-r,this},e.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),KC=function(){function e(e,t,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),this.x=e,this.y=t,this.radius=i,this.type=LC.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(e,t){if(this.radius<=0)return!1;var i=this.radius*this.radius,r=this.x-e,n=this.y-t;return(r*=r)+(n*=n)<=i},e.prototype.getBounds=function(){return new HC(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},e.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},e}(),YC=function(){function e(e,t,i,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=e,this.y=t,this.width=i,this.height=r,this.type=LC.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var i=(e-this.x)/this.width,r=(t-this.y)/this.height;return(i*=i)+(r*=r)<=1},e.prototype.getBounds=function(){return new HC(this.x-this.width,this.y-this.height,this.width,this.height)},e.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),zC=function(){function e(){for(var e=arguments,t=[],i=0;i<arguments.length;i++)t[i]=e[i];var r=Array.isArray(t[0])?t[0]:t;if("number"!=typeof r[0]){for(var n=[],s=0,a=r.length;s<a;s++)n.push(r[s].x,r[s].y);r=n}this.points=r,this.type=LC.POLY,this.closeStroke=!0}return e.prototype.clone=function(){var t=new e(this.points.slice());return t.closeStroke=this.closeStroke,t},e.prototype.contains=function(e,t){for(var i=!1,r=this.points.length/2,n=0,s=r-1;n<r;s=n++){var a=this.points[2*n],o=this.points[2*n+1],l=this.points[2*s],h=this.points[2*s+1];o>t!=h>t&&e<(t-o)/(h-o)*(l-a)+a&&(i=!i)}return i},e.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce((function(e,t){return e+", "+t}),"")+"]"},e}(),jC=function(){function e(e,t,i,r,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=20),this.x=e,this.y=t,this.width=i,this.height=r,this.radius=n,this.type=LC.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){var i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+i&&t<=this.y+this.height-i||e>=this.x+i&&e<=this.x+this.width-i)return!0;var r=e-(this.x+i),n=t-(this.y+i),s=i*i;if(r*r+n*n<=s)return!0;if((r=e-(this.x+this.width-i))*r+n*n<=s)return!0;if(r*r+(n=t-(this.y+this.height-i))*n<=s)return!0;if((r=e-(this.x+i))*r+n*n<=s)return!0}return!1},e.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},e}(),qC=function(){function e(e,t,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=e,this.scope=t}return e.prototype.clone=function(t,i){return void 0===t&&(t=this.cb),void 0===i&&(i=this.scope),new e(t,i,this._x,this._y)},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this._x===e&&this._y===t||(this._x=e,this._y=t,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(e){return this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(e){return e.set(this._x,this._y),e},e.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},e.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),e}(),$C=function(){function e(e,t,i,r,n,s){void 0===e&&(e=1),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=0),void 0===s&&(s=0),this.array=null,this.a=e,this.b=t,this.c=i,this.d=r,this.tx=n,this.ty=s}return e.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},e.prototype.set=function(e,t,i,r,n,s){return this.a=e,this.b=t,this.c=i,this.d=r,this.tx=n,this.ty=s,this},e.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var i=t||this.array;return e?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},e.prototype.apply=function(e,t){t=t||new WC;var i=e.x,r=e.y;return t.x=this.a*i+this.c*r+this.tx,t.y=this.b*i+this.d*r+this.ty,t},e.prototype.applyInverse=function(e,t){t=t||new WC;var i=1/(this.a*this.d+this.c*-this.b),r=e.x,n=e.y;return t.x=this.d*i*r+-this.c*i*n+(this.ty*this.c-this.tx*this.d)*i,t.y=this.a*i*n+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,t},e.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},e.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},e.prototype.rotate=function(e){var t=Math.cos(e),i=Math.sin(e),r=this.a,n=this.c,s=this.tx;return this.a=r*t-this.b*i,this.b=r*i+this.b*t,this.c=n*t-this.d*i,this.d=n*i+this.d*t,this.tx=s*t-this.ty*i,this.ty=s*i+this.ty*t,this},e.prototype.append=function(e){var t=this.a,i=this.b,r=this.c,n=this.d;return this.a=e.a*t+e.b*r,this.b=e.a*i+e.b*n,this.c=e.c*t+e.d*r,this.d=e.c*i+e.d*n,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*i+e.ty*n+this.ty,this},e.prototype.setTransform=function(e,t,i,r,n,s,a,o,l){return this.a=Math.cos(a+l)*n,this.b=Math.sin(a+l)*n,this.c=-Math.sin(a-o)*s,this.d=Math.cos(a-o)*s,this.tx=e-(i*this.a+r*this.c),this.ty=t-(i*this.b+r*this.d),this},e.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var i=this.a,r=this.c;this.a=i*e.a+this.b*e.c,this.b=i*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},e.prototype.decompose=function(e){var t=this.a,i=this.b,r=this.c,n=this.d,s=e.pivot,a=-Math.atan2(-r,n),o=Math.atan2(i,t),l=Math.abs(a+o);return l<1e-5||Math.abs(XC-l)<1e-5?(e.rotation=o,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=o),e.scale.x=Math.sqrt(t*t+i*i),e.scale.y=Math.sqrt(r*r+n*n),e.position.x=this.tx+(s.x*t+s.y*r),e.position.y=this.ty+(s.x*i+s.y*n),e},e.prototype.invert=function(){var e=this.a,t=this.b,i=this.c,r=this.d,n=this.tx,s=e*r-t*i;return this.a=r/s,this.b=-t/s,this.c=-i/s,this.d=e/s,this.tx=(i*this.ty-r*n)/s,this.ty=-(e*this.ty-t*n)/s,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},e.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},e.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!1,configurable:!0}),e}(),ey=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ty=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],iy=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ry=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],ny=[],sy=[],ay=Math.sign;!function(){for(var e=0;e<16;e++){var t=[];ny.push(t);for(var i=0;i<16;i++)for(var r=ay(ey[e]*ey[i]+iy[e]*ty[i]),n=ay(ty[e]*ey[i]+ry[e]*ty[i]),s=ay(ey[e]*iy[i]+iy[e]*ry[i]),a=ay(ty[e]*iy[i]+ry[e]*ry[i]),o=0;o<16;o++)if(ey[o]===r&&ty[o]===n&&iy[o]===s&&ry[o]===a){t.push(o);break}}for(e=0;e<16;e++){var l=new $C;l.set(ey[e],ty[e],iy[e],ry[e],0,0),sy.push(l)}}();var oy={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return ey[e]},uY:function(e){return ty[e]},vX:function(e){return iy[e]},vY:function(e){return ry[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return ny[e][t]},sub:function(e,t){return ny[e][oy.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2==(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?t>=0?oy.S:oy.N:2*Math.abs(t)<=Math.abs(e)?e>0?oy.E:oy.W:t>0?e>0?oy.SE:oy.SW:e>0?oy.NE:oy.NW},matrixAppendRotationInv:function(e,t,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var n=sy[oy.inv(t)];n.tx=i,n.ty=r,e.append(n)}},ly=function(){function e(){this.worldTransform=new $C,this.localTransform=new $C,this.position=new qC(this.onChange,this,0,0),this.scale=new qC(this.onChange,this,1,1),this.pivot=new qC(this.onChange,this,0,0),this.skew=new qC(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},e.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},e.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var i=e.worldTransform,r=this.worldTransform;r.a=t.a*i.a+t.b*i.c,r.b=t.a*i.b+t.b*i.d,r.c=t.c*i.a+t.d*i.c,r.d=t.c*i.b+t.d*i.d,r.tx=t.tx*i.a+t.ty*i.c+i.tx,r.ty=t.tx*i.b+t.ty*i.d+i.ty,this._parentID=e._worldID,this._worldID++}},e.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),e.IDENTITY=new e,e}();
/*!
 * @pixi/display - v6.3.2
 * Compiled Wed, 04 May 2022 17:49:13 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
Yf.SORTABLE_CHILDREN=!1;var hy=function(){function e(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},e.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?HC.EMPTY:((e=e||new HC(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},e.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},e.prototype.addPointMatrix=function(e,t){var i=e.a,r=e.b,n=e.c,s=e.d,a=e.tx,o=e.ty,l=i*t.x+n*t.y+a,h=r*t.x+s*t.y+o;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)},e.prototype.addQuad=function(e){var t=this.minX,i=this.minY,r=this.maxX,n=this.maxY,s=e[0],a=e[1];t=s<t?s:t,i=a<i?a:i,r=s>r?s:r,n=a>n?a:n,t=(s=e[2])<t?s:t,i=(a=e[3])<i?a:i,r=s>r?s:r,n=a>n?a:n,t=(s=e[4])<t?s:t,i=(a=e[5])<i?a:i,r=s>r?s:r,n=a>n?a:n,t=(s=e[6])<t?s:t,i=(a=e[7])<i?a:i,r=s>r?s:r,n=a>n?a:n,this.minX=t,this.minY=i,this.maxX=r,this.maxY=n},e.prototype.addFrame=function(e,t,i,r,n){this.addFrameMatrix(e.worldTransform,t,i,r,n)},e.prototype.addFrameMatrix=function(e,t,i,r,n){var s=e.a,a=e.b,o=e.c,l=e.d,h=e.tx,u=e.ty,d=this.minX,c=this.minY,p=this.maxX,g=this.maxY,f=s*t+o*i+h,m=a*t+l*i+u;d=f<d?f:d,c=m<c?m:c,p=f>p?f:p,g=m>g?m:g,d=(f=s*r+o*i+h)<d?f:d,c=(m=a*r+l*i+u)<c?m:c,p=f>p?f:p,g=m>g?m:g,d=(f=s*t+o*n+h)<d?f:d,c=(m=a*t+l*n+u)<c?m:c,p=f>p?f:p,g=m>g?m:g,d=(f=s*r+o*n+h)<d?f:d,c=(m=a*r+l*n+u)<c?m:c,p=f>p?f:p,g=m>g?m:g,this.minX=d,this.minY=c,this.maxX=p,this.maxY=g},e.prototype.addVertexData=function(e,t,i){for(var r=this.minX,n=this.minY,s=this.maxX,a=this.maxY,o=t;o<i;o+=2){var l=e[o],h=e[o+1];r=l<r?l:r,n=h<n?h:n,s=l>s?l:s,a=h>a?h:a}this.minX=r,this.minY=n,this.maxX=s,this.maxY=a},e.prototype.addVertices=function(e,t,i,r){this.addVerticesMatrix(e.worldTransform,t,i,r)},e.prototype.addVerticesMatrix=function(e,t,i,r,n,s){void 0===n&&(n=0),void 0===s&&(s=n);for(var a=e.a,o=e.b,l=e.c,h=e.d,u=e.tx,d=e.ty,c=this.minX,p=this.minY,g=this.maxX,f=this.maxY,m=i;m<r;m+=2){var C=t[m],y=t[m+1],b=a*C+l*y+u,I=h*y+o*C+d;c=Math.min(c,b-n),g=Math.max(g,b+n),p=Math.min(p,I-s),f=Math.max(f,I+s)}this.minX=c,this.minY=p,this.maxX=g,this.maxY=f},e.prototype.addBounds=function(e){var t=this.minX,i=this.minY,r=this.maxX,n=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<i?e.minY:i,this.maxX=e.maxX>r?e.maxX:r,this.maxY=e.maxY>n?e.maxY:n},e.prototype.addBoundsMask=function(e,t){var i=e.minX>t.minX?e.minX:t.minX,r=e.minY>t.minY?e.minY:t.minY,n=e.maxX<t.maxX?e.maxX:t.maxX,s=e.maxY<t.maxY?e.maxY:t.maxY;if(i<=n&&r<=s){var a=this.minX,o=this.minY,l=this.maxX,h=this.maxY;this.minX=i<a?i:a,this.minY=r<o?r:o,this.maxX=n>l?n:l,this.maxY=s>h?s:h}},e.prototype.addBoundsMatrix=function(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)},e.prototype.addBoundsArea=function(e,t){var i=e.minX>t.x?e.minX:t.x,r=e.minY>t.y?e.minY:t.y,n=e.maxX<t.x+t.width?e.maxX:t.x+t.width,s=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(i<=n&&r<=s){var a=this.minX,o=this.minY,l=this.maxX,h=this.maxY;this.minX=i<a?i:a,this.minY=r<o?r:o,this.maxX=n>l?n:l,this.maxY=s>h?s:h}},e.prototype.pad=function(e,t){void 0===e&&(e=0),void 0===t&&(t=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)},e.prototype.addFramePad=function(e,t,i,r,n,s){e-=n,t-=s,i+=n,r+=s,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>r?this.maxY:r},e}(),uy=function(e,t){return uy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},uy(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function dy(e,t){function i(){this.constructor=e}uy(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var cy,py,gy,fy,my,Cy,yy,by,Iy,vy,_y,Sy,ky,Ty,Ay,wy,Ey,Jy,Ry,xy=function(e){function t(){var t=e.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new ly,t.alpha=1,t.visible=!0,t.renderable=!0,t.cullable=!1,t.cullArea=null,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new hy,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._maskRefCount=0,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}return dy(t,e),t.mixin=function(e){for(var i=Object.keys(e),r=0;r<i.length;++r){var n=i[r];Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e,n))}},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new HC),t=this._boundsRect),this._bounds.getRectangle(t)},t.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new HC),e=this._localBoundsRect),this._localBounds||(this._localBounds=new hy);var t=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var r=this._bounds,n=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,e);return this.parent=i,this.transform=t,this._bounds=r,this._bounds.updateID+=this._boundsID-n,s},t.prototype.toGlobal=function(e,t,i){return void 0===i&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},t.prototype.toLocal=function(e,t,i,r){return t&&(e=t.toGlobal(e,i,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,i)},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(e,t,i,r,n,s,a,o,l){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=1),void 0===r&&(r=1),void 0===n&&(n=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===l&&(l=0),this.position.x=e,this.position.y=t,this.scale.x=i||1,this.scale.y=r||1,this.rotation=n,this.skew.x=s,this.skew.y=a,this.pivot.x=o,this.pivot.y=l,this},t.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new Gy),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},t.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*VC},set:function(e){this.transform.rotation=e*FC},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(e){if(this._mask!==e){var t;if(this._mask)(t=this._mask.maskObject||this._mask)._maskRefCount--,0===t._maskRefCount&&(t.renderable=!0,t.isMask=!1);if(this._mask=e,this._mask)0===(t=this._mask.maskObject||this._mask)._maskRefCount&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++}},enumerable:!1,configurable:!0}),t}(jf),Gy=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortDirty=null,t}return dy(t,e),t}(xy);function Dy(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}xy.prototype.displayObjectUpdateTransform=xy.prototype.updateTransform,function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(cy||(cy={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(py||(py={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(gy||(gy={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(fy||(fy={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(my||(my={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Cy||(Cy={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(yy||(yy={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(by||(by={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(Iy||(Iy={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(vy||(vy={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(_y||(_y={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(Sy||(Sy={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(ky||(ky={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(Ty||(Ty={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(Ay||(Ay={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(wy||(wy={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(Ey||(Ey={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(Jy||(Jy={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(Ry||(Ry={}));var By=function(e){function t(){var t=e.call(this)||this;return t.children=[],t.sortableChildren=Yf.SORTABLE_CHILDREN,t.sortDirty=!1,t}return dy(t,e),t.prototype.onChildrenChange=function(e){},t.prototype.addChild=function(){for(var e=arguments,t=[],i=0;i<arguments.length;i++)t[i]=e[i];if(t.length>1)for(var r=0;r<t.length;r++)this.addChild(t[r]);else{var n=t[0];n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return t[0]},t.prototype.addChildAt=function(e,t){if(t<0||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e},t.prototype.swapChildren=function(e,t){if(e!==t){var i=this.getChildIndex(e),r=this.getChildIndex(t);this.children[i]=t,this.children[r]=e,this.onChildrenChange(i<r?i:r)}},t.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},t.prototype.setChildIndex=function(e,t){if(t<0||t>=this.children.length)throw new Error("The index "+t+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(e);JC(this.children,i,1),this.children.splice(t,0,e),this.onChildrenChange(t)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(){for(var e=arguments,t=[],i=0;i<arguments.length;i++)t[i]=e[i];if(t.length>1)for(var r=0;r<t.length;r++)this.removeChild(t[r]);else{var n=t[0],s=this.children.indexOf(n);if(-1===s)return null;n.parent=null,n.transform._parentID=-1,JC(this.children,s,1),this._boundsID++,this.onChildrenChange(s),n.emit("removed",this),this.emit("childRemoved",n,this,s)}return t[0]},t.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,JC(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t},t.prototype.removeChildren=function(e,t){void 0===e&&(e=0),void 0===t&&(t=this.children.length);var i,r=e,n=t-r;if(n>0&&n<=t){i=this.children.splice(r,n);for(var s=0;s<i.length;++s)i[s].parent=null,i[s].transform&&(i[s].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(s=0;s<i.length;++s)i[s].emit("removed",this),this.emit("childRemoved",i[s],this,s);return i}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var e=!1,t=0,i=this.children.length;t<i;++t){var r=this.children[t];r._lastSortedIndex=t,e||0===r.zIndex||(e=!0)}e&&this.children.length>1&&this.children.sort(Dy),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var i=this.children[e];i.visible&&i.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];if(t.visible&&t.renderable)if(t.calculateBounds(),t._mask){var i=t._mask.maskObject||t._mask;i.calculateBounds(),this._bounds.addBoundsMask(t._bounds,i._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(t,i){void 0===i&&(i=!1);var r=e.prototype.getLocalBounds.call(this,t);if(!i)for(var n=0,s=this.children.length;n<s;++n){var a=this.children[n];a.visible&&a.updateTransform()}return r},t.prototype._calculateBounds=function(){},t.prototype._renderWithCulling=function(e){var i=e.renderTexture.sourceFrame;if(i.width>0&&i.height>0){var r,n;if(this.cullArea?(r=this.cullArea,n=this.worldTransform):this._render!==t.prototype._render&&(r=this.getBounds(!0)),r&&i.intersects(r,n))this._render(e);else if(this.cullArea)return;for(var s=0,a=this.children.length;s<a;++s){var o=this.children[s],l=o.cullable;o.cullable=l||!this.cullArea,o.render(e),o.cullable=l}}},t.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(var t=0,i=this.children.length;t<i;++t)this.children[t].render(e)}},t.prototype.renderAdvanced=function(e){var t=this.filters,i=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<t.length;r++)t[r].enabled&&this._enabledFilters.push(t[r])}var n=t&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==Ey.NONE));if(n&&e.batch.flush(),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.push(this,this._enabledFilters),i&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);r=0;for(var s=this.children.length;r<s;++r)this.children[r].render(e)}n&&e.batch.flush(),i&&e.mask.pop(this),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype._render=function(e){},t.prototype.destroy=function(t){e.prototype.destroy.call(this),this.sortDirty=!1;var i="boolean"==typeof t?t:t&&t.children,r=this.removeChildren(0,this.children.length);if(i)for(var n=0;n<r.length;++n)r[n].destroy(t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e},enumerable:!1,configurable:!0}),t}(xy);By.prototype.containerUpdateTransform=By.prototype.updateTransform;xy.mixin({accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1});var Ny,Qy=function(){function e(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Kf.tablet||Kf.phone)&&this.createTouchHook();var t=document.createElement("div");t.style.width="100px",t.style.height="100px",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.zIndex=2..toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var e=this,t=document.createElement("button");t.style.width="1px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",t.style.zIndex=2..toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",(function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()})),document.body.appendChild(t),this._hookDiv=t},e.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(e=this.renderer.view.parentNode)||void 0===e||e.appendChild(this.div))},e.prototype.deactivate=function(){var e;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(e=this.div.parentNode)||void 0===e||e.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(e){if(e.visible&&e.accessibleChildren){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var t=e.children;if(t)for(var i=0;i<t.length;i++)this.updateAccessibleObjects(t[i])}},e.prototype.update=function(){var e=performance.now();if(!(Kf.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),i=t.left,r=t.top,n=t.width,s=t.height,a=this.renderer,o=a.width,l=a.height,h=a.resolution,u=n/o*h,d=s/l*h,c=this.div;c.style.left=i+"px",c.style.top=r+"px",c.style.width=o+"px",c.style.height=l+"px";for(var p=0;p<this.children.length;p++){var g=this.children[p];if(g.renderId!==this.renderId)g._accessibleActive=!1,JC(this.children,p,1),this.div.removeChild(g._accessibleDiv),this.pool.push(g._accessibleDiv),g._accessibleDiv=null,p--;else{c=g._accessibleDiv;var f=g.hitArea,m=g.worldTransform;g.hitArea?(c.style.left=(m.tx+f.x*m.a)*u+"px",c.style.top=(m.ty+f.y*m.d)*d+"px",c.style.width=f.width*m.a*u+"px",c.style.height=f.height*m.d*d+"px"):(f=g.getBounds(),this.capHitArea(f),c.style.left=f.x*u+"px",c.style.top=f.y*d+"px",c.style.width=f.width*u+"px",c.style.height=f.height*d+"px",c.title!==g.accessibleTitle&&null!==g.accessibleTitle&&(c.title=g.accessibleTitle),c.getAttribute("aria-label")!==g.accessibleHint&&null!==g.accessibleHint&&c.setAttribute("aria-label",g.accessibleHint)),g.accessibleTitle===c.title&&g.tabIndex===c.tabIndex||(c.title=g.accessibleTitle,c.tabIndex=g.tabIndex,this.debug&&this.updateDebugHTML(c))}}this.renderId++}},e.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},e.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var t=this.renderer,i=t.width,r=t.height;e.x+e.width>i&&(e.width=i-e.x),e.y+e.height>r&&(e.height=r-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||((t=document.createElement("button")).style.width="100px",t.style.height="100px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2..toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title="displayObject "+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(e){var t=this.renderer.plugins.interaction,i=e.target.displayObject,r=t.eventData;t.dispatchEvent(i,"click",r),t.dispatchEvent(i,"pointertap",r),t.dispatchEvent(i,"tap",r)},e.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var t=this.renderer.plugins.interaction,i=e.target.displayObject,r=t.eventData;t.dispatchEvent(i,"mouseover",r)},e.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var t=this.renderer.plugins.interaction,i=e.target.displayObject,r=t.eventData;t.dispatchEvent(i,"mouseout",r)},e.prototype._onKeyDown=function(e){9===e.keyCode&&this.activate()},e.prototype._onMouseMove=function(e){0===e.movementX&&0===e.movementY||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();
/*!
 * @pixi/ticker - v6.3.2
 * Compiled Wed, 04 May 2022 17:49:13 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
Yf.TARGET_FPMS=.06,function(e){e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY"}(Ny||(Ny={}));var My=function(){function e(e,t,i,r){void 0===t&&(t=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=i,this.once=r}return e.prototype.match=function(e,t){return void 0===t&&(t=null),this.fn===e&&this.context===t},e.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},e.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},e.prototype.destroy=function(e){void 0===e&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t},e}(),Zy=function(){function e(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new My(null,null,1/0),this.deltaMS=1/Yf.TARGET_FPMS,this.elapsedMS=1/Yf.TARGET_FPMS,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return e.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(e,t,i){return void 0===i&&(i=Ny.NORMAL),this._addListener(new My(e,t,i))},e.prototype.addOnce=function(e,t,i){return void 0===i&&(i=Ny.NORMAL),this._addListener(new My(e,t,i,!0))},e.prototype._addListener=function(e){var t=this._head.next,i=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(i);break}i=t,t=t.next}e.previous||e.connect(i)}else e.connect(i);return this._startIfPossible(),this},e.prototype.remove=function(e,t){for(var i=this._head.next;i;)i=i.match(e,t)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,t=this._head;t=t.next;)e++;return e},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(e){var t;if(void 0===e&&(e=performance.now()),e>this.lastTime){if((t=this.elapsedMS=e-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var i=e-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=e-i%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*Yf.TARGET_FPMS;for(var r=this._head,n=r.next;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(this.maxFPS,e),i=Math.min(Math.max(0,t)/1e3,Yf.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(0===e)this._minElapsedMS=0;else{var t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!1,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!1,configurable:!0}),e}(),Py=function(){function e(){}return e.init=function(e){var t=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,Ny.LOW)},get:function(){return this._ticker}}),this.stop=function(){t._ticker.stop()},this.start=function(){t._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Zy.shared:new Zy,e.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},e}(),Oy=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new WC,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(e,t,i){return e.worldTransform.applyInverse(i||this.global,t)},e.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var t="buttons"in e&&e.buttons;this.buttons=Number.isInteger(t)?t:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}(),Ly=function(e,t){return Ly=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},Ly(e,t)};var Xy=function(){function e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},e}(),Vy=function(){function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(e,t){this._flags=t?this._flags|e:this._flags&~e},Object.defineProperty(e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this._flags===e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return 0!=(this._flags&e.FLAGS.OVER)},set:function(t){this._doSet(e.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightDown",{get:function(){return 0!=(this._flags&e.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(e.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftDown",{get:function(){return 0!=(this._flags&e.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(e.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),e.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),e}(),Fy=function(){function e(){this._tempPoint=new WC}return e.prototype.recursiveFindHit=function(e,t,i,r,n){if(!t||!t.visible)return!1;var s=e.data.global,a=!1,o=n=t.interactive||n,l=!0;if(t.hitArea?(r&&(t.worldTransform.applyInverse(s,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(r=!1,l=!1)),o=!1):t._mask&&r&&(t._mask.containsPoint&&t._mask.containsPoint(s)||(r=!1)),l&&t.interactiveChildren&&t.children)for(var h=t.children,u=h.length-1;u>=0;u--){var d=h[u],c=this.recursiveFindHit(e,d,i,r,o);if(c){if(!d.parent)continue;o=!1,c&&(e.target&&(r=!1),a=!0)}}return n&&(r&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(s)&&(a=!0),t.interactive&&(a&&!e.target&&(e.target=t),i&&i(e,t,!!a))),a},e.prototype.findHit=function(e,t,i,r){this.recursiveFindHit(e,t,i,r,!1)},e}(),Wy={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(e){e?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};xy.mixin(Wy);var Uy={target:null,data:{global:null}},Hy=function(e){function t(t,i){var r=e.call(this)||this;return i=i||{},r.renderer=t,r.autoPreventDefault=void 0===i.autoPreventDefault||i.autoPreventDefault,r.interactionFrequency=i.interactionFrequency||10,r.mouse=new Oy,r.mouse.identifier=1,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[1]=r.mouse,r.interactionDataPool=[],r.eventData=new Xy,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!("PointerEvent"in globalThis),r.supportsTouchEvents="ontouchstart"in globalThis,r.supportsPointerEvents=!!globalThis.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new Fy,r._tempDisplayObject=new Gy,r._eventListenerOptions={capture:!0,passive:!1},r._useSystemTicker=void 0===i.useSystemTicker||i.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return function(e,t){function i(){this.constructor=e}Ly(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(e,t){return Uy.target=null,Uy.data.global=e,t||(t=this.lastObjectRendered),this.processInteractive(Uy,t,null,!0),Uy.target},t.prototype.setTargetElement=function(e,t){void 0===t&&(t=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(Zy.system.add(this.tickerUpdate,this,Ny.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){this.tickerAdded&&(Zy.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(e){this._deltaTime+=e,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var t=this.activeInteractionData[e];if(t.originalEvent&&"touch"!==t.pointerType){var i=this.configureInteractionEventForDOMEvent(this.eventData,t.originalEvent,t);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){e=e||"default";var t=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(t=!1),this.currentCursorMode!==e){this.currentCursorMode=e;var i=this.cursorStyles[e];if(i)switch(typeof i){case"string":t&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(e);break;case"object":t&&Object.assign(this.interactionDOMElement.style,i)}else t&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,t,i){i.stopPropagationHint&&e!==i.stopsPropagatingAt||(i.currentTarget=e,i.type=t,e.emit(t,i),e[t]&&e[t](i))},t.prototype.delayDispatchEvent=function(e,t,i){this.delayedEvents.push({displayObject:e,eventString:t,eventData:i})},t.prototype.mapPositionToPoint=function(e,t,i){var r;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var n=1/this.resolution;e.x=(t-r.left)*(this.interactionDOMElement.width/r.width)*n,e.y=(i-r.top)*(this.interactionDOMElement.height/r.height)*n},t.prototype.processInteractive=function(e,t,i,r){var n=this.search.findHit(e,t,i,r),s=this.delayedEvents;if(!s.length)return n;e.stopPropagationHint=!1;var a=s.length;this.delayedEvents=[];for(var o=0;o<a;o++){var l=s[o],h=l.displayObject,u=l.eventString,d=l.eventData;d.stopsPropagatingAt===h&&(d.stopPropagationHint=!0),this.dispatchEvent(h,u,d)}return n},t.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);if(this.autoPreventDefault&&t[0].isNormalized)(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var i=t.length,r=0;r<i;r++){var n=t[r],s=this.getInteractionDataForPointerId(n),a=this.configureInteractionEventForDOMEvent(this.eventData,n,s);if(a.data.originalEvent=e,this.processInteractive(a,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===n.pointerType)this.emit("touchstart",a);else if("mouse"===n.pointerType||"pen"===n.pointerType){var o=2===n.button;this.emit(o?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(e,t,i){var r=e.data,n=e.data.identifier;if(i)if(t.trackedPointers[n]||(t.trackedPointers[n]=new Vy(n)),this.dispatchEvent(t,"pointerdown",e),"touch"===r.pointerType)this.dispatchEvent(t,"touchstart",e);else if("mouse"===r.pointerType||"pen"===r.pointerType){var s=2===r.button;s?t.trackedPointers[n].rightDown=!0:t.trackedPointers[n].leftDown=!0,this.dispatchEvent(t,s?"rightdown":"mousedown",e)}},t.prototype.onPointerComplete=function(e,t,i){for(var r=this.normalizeToPointerData(e),n=r.length,s=e.target!==this.interactionDOMElement?"outside":"",a=0;a<n;a++){var o=r[a],l=this.getInteractionDataForPointerId(o),h=this.configureInteractionEventForDOMEvent(this.eventData,o,l);if(h.data.originalEvent=e,this.processInteractive(h,this.lastObjectRendered,i,t||!s),this.emit(t?"pointercancel":"pointerup"+s,h),"mouse"===o.pointerType||"pen"===o.pointerType){var u=2===o.button;this.emit(u?"rightup"+s:"mouseup"+s,h)}else"touch"===o.pointerType&&(this.emit(t?"touchcancel":"touchend"+s,h),this.releaseInteractionDataForPointerId(o.pointerId))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,t){var i=e.data,r=e.data.identifier;void 0!==t.trackedPointers[r]&&(delete t.trackedPointers[r],this.dispatchEvent(t,"pointercancel",e),"touch"===i.pointerType&&this.dispatchEvent(t,"touchcancel",e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,t,i){var r=e.data,n=e.data.identifier,s=t.trackedPointers[n],a="touch"===r.pointerType,o="mouse"===r.pointerType||"pen"===r.pointerType,l=!1;if(o){var h=2===r.button,u=Vy.FLAGS,d=h?u.RIGHT_DOWN:u.LEFT_DOWN,c=void 0!==s&&s.flags&d;i?(this.dispatchEvent(t,h?"rightup":"mouseup",e),c&&(this.dispatchEvent(t,h?"rightclick":"click",e),l=!0)):c&&this.dispatchEvent(t,h?"rightupoutside":"mouseupoutside",e),s&&(h?s.rightDown=!1:s.leftDown=!1)}i?(this.dispatchEvent(t,"pointerup",e),a&&this.dispatchEvent(t,"touchend",e),s&&(o&&!l||this.dispatchEvent(t,"pointertap",e),a&&(this.dispatchEvent(t,"tap",e),s.over=!1))):s&&(this.dispatchEvent(t,"pointerupoutside",e),a&&this.dispatchEvent(t,"touchendoutside",e)),s&&s.none&&delete t.trackedPointers[n]},t.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);"mouse"!==t[0].pointerType&&"pen"!==t[0].pointerType||(this._didMove=!0,this.cursor=null);for(var i=t.length,r=0;r<i;r++){var n=t[r],s=this.getInteractionDataForPointerId(n),a=this.configureInteractionEventForDOMEvent(this.eventData,n,s);a.data.originalEvent=e,this.processInteractive(a,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",a),"touch"===n.pointerType&&this.emit("touchmove",a),"mouse"!==n.pointerType&&"pen"!==n.pointerType||this.emit("mousemove",a)}"mouse"===t[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,t,i){var r=e.data,n="touch"===r.pointerType,s="mouse"===r.pointerType||"pen"===r.pointerType;s&&this.processPointerOverOut(e,t,i),this.moveWhenInside&&!i||(this.dispatchEvent(t,"pointermove",e),n&&this.dispatchEvent(t,"touchmove",e),s&&this.dispatchEvent(t,"mousemove",e))},t.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e)[0];"mouse"===t.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var i=this.getInteractionDataForPointerId(t),r=this.configureInteractionEventForDOMEvent(this.eventData,t,i);r.data.originalEvent=t,this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===t.pointerType||"pen"===t.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(i.identifier)}},t.prototype.processPointerOverOut=function(e,t,i){var r=e.data,n=e.data.identifier,s="mouse"===r.pointerType||"pen"===r.pointerType,a=t.trackedPointers[n];i&&!a&&(a=t.trackedPointers[n]=new Vy(n)),void 0!==a&&(i&&this.mouseOverRenderer?(a.over||(a.over=!0,this.delayDispatchEvent(t,"pointerover",e),s&&this.delayDispatchEvent(t,"mouseover",e)),s&&null===this.cursor&&(this.cursor=t.cursor)):a.over&&(a.over=!1,this.dispatchEvent(t,"pointerout",this.eventData),s&&this.dispatchEvent(t,"mouseout",e),a.none&&delete t.trackedPointers[n]))},t.prototype.onPointerOver=function(e){var t=this.normalizeToPointerData(e)[0],i=this.getInteractionDataForPointerId(t),r=this.configureInteractionEventForDOMEvent(this.eventData,t,i);r.data.originalEvent=t,"mouse"===t.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==t.pointerType&&"pen"!==t.pointerType||this.emit("mouseover",r)},t.prototype.getInteractionDataForPointerId=function(e){var t,i=e.pointerId;return 1===i||"mouse"===e.pointerType?t=this.mouse:this.activeInteractionData[i]?t=this.activeInteractionData[i]:((t=this.interactionDataPool.pop()||new Oy).identifier=i,this.activeInteractionData[i]=t),t.copyEvent(e),t},t.prototype.releaseInteractionDataForPointerId=function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t.reset(),this.interactionDataPool.push(t))},t.prototype.configureInteractionEventForDOMEvent=function(e,t,i){return e.data=i,this.mapPositionToPoint(i.global,t.clientX,t.clientY),"touch"===t.pointerType&&(t.globalX=i.global.x,t.globalY=i.global.y),i.originalEvent=t,e.reset(),e},t.prototype.normalizeToPointerData=function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var i=0,r=e.changedTouches.length;i<r;i++){var n=e.changedTouches[i];void 0===n.button&&(n.button=e.touches.length?1:0),void 0===n.buttons&&(n.buttons=e.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,t.push(n)}else if(globalThis.MouseEvent&&(!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof globalThis.PointerEvent))t.push(e);else{var s=e;void 0===s.isPrimary&&(s.isPrimary=!0),void 0===s.width&&(s.width=1),void 0===s.height&&(s.height=1),void 0===s.tiltX&&(s.tiltX=0),void 0===s.tiltY&&(s.tiltY=0),void 0===s.pointerType&&(s.pointerType="mouse"),void 0===s.pointerId&&(s.pointerId=1),void 0===s.pressure&&(s.pressure=.5),void 0===s.twist&&(s.twist=0),void 0===s.tangentialPressure&&(s.tangentialPressure=0),s.isNormalized=!0,t.push(s)}return t},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t}(jf),Ky=function(){function e(e){this.items=[],this._name=e,this._aliasCount=0}return e.prototype.emit=function(e,t,i,r,n,s,a,o){if(arguments.length>8)throw new Error("max arguments reached");var l=this,h=l.name,u=l.items;this._aliasCount++;for(var d=0,c=u.length;d<c;d++)u[d][h](e,t,i,r,n,s,a,o);return u===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},e.prototype.remove=function(e){var t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},e.prototype.contains=function(e){return-1!==this.items.indexOf(e)},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e}();Object.defineProperties(Ky.prototype,{dispatch:{value:Ky.prototype.emit},run:{value:Ky.prototype.emit}}),
/*!
 * @pixi/core - v6.3.2
 * Compiled Wed, 04 May 2022 17:49:13 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
Yf.PREFER_ENV=Kf.any?Nm.WEBGL:Nm.WEBGL2,Yf.STRICT_TEXTURE_CACHE=!1;var Yy=[];function zy(e,t){if(!e)return null;var i="";if("string"==typeof e){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);r&&(i=r[1].toLowerCase())}for(var n=Yy.length-1;n>=0;--n){var s=Yy[n];if(s.test&&s.test(e,i))return new s(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var jy=function(e,t){return jy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},jy(e,t)};function qy(e,t){function i(){this.constructor=e}jy(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var $y=function(){return $y=Object.assign||function(e){for(var t,i=arguments,r=1,n=arguments.length;r<n;r++)for(var s in t=i[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},$y.apply(this,arguments)};var eb=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Ky("setRealSize"),this.onUpdate=new Ky("update"),this.onError=new Ky("onError")}return e.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},e.prototype.resize=function(e,t){e===this._width&&t===this._height||(this._width=e,this._height=t,this.onResize.emit(e,t))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(e,t,i){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(e,t){return!1},e}(),tb=function(e){function t(t,i){var r=this,n=i||{},s=n.width,a=n.height;if(!s||!a)throw new Error("BufferResource width or height invalid");return(r=e.call(this,s,a)||this).data=t,r}return qy(t,e),t.prototype.upload=function(e,t,i){var r=e.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Hm.UNPACK);var n=t.realWidth,s=t.realHeight;return i.width===n&&i.height===s?r.texSubImage2D(t.target,0,0,0,n,s,t.format,i.type,this.data):(i.width=n,i.height=s,r.texImage2D(t.target,0,i.internalFormat,n,s,0,t.format,i.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(eb),ib={scaleMode:Fm.NEAREST,format:Om.RGBA,alphaMode:Hm.NPM},rb=function(e){function t(t,i){void 0===t&&(t=null),void 0===i&&(i=null);var r=e.call(this)||this,n=(i=i||{}).alphaMode,s=i.mipmap,a=i.anisotropicLevel,o=i.scaleMode,l=i.width,h=i.height,u=i.wrapMode,d=i.format,c=i.type,p=i.target,g=i.resolution,f=i.resourceOptions;return!t||t instanceof eb||((t=zy(t,f)).internal=!0),r.resolution=g||Yf.RESOLUTION,r.width=Math.round((l||0)*r.resolution)/r.resolution,r.height=Math.round((h||0)*r.resolution)/r.resolution,r._mipmap=void 0!==s?s:Yf.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==a?a:Yf.ANISOTROPIC_LEVEL,r._wrapMode=u||Yf.WRAP_MODE,r._scaleMode=void 0!==o?o:Yf.SCALE_MODE,r.format=d||Om.RGBA,r.type=c||Xm.UNSIGNED_BYTE,r.target=p||Lm.TEXTURE_2D,r.alphaMode=void 0!==n?n:Hm.UNPACK,r.uid=GC(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=l>0&&h>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(t),r}return qy(t,e),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,t){var i;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,i=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,i=!0),i&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,t,i){return i=i||this.resolution,this.setRealSize(e*i,t*i,i)},t.prototype.setRealSize=function(e,t,i){return this.resolution=i||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=wC(this.realWidth)&&wC(this.realHeight)},t.prototype.setResolution=function(e){var t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete ZC[this.cacheId],delete MC[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,i,r){void 0===r&&(r=Yf.STRICT_TEXTURE_CACHE);var n="string"==typeof e,s=null;if(n)s=e;else{if(!e._pixiId){var a=i&&i.pixiIdPrefix||"pixiid";e._pixiId=a+"_"+GC()}s=e._pixiId}var o=ZC[s];if(n&&r&&!o)throw new Error('The cacheId "'+s+'" does not exist in BaseTextureCache.');return o||((o=new t(e,i)).cacheId=s,t.addToCache(o,s)),o},t.fromBuffer=function(e,i,r,n){e=e||new Float32Array(i*r*4);var s=new tb(e,{width:i,height:r}),a=e instanceof Float32Array?Xm.FLOAT:Xm.UNSIGNED_BYTE;return new t(s,Object.assign(ib,n||{width:i,height:r,type:a}))},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),ZC[t]&&console.warn("BaseTexture added to the cache with an id ["+t+"] that already had an entry"),ZC[t]=e)},t.removeFromCache=function(e){if("string"==typeof e){var t=ZC[e];if(t){var i=t.textureCacheIds.indexOf(e);return i>-1&&t.textureCacheIds.splice(i,1),delete ZC[e],t}}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)delete ZC[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(jf),nb=function(e){function t(t,i){var r=this,n=i||{},s=n.width,a=n.height;(r=e.call(this,s,a)||this).items=[],r.itemDirtyIds=[];for(var o=0;o<t;o++){var l=new rb;r.items.push(l),r.itemDirtyIds.push(-2)}return r.length=t,r._load=null,r.baseTexture=null,r}return qy(t,e),t.prototype.initFromArray=function(e,t){for(var i=0;i<this.length;i++)e[i]&&(e[i].castToBaseTexture?this.addBaseTextureAt(e[i].castToBaseTexture(),i):e[i]instanceof eb?this.addResourceAt(e[i],i):this.addResourceAt(zy(e[i],t),i))},t.prototype.dispose=function(){for(var e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,t){if(!this.items[t])throw new Error("Index "+t+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this},t.prototype.bind=function(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,t);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=t,this.items[i].on("update",t.update,t)},t.prototype.unbind=function(t){e.prototype.unbind.call(this,t);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",t.update,t)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.items.map((function(e){return e.resource})).filter((function(e){return e})).map((function(e){return e.load()}));return this._load=Promise.all(t).then((function(){var t=e.items[0],i=t.realWidth,r=t.realHeight;return e.resize(i,r),Promise.resolve(e)})),this._load},t}(eb),sb=function(e){function t(t,i){var r,n,s=this,a=i||{},o=a.width,l=a.height;return Array.isArray(t)?(r=t,n=t.length):n=t,s=e.call(this,n,{width:o,height:l})||this,r&&s.initFromArray(r,i),s}return qy(t,e),t.prototype.addBaseTextureAt=function(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this},t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=Lm.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,t,i){var r=this,n=r.length,s=r.itemDirtyIds,a=r.items,o=e.gl;i.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,n,0,t.format,i.type,null);for(var l=0;l<n;l++){var h=a[l];s[l]<h.dirtyId&&(s[l]=h.dirtyId,h.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,l,h.resource.width,h.resource.height,1,t.format,i.type,h.resource.source))}return!0},t}(nb),ab=function(e){function t(t){var i=this,r=t,n=r.naturalWidth||r.videoWidth||r.width,s=r.naturalHeight||r.videoHeight||r.height;return(i=e.call(this,n,s)||this).source=t,i.noSubImage=!1,i}return qy(t,e),t.crossOrigin=function(e,t,i){void 0===i&&0!==t.indexOf("data:")?e.crossOrigin=function(e,t){if(void 0===t&&(t=globalThis.location),0===e.indexOf("data:"))return"";t=t||globalThis.location,NC||(NC=document.createElement("a")),NC.href=e;var i=gC.parse(NC.href),r=!i.port&&""===t.port||i.port===t.port;return i.hostname===t.hostname&&r&&i.protocol===t.protocol?"":"anonymous"}(t):!1!==i&&(e.crossOrigin="string"==typeof i?i:"anonymous")},t.prototype.upload=function(e,t,i,r){var n=e.gl,s=t.realWidth,a=t.realHeight;if((r=r||this.source)instanceof HTMLImageElement){if(!r.complete||0===r.naturalWidth)return!1}else if(r instanceof HTMLVideoElement&&r.readyState<=1)return!1;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Hm.UNPACK),this.noSubImage||t.target!==n.TEXTURE_2D||i.width!==s||i.height!==a?(i.width=s,i.height=a,n.texImage2D(t.target,0,i.internalFormat,t.format,i.type,r)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,t.format,i.type,r),!0},t.prototype.update=function(){if(!this.destroyed){var t=this.source,i=t.naturalWidth||t.videoWidth||t.width,r=t.naturalHeight||t.videoHeight||t.height;this.resize(i,r),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(eb),ob=function(e){function t(t){return e.call(this,t)||this}return qy(t,e),t.test=function(e){var t=globalThis.OffscreenCanvas;return!!(t&&e instanceof t)||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement},t}(ab),lb=function(e){function t(i,r){var n=this,s=r||{},a=s.width,o=s.height,l=s.autoLoad,h=s.linkBaseTexture;if(i&&i.length!==t.SIDES)throw new Error("Invalid length. Got "+i.length+", expected 6");n=e.call(this,6,{width:a,height:o})||this;for(var u=0;u<t.SIDES;u++)n.items[u].target=Lm.TEXTURE_CUBE_MAP_POSITIVE_X+u;return n.linkBaseTexture=!1!==h,i&&n.initFromArray(i,r),!1!==l&&n.load(),n}return qy(t,e),t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=Lm.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,t,i){if(!this.items[t])throw new Error("Index "+t+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,t)}else e.target=Lm.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this},t.prototype.upload=function(e,i,r){for(var n=this.itemDirtyIds,s=0;s<t.SIDES;s++){var a=this.items[s];n[s]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(e,a,r),n[s]=a.dirtyId):n[s]<-1&&(e.gl.texImage2D(a.target,0,r.internalFormat,i.realWidth,i.realHeight,0,i.format,r.type,null),n[s]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(nb),hb=function(e){function t(t,i){var r=this;if(i=i||{},!(t instanceof HTMLImageElement)){var n=new Image;ab.crossOrigin(n,t,i.crossorigin),n.src=t,t=n}return r=e.call(this,t)||this,!t.complete&&r._width&&r._height&&(r._width=0,r._height=0),r.url=t.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==i.createBitmap?i.createBitmap:Yf.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,r.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,r.bitmap=null,r._load=null,!1!==i.autoLoad&&r.load(),r}return qy(t,e),t.prototype.load=function(e){var t=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise((function(e,i){var r=t.source;t.url=r.src;var n=function(){t.destroyed||(r.onload=null,r.onerror=null,t.resize(r.width,r.height),t._load=null,t.createBitmap?e(t.process()):e(t))};r.complete&&r.src?n():(r.onload=n,r.onerror=function(e){i(e),t.onError.emit(e)})}))),this._load},t.prototype.process=function(){var e=this,t=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,r=!t.crossOrigin||"anonymous"===t.crossOrigin;return this._process=fetch(t.src,{mode:r?"cors":"no-cors"}).then((function(e){return e.blob()})).then((function(r){return i(r,0,0,t.width,t.height,{premultiplyAlpha:e.alphaMode===Hm.UNPACK?"premultiply":"none"})})).then((function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))})),this._process},t.prototype.upload=function(t,i,r){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,t,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,t,i,r,this.bitmap),!this.preserveBitmap){var n=!0,s=i._glTextures;for(var a in s){var o=s[a];if(o!==r&&o.dirtyId!==i.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(ab),ub=function(e){function t(t,i){var r=this;return i=i||{},(r=e.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=t,r.scale=i.scale||1,r._overrideWidth=i.width,r._overrideHeight=i.height,r._resolve=null,r._crossorigin=i.crossorigin,r._load=null,!1!==i.autoLoad&&r.load(),r}return qy(t,e),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise((function(i){if(e._resolve=function(){e.resize(e.source.width,e.source.height),i(e)},t.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}))),this._load},t.prototype._loadSvg=function(){var e=this,t=new Image;ab.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=function(i){e._resolve&&(t.onerror=null,e.onError.emit(i))},t.onload=function(){if(e._resolve){var i=t.width,r=t.height;if(!i||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=i*e.scale,s=r*e.scale;(e._overrideWidth||e._overrideHeight)&&(n=e._overrideWidth||e._overrideHeight/r*i,s=e._overrideHeight||e._overrideWidth/i*r),n=Math.round(n),s=Math.round(s);var a=e.source;a.width=n,a.height=s,a._pixiId="canvas_"+GC(),a.getContext("2d").drawImage(t,0,0,i,r,0,0,n,s),e._resolve(),e._resolve=null}}},t.getSize=function(e){var i=t.SVG_SIZE.exec(e),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,i){return"svg"===i||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&t.SVG_XML.test(e)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(ab),db=function(e){function t(i,r){var n=this;if(r=r||{},!(i instanceof HTMLVideoElement)){var s=document.createElement("video");s.setAttribute("preload","auto"),s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline",""),"string"==typeof i&&(i=[i]);var a=i[0].src||i[0];ab.crossOrigin(s,a,r.crossorigin);for(var o=0;o<i.length;++o){var l=document.createElement("source"),h=i[o],u=h.src,d=h.mime,c=(u=u||i[o]).split("?").shift().toLowerCase(),p=c.slice(c.lastIndexOf(".")+1);d=d||t.MIME_TYPES[p]||"video/"+p,l.src=u,l.type=d,s.appendChild(l)}i=s}return(n=e.call(this,i)||this).noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=r.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=!1!==r.autoPlay,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),!1!==r.autoLoad&&n.load(),n}return qy(t,e),t.prototype.update=function(t){if(!this.destroyed){var i=Zy.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-i),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((function(i){e.valid?i(e):(e._resolve=i,t.load())})),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Zy.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Zy.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var t=this.valid;this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(Zy.shared.remove(this.update,this),this._isConnectedToTicker=!1);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Zy.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Zy.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,i){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||t.TYPES.indexOf(i)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(ab),cb=function(e){function t(t){return e.call(this,t)||this}return qy(t,e),t.test=function(e){return!!globalThis.createImageBitmap&&e instanceof ImageBitmap},t}(ab);Yy.push(hb,cb,ob,db,ub,tb,lb,sb);var pb=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return qy(t,e),t.prototype.upload=function(e,t,i){var r=e.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===Hm.UNPACK);var n=t.realWidth,s=t.realHeight;return i.width===n&&i.height===s?r.texSubImage2D(t.target,0,0,0,n,s,t.format,i.type,this.data):(i.width=n,i.height=s,r.texImage2D(t.target,0,i.internalFormat,n,s,0,t.format,i.type,this.data)),!0},t}(tb),gb=function(){function e(e,t){this.width=Math.round(e||100),this.height=Math.round(t||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Ky("disposeFramebuffer"),this.multisample=qm.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(e,t){return void 0===e&&(e=0),this.colorTextures[e]=t||new rb(null,{scaleMode:Fm.NEAREST,resolution:1,mipmap:Um.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(e){return this.depthTexture=e||new rb(new pb(null,{width:this.width,height:this.height}),{scaleMode:Fm.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Um.OFF,format:Om.DEPTH_COMPONENT,type:Xm.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(e,t){if(e=Math.round(e),t=Math.round(t),e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i],n=r.resolution;r.setSize(e/n,t/n)}if(this.depthTexture){n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,t/n)}}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e}(),fb=function(e){function t(t){void 0===t&&(t={});var i=this;if("number"==typeof t){var r=arguments[0],n=arguments[1],s=arguments[2],a=arguments[3];t={width:r,height:n,scaleMode:s,resolution:a}}return t.width=t.width||100,t.height=t.height||100,t.multisample=void 0!==t.multisample?t.multisample:qm.NONE,(i=e.call(this,null,t)||this).mipmap=Um.OFF,i.valid=!0,i.clearColor=[0,0,0,0],i.framebuffer=new gb(i.realWidth,i.realHeight).addColorTexture(0,i),i.framebuffer.multisample=t.multisample,i.maskStack=[],i.filterStack=[{}],i}return qy(t,e),t.prototype.resize=function(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(rb),mb=function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(e,t,i){var r=t.width,n=t.height;if(i){var s=e.width/2/r,a=e.height/2/n,o=e.x/r+s,l=e.y/n+a;i=oy.add(i,oy.NW),this.x0=o+s*oy.uX(i),this.y0=l+a*oy.uY(i),i=oy.add(i,2),this.x1=o+s*oy.uX(i),this.y1=l+a*oy.uY(i),i=oy.add(i,2),this.x2=o+s*oy.uX(i),this.y2=l+a*oy.uY(i),i=oy.add(i,2),this.x3=o+s*oy.uX(i),this.y3=l+a*oy.uY(i)}else this.x0=e.x/r,this.y0=e.y/n,this.x1=(e.x+e.width)/r,this.y1=e.y/n,this.x2=(e.x+e.width)/r,this.y2=(e.y+e.height)/n,this.x3=e.x/r,this.y3=(e.y+e.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},e}(),Cb=new mb;function yb(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}var bb=function(e){function t(i,r,n,s,a,o){var l=e.call(this)||this;if(l.noFrame=!1,r||(l.noFrame=!0,r=new HC(0,0,1,1)),i instanceof t&&(i=i.baseTexture),l.baseTexture=i,l._frame=r,l.trim=s,l.valid=!1,l._uvs=Cb,l.uvMatrix=null,l.orig=n||r,l._rotate=Number(a||0),!0===a)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=o?new WC(o.x,o.y):new WC(0,0),l._updateID=0,l.textureCacheIds=[],i.valid?l.noFrame?i.valid&&l.onBaseTextureUpdated(i):l.frame=r:i.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&i.on("update",l.onBaseTextureUpdated,l),l}return qy(t,e),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var i=this.baseTexture.resource;i&&i.url&&MC[i.url]&&t.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var e=this._frame.clone(),i=this._frame===this.orig?e:this.orig.clone(),r=new t(this.baseTexture,!this.noFrame&&e,i,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r},t.prototype.updateUvs=function(){this._uvs===Cb&&(this._uvs=new mb),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,i,r){void 0===i&&(i={}),void 0===r&&(r=Yf.STRICT_TEXTURE_CACHE);var n="string"==typeof e,s=null;if(n)s=e;else if(e instanceof rb){if(!e.cacheId){var a=i&&i.pixiIdPrefix||"pixiid";e.cacheId=a+"-"+GC(),rb.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){a=i&&i.pixiIdPrefix||"pixiid";e._pixiId=a+"_"+GC()}s=e._pixiId}var o=MC[s];if(n&&r&&!o)throw new Error('The cacheId "'+s+'" does not exist in TextureCache.');return o||e instanceof rb?!o&&e instanceof rb&&(o=new t(e),t.addToCache(o,s)):(i.resolution||(i.resolution=OC(e)),(o=new t(new rb(e,i))).baseTexture.cacheId=s,rb.addToCache(o.baseTexture,s),t.addToCache(o,s)),o},t.fromURL=function(e,i){var r=Object.assign({autoLoad:!1},null==i?void 0:i.resourceOptions),n=t.from(e,Object.assign({resourceOptions:r},i),!1),s=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):s.load().then((function(){return Promise.resolve(n)}))},t.fromBuffer=function(e,i,r,n){return new t(rb.fromBuffer(e,i,r,n))},t.fromLoader=function(e,i,r,n){var s=new rb(e,Object.assign({scaleMode:Yf.SCALE_MODE,resolution:OC(i)},n)),a=s.resource;a instanceof hb&&(a.url=i);var o=new t(s);return r||(r=i),rb.addToCache(o.baseTexture,r),t.addToCache(o,r),r!==i&&(rb.addToCache(o.baseTexture,i),t.addToCache(o,i)),o.baseTexture.valid?Promise.resolve(o):new Promise((function(e){o.baseTexture.once("loaded",(function(){return e(o)}))}))},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),MC[t]&&console.warn("Texture added to the cache with an id ["+t+"] that already had an entry"),MC[t]=e)},t.removeFromCache=function(e){if("string"==typeof e){var t=MC[e];if(t){var i=t.textureCacheIds.indexOf(e);return i>-1&&t.textureCacheIds.splice(i,1),delete MC[e],t}}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)MC[e.textureCacheIds[r]]===e&&delete MC[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,i=e.y,r=e.width,n=e.height,s=t+r>this.baseTexture.width,a=i+n>this.baseTexture.height;if(s||a){var o=s&&a?"and":"or",l="X: "+t+" + "+r+" = "+(t+r)+" > "+this.baseTexture.width,h="Y: "+i+" + "+n+" = "+(i+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+l+" "+o+" "+h)}this.valid=r&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(t,"EMPTY",{get:function(){return t._EMPTY||(t._EMPTY=new t(new rb),yb(t._EMPTY),yb(t._EMPTY.baseTexture)),t._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(t,"WHITE",{get:function(){if(!t._WHITE){var e=document.createElement("canvas"),i=e.getContext("2d");e.width=16,e.height=16,i.fillStyle="white",i.fillRect(0,0,16,16),t._WHITE=new t(new rb(new ob(e))),yb(t._WHITE),yb(t._WHITE.baseTexture)}return t._WHITE},enumerable:!1,configurable:!0}),t}(jf),Ib=function(e){function t(t,i){var r=e.call(this,t,i)||this;return r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return qy(t,e),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t,i){void 0===i&&(i=!0);var r=this.baseTexture.resolution,n=Math.round(e*r)/r,s=Math.round(t*r)/r;this.valid=n>0&&s>0,this._frame.width=this.orig.width=n,this._frame.height=this.orig.height=s,i&&this.baseTexture.resize(n,s),this.updateUvs()},t.prototype.setResolution=function(e){var t=this.baseTexture;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))},t.create=function(e){for(var i=arguments,r=[],n=1;n<arguments.length;n++)r[n-1]=i[n];return"number"==typeof e&&(BC("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:r[0],scaleMode:r[1],resolution:r[2]}),new t(new fb(e))},t}(bb),vb=function(){function e(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(e,t,i){void 0===i&&(i=qm.NONE);var r=new fb(Object.assign({width:e,height:t,resolution:1,multisample:i},this.textureOptions));return new Ib(r)},e.prototype.getOptimalTexture=function(e,t,i,r){var n;void 0===i&&(i=1),void 0===r&&(r=qm.NONE),e=Math.ceil(e*i-1e-6),t=Math.ceil(t*i-1e-6),this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight?n=r>1?-r:-1:(n=((65535&(e=AC(e)))<<16|65535&(t=AC(t)))>>>0,r>1&&(n+=4294967296*r)),this.texturePool[n]||(this.texturePool[n]=[]);var s=this.texturePool[n].pop();return s||(s=this.createTexture(e,t,r)),s.filterPoolKey=n,s.setResolution(i),s},e.prototype.getFilterTexture=function(e,t,i){var r=this.getOptimalTexture(e.width,e.height,t||e.resolution,i||qm.NONE);return r.filterFrame=e.filterFrame,r},e.prototype.returnTexture=function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)},e.prototype.returnFilterTexture=function(e){this.returnTexture(e)},e.prototype.clear=function(e){if(e=!1!==e)for(var t in this.texturePool){var i=this.texturePool[t];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){for(var t in this.enableFullScreen=e.width>0&&e.height>0,this.texturePool)if(Number(t)<0){var i=this.texturePool[t];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},e.SCREEN_KEY=-1,e}(),_b=function(){function e(e,t,i,r,n,s,a){void 0===t&&(t=0),void 0===i&&(i=!1),void 0===r&&(r=Xm.FLOAT),this.buffer=e,this.size=t,this.normalized=i,this.type=r,this.stride=n,this.start=s,this.instance=a}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,i,r,n,s){return new e(t,i,r,n,s)},e}(),Sb=0,kb=function(){function e(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=t,this.id=Sb++,this.disposeRunner=new Ky("disposeBuffer")}return e.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(e.prototype,"index",{get:function(){return this.type===$m.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?$m.ELEMENT_ARRAY_BUFFER:$m.ARRAY_BUFFER},enumerable:!1,configurable:!0}),e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e}(),Tb={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var Ab={5126:4,5123:2,5121:1},wb=0,Eb={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Jb=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=wb++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Ky("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(e,t,i,r,n,s,a,o){if(void 0===i&&(i=0),void 0===r&&(r=!1),void 0===o&&(o=!1),!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof kb||(t instanceof Array&&(t=new Float32Array(t)),t=new kb(t));var l=e.split("|");if(l.length>1){for(var h=0;h<l.length;h++)this.addAttribute(l[h],t,i,r,n);return this}var u=this.buffers.indexOf(t);return-1===u&&(this.buffers.push(t),u=this.buffers.length-1),this.attributes[e]=new _b(u,i,r,n,s,a,o),this.instanced=this.instanced||o,this},e.prototype.getAttribute=function(e){return this.attributes[e]},e.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},e.prototype.addIndex=function(e){return e instanceof kb||(e instanceof Array&&(e=new Uint16Array(e)),e=new kb(e)),e.type=$m.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,-1===this.buffers.indexOf(e)&&this.buffers.push(e),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var e,t=[],i=[],r=new kb;for(e in this.attributes){var n=this.attributes[e],s=this.buffers[n.buffer];t.push(s.data),i.push(n.size*Ab[n.type]/4),n.buffer=0}for(r.data=function(e,t){for(var i=0,r=0,n={},s=0;s<e.length;s++)r+=t[s],i+=e[s].length;var a=new ArrayBuffer(4*i),o=null,l=0;for(s=0;s<e.length;s++){var h=t[s],u=e[s],d=TC(u);n[d]||(n[d]=new Tb[d](a)),o=n[d];for(var c=0;c<u.length;c++)o[(c/h|0)*r+l+c%h]=u[c];l+=h}return new Float32Array(a)}(t,i),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var e in this.attributes){var t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,i=0;i<this.buffers.length;i++)t.buffers[i]=new kb(this.buffers[i].data.slice(0));for(var i in this.attributes){var r=this.attributes[i];t.attributes[i]=new _b(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=$m.ELEMENT_ARRAY_BUFFER),t},e.merge=function(t){for(var i,r=new e,n=[],s=[],a=[],o=0;o<t.length;o++){i=t[o];for(var l=0;l<i.buffers.length;l++)s[l]=s[l]||0,s[l]+=i.buffers[l].data.length,a[l]=0}for(o=0;o<i.buffers.length;o++)n[o]=new(Eb[TC(i.buffers[o].data)])(s[o]),r.buffers[o]=new kb(n[o]);for(o=0;o<t.length;o++){i=t[o];for(l=0;l<i.buffers.length;l++)n[l].set(i.buffers[l].data,a[l]),a[l]+=i.buffers[l].data.length}if(r.attributes=i.attributes,i.indexBuffer){r.indexBuffer=r.buffers[i.buffers.indexOf(i.indexBuffer)],r.indexBuffer.type=$m.ELEMENT_ARRAY_BUFFER;var h=0,u=0,d=0,c=0;for(o=0;o<i.buffers.length;o++)if(i.buffers[o]!==i.indexBuffer){c=o;break}for(var o in i.attributes){var p=i.attributes[o];(0|p.buffer)===c&&(u+=p.size*Ab[p.type]/4)}for(o=0;o<t.length;o++){var g=t[o].indexBuffer.data;for(l=0;l<g.length;l++)r.indexBuffer.data[l+d]+=h;h+=t[o].buffers[c].data.length/u,d+=g.length}}return r},e}(),Rb=function(e){function t(){var t=e.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}return qy(t,e),t}(Jb),xb=function(e){function t(){var t=e.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new kb(t.vertices),t.uvBuffer=new kb(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}return qy(t,e),t.prototype.map=function(e,t){var i=0,r=0;return this.uvs[0]=i,this.uvs[1]=r,this.uvs[2]=i+t.width/e.width,this.uvs[3]=r,this.uvs[4]=i+t.width/e.width,this.uvs[5]=r+t.height/e.height,this.uvs[6]=i,this.uvs[7]=r+t.height/e.height,i=t.x,r=t.y,this.vertices[0]=i,this.vertices[1]=r,this.vertices[2]=i+t.width,this.vertices[3]=r,this.vertices[4]=i+t.width,this.vertices[5]=r+t.height,this.vertices[6]=i,this.vertices[7]=r+t.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(Jb),Gb=0,Db=function(){function e(e,t,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Gb++,this.static=!!t,this.ubo=!!i,e instanceof kb?(this.buffer=e,this.buffer.type=$m.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new kb(new Float32Array(1)),this.buffer.type=$m.UNIFORM_BUFFER,this.autoManage=!0))}return e.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},e.prototype.add=function(t,i,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new e(i,r)},e.from=function(t,i,r){return new e(t,i,r)},e.uboFrom=function(t,i){return new e(t,null==i||i,!0)},e}(),Bb=function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=qm.NONE,this.sourceFrame=new HC,this.destinationFrame=new HC,this.bindingSourceFrame=new HC,this.bindingDestinationFrame=new HC,this.filters=[],this.transform=null}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e}(),Nb=[new WC,new WC,new WC,new WC],Qb=new $C,Mb=function(){function e(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new vb,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new Rb,this.quadUv=new xb,this.tempRect=new HC,this.activeState={},this.globalUniforms=new Db({outputFrame:new HC,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return e.prototype.push=function(e,t){for(var i,r,n=this.renderer,s=this.defaultFilterStack,a=this.statePool.pop()||new Bb,o=this.renderer.renderTexture,l=t[0].resolution,h=t[0].multisample,u=t[0].padding,d=t[0].autoFit,c=null===(i=t[0].legacy)||void 0===i||i,p=1;p<t.length;p++){var g=t[p];l=Math.min(l,g.resolution),h=Math.min(h,g.multisample),u=this.useMaxPadding?Math.max(u,g.padding):u+g.padding,d=d&&g.autoFit,c=c||null===(r=g.legacy)||void 0===r||r}1===s.length&&(this.defaultFilterStack[0].renderTexture=o.current),s.push(a),a.resolution=l,a.multisample=h,a.legacy=c,a.target=e,a.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),a.sourceFrame.pad(u);var f=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Qb.copyFrom(n.projection.transform).invert(),f),d?(a.sourceFrame.fit(f),(a.sourceFrame.width<=0||a.sourceFrame.height<=0)&&(a.sourceFrame.width=0,a.sourceFrame.height=0)):a.sourceFrame.intersects(f)||(a.sourceFrame.width=0,a.sourceFrame.height=0),this.roundFrame(a.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,l,h),a.filters=t,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var m=this.tempRect;m.x=0,m.y=0,m.width=a.sourceFrame.width,m.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(o.sourceFrame),a.bindingDestinationFrame.copyFrom(o.destinationFrame),a.transform=n.projection.transform,n.projection.transform=null,o.bind(a.renderTexture,a.sourceFrame,m),n.framebuffer.clear(0,0,0,0)},e.prototype.pop=function(){var e=this.defaultFilterStack,t=e.pop(),i=t.filters;this.activeState=t;var r=this.globalUniforms.uniforms;r.outputFrame=t.sourceFrame,r.resolution=t.resolution;var n=r.inputSize,s=r.inputPixel,a=r.inputClamp;if(n[0]=t.destinationFrame.width,n[1]=t.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],s[0]=Math.round(n[0]*t.resolution),s[1]=Math.round(n[1]*t.resolution),s[2]=1/s[0],s[3]=1/s[1],a[0]=.5*s[2],a[1]=.5*s[3],a[2]=t.sourceFrame.width*n[2]-.5*s[2],a[3]=t.sourceFrame.height*n[3]-.5*s[3],t.legacy){var o=r.filterArea;o[0]=t.destinationFrame.width,o[1]=t.destinationFrame.height,o[2]=t.sourceFrame.x,o[3]=t.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var l=e[e.length-1];if(this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,t.renderTexture,l.renderTexture,Km.BLEND,t),this.returnFilterTexture(t.renderTexture);else{var h=t.renderTexture,u=this.getOptimalFilterTexture(h.width,h.height,t.resolution);u.filterFrame=h.filterFrame;var d=0;for(d=0;d<i.length-1;++d){1===d&&t.multisample>1&&((u=this.getOptimalFilterTexture(h.width,h.height,t.resolution)).filterFrame=h.filterFrame),i[d].apply(this,h,u,Km.CLEAR,t);var c=h;h=u,u=c}i[d].apply(this,h,l.renderTexture,Km.BLEND,t),d>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(h),this.returnFilterTexture(u)}t.clear(),this.statePool.push(t)},e.prototype.bindAndClear=function(e,t){void 0===t&&(t=Km.CLEAR);var i=this.renderer,r=i.renderTexture,n=i.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var s=this.tempRect;s.x=0,s.y=0,s.width=e.filterFrame.width,s.height=e.filterFrame.height,r.bind(e,e.filterFrame,s)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var a=1&n.stateId||this.forceClear;(t===Km.CLEAR||t===Km.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)},e.prototype.applyFilter=function(e,t,i,r){var n=this.renderer;n.state.set(e.state),this.bindAndClear(i,r),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,n.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(Pm.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(Pm.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(e,t){var i=this.activeState,r=i.sourceFrame,n=i.destinationFrame,s=t._texture.orig,a=e.set(n.width,0,0,n.height,r.x,r.y),o=t.worldTransform.copyTo($C.TEMP_MATRIX);return o.invert(),a.prepend(o),a.scale(1/s.width,1/s.height),a.translate(t.anchor.x,t.anchor.y),a},e.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(e,t,i,r){return void 0===i&&(i=1),void 0===r&&(r=qm.NONE),this.texturePool.getOptimalTexture(e,t,i,r)},e.prototype.getFilterTexture=function(e,t,i){if("number"==typeof e){var r=e;e=t,t=r}e=e||this.activeState.renderTexture;var n=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,i||qm.NONE);return n.filterFrame=e.filterFrame,n},e.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e.prototype.transformAABB=function(e,t){var i=Nb[0],r=Nb[1],n=Nb[2],s=Nb[3];i.set(t.left,t.top),r.set(t.left,t.bottom),n.set(t.right,t.top),s.set(t.right,t.bottom),e.apply(i,i),e.apply(r,r),e.apply(n,n),e.apply(s,s);var a=Math.min(i.x,r.x,n.x,s.x),o=Math.min(i.y,r.y,n.y,s.y),l=Math.max(i.x,r.x,n.x,s.x),h=Math.max(i.y,r.y,n.y,s.y);t.x=a,t.y=o,t.width=l-a,t.height=h-o},e.prototype.roundFrame=function(e,t,i,r,n){if(!(e.width<=0||e.height<=0||i.width<=0||i.height<=0)){if(n){var s=n.a,a=n.b,o=n.c,l=n.d;if((Math.abs(a)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(l)>1e-4))return}(n=n?Qb.copyFrom(n):Qb.identity()).translate(-i.x,-i.y).scale(r.width/i.width,r.height/i.height).translate(r.x,r.y),this.transformAABB(n,e),e.ceil(t),this.transformAABB(n.invert(),e)}},e}(),Zb=function(){function e(e){this.renderer=e}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(e){},e}(),Pb=function(){function e(e){this.renderer=e,this.emptyRenderer=new Zb(e),this.currentRenderer=this.emptyRenderer}return e.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(e,t){for(var i=this.renderer.texture.boundTextures,r=t-1;r>=0;--r)e[r]=i[r]||null,e[r]&&(e[r]._batchLocation=r)},e.prototype.boundArray=function(e,t,i,r){for(var n=e.elements,s=e.ids,a=e.count,o=0,l=0;l<a;l++){var h=n[l],u=h._batchLocation;if(u>=0&&u<r&&t[u]===h)s[l]=u;else for(;o<r;){var d=t[o];if(!d||d._batchEnabled!==i||d._batchLocation!==o){s[l]=o,h._batchLocation=o,t[o]=h;break}o++}}},e.prototype.destroy=function(){this.renderer=null},e}(),Ob=0,Lb=function(){function e(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Ob++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Ob++,this.renderer.runners.contextChange.emit(e)},e.prototype.initFromOptions=function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)},e.prototype.createContext=function(e,t){var i;if(Yf.PREFER_ENV>=Nm.WEBGL2&&(i=e.getContext("webgl2",t)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var e=this.gl,t={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},e.prototype.handleContextLost=function(e){e.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(e){var t=e.getContextAttributes(),i="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;i&&(this.webGLVersion=2),t.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=i||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(),Xb=function(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=qm.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},Vb=new HC,Fb=function(){function e(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new gb(10,10),this.msaaSamples=null}return e.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new HC,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var t=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;Yf.PREFER_ENV===Nm.WEBGL_LEGACY&&(t=null,i=null),t?e.drawBuffers=function(e){return t.drawBuffersWEBGL(e)}:(this.hasMRT=!1,e.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},e.prototype.bind=function(e,t,i){void 0===i&&(i=0);var r=this.gl;if(e){var n=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,r.bindFramebuffer(r.FRAMEBUFFER,n.framebuffer)),n.mipLevel!==i&&(e.dirtyId++,e.dirtyFormat++,n.mipLevel=i),n.dirtyId!==e.dirtyId&&(n.dirtyId=e.dirtyId,n.dirtyFormat!==e.dirtyFormat?(n.dirtyFormat=e.dirtyFormat,n.dirtySize=e.dirtySize,this.updateFramebuffer(e,i)):n.dirtySize!==e.dirtySize&&(n.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var s=0;s<e.colorTextures.length;s++){var a=e.colorTextures[s];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){var o=t.width>>i,l=t.height>>i,h=o/t.width;this.setViewport(t.x*h,t.y*h,o,l)}else{o=e.width>>i,l=e.height>>i;this.setViewport(0,0,o,l)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(e,t,i,r){var n=this.viewport;e=Math.round(e),t=Math.round(t),i=Math.round(i),r=Math.round(r),n.width===i&&n.height===r&&n.x===e&&n.y===t||(n.x=e,n.y=t,n.width=i,n.height=r,this.gl.viewport(e,t,i,r))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(e,t,i,r,n){void 0===n&&(n=Mm.COLOR|Mm.DEPTH);var s=this.gl;s.clearColor(e,t,i,r),s.clear(n)},e.prototype.initFramebuffer=function(e){var t=this.gl,i=new Xb(t.createFramebuffer());return i.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(e),e.disposeRunner.add(this),i},e.prototype.resizeFramebuffer=function(e){var t=this.gl,i=e.glFramebuffers[this.CONTEXT_UID];i.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,i.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,i.multisample,t.RGBA8,e.width,e.height)),i.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,i.stencil),i.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,i.multisample,t.DEPTH24_STENCIL8,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));var r=e.colorTextures,n=r.length;t.drawBuffers||(n=Math.min(n,1));for(var s=0;s<n;s++){var a=r[s],o=a.parentTextureArray||a;this.renderer.texture.bind(o,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},e.prototype.updateFramebuffer=function(e,t){var i=this.gl,r=e.glFramebuffers[this.CONTEXT_UID],n=e.colorTextures,s=n.length;i.drawBuffers||(s=Math.min(s,1)),r.multisample>1&&this.canMultisampleFramebuffer(e)?(r.msaaBuffer=r.msaaBuffer||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.RGBA8,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,r.msaaBuffer)):r.msaaBuffer&&(i.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var a=[],o=0;o<s;o++){var l=n[o],h=l.parentTextureArray||l;this.renderer.texture.bind(h,0),0===o&&r.msaaBuffer||(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+o,l.target,h._glTextures[this.CONTEXT_UID].texture,t),a.push(i.COLOR_ATTACHMENT0+o))}if((a.length>1&&i.drawBuffers(a),e.depthTexture)&&this.writeDepthTexture){var u=e.depthTexture;this.renderer.texture.bind(u,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,t)}!e.stencil&&!e.depth||e.depthTexture&&this.writeDepthTexture?r.stencil&&(i.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.stencil),r.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.DEPTH24_STENCIL8,e.width,e.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,r.stencil))},e.prototype.canMultisampleFramebuffer=function(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture},e.prototype.detectSamples=function(e){var t=this.msaaSamples,i=qm.NONE;if(e<=1||null===t)return i;for(var r=0;r<t.length;r++)if(t[r]<=e){i=t[r];break}return 1===i&&(i=qm.NONE),i},e.prototype.blit=function(e,t,i){var r=this,n=r.current,s=r.renderer,a=r.gl,o=r.CONTEXT_UID;if(2===s.context.webGLVersion&&n){var l=n.glFramebuffers[o];if(l){if(!e){if(!l.msaaBuffer)return;var h=n.colorTextures[0];if(!h)return;l.blitFramebuffer||(l.blitFramebuffer=new gb(n.width,n.height),l.blitFramebuffer.addColorTexture(0,h)),(e=l.blitFramebuffer).colorTextures[0]!==h&&(e.colorTextures[0]=h,e.dirtyId++,e.dirtyFormat++),e.width===n.width&&e.height===n.height||(e.width=n.width,e.height=n.height,e.dirtyId++,e.dirtySize++)}t||((t=Vb).width=n.width,t.height=n.height),i||(i=t);var u=t.width===i.width&&t.height===i.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,l.framebuffer),a.blitFramebuffer(t.left,t.top,t.right,t.bottom,i.left,i.top,i.right,i.bottom,a.COLOR_BUFFER_BIT,u?a.NEAREST:a.LINEAR)}}},e.prototype.disposeFramebuffer=function(e,t){var i=e.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete e.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(e);n>=0&&this.managedFramebuffers.splice(n,1),e.disposeRunner.remove(this),t||(r.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&r.deleteRenderbuffer(i.msaaBuffer),i.stencil&&r.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&i.blitFramebuffer.dispose()}},e.prototype.disposeAll=function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<t.length;i++)this.disposeFramebuffer(t[i],e)},e.prototype.forceStencil=function(){var e=this.current;if(e){var t=e.glFramebuffers[this.CONTEXT_UID];if(t&&!t.stencil){e.stencil=!0;var i=e.width,r=e.height,n=this.gl,s=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,s),t.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,t.multisample,n.DEPTH24_STENCIL8,i,r):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,i,r),t.stencil=s,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,s)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new HC},e.prototype.destroy=function(){this.renderer=null},e}(),Wb={5126:4,5123:2,5121:1},Ub=function(){function e(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return e.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){var i=this.renderer.context.extensions.vertexArrayObject;Yf.PREFER_ENV===Nm.WEBGL_LEGACY&&(i=null),i?(e.createVertexArray=function(){return i.createVertexArrayOES()},e.bindVertexArray=function(e){return i.bindVertexArrayOES(e)},e.deleteVertexArray=function(e){return i.deleteVertexArrayOES(e)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(2!==t.webGLVersion){var r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=function(e,t){return r.vertexAttribDivisorANGLE(e,t)},e.drawElementsInstanced=function(e,t,i,n,s){return r.drawElementsInstancedANGLE(e,t,i,n,s)},e.drawArraysInstanced=function(e,t,i,n){return r.drawArraysInstancedANGLE(e,t,i,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex},e.prototype.bind=function(e,t){t=t||this.renderer.shader.shader;var i=this.gl,r=e.glVertexArrayObjects[this.CONTEXT_UID],n=!1;r||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=r={},n=!0);var s=r[t.program.id]||this.initGeometryVao(e,t,n);this._activeGeometry=e,this._activeVao!==s&&(this._activeVao=s,this.hasVao?i.bindVertexArray(s):this.activateVao(e,t.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var e=this._activeGeometry,t=this.renderer.buffer,i=0;i<e.buffers.length;i++){var r=e.buffers[i];t.update(r)}},e.prototype.checkCompatibility=function(e,t){var i=e.attributes,r=t.attributeData;for(var n in r)if(!i[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},e.prototype.getSignature=function(e,t){var i=e.attributes,r=t.attributeData,n=["g",e.id];for(var s in i)r[s]&&n.push(s,r[s].location);return n.join("-")},e.prototype.initGeometryVao=function(e,t,i){void 0===i&&(i=!0);var r=this.gl,n=this.CONTEXT_UID,s=this.renderer.buffer,a=t.program;a.glPrograms[n]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,a);var o=this.getSignature(e,a),l=e.glVertexArrayObjects[this.CONTEXT_UID],h=l[o];if(h)return l[a.id]=h,h;var u=e.buffers,d=e.attributes,c={},p={};for(var g in u)c[g]=0,p[g]=0;for(var g in d)!d[g].size&&a.attributeData[g]?d[g].size=a.attributeData[g].size:d[g].size||console.warn("PIXI Geometry attribute '"+g+"' size cannot be determined (likely the bound shader does not have the attribute)"),c[d[g].buffer]+=d[g].size*Wb[d[g].type];for(var g in d){var f=d[g],m=f.size;void 0===f.stride&&(c[f.buffer]===m*Wb[f.type]?f.stride=0:f.stride=c[f.buffer]),void 0===f.start&&(f.start=p[f.buffer],p[f.buffer]+=m*Wb[f.type])}h=r.createVertexArray(),r.bindVertexArray(h);for(var C=0;C<u.length;C++){var y=u[C];s.bind(y),i&&y._glBuffers[n].refCount++}return this.activateVao(e,a),this._activeVao=h,l[a.id]=h,l[o]=h,h},e.prototype.disposeGeometry=function(e,t){var i;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var r=e.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,s=e.buffers,a=null===(i=this.renderer)||void 0===i?void 0:i.buffer;if(e.disposeRunner.remove(this),r){if(a)for(var o=0;o<s.length;o++){var l=s[o]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,0!==l.refCount||t||a.dispose(s[o],t))}if(!t)for(var h in r)if("g"===h[0]){var u=r[h];this._activeVao===u&&this.unbind(),n.deleteVertexArray(u)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedGeometries),i=0;i<t.length;i++)this.disposeGeometry(this.managedGeometries[t[i]],e)},e.prototype.activateVao=function(e,t){var i=this.gl,r=this.CONTEXT_UID,n=this.renderer.buffer,s=e.buffers,a=e.attributes;e.indexBuffer&&n.bind(e.indexBuffer);var o=null;for(var l in a){var h=a[l],u=s[h.buffer],d=u._glBuffers[r];if(t.attributeData[l]){o!==d&&(n.bind(u),o=d);var c=t.attributeData[l].location;if(i.enableVertexAttribArray(c),i.vertexAttribPointer(c,h.size,h.type||i.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(c,1)}}}},e.prototype.draw=function(e,t,i,r){var n=this.gl,s=this._activeGeometry;if(s.indexBuffer){var a=s.indexBuffer.data.BYTES_PER_ELEMENT,o=2===a?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?s.instanced?n.drawElementsInstanced(e,t||s.indexBuffer.data.length,o,(i||0)*a,r||1):n.drawElements(e,t||s.indexBuffer.data.length,o,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else s.instanced?n.drawArraysInstanced(e,i,t||s.getSize(),r||1):n.drawArrays(e,i,t||s.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e.prototype.destroy=function(){this.renderer=null},e}(),Hb=function(){function e(e){void 0===e&&(e=null),this.type=jm.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Yf.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(e.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=jm.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},e.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e}();function Kb(e,t,i){var r=e.createShader(t);return e.shaderSource(r,i),e.compileShader(r),r}function Yb(e,t){var i=e.getShaderSource(t).split("\n").map((function(e,t){return t+": "+e})),r=e.getShaderInfoLog(t),n=r.split("\n"),s={},a=n.map((function(e){return parseFloat(e.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))})).filter((function(e){return!(!e||s[e])&&(s[e]=!0,!0)})),o=[""];a.forEach((function(e){i[e-1]="%c"+i[e-1]+"%c",o.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));var l=i.join("\n");o[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,o),console.groupEnd()}function zb(e){for(var t=new Array(e),i=0;i<t.length;i++)t[i]=!1;return t}function jb(e,t){switch(e){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return zb(2*t);case"bvec3":return zb(3*t);case"bvec4":return zb(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var qb,$b={},eI=$b;function tI(){if(!qb){qb=zm.MEDIUM;var e=function(){if(eI===$b||eI&&eI.isContextLost()){var e=document.createElement("canvas"),t=void 0;Yf.PREFER_ENV>=Nm.WEBGL2&&(t=e.getContext("webgl2",{})),t||((t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),eI=t}return eI}();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);qb=t.precision?zm.HIGH:zm.MEDIUM}}return qb}function iI(e,t,i){if("precision"!==e.substring(0,9)){var r=t;return t===zm.HIGH&&i!==zm.HIGH&&(r=zm.MEDIUM),"precision "+r+" float;\n"+e}return i!==zm.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}var rI={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function nI(e){return rI[e]}var sI=null,aI={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function oI(e,t){if(!sI){var i=Object.keys(aI);sI={};for(var r=0;r<i.length;++r){var n=i[r];sI[e[n]]=aI[n]}}return sI[t]}var lI=[{test:function(e){return"float"===e.type&&1===e.size},code:function(e){return'\n            if(uv["'+e+'"] !== ud["'+e+'"].value)\n            {\n                ud["'+e+'"].value = uv["'+e+'"]\n                gl.uniform1f(ud["'+e+'"].location, uv["'+e+'"])\n            }\n            '}},{test:function(e){return("sampler2D"===e.type||"samplerCube"===e.type||"sampler2DArray"===e.type)&&1===e.size&&!e.isArray},code:function(e){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+e+'"], t);\n\n            if(ud["'+e+'"].value !== t)\n            {\n                ud["'+e+'"].value = t;\n                gl.uniform1i(ud["'+e+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(e,t){return"mat3"===e.type&&1===e.size&&void 0!==t.a},code:function(e){return'\n            gl.uniformMatrix3fv(ud["'+e+'"].location, false, uv["'+e+'"].toArray(true));\n            '},codeUbo:function(e){return"\n                var "+e+"_matrix = uv."+e+".toArray(true);\n\n                data[offset] = "+e+"_matrix[0];\n                data[offset+1] = "+e+"_matrix[1];\n                data[offset+2] = "+e+"_matrix[2];\n        \n                data[offset + 4] = "+e+"_matrix[3];\n                data[offset + 5] = "+e+"_matrix[4];\n                data[offset + 6] = "+e+"_matrix[5];\n        \n                data[offset + 8] = "+e+"_matrix[6];\n                data[offset + 9] = "+e+"_matrix[7];\n                data[offset + 10] = "+e+"_matrix[8];\n            "}},{test:function(e,t){return"vec2"===e.type&&1===e.size&&void 0!==t.x},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+e+'"].location, v.x, v.y);\n                }'},codeUbo:function(e){return"\n                v = uv."+e+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(e){return"vec2"===e.type&&1===e.size},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+e+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(e,t){return"vec4"===e.type&&1===e.size&&void 0!==t.width},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+e+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(e){return"\n                    v = uv."+e+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(e){return"vec4"===e.type&&1===e.size},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+e+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],hI={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},uI={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var dI,cI=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function pI(e){for(var t="",i=0;i<e;++i)i>0&&(t+="\nelse "),i<e-1&&(t+="if(test == "+i+".0){}");return t}var gI=0,fI={},mI=function(){function e(t,i,r){void 0===r&&(r="pixi-shader"),this.id=gI++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=i||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),fI[r]?(fI[r]++,r+="-"+fI[r]):fI[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=iI(this.vertexSrc,Yf.PRECISION_VERTEX,zm.HIGH),this.fragmentSrc=iI(this.fragmentSrc,Yf.PRECISION_FRAGMENT,tI())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),e.from=function(t,i,r){var n=t+i,s=QC[n];return s||(QC[n]=s=new e(t,i,r)),s},e}(),CI=function(){function e(e,t){this.uniformBindCount=0,this.program=e,this.uniformGroup=t?t instanceof Db?t:new Db(t):new Db({})}return e.prototype.checkUniformExists=function(e,t){if(t.uniforms[e])return!0;for(var i in t.uniforms){var r=t.uniforms[i];if(r.group&&this.checkUniformExists(e,r))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,i,r){return new e(mI.from(t,i),r)},e}(),yI=function(){function e(){this.data=0,this.blendMode=Zm.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(e){!!(1&this.data)!==e&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(e){!!(2&this.data)!==e&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(e){!!(4&this.data)!==e&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(e){!!(8&this.data)!==e&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(e){!!(32&this.data)!==e&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(e){!!(16&this.data)!==e&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==Zm.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e}(),bI=function(e){function t(i,r,n){var s=this,a=mI.from(i||t.defaultVertexSrc,r||t.defaultFragmentSrc);return(s=e.call(this,a,n)||this).padding=0,s.resolution=Yf.FILTER_RESOLUTION,s.multisample=Yf.FILTER_MULTISAMPLE,s.enabled=!0,s.autoFit=!0,s.state=new yI,s}return qy(t,e),t.prototype.apply=function(e,t,i,r,n){e.applyFilter(this,t,i,r)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(CI),II=new $C,vI=function(){function e(e,t){this._texture=e,this.mapCoord=new $C,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===t?.5:t,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var i=this.mapCoord,r=0;r<e.length;r+=2){var n=e[r],s=e[r+1];t[r]=n*i.a+s*i.c+i.tx,t[r+1]=n*i.b+s*i.d+i.ty}return t},e.prototype.update=function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var i=t._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=t.orig,n=t.trim;n&&(II.set(r.width/n.width,0,0,r.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(II));var s=t.baseTexture,a=this.uClampFrame,o=this.clampMargin/s.resolution,l=this.clampOffset;return a[0]=(t._frame.x+o+l)/s.width,a[1]=(t._frame.y+o+l)/s.height,a[2]=(t._frame.x+t._frame.width-o+l)/s.width,a[3]=(t._frame.y+t._frame.height-o+l)/s.height,this.uClampOffset[0]=l/s.realWidth,this.uClampOffset[1]=l/s.realHeight,this.isSimple=t._frame.width===s.width&&t._frame.height===s.height&&0===t.rotate,!0},e}(),_I=function(e){function t(t,i,r){var n=this,s=null;return"string"!=typeof t&&void 0===i&&void 0===r&&(s=t,t=void 0,i=void 0,r=void 0),(n=e.call(this,t||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",i||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",r)||this).maskSprite=s,n.maskMatrix=new $C,n}return qy(t,e),Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(e,t,i,r){var n=this._maskSprite,s=n._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new vI(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,n).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,e.applyFilter(this,t,i,r))},t}(bI),SI=function(){function e(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return e.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},e.prototype.push=function(e,t){var i=t;if(!i.isMaskData){var r=this.maskDataPool.pop()||new Hb;r.pooled=!0,r.maskObject=t,i=r}var n=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(i.copyCountersOrReset(n),i.autoDetect&&this.detect(i),i._target=e,i.type!==jm.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case jm.SCISSOR:this.renderer.scissor.push(i);break;case jm.STENCIL:this.renderer.stencil.push(i);break;case jm.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i)}i.type===jm.SPRITE&&this.maskStack.push(i)},e.prototype.pop=function(e){var t=this.maskStack.pop();if(t&&t._target===e){if(t.enabled)switch(t.type){case jm.SCISSOR:this.renderer.scissor.pop();break;case jm.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case jm.SPRITE:this.popSpriteMask(t)}if(t.reset(),t.pooled&&this.maskDataPool.push(t),0!==this.maskStack.length){var i=this.maskStack[this.maskStack.length-1];i.type===jm.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}},e.prototype.detect=function(e){e.maskObject.isSprite?e.type=jm.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=jm.SCISSOR:e.type=jm.STENCIL},e.prototype.pushSpriteMask=function(e){var t,i,r=e.maskObject,n=e._target,s=e._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex])||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new _I]);var a,o,l=this.renderer,h=l.renderTexture;if(h.current){var u=h.current;a=e.resolution||u.resolution,o=null!==(t=e.multisample)&&void 0!==t?t:u.multisample}else a=e.resolution||l.resolution,o=null!==(i=e.multisample)&&void 0!==i?i:l.multisample;s[0].resolution=a,s[0].multisample=o,s[0].maskSprite=r;var d=n.filterArea;n.filterArea=r.getBounds(!0),l.filter.push(n,s),n.filterArea=d,e._filters||this.alphaMaskIndex++},e.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},e.prototype.destroy=function(){this.renderer=null},e}(),kI=function(){function e(e){this.renderer=e,this.maskStack=[],this.glConst=0}return e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(e){var t=this.renderer.gl,i=this.getStackLength();this.maskStack=e;var r=this.getStackLength();r!==i&&(0===r?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){this.renderer=null,this.maskStack=null},e}(),TI=new $C,AI=function(e){function t(t){var i=e.call(this,t)||this;return i.glConst=WebGLRenderingContext.SCISSOR_TEST,i}return qy(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.calcScissorRect=function(e){if(!e._scissorRectLocal){var t=e._scissorRect,i=e.maskObject,r=this.renderer,n=r.renderTexture;i.renderable=!0;var s=i.getBounds();this.roundFrameToPixels(s,n.current?n.current.resolution:r.resolution,n.sourceFrame,n.destinationFrame,r.projection.transform),i.renderable=!1,t&&s.fit(t),e._scissorRectLocal=s}},t.isMatrixRotated=function(e){if(!e)return!1;var t=e.a,i=e.b,r=e.c,n=e.d;return(Math.abs(i)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(n)>1e-4)},t.prototype.testScissor=function(e){var i=e.maskObject;if(!i.isFastRect||!i.isFastRect())return!1;if(t.isMatrixRotated(i.worldTransform))return!1;if(t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var r=e._scissorRectLocal;return r.width>0&&r.height>0},t.prototype.roundFrameToPixels=function(e,i,r,n,s){t.isMatrixRotated(s)||((s=s?TI.copyFrom(s):TI.identity()).translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.renderer.filter.transformAABB(s,e),e.fit(n),e.x=Math.round(e.x*i),e.y=Math.round(e.y*i),e.width=Math.round(e.width*i),e.height=Math.round(e.height*i))},t.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var t=this.renderer.gl;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e,t=this.maskStack[this.maskStack.length-1]._scissorRect;e=this.renderer.renderTexture.current?t.y:this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)},t}(kI),wI=function(e){function t(t){var i=e.call(this,t)||this;return i.glConst=WebGLRenderingContext.STENCIL_TEST,i}return qy(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var t=e.maskObject,i=this.renderer.gl,r=e._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),e._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,r,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var t=this.renderer.gl;0===this.getStackLength()?t.disable(t.STENCIL_TEST):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t}(kI),EI=function(){function e(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new $C,this.transform=null}return e.prototype.update=function(e,t,i,r){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(e,t,i,r){var n=this.projectionMatrix,s=r?-1:1;n.identity(),n.a=1/t.width*2,n.d=s*(1/t.height*2),n.tx=-1-t.x*n.a,n.ty=-s-t.y*n.d},e.prototype.setTransform=function(e){},e.prototype.destroy=function(){this.renderer=null},e}(),JI=new HC,RI=new HC,xI=function(){function e(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new HC,this.destinationFrame=new HC,this.viewportFrame=new HC}return e.prototype.bind=function(e,t,i){void 0===e&&(e=null);var r,n,s,a=this.renderer;this.current=e,e?(s=(r=e.baseTexture).resolution,t||(JI.width=e.frame.width,JI.height=e.frame.height,t=JI),i||(RI.x=e.frame.x,RI.y=e.frame.y,RI.width=t.width,RI.height=t.height,i=RI),n=r.framebuffer):(s=a.resolution,t||(JI.width=a.screen.width,JI.height=a.screen.height,t=JI),i||((i=JI).width=t.width,i.height=t.height));var o=this.viewportFrame;o.x=i.x*s,o.y=i.y*s,o.width=i.width*s,o.height=i.height*s,e||(o.y=a.view.height-(o.y+o.height)),o.ceil(),this.renderer.framebuffer.bind(n,o),this.renderer.projection.update(i,t,s,!n),e?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(i)},e.prototype.clear=function(e,t){e=this.current?e||this.current.baseTexture.clearColor:e||this.clearColor;var i=this.destinationFrame,r=this.current?this.current.baseTexture:this.renderer.screen,n=i.width!==r.width||i.height!==r.height;if(n){var s=this.viewportFrame,a=s.x,o=s.y,l=s.width,h=s.height;a=Math.round(a),o=Math.round(o),l=Math.round(l),h=Math.round(h),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,o,l,h)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],t),n&&this.renderer.scissor.pop()},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e.prototype.destroy=function(){this.renderer=null},e}();function GI(e,t,i,r,n){i.buffer.update(n)}var DI={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},BI={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function NI(e,t){if(!e.autoManage)return{size:0,syncFunc:GI};for(var i=function(e,t){var i=[];for(var r in e)t[r]&&i.push(t[r]);return i.sort((function(e,t){return e.index-t.index})),i}(e.uniforms,t),r=function(e){for(var t=e.map((function(e){return{data:e,offset:0,dataLen:0,dirty:0}})),i=0,r=0,n=0,s=0;s<t.length;s++){var a=t[s];if(i=BI[a.data.type],a.data.size>1&&(i=Math.max(i,16)*a.data.size),a.dataLen=i,r%i!=0&&r<16){var o=r%i%16;r+=o,n+=o}r+i>16?(n=16*Math.ceil(n/16),a.offset=n,n+=i,r=i):(a.offset=n,r+=i,n+=i)}return{uboElements:t,size:n=16*Math.ceil(n/16)}}(i),n=r.uboElements,s=r.size,a=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],o=0;o<n.length;o++){for(var l=n[o],h=e.uniforms[l.data.name],u=l.data.name,d=!1,c=0;c<lI.length;c++){var p=lI[c];if(p.codeUbo&&p.test(l.data,h)){a.push("offset = "+l.offset/4+";",lI[c].codeUbo(l.data.name,h)),d=!0;break}}if(!d)if(l.data.size>1){var g=nI(l.data.type),f=Math.max(BI[l.data.type]/16,1),m=g/f,C=(4-m%4)%4;a.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+l.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+l.data.size*f+"; i++)\n                {\n                    for(var j = 0; j < "+m+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+C+";\n                }\n\n                ")}else{var y=DI[l.data.type];a.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+l.offset/4+";\n                "+y+";\n                ")}}return a.push("\n       renderer.buffer.update(buffer);\n    "),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join("\n"))}}var QI=function(){function e(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},e}();function MI(e,t){var i=Kb(e,e.VERTEX_SHADER,t.vertexSrc),r=Kb(e,e.FRAGMENT_SHADER,t.fragmentSrc),n=e.createProgram();if(e.attachShader(n,i),e.attachShader(n,r),e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS)||function(e,t,i,r){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(i,e.COMPILE_STATUS)||Yb(e,i),e.getShaderParameter(r,e.COMPILE_STATUS)||Yb(e,r),console.error("PixiJS Error: Could not initialize shader."),""!==e.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}(e,n,i,r),t.attributeData=function(e,t){for(var i={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),n=0;n<r;n++){var s=t.getActiveAttrib(e,n);if(0!==s.name.indexOf("gl_")){var a=oI(t,s.type),o={type:a,name:s.name,size:nI(a),location:t.getAttribLocation(e,s.name)};i[s.name]=o}}return i}(n,e),t.uniformData=function(e,t){for(var i={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n=0;n<r;n++){var s=t.getActiveUniform(e,n),a=s.name.replace(/\[.*?\]$/,""),o=!!s.name.match(/\[.*?\]$/),l=oI(t,s.type);i[a]={name:a,index:n,type:l,size:s.size,isArray:o,value:jb(l,s.size)}}return i}(n,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var s=Object.keys(t.attributeData);s.sort((function(e,t){return e>t?1:-1}));for(var a=0;a<s.length;a++)t.attributeData[s[a]].location=a,e.bindAttribLocation(n,a,s[a]);e.linkProgram(n)}e.deleteShader(i),e.deleteShader(r);var o={};for(var a in t.uniformData){var l=t.uniformData[a];o[a]={location:e.getUniformLocation(n,a),value:jb(l.type,l.size)}}return new QI(n,o)}var ZI=0,PI={textureCount:0,uboCount:0},OI=function(){function e(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=ZI++}return e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof dI)return dI;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");dI=!0===e({a:"b"},"a","b")}catch(e){dI=!1}return dI}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(e){this.gl=e,this.reset()},e.prototype.bind=function(e,t){e.uniforms.globals=this.renderer.globalUniforms;var i=e.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),t||(PI.textureCount=0,PI.uboCount=0,this.syncUniformGroup(e.uniformGroup,PI)),r},e.prototype.setUniforms=function(e){var t=this.shader.program,i=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(i.uniformData,e,this.renderer)},e.prototype.syncUniformGroup=function(e,t){var i=this.getGlProgram();e.static&&e.dirtyId===i.uniformDirtyGroups[e.id]||(i.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,i,t))},e.prototype.syncUniforms=function(e,t,i){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,i)},e.prototype.createSyncGroups=function(e){var t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=function(e,t){var i,r=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var n in e.uniforms){var s=t[n];if(s){for(var a=e.uniforms[n],o=!1,l=0;l<lI.length;l++)if(lI[l].test(s,a)){r.push(lI[l].code(n,a)),o=!0;break}if(!o){var h=(1===s.size?hI:uI)[s.type].replace("location",'ud["'+n+'"].location');r.push('\n            cu = ud["'+n+'"];\n            cv = cu.value;\n            v = uv["'+n+'"];\n            '+h+";")}}else(null===(i=e.uniforms[n])||void 0===i?void 0:i.group)&&(e.uniforms[n].ubo?r.push("\n                        renderer.shader.syncUniformBufferGroup(uv."+n+", '"+n+"');\n                    "):r.push("\n                        renderer.shader.syncUniformGroup(uv."+n+", syncData);\n                    "))}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]},e.prototype.syncUniformBufferGroup=function(e,t){var i=this.getGlProgram();if(!e.static||0!==e.dirtyId||!i.uniformGroups[e.id]){e.dirtyId=0;var r=i.uniformGroups[e.id]||this.createSyncBufferGroup(e,i,t);e.buffer.update(),r(i.uniformData,e.uniforms,this.renderer,PI,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,i.uniformBufferBindings[t])},e.prototype.createSyncBufferGroup=function(e,t,i){var r=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var n=this.gl.getUniformBlockIndex(t.program,i);t.uniformBufferBindings[i]=this.shader.uniformBindCount,r.uniformBlockBinding(t.program,n,this.shader.uniformBindCount),this.shader.uniformBindCount++;var s=this.getSignature(e,this.shader.program.uniformData,"ubo"),a=this._uboCache[s];if(a||(a=this._uboCache[s]=NI(e,this.shader.program.uniformData)),e.autoManage){var o=new Float32Array(a.size/4);e.buffer.update(o)}return t.uniformGroups[e.id]=a.syncFunc,t.uniformGroups[e.id]},e.prototype.getSignature=function(e,t,i){var r=e.uniforms,n=[i+"-"];for(var s in r)n.push(s),t[s]&&n.push(t[s].type);return n.join("-")},e.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateProgram=function(e){var t=this.gl,i=e.program,r=MI(t,i);return i.glPrograms[this.renderer.CONTEXT_UID]=r,r},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},e}();var LI=function(){function e(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Zm.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new yI,this.defaultState.blend=!0}return e.prototype.contextChange=function(e){this.gl=e,this.blendModes=function(e,t){return void 0===t&&(t=[]),t[Zm.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Zm.ADD]=[e.ONE,e.ONE],t[Zm.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Zm.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Zm.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Zm.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Zm.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Zm.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Zm.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Zm.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Zm.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Zm.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Zm.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Zm.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Zm.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Zm.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Zm.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Zm.NONE]=[0,0],t[Zm.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Zm.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[Zm.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[Zm.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[Zm.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[Zm.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[Zm.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[Zm.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[Zm.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[Zm.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[Zm.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[Zm.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}(e),this.set(this.defaultState),this.reset()},e.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,i=0;t;)1&t&&this.map[i].call(this,!!(e.data&1<<i)),t>>=1,i++;this.stateId=e.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,e)},e.prototype.forceState=function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setDepthMask=function(e){this.gl.depthMask(e)},e.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},e.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var t=this.blendModes[e],i=this.gl;2===t.length?i.blendFunc(t[0],t[1]):i.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,i.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},e.prototype.setPolygonOffset=function(e,t){this.gl.polygonOffset(e,t)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(e,t){var i=this.checks.indexOf(e);t&&-1===i?this.checks.push(e):t||-1===i||this.checks.splice(i,1)},e.checkBlendMode=function(e,t){e.setBlendMode(t.blendMode)},e.checkPolygonOffset=function(e,t){e.setPolygonOffset(1,t.polygonOffset)},e.prototype.destroy=function(){this.gl=null},e}(),XI=function(){function e(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Yf.GC_MAX_IDLE,this.checkCountMax=Yf.GC_MAX_CHECK_COUNT,this.mode=Yf.GC_MODE}return e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==Ym.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var e=this.renderer.texture,t=e.managedTextures,i=!1,r=0;r<t.length;r++){var n=t[r];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(e.destroyTexture(n,!0),t[r]=null,i=!0)}if(i){var s=0;for(r=0;r<t.length;r++)null!==t[r]&&(t[s++]=t[r]);t.length=s}},e.prototype.unload=function(e){var t=this.renderer.texture,i=e._texture;i&&!i.framebuffer&&t.destroyTexture(i);for(var r=e.children.length-1;r>=0;r--)this.unload(e.children[r])},e.prototype.destroy=function(){this.renderer=null},e}();var VI=function(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Xm.UNSIGNED_BYTE,this.internalFormat=Om.RGBA,this.samplerType=0},FI=function(){function e(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new rb,this.hasIntegerTextures=!1}return e.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function(e){var t,i,r,n,s,a,o,l,h,u,d,c,p,g,f,m,C,y,b,I,v,_,S;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?((t={})[Xm.UNSIGNED_BYTE]=((i={})[Om.RGBA]=e.RGBA8,i[Om.RGB]=e.RGB8,i[Om.RG]=e.RG8,i[Om.RED]=e.R8,i[Om.RGBA_INTEGER]=e.RGBA8UI,i[Om.RGB_INTEGER]=e.RGB8UI,i[Om.RG_INTEGER]=e.RG8UI,i[Om.RED_INTEGER]=e.R8UI,i[Om.ALPHA]=e.ALPHA,i[Om.LUMINANCE]=e.LUMINANCE,i[Om.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,i),t[Xm.BYTE]=((r={})[Om.RGBA]=e.RGBA8_SNORM,r[Om.RGB]=e.RGB8_SNORM,r[Om.RG]=e.RG8_SNORM,r[Om.RED]=e.R8_SNORM,r[Om.RGBA_INTEGER]=e.RGBA8I,r[Om.RGB_INTEGER]=e.RGB8I,r[Om.RG_INTEGER]=e.RG8I,r[Om.RED_INTEGER]=e.R8I,r),t[Xm.UNSIGNED_SHORT]=((n={})[Om.RGBA_INTEGER]=e.RGBA16UI,n[Om.RGB_INTEGER]=e.RGB16UI,n[Om.RG_INTEGER]=e.RG16UI,n[Om.RED_INTEGER]=e.R16UI,n[Om.DEPTH_COMPONENT]=e.DEPTH_COMPONENT16,n),t[Xm.SHORT]=((s={})[Om.RGBA_INTEGER]=e.RGBA16I,s[Om.RGB_INTEGER]=e.RGB16I,s[Om.RG_INTEGER]=e.RG16I,s[Om.RED_INTEGER]=e.R16I,s),t[Xm.UNSIGNED_INT]=((a={})[Om.RGBA_INTEGER]=e.RGBA32UI,a[Om.RGB_INTEGER]=e.RGB32UI,a[Om.RG_INTEGER]=e.RG32UI,a[Om.RED_INTEGER]=e.R32UI,a[Om.DEPTH_COMPONENT]=e.DEPTH_COMPONENT24,a),t[Xm.INT]=((o={})[Om.RGBA_INTEGER]=e.RGBA32I,o[Om.RGB_INTEGER]=e.RGB32I,o[Om.RG_INTEGER]=e.RG32I,o[Om.RED_INTEGER]=e.R32I,o),t[Xm.FLOAT]=((l={})[Om.RGBA]=e.RGBA32F,l[Om.RGB]=e.RGB32F,l[Om.RG]=e.RG32F,l[Om.RED]=e.R32F,l[Om.DEPTH_COMPONENT]=e.DEPTH_COMPONENT32F,l),t[Xm.HALF_FLOAT]=((h={})[Om.RGBA]=e.RGBA16F,h[Om.RGB]=e.RGB16F,h[Om.RG]=e.RG16F,h[Om.RED]=e.R16F,h),t[Xm.UNSIGNED_SHORT_5_6_5]=((u={})[Om.RGB]=e.RGB565,u),t[Xm.UNSIGNED_SHORT_4_4_4_4]=((d={})[Om.RGBA]=e.RGBA4,d),t[Xm.UNSIGNED_SHORT_5_5_5_1]=((c={})[Om.RGBA]=e.RGB5_A1,c),t[Xm.UNSIGNED_INT_2_10_10_10_REV]=((p={})[Om.RGBA]=e.RGB10_A2,p[Om.RGBA_INTEGER]=e.RGB10_A2UI,p),t[Xm.UNSIGNED_INT_10F_11F_11F_REV]=((g={})[Om.RGB]=e.R11F_G11F_B10F,g),t[Xm.UNSIGNED_INT_5_9_9_9_REV]=((f={})[Om.RGB]=e.RGB9_E5,f),t[Xm.UNSIGNED_INT_24_8]=((m={})[Om.DEPTH_STENCIL]=e.DEPTH24_STENCIL8,m),t[Xm.FLOAT_32_UNSIGNED_INT_24_8_REV]=((C={})[Om.DEPTH_STENCIL]=e.DEPTH32F_STENCIL8,C),S=t):((y={})[Xm.UNSIGNED_BYTE]=((b={})[Om.RGBA]=e.RGBA,b[Om.RGB]=e.RGB,b[Om.ALPHA]=e.ALPHA,b[Om.LUMINANCE]=e.LUMINANCE,b[Om.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,b),y[Xm.UNSIGNED_SHORT_5_6_5]=((I={})[Om.RGB]=e.RGB,I),y[Xm.UNSIGNED_SHORT_4_4_4_4]=((v={})[Om.RGBA]=e.RGBA,v),y[Xm.UNSIGNED_SHORT_5_5_5_1]=((_={})[Om.RGBA]=e.RGBA,_),S=y),S}(e);var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(var i=0;i<t;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new VI(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new VI(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(i=0;i<this.boundTextures.length;i++)this.bind(null,i)},e.prototype.bind=function(e,t){void 0===t&&(t=0);var i=this.gl;if((e=null==e?void 0:e.castToBaseTexture())&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var r=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,i.activeTexture(i.TEXTURE0+t)),i.bindTexture(e.target,r.texture)),r.dirtyId!==e.dirtyId&&(this.currentLocation!==t&&(this.currentLocation=t,i.activeTexture(i.TEXTURE0+t)),this.updateTexture(e)),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,i.activeTexture(i.TEXTURE0+t)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[t]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},e.prototype.unbind=function(e){var t=this.gl,i=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<i.length;r++)i[r]===this.unknownTexture&&this.bind(null,r)}for(r=0;r<i.length;r++)i[r]===e&&(this.currentLocation!==r&&(t.activeTexture(t.TEXTURE0+r),this.currentLocation=r),t.bindTexture(e.target,this.emptyTextures[e.target].texture),i[r]=null)},e.prototype.ensureSamplerType=function(e){var t=this,i=t.boundTextures,r=t.hasIntegerTextures,n=t.CONTEXT_UID;if(r)for(var s=e-1;s>=0;--s){var a=i[s];if(a)a._glTextures[n].samplerType!==Vm.FLOAT&&this.renderer.texture.unbind(a)}},e.prototype.initTexture=function(e){var t=new VI(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t},e.prototype.initTextureType=function(e,t){var i,r;t.internalFormat=null!==(r=null===(i=this.internalFormats[e.type])||void 0===i?void 0:i[e.format])&&void 0!==r?r:e.format,2===this.webGLVersion&&e.type===Xm.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type},e.prototype.updateTexture=function(e){var t=e._glTextures[this.CONTEXT_UID];if(t){var i=this.renderer;if(this.initTextureType(e,t),e.resource&&e.resource.upload(i,e,t))t.samplerType!==Vm.FLOAT&&(this.hasIntegerTextures=!0);else{var r=e.realWidth,n=e.realHeight,s=i.gl;(t.width!==r||t.height!==n||t.dirtyId<0)&&(t.width=r,t.height=n,s.texImage2D(e.target,0,t.internalFormat,r,n,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}},e.prototype.destroyTexture=function(e,t){var i=this.gl;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),i.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){var r=this.managedTextures.indexOf(e);-1!==r&&JC(this.managedTextures,r,1)}},e.prototype.updateTextureStyle=function(e){var t=e._glTextures[this.CONTEXT_UID];t&&(e.mipmap!==Um.POW2&&2===this.webGLVersion||e.isPowerOfTwo?t.mipmap=e.mipmap>=1:t.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?t.wrapMode=e.wrapMode:t.wrapMode=Wm.CLAMP,e.resource&&e.resource.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)},e.prototype.setStyle=function(e,t){var i=this.gl;if(t.mipmap&&e.mipmap!==Um.ON_MANUAL&&i.generateMipmap(e.target),i.texParameteri(e.target,i.TEXTURE_WRAP_S,t.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===Fm.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&e.anisotropicLevel>0&&e.scaleMode===Fm.LINEAR){var n=Math.min(e.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(e.target,r.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===Fm.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,e.scaleMode===Fm.LINEAR?i.LINEAR:i.NEAREST)},e.prototype.destroy=function(){this.renderer=null},e}(),WI=new $C,UI=function(e){function t(t,i){void 0===t&&(t=Qm.UNKNOWN);var r=e.call(this)||this;return i=Object.assign({},Yf.RENDER_OPTIONS,i),r.options=i,r.type=t,r.screen=new HC(0,0,i.width,i.height),r.view=i.view||document.createElement("canvas"),r.resolution=i.resolution||Yf.RESOLUTION,r.useContextAlpha=i.useContextAlpha,r.autoDensity=!!i.autoDensity,r.preserveDrawingBuffer=i.preserveDrawingBuffer,r.clearBeforeRender=i.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,1],r._backgroundColorString="#000000",r.backgroundColor=i.backgroundColor||r._backgroundColor,r.backgroundAlpha=i.backgroundAlpha,void 0!==i.transparent&&(BC("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),r.useContextAlpha=i.transparent,r.backgroundAlpha=i.transparent?0:1),r._lastObjectRendered=null,r.plugins={},r}return qy(t,e),t.prototype.initPlugins=function(e){for(var t in e)this.plugins[t]=new e[t](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(t*this.resolution);var i=this.view.width/this.resolution,r=this.view.height/this.resolution;this.screen.width=i,this.screen.height=r,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=r+"px"),this.emit("resize",i,r)},t.prototype.generateTexture=function(e,t,i,r){void 0===t&&(t={}),"number"==typeof t&&(BC("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),t={scaleMode:t,resolution:i,region:r});var n=t.region,s=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(i[r[n]]=e[r[n]])}return i}(t,["region"]);0===(r=n||e.getLocalBounds(null,!0)).width&&(r.width=1),0===r.height&&(r.height=1);var a=Ib.create($y({width:r.width,height:r.height},s));return WI.tx=-r.x,WI.ty=-r.y,this.render(e,{renderTexture:a,clear:!1,transform:WI,skipUpdateTransform:!!e.parent}),a},t.prototype.destroy=function(e){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=Qm.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=bC(e),yC(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),t}(jf),HI=function(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},KI=function(){function e(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return e.prototype.destroy=function(){this.renderer=null},e.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},e.prototype.bind=function(e){var t=this.gl,i=this.CONTEXT_UID,r=e._glBuffers[i]||this.createGLBuffer(e);t.bindBuffer(e.type,r.buffer)},e.prototype.bindBufferBase=function(e,t){var i=this.gl,r=this.CONTEXT_UID;if(this.boundBufferBases[t]!==e){var n=e._glBuffers[r]||this.createGLBuffer(e);this.boundBufferBases[t]=e,i.bindBufferBase(i.UNIFORM_BUFFER,t,n.buffer)}},e.prototype.bindBufferRange=function(e,t,i){var r=this.gl,n=this.CONTEXT_UID;i=i||0;var s=e._glBuffers[n]||this.createGLBuffer(e);r.bindBufferRange(r.UNIFORM_BUFFER,t||0,s.buffer,256*i,256)},e.prototype.update=function(e){var t=this.gl,i=this.CONTEXT_UID,r=e._glBuffers[i];if(e._updateID!==r.updateID)if(r.updateID=e._updateID,t.bindBuffer(e.type,r.buffer),r.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{var n=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;r.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,n)}},e.prototype.dispose=function(e,t){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var i=e._glBuffers[this.CONTEXT_UID],r=this.gl;e.disposeRunner.remove(this),i&&(t||r.deleteBuffer(i.buffer),delete e._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedBuffers),i=0;i<t.length;i++)this.dispose(this.managedBuffers[t[i]],e)},e.prototype.createGLBuffer=function(e){var t=this.CONTEXT_UID,i=this.gl;return e._glBuffers[t]=new HI(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]},e}(),YI=function(e){function t(i){var r=e.call(this,Qm.WEBGL,i)||this;return i=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new Ky("destroy"),contextChange:new Ky("contextChange"),reset:new Ky("reset"),update:new Ky("update"),postrender:new Ky("postrender"),prerender:new Ky("prerender"),resize:new Ky("resize")},r.runners.contextChange.add(r),r.globalUniforms=new Db({projectionMatrix:new $C},!0),r.addSystem(SI,"mask").addSystem(Lb,"context").addSystem(LI,"state").addSystem(OI,"shader").addSystem(FI,"texture").addSystem(KI,"buffer").addSystem(Ub,"geometry").addSystem(Fb,"framebuffer").addSystem(AI,"scissor").addSystem(wI,"stencil").addSystem(EI,"projection").addSystem(XI,"textureGC").addSystem(Mb,"filter").addSystem(xI,"renderTexture").addSystem(Pb,"batch"),r.initPlugins(t.__plugins),r.multisample=void 0,i.context?r.context.initFromContext(i.context):r.context.initFromOptions({alpha:!!r.useContextAlpha,antialias:i.antialias,premultipliedAlpha:r.useContextAlpha&&"notMultiplied"!==r.useContextAlpha,stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,function(e){var t;if(!mC){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var i=["\n %c %c %c PixiJS 6.3.2 - ✰ "+e+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=globalThis.console).log.apply(t,i)}else globalThis.console&&globalThis.console.log("PixiJS 6.3.2 - "+e+" - http://www.pixijs.com/");mC=!0}}(2===r.context.webGLVersion?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return qy(t,e),t.create=function(e){if(void 0===fC&&(fC=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:Yf.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),r=!(!i||!i.getContextAttributes().stencil);if(i){var n=i.getExtension("WEBGL_lose_context");n&&n.loseContext()}return i=null,r}catch(e){return!1}}()),fC)return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var e,t=this.gl;if(1===this.context.webGLVersion){var i=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,i)}else{i=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,i)}e>=qm.HIGH?this.multisample=qm.HIGH:e>=qm.MEDIUM?this.multisample=qm.MEDIUM:e>=qm.LOW?this.multisample=qm.LOW:this.multisample=qm.NONE},t.prototype.addSystem=function(e,t){var i=new e(this);if(this[t])throw new Error('Whoops! The name "'+t+'" is already in use');for(var r in this[t]=i,this.runners)this.runners[r].add(i);return this},t.prototype.render=function(e,t){var i,r,n,s;if(t&&(t instanceof Ib?(BC("6.0.0","Renderer#render arguments changed, use options instead."),i=t,r=arguments[2],n=arguments[3],s=arguments[4]):(i=t.renderTexture,r=t.clear,n=t.transform,s=t.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=n,!this.context.isLost){if(i||(this._lastObjectRendered=e),!s){var a=e.enableTempParent();e.updateTransform(),e.disableTempParent(a)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(t,i,r,n){void 0===i&&(i={});var s=e.prototype.generateTexture.call(this,t,i,r,n);return this.framebuffer.blit(),s},t.prototype.resize=function(t,i){e.prototype.resize.call(this,t,i),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(t){for(var i in this.runners.destroy.emit(),this.runners)this.runners[i].destroy();e.prototype.destroy.call(this,t),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return BC("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(e,i){t.__plugins=t.__plugins||{},t.__plugins[e]=i},t}(UI);var zI="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",jI=function(){this.texArray=null,this.blend=0,this.type=Pm.TRIANGLES,this.start=0,this.size=0,this.data=null},qI=function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},e}(),$I=function(){function e(e){"number"==typeof e?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(e){return this[e+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},e}(),ev=function(e){function t(t){var i=e.call(this,t)||this;return i.shaderGenerator=null,i.geometryClass=null,i.vertexSize=null,i.state=yI.for2d(),i.size=4*Yf.SPRITE_BATCH_SIZE,i._vertexCount=0,i._indexCount=0,i._bufferedElements=[],i._bufferedTextures=[],i._bufferSize=0,i._shader=null,i._packedGeometries=[],i._packedGeometryPoolSize=2,i._flushId=0,i._aBuffers={},i._iBuffers={},i.MAX_TEXTURES=1,i.renderer.on("prerender",i.onPrerender,i),t.runners.contextChange.add(i),i._dcIndex=0,i._aIndex=0,i._iIndex=0,i._attributeBuffer=null,i._indexBuffer=null,i._tempBoundTextures=[],i}return qy(t,e),t.prototype.contextChange=function(){var e=this.renderer.gl;Yf.PREFER_ENV===Nm.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Yf.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=t.createShader(t.FRAGMENT_SHADER);;){var r=cI.replace(/%forloop%/gi,pI(e));if(t.shaderSource(i,r),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS))break;e=e/2|0}return e}(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,i=t._textureArrayPool,r=this.size/4,n=Math.floor(r/this.MAX_TEXTURES)+1;e.length<r;)e.push(new jI);for(;i.length<n;)i.push(new qI);for(var s=0;s<this.MAX_TEXTURES;s++)this._tempBoundTextures[s]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var e=this._bufferedTextures,i=this.MAX_TEXTURES,r=t._textureArrayPool,n=this.renderer.batch,s=this._tempBoundTextures,a=this.renderer.textureGC.count,o=++rb._globalBatch,l=0,h=r[0],u=0;n.copyBoundTextures(s,i);for(var d=0;d<this._bufferSize;++d){var c=e[d];e[d]=null,c._batchEnabled!==o&&(h.count>=i&&(n.boundArray(h,s,o,i),this.buildDrawCalls(h,u,d),u=d,h=r[++l],++o),c._batchEnabled=o,c.touched=a,h.elements[h.count++]=c)}h.count>0&&(n.boundArray(h,s,o,i),this.buildDrawCalls(h,u,this._bufferSize),++l,++o);for(d=0;d<s.length;d++)s[d]=null;rb._globalBatch=o},t.prototype.buildDrawCalls=function(e,i,r){var n=this,s=n._bufferedElements,a=n._attributeBuffer,o=n._indexBuffer,l=n.vertexSize,h=t._drawCallPool,u=this._dcIndex,d=this._aIndex,c=this._iIndex,p=h[u];p.start=this._iIndex,p.texArray=e;for(var g=i;g<r;++g){var f=s[g],m=f._texture.baseTexture,C=vC[m.alphaMode?1:0][f.blendMode];s[g]=null,i<g&&p.blend!==C&&(p.size=c-p.start,i=g,(p=h[++u]).texArray=e,p.start=c),this.packInterleavedGeometry(f,a,o,d,c),d+=f.vertexData.length/2*l,c+=f.indices.length,p.blend=C}i<r&&(p.size=c-p.start,++u),this._dcIndex=u,this._aIndex=d,this._iIndex=c},t.prototype.bindAndClearTexArray=function(e){for(var t=this.renderer.texture,i=0;i<e.count;i++)t.bind(e.elements[i],e.ids[i]),e.elements[i]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,t=e._packedGeometries,i=e._attributeBuffer,r=e._indexBuffer;Yf.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(i.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(i.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,i=this.renderer,r=i.gl,n=i.state,s=t._drawCallPool,a=null,o=0;o<e;o++){var l=s[o],h=l.texArray,u=l.type,d=l.size,c=l.start,p=l.blend;a!==h&&(a=h,this.bindAndClearTexArray(h)),this.state.blendMode=p,n.set(this.state),r.drawElements(u,d,r.UNSIGNED_SHORT,2*c)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),Yf.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var t=AC(Math.ceil(e/8)),i=EC(t),r=8*t;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var n=this._aBuffers[r];return n||(this._aBuffers[r]=n=new $I(r*this.vertexSize*4)),n},t.prototype.getIndexBuffer=function(e){var t=AC(Math.ceil(e/12)),i=EC(t),r=12*t;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var n=this._iBuffers[i];return n||(this._iBuffers[i]=n=new Uint16Array(r)),n},t.prototype.packInterleavedGeometry=function(e,t,i,r,n){for(var s=t.uint32View,a=t.float32View,o=r/this.vertexSize,l=e.uvs,h=e.indices,u=e.vertexData,d=e._texture.baseTexture._batchLocation,c=Math.min(e.worldAlpha,1),p=c<1&&e._texture.baseTexture.alphaMode?SC(e._tintRGB,c):e._tintRGB+(255*c<<24),g=0;g<u.length;g+=2)a[r++]=u[g],a[r++]=u[g+1],a[r++]=l[g],a[r++]=l[g+1],s[r++]=p,a[r++]=d;for(g=0;g<h.length;g++)i[n++]=o+h[g]},t._drawCallPool=[],t._textureArrayPool=[],t}(Zb),tv=function(){function e(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},t.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(t.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return e.prototype.generateShader=function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),i=0;i<e;i++)t[i]=i;this.defaultGroupCache[e]=Db.from({uSamplers:t},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+e)).replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new mI(this.vertexSrc,r)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new $C,default:this.defaultGroupCache[e]};return new CI(this.programCache[e],n)},e.prototype.generateSampleSrc=function(e){var t="";t+="\n",t+="\n";for(var i=0;i<e;i++)i>0&&(t+="\nelse "),i<e-1&&(t+="if(vTextureId < "+i+".5)"),t+="\n{",t+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",t+="\n}";return t+="\n",t+="\n"},e}(),iv=function(e){function t(t){void 0===t&&(t=!1);var i=e.call(this)||this;return i._buffer=new kb(null,t,!1),i._indexBuffer=new kb(null,t,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,Xm.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,Xm.FLOAT).addAttribute("aColor",i._buffer,4,!0,Xm.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,Xm.FLOAT).addIndex(i._indexBuffer),i}return qy(t,e),t}(Jb),rv="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",nv="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",sv=function(){function e(){}return e.create=function(e){var t=Object.assign({vertex:rv,fragment:nv,geometryClass:iv,vertexSize:6},e),i=t.vertex,r=t.fragment,n=t.vertexSize,s=t.geometryClass;return function(e){function t(t){var a=e.call(this,t)||this;return a.shaderGenerator=new tv(i,r),a.geometryClass=s,a.vertexSize=n,a}return qy(t,e),t}(ev)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return rv},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return nv},enumerable:!1,configurable:!0}),e}(),av=sv.create(),ov=function(){function e(t){var i=this;this.stage=new By,t=Object.assign({forceCanvas:!1},t),this.renderer=function(e){return YI.create(e)}(t),e._plugins.forEach((function(e){e.init.call(i,t)}))}return e.registerPlugin=function(t){e._plugins.push(t)},e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,i){var r=this,n=e._plugins.slice(0);n.reverse(),n.forEach((function(e){e.destroy.call(r)})),this.stage.destroy(i),this.stage=null,this.renderer.destroy(t),this.renderer=null},e._plugins=[],e}(),lv=function(){function e(){}return e.init=function(e){var t=this;Object.defineProperty(this,"resizeTo",{set:function(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){t._resizeTo&&(t.cancelResize(),t._resizeId=requestAnimationFrame((function(){return t.resize()})))},this.cancelResize=function(){t._resizeId&&(cancelAnimationFrame(t._resizeId),t._resizeId=null)},this.resize=function(){if(t._resizeTo){var e,i;if(t.cancelResize(),t._resizeTo===globalThis.window)e=globalThis.innerWidth,i=globalThis.innerHeight;else{var r=t._resizeTo;e=r.clientWidth,i=r.clientHeight}t.renderer.resize(e,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},e.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e}();ov.registerPlugin(lv);
/*!
 * @pixi/extract - v6.3.2
 * Compiled Wed, 04 May 2022 17:49:13 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var hv=new HC,uv=function(){function e(e){this.renderer=e}return e.prototype.image=function(e,t,i){var r=new Image;return r.src=this.base64(e,t,i),r},e.prototype.base64=function(e,t,i){return this.canvas(e).toDataURL(t,i)},e.prototype.canvas=function(t){var i,r,n,s=this.renderer,a=!1,o=!1;t&&(t instanceof Ib?n=t:(n=this.renderer.generateTexture(t),o=!0)),n?(i=n.baseTexture.resolution,r=n.frame,a=!1,s.renderTexture.bind(n)):(i=this.renderer.resolution,a=!0,(r=hv).width=this.renderer.width,r.height=this.renderer.height,s.renderTexture.bind(null));var l=Math.floor(r.width*i+1e-4),h=Math.floor(r.height*i+1e-4),u=new PC(l,h,1),d=new Uint8Array(4*l*h),c=s.gl;c.readPixels(r.x*i,r.y*i,l,h,c.RGBA,c.UNSIGNED_BYTE,d);var p=u.context.getImageData(0,0,l,h);if(e.arrayPostDivide(d,p.data),u.context.putImageData(p,0,0),a){var g=new PC(u.width,u.height,1);g.context.scale(1,-1),g.context.drawImage(u.canvas,0,-h),u.destroy(),u=g}return o&&n.destroy(!0),u.canvas},e.prototype.pixels=function(t){var i,r,n,s=this.renderer,a=!1;t&&(t instanceof Ib?n=t:(n=this.renderer.generateTexture(t),a=!0)),n?(i=n.baseTexture.resolution,r=n.frame,s.renderTexture.bind(n)):(i=s.resolution,(r=hv).width=s.width,r.height=s.height,s.renderTexture.bind(null));var o=r.width*i,l=r.height*i,h=new Uint8Array(4*o*l),u=s.gl;return u.readPixels(r.x*i,r.y*i,o,l,u.RGBA,u.UNSIGNED_BYTE,h),a&&n.destroy(!0),e.arrayPostDivide(h,h),h},e.prototype.destroy=function(){this.renderer=null},e.arrayPostDivide=function(e,t){for(var i=0;i<e.length;i+=4){var r=t[i+3]=e[i+3];0!==r?(t[i]=Math.round(Math.min(255*e[i]/r,255)),t[i+1]=Math.round(Math.min(255*e[i+1]/r,255)),t[i+2]=Math.round(Math.min(255*e[i+2]/r,255))):(t[i]=e[i],t[i+1]=e[i+1],t[i+2]=e[i+2])}},e}(),dv=function(){function e(e,t,i){void 0===t&&(t=!1),this._fn=e,this._once=t,this._thisArg=i,this._next=this._prev=this._owner=null}return e.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},e}();function cv(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}var pv,gv=function(){function e(){this._head=this._tail=void 0}return e.prototype.handlers=function(e){void 0===e&&(e=!1);var t=this._head;if(e)return!!t;for(var i=[];t;)i.push(t),t=t._next;return i},e.prototype.has=function(e){if(!(e instanceof dv))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},e.prototype.dispatch=function(){for(var e=arguments,t=[],i=0;i<arguments.length;i++)t[i]=e[i];var r=this._head;if(!r)return!1;for(;r;)r._once&&this.detach(r),r._fn.apply(r._thisArg,t),r=r._next;return!0},e.prototype.add=function(e,t){if(void 0===t&&(t=null),"function"!=typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return cv(this,new dv(e,!1,t))},e.prototype.once=function(e,t){if(void 0===t&&(t=null),"function"!=typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return cv(this,new dv(e,!0,t))},e.prototype.detach=function(e){if(!(e instanceof dv))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this||(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null),this},e.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},e}();function fv(e,t){t=t||{};for(var i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=i.parser[t.strictMode?"strict":"loose"].exec(e),n={},s=14;s--;)n[i.key[s]]=r[s]||"";return n[i.q.name]={},n[i.key[12]].replace(i.q.parser,(function(e,t,r){t&&(n[i.q.name][t]=r)})),n}var mv=null;function Cv(){}function yv(e,t,i){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(e[t]=i)}function bv(e){return e.toString().replace("object ","")}var Iv=function(){function e(t,i,r){if(this._dequeue=Cv,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,"string"!=typeof t||"string"!=typeof i)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,0===i.indexOf("data:")),this.name=t,this.url=i,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Cv,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new gv,this.onProgress=new gv,this.onComplete=new gv,this.onAfterMiddleware=new gv}return e.setExtensionLoadType=function(t,i){yv(e._loadTypeMap,t,i)},e.setExtensionXhrType=function(t,i){yv(e._xhrTypeMap,t,i)},Object.defineProperty(e.prototype,"isDataUrl",{get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),e.prototype.complete=function(){this._clearEvents(),this._finish()},e.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.prototype.load=function(t){var i=this;if(!this.isLoading)if(this.isComplete)t&&setTimeout((function(){return t(i)}),1);else switch(t&&this.onComplete.once(t),this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:void 0===pv&&(pv=!(!globalThis.XDomainRequest||"withCredentials"in new XMLHttpRequest)),pv&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e.prototype._hasFlag=function(e){return 0!=(this._flags&e)},e.prototype._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},e.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===e&&void 0!==globalThis.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===e&&void 0!==globalThis.Audio?this.data=new Audio:this.data=document.createElement(e),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(e,this.url[i],Array.isArray(t)?t[i]:t));else{t=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(t)?t[0]:t))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+e)},e.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;"use-credentials"===this.crossOrigin&&(t.withCredentials=!0),t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=e.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},e.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout((function(){return e.send()}),1)},e.prototype._createSource=function(e,t,i){i||(i=e+"/"+this._getExtension(t));var r=document.createElement("source");return r.src=t,r.type=i,r},e.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},e.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},e.prototype._onTimeout=function(){this.abort("Load timed out.")},e.prototype._xhrOnError=function(){var e=this.xhr;this.abort(bv(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},e.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(bv(e)+" Request timed out.")},e.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(bv(e)+" Request was aborted by the user.")},e.prototype._xhrOnLoad=function(){var t=this.xhr,i="",r=void 0===t.status?200:t.status;if(""!==t.responseType&&"text"!==t.responseType&&void 0!==t.responseType||(i=t.responseText),0===r&&(i.length>0||t.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2===(r/100|0)){if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=i,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(i),this.type=e.TYPE.JSON}catch(e){return void this.abort("Error trying to parse loaded json: "+e)}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var n=new DOMParser;this.data=n.parseFromString(i,"text/xml")}else{var s=document.createElement("div");s.innerHTML=i,this.data=s}this.type=e.TYPE.XML}catch(e){return void this.abort("Error trying to parse loaded xml: "+e)}else this.data=t.response||i;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},e.prototype._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";t=t||globalThis.location,mv||(mv=document.createElement("a")),mv.href=e;var i=fv(mv.href,{strictMode:!0}),r=!i.port&&""===t.port||i.port===t.port,n=i.protocol?i.protocol+":":"";return i.host===t.hostname&&r&&n===t.protocol?"":"anonymous"},e.prototype._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},e.prototype._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},e.prototype._getExtension=function(e){void 0===e&&(e=this.url);var t="";if(this.isDataUrl){var i=e.indexOf("/");t=e.substring(i+1,e.indexOf(";",i))}else{var r=e.indexOf("?"),n=e.indexOf("#"),s=Math.min(r>-1?r:e.length,n>-1?n:e.length);t=(e=e.substring(0,s)).substring(e.lastIndexOf(".")+1)}return t.toLowerCase()},e.prototype._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},e}();function vv(){}function _v(e){return function(){for(var t=arguments,i=[],r=0;r<arguments.length;r++)i[r]=t[r];if(null===e)throw new Error("Callback was already called.");var n=e;e=null,n.apply(this,i)}}!function(e){var t,i,r;(t=e.STATUS_FLAGS||(e.STATUS_FLAGS={}))[t.NONE=0]="NONE",t[t.DATA_URL=1]="DATA_URL",t[t.COMPLETE=2]="COMPLETE",t[t.LOADING=4]="LOADING",function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JSON=1]="JSON",e[e.XML=2]="XML",e[e.IMAGE=3]="IMAGE",e[e.AUDIO=4]="AUDIO",e[e.VIDEO=5]="VIDEO",e[e.TEXT=6]="TEXT"}(e.TYPE||(e.TYPE={})),(i=e.LOAD_TYPE||(e.LOAD_TYPE={}))[i.XHR=1]="XHR",i[i.IMAGE=2]="IMAGE",i[i.AUDIO=3]="AUDIO",i[i.VIDEO=4]="VIDEO",(r=e.XHR_RESPONSE_TYPE||(e.XHR_RESPONSE_TYPE={})).DEFAULT="text",r.BUFFER="arraybuffer",r.BLOB="blob",r.DOCUMENT="document",r.JSON="json",r.TEXT="text",e._loadTypeMap={gif:e.LOAD_TYPE.IMAGE,png:e.LOAD_TYPE.IMAGE,bmp:e.LOAD_TYPE.IMAGE,jpg:e.LOAD_TYPE.IMAGE,jpeg:e.LOAD_TYPE.IMAGE,tif:e.LOAD_TYPE.IMAGE,tiff:e.LOAD_TYPE.IMAGE,webp:e.LOAD_TYPE.IMAGE,tga:e.LOAD_TYPE.IMAGE,svg:e.LOAD_TYPE.IMAGE,"svg+xml":e.LOAD_TYPE.IMAGE,mp3:e.LOAD_TYPE.AUDIO,ogg:e.LOAD_TYPE.AUDIO,wav:e.LOAD_TYPE.AUDIO,mp4:e.LOAD_TYPE.VIDEO,webm:e.LOAD_TYPE.VIDEO},e._xhrTypeMap={xhtml:e.XHR_RESPONSE_TYPE.DOCUMENT,html:e.XHR_RESPONSE_TYPE.DOCUMENT,htm:e.XHR_RESPONSE_TYPE.DOCUMENT,xml:e.XHR_RESPONSE_TYPE.DOCUMENT,tmx:e.XHR_RESPONSE_TYPE.DOCUMENT,svg:e.XHR_RESPONSE_TYPE.DOCUMENT,tsx:e.XHR_RESPONSE_TYPE.DOCUMENT,gif:e.XHR_RESPONSE_TYPE.BLOB,png:e.XHR_RESPONSE_TYPE.BLOB,bmp:e.XHR_RESPONSE_TYPE.BLOB,jpg:e.XHR_RESPONSE_TYPE.BLOB,jpeg:e.XHR_RESPONSE_TYPE.BLOB,tif:e.XHR_RESPONSE_TYPE.BLOB,tiff:e.XHR_RESPONSE_TYPE.BLOB,webp:e.XHR_RESPONSE_TYPE.BLOB,tga:e.XHR_RESPONSE_TYPE.BLOB,json:e.XHR_RESPONSE_TYPE.JSON,text:e.XHR_RESPONSE_TYPE.TEXT,txt:e.XHR_RESPONSE_TYPE.TEXT,ttf:e.XHR_RESPONSE_TYPE.BUFFER,otf:e.XHR_RESPONSE_TYPE.BUFFER},e.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}(Iv||(Iv={}));var Sv=function(e,t){this.data=e,this.callback=t},kv=function(){function e(e,t){var i=this;if(void 0===t&&(t=1),this.workers=0,this.saturated=vv,this.unsaturated=vv,this.empty=vv,this.drain=vv,this.error=vv,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(e,t,r){if(r&&"function"!=typeof r)throw new Error("task callback must be a function");if(i.started=!0,null==e&&i.idle())setTimeout((function(){return i.drain()}),1);else{var n=new Sv(e,"function"==typeof r?r:vv);t?i._tasks.unshift(n):i._tasks.push(n),setTimeout(i.process,1)}},this.process=function(){for(;!i.paused&&i.workers<i.concurrency&&i._tasks.length;){var e=i._tasks.shift();0===i._tasks.length&&i.empty(),i.workers+=1,i.workers===i.concurrency&&i.saturated(),i._worker(e.data,_v(i._next(e)))}},this._worker=e,0===t)throw new Error("Concurrency must not be zero");this.concurrency=t,this.buffer=t/4}return e.prototype._next=function(e){var t=this;return function(){for(var i=arguments,r=[],n=0;n<arguments.length;n++)r[n]=i[n];t.workers-=1,e.callback.apply(e,r),null!=r[0]&&t.error(r[0],e.data),t.workers<=t.concurrency-t.buffer&&t.unsaturated(),t.idle()&&t.drain(),t.process()}},e.prototype.push=function(e,t){this._insert(e,!1,t)},e.prototype.kill=function(){this.workers=0,this.drain=vv,this.started=!1,this._tasks=[]},e.prototype.unshift=function(e,t){this._insert(e,!0,t)},e.prototype.length=function(){return this._tasks.length},e.prototype.running=function(){return this.workers},e.prototype.idle=function(){return this._tasks.length+this.workers===0},e.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},e.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},e.eachSeries=function(e,t,i,r){var n=0,s=e.length;!function a(o){o||n===s?i&&i(o):r?setTimeout((function(){t(e[n++],a)}),1):t(e[n++],a)}()},e.queue=function(t,i){return new e(t,i)},e}(),Tv=/(#[\w-]+)?$/,Av=function(){function e(t,i){var r=this;void 0===t&&(t=""),void 0===i&&(i=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return r._loadResource(e,t)},this.resources={},this.baseUrl=t,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return r._loadResource(e,t)},this._queue=kv.queue(this._boundLoadResource,i),this._queue.pause(),this.resources={},this.onProgress=new gv,this.onError=new gv,this.onLoad=new gv,this.onStart=new gv,this.onComplete=new gv;for(var n=0;n<e._plugins.length;++n){var s=e._plugins[n],a=s.pre,o=s.use;a&&this.pre(a),o&&this.use(o)}this._protected=!1}return e.prototype._add=function(e,t,i,r){if(this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new Iv(e,t,i),"function"==typeof r&&this.resources[e].onAfterMiddleware.once(r),this.loading){for(var n=i.parentResource,s=[],a=0;a<n.children.length;++a)n.children[a].isComplete||s.push(n.children[a]);var o=n.progressChunk*(s.length+1)/(s.length+2);n.children.push(this.resources[e]),n.progressChunk=o;for(a=0;a<s.length;++a)s[a].progressChunk=o;this.resources[e].progressChunk=o}return this._queue.push(this.resources[e]),this},e.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},e.prototype.use=function(e){return this._afterMiddleware.push(e),this},e.prototype.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var t=this.resources[e];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort("loader reset")}return this.resources={},this},e.prototype.load=function(e){if("function"==typeof e&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=t;this._onStart(),this._queue.resume()}return this},Object.defineProperty(e.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),e.prototype._prepareUrl=function(e){var t,i=fv(e,{strictMode:!0});if(t=i.protocol||!i.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var r=Tv.exec(t)[0];-1!==(t=t.slice(0,t.length-r.length)).indexOf("?")?t+="&"+this.defaultQueryString:t+="?"+this.defaultQueryString,t+=r}return t},e.prototype._loadResource=function(e,t){var i=this;e._dequeue=t,kv.eachSeries(this._beforeMiddleware,(function(t,r){t.call(i,e,(function(){r(e.isComplete?{}:null)}))}),(function(){e.isComplete?i._onLoad(e):(e._onLoadBinding=e.onComplete.once(i._onLoad,i),e.load())}),!0)},e.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(e){var t=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),kv.eachSeries(this._afterMiddleware,(function(i,r){i.call(t,e,r)}),(function(){e.onAfterMiddleware.dispatch(e),t.progress=Math.min(100,t.progress+e.progressChunk),t.onProgress.dispatch(t,e),e.error?t.onError.dispatch(e.error,t,e):t.onLoad.dispatch(t,e),t._resourcesParsing.splice(t._resourcesParsing.indexOf(e),1),t._queue.idle()&&0===t._resourcesParsing.length&&t._onComplete()}),!0)},e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}();Av.prototype.add=function(e,t,i,r){if(Array.isArray(e)){for(var n=0;n<e.length;++n)this.add(e[n]);return this}if("object"==typeof e&&(i=e,r=t||i.callback||i.onComplete,t=i.url,e=i.name||i.key||i.url),"string"!=typeof t&&(r=i,i=t,t=e),"string"!=typeof t)throw new Error("No url passed to add resource to loader.");return"function"==typeof i&&(r=i,i=null),this._add(e,t,i,r)};var wv,Ev,Jv=function(){function e(){}return e.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?Av.shared:new Av},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e}(),Rv=function(){function e(){}return e.add=function(){Iv.setExtensionLoadType("svg",Iv.LOAD_TYPE.XHR),Iv.setExtensionXhrType("svg",Iv.XHR_RESPONSE_TYPE.TEXT)},e.use=function(e,t){if(!e.data||e.type!==Iv.TYPE.IMAGE&&"svg"!==e.extension)t();else{var i=e.data,r=e.url,n=e.name,s=e.metadata;bb.fromLoader(i,r,n,s).then((function(i){e.texture=i,t()})).catch(t)}},e}();Av.registerPlugin({use:function(e,t){if(e.data){if(e.xhr&&e.xhrType===Iv.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&"string"!=typeof e.data){if(0===e.data.type.indexOf("image")){var i=globalThis.URL||globalThis.webkitURL,r=i.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=r,e.type=Iv.TYPE.IMAGE,void(e.data.onload=function(){i.revokeObjectURL(r),e.data.onload=null,t()})}}else{var n=e.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return e.data=new Image,e.data.src="data:"+n+";base64,"+function(e){for(var t="",i=0;i<e.length;){for(var r=[0,0,0],n=[0,0,0,0],s=0;s<r.length;++s)i<e.length?r[s]=255&e.charCodeAt(i++):r[s]=0;switch(n[0]=r[0]>>2,n[1]=(3&r[0])<<4|r[1]>>4,n[2]=(15&r[1])<<2|r[2]>>6,n[3]=63&r[2],i-(e.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(s=0;s<n.length;++s)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(n[s])}return t}(e.xhr.responseText),e.type=Iv.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}t()}else t()}}),Av.registerPlugin(Rv),function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"}(Ev||(Ev={}));var xv=((wv={})[Ev.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,wv[Ev.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,wv[Ev.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,wv[Ev.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,wv[Ev.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,wv[Ev.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,wv[Ev.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,wv[Ev.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,wv[Ev.COMPRESSED_R11_EAC]=.5,wv[Ev.COMPRESSED_SIGNED_R11_EAC]=.5,wv[Ev.COMPRESSED_RG11_EAC]=1,wv[Ev.COMPRESSED_SIGNED_RG11_EAC]=1,wv[Ev.COMPRESSED_RGB8_ETC2]=.5,wv[Ev.COMPRESSED_RGBA8_ETC2_EAC]=1,wv[Ev.COMPRESSED_SRGB8_ETC2]=.5,wv[Ev.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,wv[Ev.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,wv[Ev.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,wv[Ev.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,wv[Ev.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,wv[Ev.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,wv[Ev.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,wv[Ev.COMPRESSED_RGB_ETC1_WEBGL]=.5,wv[Ev.COMPRESSED_RGB_ATC_WEBGL]=.5,wv[Ev.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,wv[Ev.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,wv),Gv=function(e,t){return Gv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},Gv(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Dv(e,t){function i(){this.constructor=e}Gv(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function Bv(e,t){var i,r,n,s,a={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,r&&(n=2&s[0]?r.return:s[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,s[1])).done)return n;switch(r=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(n=a.trys,(n=n.length>0&&n[n.length-1])||6!==s[0]&&2!==s[0])){a=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){a.label=s[1];break}if(6===s[0]&&a.label<n[1]){a.label=n[1],n=s;break}if(n&&a.label<n[2]){a.label=n[2],a.ops.push(s);break}n[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],r=0}finally{i=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}}var Nv,Qv,Mv=function(e){function t(t,i){void 0===i&&(i={width:1,height:1,autoLoad:!0});var r,n,s=this;return"string"==typeof t?(r=t,n=new Uint8Array):(r=null,n=t),(s=e.call(this,n,i)||this).origin=r,s.buffer=n?new $I(n):null,s.origin&&!1!==i.autoLoad&&s.load(),n&&n.length&&(s.loaded=!0,s.onBlobLoaded(s.buffer.rawBinaryData)),s}return Dv(t,e),t.prototype.onBlobLoaded=function(e){},t.prototype.load=function(){return function(e,t,i,r){return new(i||(i=Promise))((function(n,s){function a(e){try{l(r.next(e))}catch(e){s(e)}}function o(e){try{l(r.throw(e))}catch(e){s(e)}}function l(e){e.done?n(e.value):new i((function(t){t(e.value)})).then(a,o)}l((r=r.apply(e,t||[])).next())}))}(this,void 0,Promise,(function(){var e;return Bv(this,(function(t){switch(t.label){case 0:return[4,fetch(this.origin)];case 1:return[4,t.sent().blob()];case 2:return[4,t.sent().arrayBuffer()];case 3:return e=t.sent(),this.data=new Uint32Array(e),this.buffer=new $I(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),[2,this]}}))}))},t}(tb),Zv=function(e){function t(i,r){var n=e.call(this,i,r)||this;return n.format=r.format,n.levels=r.levels||1,n._width=r.width,n._height=r.height,n._extension=t._formatToExtension(n.format),(r.levelBuffers||n.buffer)&&(n._levelBuffers=r.levelBuffers||t._createLevelBuffers(i instanceof Uint8Array?i:n.buffer.uint8View,n.format,n.levels,4,4,n.width,n.height)),n}return Dv(t,e),t.prototype.upload=function(e,t,i){var r=e.gl;if(!e.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var n=0,s=this.levels;n<s;n++){var a=this._levelBuffers[n],o=a.levelID,l=a.levelWidth,h=a.levelHeight,u=a.levelBuffer;r.compressedTexImage2D(r.TEXTURE_2D,o,this.format,l,h,0,u)}return!0},t.prototype.onBlobLoaded=function(){this._levelBuffers=t._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},t._formatToExtension=function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},t._createLevelBuffers=function(e,t,i,r,n,s,a){for(var o=new Array(i),l=e.byteOffset,h=s,u=a,d=h+r-1&~(r-1),c=u+n-1&~(n-1),p=d*c*xv[t],g=0;g<i;g++)o[g]={levelID:g,levelWidth:i>1?h:d,levelHeight:i>1?u:c,levelBuffer:new Uint8Array(e.buffer,l,p)},l+=p,p=(d=(h=h>>1||1)+r-1&~(r-1))*(c=(u=u>>1||1)+n-1&~(n-1))*xv[t];return o},t}(Mv),Pv=function(){function e(){}return e.use=function(t,i){var r=t.data;if(t.type===Iv.TYPE.JSON&&r&&r.cacheID&&r.textures){for(var n=r.textures,s=void 0,a=void 0,o=0,l=n.length;o<l;o++){var h=n[o],u=h.src,d=h.format;if(d||(a=u),e.textureFormats[d]){s=u;break}}if(!(s=s||a))return void i(new Error("Cannot load compressed-textures in "+t.url+", make sure you provide a fallback"));if(s===t.url)return void i(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var c={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},p=gC.resolve(t.url.replace(this.baseUrl,""),s),g=r.cacheID;this.add(g,p,c,(function(e){if(e.error)i(e.error);else{var r=e.texture,n=void 0===r?null:r,s=e.textures,a=void 0===s?{}:s;Object.assign(t,{texture:n,textures:a}),i()}}))}else i()},Object.defineProperty(e,"textureExtensions",{get:function(){if(!e._textureExtensions){var t=document.createElement("canvas").getContext("webgl");if(!t)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var i={s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};e._textureExtensions=i}return e._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(e,"textureFormats",{get:function(){if(!e._textureFormats){var t=e.textureExtensions;for(var i in e._textureFormats={},t){var r=t[i];r&&Object.assign(e._textureFormats,Object.getPrototypeOf(r))}}return e._textureFormats},enumerable:!1,configurable:!0}),e}();function Ov(e,t,i){var r={textures:{},texture:null};return t?(t.map((function(e){return new bb(new rb(e,Object.assign({mipmap:Um.OFF,alphaMode:Hm.NO_PREMULTIPLIED_ALPHA},i)))})).forEach((function(t,i){var n=t.baseTexture,s=e+"-"+(i+1);rb.addToCache(n,s),bb.addToCache(t,s),0===i&&(rb.addToCache(n,e),bb.addToCache(t,e),r.texture=t),r.textures[s]=t})),r):r}Iv.setExtensionXhrType("dds",Iv.XHR_RESPONSE_TYPE.BUFFER);var Lv,Xv,Vv=3,Fv=4,Wv=7,Uv=19,Hv=2,Kv=0,Yv=1,zv=2,jv=3;!function(e){e[e.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",e[e.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",e[e.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",e[e.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",e[e.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",e[e.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",e[e.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",e[e.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",e[e.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",e[e.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",e[e.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",e[e.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",e[e.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",e[e.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",e[e.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",e[e.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",e[e.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",e[e.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",e[e.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",e[e.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",e[e.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",e[e.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",e[e.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",e[e.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",e[e.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",e[e.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",e[e.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",e[e.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",e[e.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",e[e.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",e[e.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",e[e.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",e[e.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",e[e.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",e[e.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",e[e.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",e[e.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",e[e.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",e[e.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",e[e.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",e[e.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",e[e.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",e[e.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",e[e.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",e[e.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",e[e.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",e[e.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",e[e.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",e[e.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",e[e.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",e[e.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",e[e.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",e[e.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",e[e.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",e[e.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",e[e.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",e[e.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",e[e.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",e[e.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",e[e.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",e[e.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",e[e.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",e[e.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",e[e.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",e[e.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",e[e.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",e[e.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",e[e.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",e[e.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",e[e.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",e[e.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",e[e.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",e[e.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",e[e.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",e[e.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",e[e.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",e[e.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",e[e.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",e[e.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",e[e.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",e[e.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",e[e.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",e[e.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",e[e.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",e[e.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",e[e.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",e[e.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",e[e.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",e[e.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",e[e.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",e[e.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",e[e.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",e[e.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",e[e.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",e[e.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",e[e.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",e[e.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",e[e.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",e[e.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",e[e.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",e[e.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",e[e.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",e[e.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",e[e.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",e[e.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",e[e.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",e[e.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",e[e.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",e[e.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",e[e.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",e[e.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",e[e.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"}(Lv||(Lv={})),function(e){e[e.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",e[e.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",e[e.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(Xv||(Xv={}));var qv,$v,e_,t_=((Nv={})[827611204]=Ev.COMPRESSED_RGBA_S3TC_DXT1_EXT,Nv[861165636]=Ev.COMPRESSED_RGBA_S3TC_DXT3_EXT,Nv[894720068]=Ev.COMPRESSED_RGBA_S3TC_DXT5_EXT,Nv),i_=((Qv={})[Lv.DXGI_FORMAT_BC1_TYPELESS]=Ev.COMPRESSED_RGBA_S3TC_DXT1_EXT,Qv[Lv.DXGI_FORMAT_BC1_UNORM]=Ev.COMPRESSED_RGBA_S3TC_DXT1_EXT,Qv[Lv.DXGI_FORMAT_BC2_TYPELESS]=Ev.COMPRESSED_RGBA_S3TC_DXT3_EXT,Qv[Lv.DXGI_FORMAT_BC2_UNORM]=Ev.COMPRESSED_RGBA_S3TC_DXT3_EXT,Qv[Lv.DXGI_FORMAT_BC3_TYPELESS]=Ev.COMPRESSED_RGBA_S3TC_DXT5_EXT,Qv[Lv.DXGI_FORMAT_BC3_UNORM]=Ev.COMPRESSED_RGBA_S3TC_DXT5_EXT,Qv[Lv.DXGI_FORMAT_BC1_UNORM_SRGB]=Ev.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Qv[Lv.DXGI_FORMAT_BC2_UNORM_SRGB]=Ev.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Qv[Lv.DXGI_FORMAT_BC3_UNORM_SRGB]=Ev.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Qv),r_=function(){function e(){}return e.use=function(t,i){if("dds"===t.extension&&t.data)try{Object.assign(t,Ov(t.name||t.url,e.parse(t.data),t.metadata))}catch(e){return void i(e)}i()},e.parse=function(e){var t=new Uint32Array(e);if(542327876!==t[0])throw new Error("Invalid DDS file magic word");var i=new Uint32Array(e,0,124/Uint32Array.BYTES_PER_ELEMENT),r=i[Vv],n=i[Fv],s=i[Wv],a=new Uint32Array(e,Uv*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),o=a[1];if(4&o){var l=a[Hv];if(808540228!==l){var h=t_[l],u=new Uint8Array(e,128);return[new Zv(u,{format:h,width:n,height:r,levels:s})]}var d=new Uint32Array(t.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),c=d[Kv],p=d[Yv],g=d[zv],f=d[jv],m=i_[c];if(void 0===m)throw new Error("DDSLoader cannot parse texture data with DXGI format "+c);if(4===g)throw new Error("DDSLoader does not support cubemap textures");if(p===Xv.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var C=new Array;if(1===f)C.push(new Uint8Array(e,148));else{for(var y=xv[m],b=0,I=n,v=r,_=0;_<s;_++){b+=Math.max(1,I+3&-4)*Math.max(1,v+3&-4)*y,I>>>=1,v>>>=1}var S=148;for(_=0;_<f;_++)C.push(new Uint8Array(e,S,b)),S+=b}return C.map((function(e){return new Zv(e,{format:m,width:n,height:r,levels:s})}))}if(64&o)throw new Error("DDSLoader does not support uncompressed texture data.");if(512&o)throw new Error("DDSLoader does not supported YUV uncompressed texture data.");if(131072&o)throw new Error("DDSLoader does not support single-channel (lumninance) texture data!");if(2&o)throw new Error("DDSLoader does not support single-channel (alpha) texture data!");throw new Error("DDSLoader failed to load a texture file due to an unknown reason!")},e}();Iv.setExtensionXhrType("ktx",Iv.XHR_RESPONSE_TYPE.BUFFER);var n_=[171,75,84,88,32,49,49,187,13,10,26,10],s_=12,a_=16,o_=24,l_=28,h_=36,u_=40,d_=44,c_=48,p_=52,g_=56,f_=60,m_=((qv={})[Xm.UNSIGNED_BYTE]=1,qv[Xm.UNSIGNED_SHORT]=2,qv[Xm.INT]=4,qv[Xm.UNSIGNED_INT]=4,qv[Xm.FLOAT]=4,qv[Xm.HALF_FLOAT]=8,qv),C_=(($v={})[Om.RGBA]=4,$v[Om.RGB]=3,$v[Om.RG]=2,$v[Om.RED]=1,$v[Om.LUMINANCE]=1,$v[Om.LUMINANCE_ALPHA]=2,$v[Om.ALPHA]=1,$v),y_=((e_={})[Xm.UNSIGNED_SHORT_4_4_4_4]=2,e_[Xm.UNSIGNED_SHORT_5_5_5_1]=2,e_[Xm.UNSIGNED_SHORT_5_6_5]=2,e_),b_=function(){function e(){}return e.use=function(t,i){if("ktx"===t.extension&&t.data)try{var r=t.name||t.url,n=e.parse(r,t.data),s=n.compressed,a=n.uncompressed;if(s)Object.assign(t,Ov(r,s,t.metadata));else if(a){var o={};a.forEach((function(e,t){var i=new bb(new rb(e.resource,{mipmap:Um.OFF,alphaMode:Hm.NO_PREMULTIPLIED_ALPHA,type:e.type,format:e.format})),n=r+"-"+(t+1);rb.addToCache(i.baseTexture,n),bb.addToCache(i,n),0===t&&(o[r]=i,rb.addToCache(i.baseTexture,r),bb.addToCache(i,r)),o[n]=i})),Object.assign(t,{textures:o})}}catch(e){return void i(e)}i()},e.parse=function(t,i){var r=new DataView(i);if(!e.validate(t,r))return null;var n=67305985===r.getUint32(s_,!0),s=r.getUint32(a_,n),a=r.getUint32(o_,n),o=r.getUint32(l_,n),l=r.getUint32(h_,n),h=r.getUint32(u_,n)||1,u=r.getUint32(d_,n)||1,d=r.getUint32(c_,n)||1,c=r.getUint32(p_,n),p=r.getUint32(g_,n),g=r.getUint32(f_,n);if(0===h||1!==u)throw new Error("Only 2D textures are supported");if(1!==c)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==d)throw new Error("WebGL does not support array textures");var f,m=l+3&-4,C=h+3&-4,y=new Array(d),b=l*h;if(0===s&&(b=m*C),void 0===(f=0!==s?m_[s]?m_[s]*C_[a]:y_[s]:xv[o]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var I=b*f,v=l,_=h,S=m,k=C,T=64+g,A=0;A<p;A++){for(var w=r.getUint32(T,n),E=T+4,J=0;J<d;J++){var R=y[J];R||(R=y[J]=new Array(p)),R[A]={levelID:A,levelWidth:p>1||0!==s?v:S,levelHeight:p>1||0!==s?_:k,levelBuffer:new Uint8Array(i,E,I)},E+=I}T=(T+=w+4)%4!=0?T+4-T%4:T,I=(S=(v=v>>1||1)+4-1&-4)*(k=(_=_>>1||1)+4-1&-4)*f}return 0!==s?{uncompressed:y.map((function(t){var i=t[0].levelBuffer,r=!1;return s===Xm.FLOAT?i=new Float32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4):s===Xm.UNSIGNED_INT?(r=!0,i=new Uint32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4)):s===Xm.INT&&(r=!0,i=new Int32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4)),{resource:new tb(i,{width:t[0].levelWidth,height:t[0].levelHeight}),type:s,format:r?e.convertFormatToInteger(a):a}}))}:{compressed:y.map((function(e){return new Zv(null,{format:o,width:l,height:h,levels:p,levelBuffers:e})}))}},e.validate=function(e,t){for(var i=0;i<n_.length;i++)if(t.getUint8(i)!==n_[i])return console.error(e+" is not a valid *.ktx file!"),!1;return!0},e.convertFormatToInteger=function(e){switch(e){case Om.RGBA:return Om.RGBA_INTEGER;case Om.RGB:return Om.RGB_INTEGER;case Om.RG:return Om.RG_INTEGER;case Om.RED:return Om.RED_INTEGER;default:return e}},e}(),I_=function(e,t){return I_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},I_(e,t)};function v_(e,t){function i(){this.constructor=e}I_(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}!function(e){function t(t,i,r,n){void 0===t&&(t=1500),void 0===r&&(r=16384),void 0===n&&(n=!1);var s=e.call(this)||this;return r>16384&&(r=16384),s._properties=[!1,!0,!1,!1,!1],s._maxSize=t,s._batchSize=r,s._buffers=null,s._bufferUpdateIDs=[],s._updateID=0,s.interactiveChildren=!1,s.blendMode=Zm.NORMAL,s.autoResize=n,s.roundPixels=!0,s.baseTexture=null,s.setProperties(i),s._tint=0,s.tintRgb=new Float32Array(4),s.tint=16777215,s}v_(t,e),t.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,yC(e,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var t=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return t.onChildrenChange(0)}))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){for(var t=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}(By);var __,S_,k_=function(){function e(e,t,i){this.geometry=new Jb,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<e.length;++r){var n=e[r];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||Xm.FLOAT,offset:n.offset},t[r]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var e=this.geometry,t=0;this.indexBuffer=new kb(function(e,t){void 0===t&&(t=null);var i=6*e;if((t=t||new Uint16Array(i)).length!==i)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+i);for(var r=0,n=0;r<i;r+=6,n+=4)t[r+0]=n+0,t[r+1]=n+1,t[r+2]=n+2,t[r+3]=n+0,t[r+4]=n+2,t[r+5]=n+3;return t}(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i){(a=this.dynamicProperties[i]).offset=t,t+=a.size,this.dynamicStride+=a.size}var r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new kb(this.dynamicData,!1,!1);var n=0;this.staticStride=0;for(i=0;i<this.staticProperties.length;++i){(a=this.staticProperties[i]).offset=n,n+=a.size,this.staticStride+=a.size}var s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new kb(this.staticData,!0,!1);for(i=0;i<this.dynamicProperties.length;++i){var a=this.dynamicProperties[i];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===Xm.UNSIGNED_BYTE,a.type,4*this.dynamicStride,4*a.offset)}for(i=0;i<this.staticProperties.length;++i){a=this.staticProperties[i];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===Xm.UNSIGNED_BYTE,a.type,4*this.staticStride,4*a.offset)}},e.prototype.uploadDynamic=function(e,t,i){for(var r=0;r<this.dynamicProperties.length;r++){var n=this.dynamicProperties[r];n.uploadFunction(e,t,i,n.type===Xm.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},e.prototype.uploadStatic=function(e,t,i){for(var r=0;r<this.staticProperties.length;r++){var n=this.staticProperties[r];n.uploadFunction(e,t,i,n.type===Xm.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},e}(),T_=function(e){function t(t){var i=e.call(this,t)||this;return i.shader=null,i.properties=null,i.tempMatrix=new $C,i.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:i.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:i.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:i.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:i.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Xm.UNSIGNED_BYTE,uploadFunction:i.uploadTint,offset:0}],i.shader=CI.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),i.state=yI.for2d(),i}return v_(t,e),t.prototype.render=function(e){var t=e.children,i=e._maxSize,r=e._batchSize,n=this.renderer,s=t.length;if(0!==s){s>i&&!e.autoResize&&(s=i);var a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));var o=t[0]._texture.baseTexture;this.state.blendMode=_C(e.blendMode,o.alphaMode),n.state.set(this.state);var l,h,u,d,c=n.gl,p=e.worldTransform.copyTo(this.tempMatrix);p.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=(l=e.tintRgb,h=e.worldAlpha,u=this.shader.uniforms.uColor,d=o.alphaMode,u=u||new Float32Array(4),d||void 0===d?(u[0]=l[0]*h,u[1]=l[1]*h,u[2]=l[2]*h):(u[0]=l[0],u[1]=l[1],u[2]=l[2]),u[3]=h,u),this.shader.uniforms.uSampler=o,this.renderer.shader.bind(this.shader);for(var g=!1,f=0,m=0;f<s;f+=r,m+=1){var C=s-f;C>r&&(C=r),m>=a.length&&a.push(this._generateOneMoreBuffer(e));var y=a[m];y.uploadDynamic(t,f,C);var b=e._bufferUpdateIDs[m]||0;(g=g||y._updateID<b)&&(y._updateID=e._updateID,y.uploadStatic(t,f,C)),n.geometry.bind(y.geometry),c.drawElements(c.TRIANGLES,6*C,c.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(e){for(var t=[],i=e._maxSize,r=e._batchSize,n=e._properties,s=0;s<i;s+=r)t.push(new k_(this.properties,n,r));return t},t.prototype._generateOneMoreBuffer=function(e){var t=e._batchSize,i=e._properties;return new k_(this.properties,i,t)},t.prototype.uploadVertices=function(e,t,i,r,n,s){for(var a=0,o=0,l=0,h=0,u=0;u<i;++u){var d=e[t+u],c=d._texture,p=d.scale.x,g=d.scale.y,f=c.trim,m=c.orig;f?(a=(o=f.x-d.anchor.x*m.width)+f.width,l=(h=f.y-d.anchor.y*m.height)+f.height):(a=m.width*(1-d.anchor.x),o=m.width*-d.anchor.x,l=m.height*(1-d.anchor.y),h=m.height*-d.anchor.y),r[s]=o*p,r[s+1]=h*g,r[s+n]=a*p,r[s+n+1]=h*g,r[s+2*n]=a*p,r[s+2*n+1]=l*g,r[s+3*n]=o*p,r[s+3*n+1]=l*g,s+=4*n}},t.prototype.uploadPosition=function(e,t,i,r,n,s){for(var a=0;a<i;a++){var o=e[t+a].position;r[s]=o.x,r[s+1]=o.y,r[s+n]=o.x,r[s+n+1]=o.y,r[s+2*n]=o.x,r[s+2*n+1]=o.y,r[s+3*n]=o.x,r[s+3*n+1]=o.y,s+=4*n}},t.prototype.uploadRotation=function(e,t,i,r,n,s){for(var a=0;a<i;a++){var o=e[t+a].rotation;r[s]=o,r[s+n]=o,r[s+2*n]=o,r[s+3*n]=o,s+=4*n}},t.prototype.uploadUvs=function(e,t,i,r,n,s){for(var a=0;a<i;++a){var o=e[t+a]._texture._uvs;o?(r[s]=o.x0,r[s+1]=o.y0,r[s+n]=o.x1,r[s+n+1]=o.y1,r[s+2*n]=o.x2,r[s+2*n+1]=o.y2,r[s+3*n]=o.x3,r[s+3*n+1]=o.y3,s+=4*n):(r[s]=0,r[s+1]=0,r[s+n]=0,r[s+n+1]=0,r[s+2*n]=0,r[s+2*n+1]=0,r[s+3*n]=0,r[s+3*n+1]=0,s+=4*n)}},t.prototype.uploadTint=function(e,t,i,r,n,s){for(var a=0;a<i;++a){var o=e[t+a],l=o._texture.baseTexture.alphaMode>0,h=o.alpha,u=h<1&&l?SC(o._tintRGB,h):o._tintRGB+(255*h<<24);r[s]=u,r[s+n]=u,r[s+2*n]=u,r[s+3*n]=u,s+=4*n}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(Zb);!function(e){e.MITER="miter",e.BEVEL="bevel",e.ROUND="round"}(__||(__={})),function(e){e.BUTT="butt",e.ROUND="round",e.SQUARE="square"}(S_||(S_={}));var A_={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e,t){if(void 0===t&&(t=20),!this.adaptive||!e||isNaN(e))return t;var i=Math.ceil(e/this.maxLength);return i<this.minSegments?i=this.minSegments:i>this.maxSegments&&(i=this.maxSegments),i}},w_=function(){function e(){this.color=16777215,this.alpha=1,this.texture=bb.WHITE,this.matrix=null,this.visible=!1,this.reset()}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},e.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=bb.WHITE,this.matrix=null,this.visible=!1},e.prototype.destroy=function(){this.texture=null,this.matrix=null},e}(),E_=function(e,t){return E_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},E_(e,t)};function J_(e,t){function i(){this.constructor=e}E_(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function R_(e,t){var i,r;void 0===t&&(t=!1);var n=e.length;if(!(n<6)){for(var s=0,a=0,o=e[n-2],l=e[n-1];a<n;a+=2){var h=e[a],u=e[a+1];s+=(h-o)*(u+l),o=h,l=u}if(!t&&s>0||t&&s<=0){var d=n/2;for(a=d+d%2;a<n;a+=2){var c=n-a-2,p=n-a-1,g=a,f=a+1;i=[e[g],e[c]],e[c]=i[0],e[g]=i[1],r=[e[f],e[p]],e[p]=r[0],e[f]=r[1]}}}}var x_={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var i=e.points,r=e.holes,n=t.points,s=t.indices;if(i.length>=6){R_(i,!1);for(var a=[],o=0;o<r.length;o++){var l=r[o];R_(l.points,!0),a.push(i.length/2),i=i.concat(l.points)}var h=qf.exports(i,a,2);if(!h)return;var u=n.length/2;for(o=0;o<h.length;o+=3)s.push(h[o]+u),s.push(h[o+1]+u),s.push(h[o+2]+u);for(o=0;o<i.length;o++)n.push(i[o])}}},G_={build:function(e){var t,i,r,n,s,a,o=e.points;if(e.type===LC.CIRC){var l=e.shape;t=l.x,i=l.y,s=a=l.radius,r=n=0}else if(e.type===LC.ELIP){var h=e.shape;t=h.x,i=h.y,s=h.width,a=h.height,r=n=0}else{var u=e.shape,d=u.width/2,c=u.height/2;t=u.x+d,i=u.y+c,r=d-(s=a=Math.max(0,Math.min(u.radius,Math.min(d,c)))),n=c-a}var p=Math.ceil(2.3*Math.sqrt(s+a)),g=8*p+(r?4:0)+(n?4:0);if(o.length=g,0!==g){if(0===p)return o.length=8,o[0]=o[6]=t+r,o[1]=o[3]=i+n,o[2]=o[4]=t-r,void(o[5]=o[7]=i-n);var f=0,m=4*p+(r?2:0)+2,C=m,y=g,b=t+(T=r+s),I=t-T,v=i+(A=n);if(o[f++]=b,o[f++]=v,o[--m]=v,o[--m]=I,n){var _=i-A;o[C++]=I,o[C++]=_,o[--y]=_,o[--y]=b}for(var S=1;S<p;S++){var k=Math.PI/2*(S/p);b=t+(T=r+Math.cos(k)*s),I=t-T,v=i+(A=n+Math.sin(k)*a),_=i-A;o[f++]=b,o[f++]=v,o[--m]=v,o[--m]=I,o[C++]=I,o[C++]=_,o[--y]=_,o[--y]=b}var T,A;b=t+(T=r),I=t-T,v=i+(A=n+a),_=i-A;o[f++]=b,o[f++]=v,o[--y]=_,o[--y]=b,r&&(o[f++]=I,o[f++]=v,o[--y]=_,o[--y]=I)}},triangulate:function(e,t){var i,r,n=e.points,s=t.points,a=t.indices,o=s.length/2,l=o;if(e.type!==LC.RREC){var h=e.shape;i=h.x,r=h.y}else{var u=e.shape;i=u.x+u.width/2,r=u.y+u.height/2}var d=e.matrix;s.push(e.matrix?d.a*i+d.c*r+d.tx:i,e.matrix?d.b*i+d.d*r+d.ty:r),o++,s.push(n[0],n[1]);for(var c=2;c<n.length;c+=2)s.push(n[c],n[c+1]),a.push(o++,l,o);a.push(l+1,l,o)}};function D_(e,t,i){return e+(t-e)*i}function B_(e,t,i,r,n,s,a){void 0===a&&(a=[]);for(var o=a,l=0,h=0,u=0,d=0,c=0,p=0,g=0,f=0;g<=20;++g)l=D_(e,i,f=g/20),h=D_(t,r,f),u=D_(i,n,f),d=D_(r,s,f),c=D_(l,u,f),p=D_(h,d,f),0===g&&o[o.length-2]===c&&o[o.length-1]===p||o.push(c,p);return o}var N_={build:function(e){if(eS.nextRoundedRectBehavior)G_.build(e);else{var t=e.shape,i=e.points,r=t.x,n=t.y,s=t.width,a=t.height,o=Math.max(0,Math.min(t.radius,Math.min(s,a)/2));i.length=0,o?(B_(r,n+o,r,n,r+o,n,i),B_(r+s-o,n,r+s,n,r+s,n+o,i),B_(r+s,n+a-o,r+s,n+a,r+s-o,n+a,i),B_(r+o,n+a,r,n+a,r,n+a-o,i)):i.push(r,n,r+s,n,r+s,n+a,r,n+a)}},triangulate:function(e,t){if(eS.nextRoundedRectBehavior)G_.triangulate(e,t);else{for(var i=e.points,r=t.points,n=t.indices,s=r.length/2,a=qf.exports(i,null,2),o=0,l=a.length;o<l;o+=3)n.push(a[o]+s),n.push(a[o+1]+s),n.push(a[o+2]+s);for(o=0,l=i.length;o<l;o++)r.push(i[o],i[++o])}}};function Q_(e,t,i,r,n,s,a,o){var l,h;a?(l=r,h=-i):(l=-r,h=i);var u=e-i*n+l,d=t-r*n+h,c=e+i*s+l,p=t+r*s+h;return o.push(u,d),o.push(c,p),2}function M_(e,t,i,r,n,s,a,o){var l=i-e,h=r-t,u=Math.atan2(l,h),d=Math.atan2(n-e,s-t);o&&u<d?u+=2*Math.PI:!o&&u>d&&(d+=2*Math.PI);var c=u,p=d-u,g=Math.abs(p),f=Math.sqrt(l*l+h*h),m=1+(15*g*Math.sqrt(f)/Math.PI>>0),C=p/m;if(c+=C,o){a.push(e,t),a.push(i,r);for(var y=1,b=c;y<m;y++,b+=C)a.push(e,t),a.push(e+Math.sin(b)*f,t+Math.cos(b)*f);a.push(e,t),a.push(n,s)}else{a.push(i,r),a.push(e,t);for(y=1,b=c;y<m;y++,b+=C)a.push(e+Math.sin(b)*f,t+Math.cos(b)*f),a.push(e,t);a.push(n,s),a.push(e,t)}return 2*m}function Z_(e,t){e.lineStyle.native?function(e,t){var i=0,r=e.shape,n=e.points||r.points,s=r.type!==LC.POLY||r.closeStroke;if(0!==n.length){var a=t.points,o=t.indices,l=n.length/2,h=a.length/2,u=h;for(a.push(n[0],n[1]),i=1;i<l;i++)a.push(n[2*i],n[2*i+1]),o.push(u,u+1),u++;s&&o.push(u,h)}}(e,t):function(e,t){var i=e.shape,r=e.points||i.points.slice(),n=t.closePointEps;if(0!==r.length){var s=e.lineStyle,a=new WC(r[0],r[1]),o=new WC(r[r.length-2],r[r.length-1]),l=i.type!==LC.POLY||i.closeStroke,h=Math.abs(a.x-o.x)<n&&Math.abs(a.y-o.y)<n;if(l){r=r.slice(),h&&(r.pop(),r.pop(),o.set(r[r.length-2],r[r.length-1]));var u=.5*(a.x+o.x),d=.5*(o.y+a.y);r.unshift(u,d),r.push(u,d)}var c=t.points,p=r.length/2,g=r.length,f=c.length/2,m=s.width/2,C=m*m,y=s.miterLimit*s.miterLimit,b=r[0],I=r[1],v=r[2],_=r[3],S=0,k=0,T=-(I-_),A=b-v,w=0,E=0,J=Math.sqrt(T*T+A*A);T/=J,A/=J,T*=m,A*=m;var R=s.alignment,x=2*(1-R),G=2*R;l||(s.cap===S_.ROUND?g+=M_(b-T*(x-G)*.5,I-A*(x-G)*.5,b-T*x,I-A*x,b+T*G,I+A*G,c,!0)+2:s.cap===S_.SQUARE&&(g+=Q_(b,I,T,A,x,G,!0,c))),c.push(b-T*x,I-A*x),c.push(b+T*G,I+A*G);for(var D=1;D<p-1;++D){b=r[2*(D-1)],I=r[2*(D-1)+1],v=r[2*D],_=r[2*D+1],S=r[2*(D+1)],k=r[2*(D+1)+1],T=-(I-_),A=b-v,T/=J=Math.sqrt(T*T+A*A),A/=J,T*=m,A*=m,w=-(_-k),E=v-S,w/=J=Math.sqrt(w*w+E*E),E/=J,w*=m,E*=m;var B=v-b,N=I-_,Q=v-S,M=k-_,Z=N*Q-M*B,P=Z<0;if(Math.abs(Z)<.1)c.push(v-T*x,_-A*x),c.push(v+T*G,_+A*G);else{var O=(-T+b)*(-A+_)-(-T+v)*(-A+I),L=(-w+S)*(-E+_)-(-w+v)*(-E+k),X=(B*L-Q*O)/Z,V=(M*O-N*L)/Z,F=(X-v)*(X-v)+(V-_)*(V-_),W=v+(X-v)*x,U=_+(V-_)*x,H=v-(X-v)*G,K=_-(V-_)*G,Y=P?x:G;F<=Math.min(B*B+N*N,Q*Q+M*M)+Y*Y*C?s.join===__.BEVEL||F/C>y?(P?(c.push(W,U),c.push(v+T*G,_+A*G),c.push(W,U),c.push(v+w*G,_+E*G)):(c.push(v-T*x,_-A*x),c.push(H,K),c.push(v-w*x,_-E*x),c.push(H,K)),g+=2):s.join===__.ROUND?P?(c.push(W,U),c.push(v+T*G,_+A*G),g+=M_(v,_,v+T*G,_+A*G,v+w*G,_+E*G,c,!0)+4,c.push(W,U),c.push(v+w*G,_+E*G)):(c.push(v-T*x,_-A*x),c.push(H,K),g+=M_(v,_,v-T*x,_-A*x,v-w*x,_-E*x,c,!1)+4,c.push(v-w*x,_-E*x),c.push(H,K)):(c.push(W,U),c.push(H,K)):(c.push(v-T*x,_-A*x),c.push(v+T*G,_+A*G),s.join===__.BEVEL||F/C>y||(s.join===__.ROUND?g+=P?M_(v,_,v+T*G,_+A*G,v+w*G,_+E*G,c,!0)+2:M_(v,_,v-T*x,_-A*x,v-w*x,_-E*x,c,!1)+2:(P?(c.push(H,K),c.push(H,K)):(c.push(W,U),c.push(W,U)),g+=2)),c.push(v-w*x,_-E*x),c.push(v+w*G,_+E*G),g+=2)}}b=r[2*(p-2)],I=r[2*(p-2)+1],v=r[2*(p-1)],T=-(I-(_=r[2*(p-1)+1])),A=b-v,T/=J=Math.sqrt(T*T+A*A),A/=J,T*=m,A*=m,c.push(v-T*x,_-A*x),c.push(v+T*G,_+A*G),l||(s.cap===S_.ROUND?g+=M_(v-T*(x-G)*.5,_-A*(x-G)*.5,v-T*x,_-A*x,v+T*G,_+A*G,c,!1)+2:s.cap===S_.SQUARE&&(g+=Q_(v,_,T,A,x,G,!1,c)));var z=t.indices,j=A_.epsilon*A_.epsilon;for(D=f;D<g+f-2;++D)b=c[2*D],I=c[2*D+1],v=c[2*(D+1)],_=c[2*(D+1)+1],S=c[2*(D+2)],k=c[2*(D+2)+1],Math.abs(b*(_-k)+v*(k-I)+S*(I-_))<j||z.push(D,D+1,D+2)}}(e,t)}var P_,O_=function(){function e(){}return e.curveTo=function(e,t,i,r,n,s){var a=s[s.length-2],o=s[s.length-1]-t,l=a-e,h=r-t,u=i-e,d=Math.abs(o*u-l*h);if(d<1e-8||0===n)return s[s.length-2]===e&&s[s.length-1]===t||s.push(e,t),null;var c=o*o+l*l,p=h*h+u*u,g=o*h+l*u,f=n*Math.sqrt(c)/d,m=n*Math.sqrt(p)/d,C=f*g/c,y=m*g/p,b=f*u+m*l,I=f*h+m*o,v=l*(m+C),_=o*(m+C),S=u*(f+y),k=h*(f+y);return{cx:b+e,cy:I+t,radius:n,startAngle:Math.atan2(_-I,v-b),endAngle:Math.atan2(k-I,S-b),anticlockwise:l*h>u*o}},e.arc=function(e,t,i,r,n,s,a,o,l){for(var h=a-s,u=A_._segmentsCount(Math.abs(h)*n,40*Math.ceil(Math.abs(h)/XC)),d=h/(2*u),c=2*d,p=Math.cos(d),g=Math.sin(d),f=u-1,m=f%1/f,C=0;C<=f;++C){var y=d+s+c*(C+m*C),b=Math.cos(y),I=-Math.sin(y);l.push((p*b+g*I)*n+i,(p*-I+g*b)*n+r)}},e}(),L_=function(){function e(){}return e.curveLength=function(e,t,i,r,n,s,a,o){for(var l=0,h=0,u=0,d=0,c=0,p=0,g=0,f=0,m=0,C=0,y=0,b=e,I=t,v=1;v<=10;++v)C=b-(f=(g=(p=(c=1-(h=v/10))*c)*c)*e+3*p*h*i+3*c*(u=h*h)*n+(d=u*h)*a),y=I-(m=g*t+3*p*h*r+3*c*u*s+d*o),b=f,I=m,l+=Math.sqrt(C*C+y*y);return l},e.curveTo=function(t,i,r,n,s,a,o){var l=o[o.length-2],h=o[o.length-1];o.length-=2;var u=A_._segmentsCount(e.curveLength(l,h,t,i,r,n,s,a)),d=0,c=0,p=0,g=0,f=0;o.push(l,h);for(var m=1,C=0;m<=u;++m)p=(c=(d=1-(C=m/u))*d)*d,f=(g=C*C)*C,o.push(p*l+3*c*C*t+3*d*g*r+f*s,p*h+3*c*C*i+3*d*g*n+f*a)},e}(),X_=function(){function e(){}return e.curveLength=function(e,t,i,r,n,s){var a=e-2*i+n,o=t-2*r+s,l=2*i-2*e,h=2*r-2*t,u=4*(a*a+o*o),d=4*(a*l+o*h),c=l*l+h*h,p=2*Math.sqrt(u+d+c),g=Math.sqrt(u),f=2*u*g,m=2*Math.sqrt(c),C=d/g;return(f*p+g*d*(p-m)+(4*c*u-d*d)*Math.log((2*g+C+p)/(C+m)))/(4*f)},e.curveTo=function(t,i,r,n,s){for(var a=s[s.length-2],o=s[s.length-1],l=A_._segmentsCount(e.curveLength(a,o,t,i,r,n)),h=0,u=0,d=1;d<=l;++d){var c=d/l;h=a+(t-a)*c,u=o+(i-o)*c,s.push(h+(t+(r-t)*c-h)*c,u+(i+(n-i)*c-u)*c)}},e}(),V_=function(){function e(){this.reset()}return e.prototype.begin=function(e,t,i){this.reset(),this.style=e,this.start=t,this.attribStart=i},e.prototype.end=function(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start},e.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},e}(),F_=((P_={})[LC.POLY]=x_,P_[LC.CIRC]=G_,P_[LC.ELIP]=G_,P_[LC.RECT]={build:function(e){var t=e.shape,i=t.x,r=t.y,n=t.width,s=t.height,a=e.points;a.length=0,a.push(i,r,i+n,r,i+n,r+s,i,r+s)},triangulate:function(e,t){var i=e.points,r=t.points,n=r.length/2;r.push(i[0],i[1],i[2],i[3],i[6],i[7],i[4],i[5]),t.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},P_[LC.RREC]=N_,P_),W_=[],U_=[],H_=function(){function e(e,t,i,r){void 0===t&&(t=null),void 0===i&&(i=null),void 0===r&&(r=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=i,this.fillStyle=t,this.matrix=r,this.type=e.type}return e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(),K_=new WC,Y_=new hy,z_=function(e){function t(){var t=e.call(this)||this;return t.closePointEps=1e-4,t.boundsPadding=0,t.uvsFloat32=null,t.indicesUint16=null,t.batchable=!1,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.drawCalls=[],t.batchDirty=-1,t.batches=[],t.dirty=0,t.cacheDirty=-1,t.clearDirty=0,t.shapeIndex=0,t._bounds=new hy,t.boundsDirty=-1,t}return J_(t,e),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),U_.push(this.drawCalls[e]);this.drawCalls.length=0;for(e=0;e<this.batches.length;e++){var t=this.batches[e];t.reset(),W_.push(t)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(e,t,i,r){void 0===t&&(t=null),void 0===i&&(i=null),void 0===r&&(r=null);var n=new H_(e,t,i,r);return this.graphicsData.push(n),this.dirty++,this},t.prototype.drawHole=function(e,t){if(void 0===t&&(t=null),!this.graphicsData.length)return null;var i=new H_(e,null,null,t),r=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=r.lineStyle,r.holes.push(i),this.dirty++,this},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(e){for(var t=this.graphicsData,i=0;i<t.length;++i){var r=t[i];if(r.fillStyle.visible&&(r.shape&&(r.matrix?r.matrix.applyInverse(e,K_):K_.copyFrom(e),r.shape.contains(K_.x,K_.y)))){var n=!1;if(r.holes)for(var s=0;s<r.holes.length;s++){if(r.holes[s].shape.contains(K_.x,K_.y)){n=!0;break}}if(!n)return!0}}return!1},t.prototype.updateBatches=function(e){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var t=this.uvs,i=this.graphicsData,r=null,n=null;this.batches.length>0&&(n=(r=this.batches[this.batches.length-1]).style);for(var s=this.shapeIndex;s<i.length;s++){this.shapeIndex++;var a=i[s],o=a.fillStyle,l=a.lineStyle;F_[a.type].build(a),a.matrix&&this.transformPoints(a.points,a.matrix),(o.visible||l.visible)&&this.processHoles(a.holes);for(var h=0;h<2;h++){var u=0===h?o:l;if(u.visible){var d=u.texture.baseTexture,c=this.indices.length,p=this.points.length/2;d.wrapMode=Wm.REPEAT,0===h?this.processFill(a):this.processLine(a);var g=this.points.length/2-p;0!==g&&(r&&!this._compareStyles(n,u)&&(r.end(c,p),r=null),r||((r=W_.pop()||new V_).begin(u,c,p),this.batches.push(r),n=u),this.addUvs(this.points,t,u.texture,p,g,u.matrix))}}}var f=this.indices.length,m=this.points.length/2;if(r&&r.end(f,m),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var C=m>65535&&e;this.indicesUint16=C?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},t.prototype._compareStyles=function(e,t){return!(!e||!t)&&(e.texture.baseTexture===t.texture.baseTexture&&(e.color+e.alpha===t.color+t.alpha&&!!e.native==!!t.native))},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,t=this.graphicsData.length;e<t;e++){var i=this.graphicsData[e],r=i.fillStyle,n=i.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(n&&!n.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,t=0,i=e.length;t<i;t++)for(var r=e[t],n=0;n<r.size;n++){var s=r.start+n;this.indicesUint16[s]=this.indicesUint16[s]-r.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var e=this.batches,i=0;i<e.length;i++)if(e[i].style.native)return!1;return this.points.length<2*t.BATCHABLE_SIZE},t.prototype.buildDrawCalls=function(){for(var e=++rb._globalBatch,t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),U_.push(this.drawCalls[t]);this.drawCalls.length=0;var i=this.colors,r=this.textureIds,n=U_.pop();n||((n=new jI).texArray=new qI),n.texArray.count=0,n.start=0,n.size=0,n.type=Pm.TRIANGLES;var s=0,a=null,o=0,l=!1,h=Pm.TRIANGLES,u=0;this.drawCalls.push(n);for(t=0;t<this.batches.length;t++){var d=this.batches[t],c=d.style,p=c.texture.baseTexture;l!==!!c.native&&(h=(l=!!c.native)?Pm.LINES:Pm.TRIANGLES,a=null,s=8,e++),a!==p&&(a=p,p._batchEnabled!==e&&(8===s&&(e++,s=0,n.size>0&&((n=U_.pop())||((n=new jI).texArray=new qI),this.drawCalls.push(n)),n.start=u,n.size=0,n.texArray.count=0,n.type=h),p.touched=1,p._batchEnabled=e,p._batchLocation=s,p.wrapMode=Wm.REPEAT,n.texArray.elements[n.texArray.count++]=p,s++)),n.size+=d.size,u+=d.size,o=p._batchLocation,this.addColors(i,c.color,c.alpha,d.attribSize,d.attribStart),this.addTextureIds(r,o,d.attribSize,d.attribStart)}rb._globalBatch=e,this.packAttributes()},t.prototype.packAttributes=function(){for(var e=this.points,t=this.uvs,i=this.colors,r=this.textureIds,n=new ArrayBuffer(3*e.length*4),s=new Float32Array(n),a=new Uint32Array(n),o=0,l=0;l<e.length/2;l++)s[o++]=e[2*l],s[o++]=e[2*l+1],s[o++]=t[2*l],s[o++]=t[2*l+1],a[o++]=i[l],s[o++]=r[l];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(e){e.holes.length?x_.triangulate(e,this):F_[e.type].triangulate(e,this)},t.prototype.processLine=function(e){Z_(e,this);for(var t=0;t<e.holes.length;t++)Z_(e.holes[t],this)},t.prototype.processHoles=function(e){for(var t=0;t<e.length;t++){var i=e[t];F_[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},t.prototype.calculateBounds=function(){var e=this._bounds,t=Y_,i=$C.IDENTITY;this._bounds.clear(),t.clear();for(var r=0;r<this.graphicsData.length;r++){var n=this.graphicsData[r],s=n.shape,a=n.type,o=n.lineStyle,l=n.matrix||$C.IDENTITY,h=0;if(o&&o.visible&&(h=o.width,a!==LC.POLY||n.fillStyle.visible?h*=Math.max(0,o.alignment):h*=Math.max(o.alignment,1-o.alignment)),i!==l&&(t.isEmpty()||(e.addBoundsMatrix(t,i),t.clear()),i=l),a===LC.RECT||a===LC.RREC){var u=s;t.addFramePad(u.x,u.y,u.x+u.width,u.y+u.height,h,h)}else if(a===LC.CIRC){var d=s;t.addFramePad(d.x,d.y,d.x,d.y,d.radius+h,d.radius+h)}else if(a===LC.ELIP){var c=s;t.addFramePad(c.x,c.y,c.x,c.y,c.width+h,c.height+h)}else{var p=s;e.addVerticesMatrix(i,p.points,0,p.points.length,h,h)}}t.isEmpty()||e.addBoundsMatrix(t,i),e.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(e,t){for(var i=0;i<e.length/2;i++){var r=e[2*i],n=e[2*i+1];e[2*i]=t.a*r+t.c*n+t.tx,e[2*i+1]=t.b*r+t.d*n+t.ty}},t.prototype.addColors=function(e,t,i,r,n){void 0===n&&(n=0);var s=SC((t>>16)+(65280&t)+((255&t)<<16),i);e.length=Math.max(e.length,n+r);for(var a=0;a<r;a++)e[n+a]=s},t.prototype.addTextureIds=function(e,t,i,r){void 0===r&&(r=0),e.length=Math.max(e.length,r+i);for(var n=0;n<i;n++)e[r+n]=t},t.prototype.addUvs=function(e,t,i,r,n,s){void 0===s&&(s=null);for(var a=0,o=t.length,l=i.frame;a<n;){var h=e[2*(r+a)],u=e[2*(r+a)+1];if(s){var d=s.a*h+s.c*u+s.tx;u=s.b*h+s.d*u+s.ty,h=d}a++,t.push(h/l.width,u/l.height)}var c=i.baseTexture;(l.width<c.width||l.height<c.height)&&this.adjustUvs(t,i,o,n)},t.prototype.adjustUvs=function(e,t,i,r){for(var n=t.baseTexture,s=1e-6,a=i+2*r,o=t.frame,l=o.width/n.width,h=o.height/n.height,u=o.x/o.width,d=o.y/o.height,c=Math.floor(e[i]+s),p=Math.floor(e[i+1]+s),g=i+2;g<a;g+=2)c=Math.min(c,Math.floor(e[g]+s)),p=Math.min(p,Math.floor(e[g+1]+s));u-=c,d-=p;for(g=i;g<a;g+=2)e[g]=(e[g]+u)*l,e[g+1]=(e[g+1]+d)*h},t.BATCHABLE_SIZE=100,t}(iv),j_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.width=0,t.alignment=.5,t.native=!1,t.cap=S_.BUTT,t.join=__.MITER,t.miterLimit=10,t}return J_(t,e),t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},t.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(w_),q_=new Float32Array(3),$_={},eS=function(e){function t(t){void 0===t&&(t=null);var i=e.call(this)||this;return i.shader=null,i.pluginName="batch",i.currentPath=null,i.batches=[],i.batchTint=-1,i.batchDirty=-1,i.vertexData=null,i._fillStyle=new w_,i._lineStyle=new j_,i._matrix=null,i._holeMode=!1,i.state=yI.for2d(),i._geometry=t||new z_,i._geometry.refCount++,i._transformID=-1,i.tint=16777215,i.blendMode=Zm.NORMAL,i}return J_(t,e),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(e,t,i,r,n){return void 0===e&&(e=null),void 0===t&&(t=0),void 0===i&&(i=1),void 0===r&&(r=.5),void 0===n&&(n=!1),"number"==typeof e&&(e={width:e,color:t,alpha:i,alignment:r,native:n}),this.lineTextureStyle(e)},t.prototype.lineTextureStyle=function(e){e=Object.assign({width:0,texture:bb.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:S_.BUTT,join:__.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var t=e.width>0&&e.alpha>0;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:t},e)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new zC,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new zC,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this},t.prototype.lineTo=function(e,t){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,r=i[i.length-2],n=i[i.length-1];return r===e&&n===t||i.push(e,t),this},t.prototype._initCurve=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)},t.prototype.quadraticCurveTo=function(e,t,i,r){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),X_.curveTo(e,t,i,r,n),this},t.prototype.bezierCurveTo=function(e,t,i,r,n,s){return this._initCurve(),L_.curveTo(e,t,i,r,n,s,this.currentPath.points),this},t.prototype.arcTo=function(e,t,i,r,n){this._initCurve(e,t);var s=this.currentPath.points,a=O_.curveTo(e,t,i,r,n,s);if(a){var o=a.cx,l=a.cy,h=a.radius,u=a.startAngle,d=a.endAngle,c=a.anticlockwise;this.arc(o,l,h,u,d,c)}return this},t.prototype.arc=function(e,t,i,r,n,s){if(void 0===s&&(s=!1),r===n)return this;if(!s&&n<=r?n+=XC:s&&r<=n&&(r+=XC),0===n-r)return this;var a=e+Math.cos(r)*i,o=t+Math.sin(r)*i,l=this._geometry.closePointEps,h=this.currentPath?this.currentPath.points:null;if(h){var u=Math.abs(h[h.length-2]-a),d=Math.abs(h[h.length-1]-o);u<l&&d<l||h.push(a,o)}else this.moveTo(a,o),h=this.currentPath.points;return O_.arc(a,o,e,t,i,r,n,s,h),this},t.prototype.beginFill=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=1),this.beginTextureFill({texture:bb.WHITE,color:e,alpha:t})},t.prototype.beginTextureFill=function(e){e=Object.assign({texture:bb.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var t=e.alpha>0;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:t},e)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(e,t,i,r){return this.drawShape(new HC(e,t,i,r))},t.prototype.drawRoundedRect=function(e,t,i,r,n){return this.drawShape(new jC(e,t,i,r,n))},t.prototype.drawCircle=function(e,t,i){return this.drawShape(new KC(e,t,i))},t.prototype.drawEllipse=function(e,t,i,r){return this.drawShape(new YC(e,t,i,r))},t.prototype.drawPolygon=function(){for(var e,t=arguments,i=[],r=0;r<arguments.length;r++)i[r]=t[r];var n=!0,s=i[0];s.points?(n=s.closeStroke,e=s.points):e=Array.isArray(i[0])?i[0]:i;var a=new zC(e);return a.closeStroke=n,this.drawShape(a),this},t.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return!(1!==e.length||e[0].shape.type!==LC.RECT||e[0].matrix||e[0].holes.length||e[0].lineStyle.visible&&e[0].lineStyle.width)},t.prototype._render=function(e){this.finishPoly();var t=this._geometry,i=e.context.supports.uint32Indices;t.updateBatches(i),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},t.prototype._populateBatches=function(){var e=this._geometry,t=this.blendMode,i=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(e.points);for(var r=0;r<i;r++){var n=e.batches[r],s=n.style.color,a=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),o=new Float32Array(e.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),l={vertexData:a,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*n.start,n.size),uvs:o,_batchRGB:yC(s),_tintRGB:s,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[r]=l}},t.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var t=0,i=this.batches.length;t<i;t++){var r=this.batches[t];r.worldAlpha=this.worldAlpha*r.alpha,e.plugins[this.pluginName].render(r)}}},t.prototype._renderDirect=function(e){var t=this._resolveDirectShader(e),i=this._geometry,r=this.tint,n=this.worldAlpha,s=t.uniforms,a=i.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(r>>16&255)/255*n,s.tint[1]=(r>>8&255)/255*n,s.tint[2]=(255&r)/255*n,s.tint[3]=n,e.shader.bind(t),e.geometry.bind(i,t),e.state.set(this.state);for(var o=0,l=a.length;o<l;o++)this._renderDrawCallDirect(e,i.drawCalls[o])},t.prototype._renderDrawCallDirect=function(e,t){for(var i=t.texArray,r=t.type,n=t.size,s=t.start,a=i.count,o=0;o<a;o++)e.texture.bind(i.elements[o],o);e.geometry.draw(r,n,s)},t.prototype._resolveDirectShader=function(e){var t=this.shader,i=this.pluginName;if(!t){if(!$_[i]){for(var r=e.plugins[i].MAX_TEXTURES,n=new Int32Array(r),s=0;s<r;s++)n[s]=s;var a={tint:new Float32Array([1,1,1,1]),translationMatrix:new $C,default:Db.from({uSamplers:n},!0)},o=e.plugins[i]._shader.program;$_[i]=new CI(o,a)}t=$_[i]}return t},t.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var t=e.bounds,i=t.minX,r=t.minY,n=t.maxX,s=t.maxY;this._bounds.addFrame(this.transform,i,r,n,s)}},t.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=yC(this.tint,q_),t=0;t<this.batches.length;t++){var i=this.batches[t],r=i._batchRGB,n=(e[0]*r[0]*255<<16)+(e[1]*r[1]*255<<8)+(0|e[2]*r[2]*255);i._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},t.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var t=this.transform.worldTransform,i=t.a,r=t.b,n=t.c,s=t.d,a=t.tx,o=t.ty,l=this._geometry.points,h=this.vertexData,u=0,d=0;d<l.length;d+=2){var c=l[d],p=l[d+1];h[u++]=i*c+n*p+a,h[u++]=s*p+r*c+o}}},t.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this},t.prototype.setMatrix=function(e){return this._matrix=e,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(t){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,t)},t.nextRoundedRectBehavior=!1,t._TEMP_POINT=new WC,t}(By),tS=function(e,t){return tS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},tS(e,t)};var iS,rS=new WC,nS=new Uint16Array([0,1,2,0,2,3]),sS=function(e){function t(t){var i=e.call(this)||this;return i._anchor=new qC(i._onAnchorUpdate,i,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),i._texture=null,i._width=0,i._height=0,i._tint=null,i._tintRGB=null,i.tint=16777215,i.blendMode=Zm.NORMAL,i._cachedTint=16777215,i.uvs=null,i.texture=t||bb.EMPTY,i.vertexData=new Float32Array(8),i.vertexTrimmedData=null,i._transformID=-1,i._textureID=-1,i._transformTrimmedID=-1,i._textureTrimmedID=-1,i.indices=nS,i.pluginName="batch",i.isSprite=!0,i._roundPixels=Yf.ROUND_PIXELS,i}return function(e,t){function i(){this.constructor=e}tS(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=RC(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=RC(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var t=this.transform.worldTransform,i=t.a,r=t.b,n=t.c,s=t.d,a=t.tx,o=t.ty,l=this.vertexData,h=e.trim,u=e.orig,d=this._anchor,c=0,p=0,g=0,f=0;if(h?(c=(p=h.x-d._x*u.width)+h.width,g=(f=h.y-d._y*u.height)+h.height):(c=(p=-d._x*u.width)+u.width,g=(f=-d._y*u.height)+u.height),l[0]=i*p+n*f+a,l[1]=s*f+r*p+o,l[2]=i*c+n*f+a,l[3]=s*f+r*c+o,l[4]=i*c+n*g+a,l[5]=s*g+r*c+o,l[6]=i*p+n*g+a,l[7]=s*g+r*p+o,this._roundPixels)for(var m=Yf.RESOLUTION,C=0;C<l.length;++C)l[C]=Math.round((l[C]*m|0)/m)}},t.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,i=e.orig,r=this._anchor,n=this.transform.worldTransform,s=n.a,a=n.b,o=n.c,l=n.d,h=n.tx,u=n.ty,d=-r._x*i.width,c=d+i.width,p=-r._y*i.height,g=p+i.height;t[0]=s*d+o*p+h,t[1]=l*p+a*d+u,t[2]=s*c+o*p+h,t[3]=l*p+a*c+u,t[4]=s*c+o*g+h,t[5]=l*g+a*c+u,t[6]=s*d+o*g+h,t[7]=l*g+a*d+u},t.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._localBounds||(this._localBounds=new hy),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new HC),t=this._localBoundsRect),this._localBounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,rS);var t=this._texture.orig.width,i=this._texture.orig.height,r=-t*this.anchor.x,n=0;return rS.x>=r&&rS.x<r+t&&(n=-i*this.anchor.y,rS.y>=n&&rS.y<n+i)},t.prototype.destroy=function(t){if(e.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof t?t:t&&t.texture){var i="boolean"==typeof t?t:t&&t.baseTexture;this._texture.destroy(!!i)}this._texture=null},t.from=function(e,i){return new t(e instanceof bb?e:bb.from(e,i))},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var t=RC(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var t=RC(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||bb.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(By),aS=function(e,t){return aS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},aS(e,t)};!function(e){e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(iS||(iS={}));var oS={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:iS.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},lS=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],hS=function(){function e(e){this.styleID=0,this.reset(),cS(this,e,e)}return e.prototype.clone=function(){var t={};return cS(t,this,oS),new e(t)},e.prototype.reset=function(){cS(this,oS,oS)},Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var t=dS(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(e){var t=dS(e);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){(function(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;if(e.length!==t.length)return!1;for(var i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0})(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var t=dS(e);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),e.prototype.toFontString=function(){var e="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var i=t.length-1;i>=0;i--){var r=t[i].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&lS.indexOf(r)<0&&(r='"'+r+'"'),t[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+t.join(",")},e}();function uS(e){return"number"==typeof e?bC(e):("string"==typeof e&&0===e.indexOf("0x")&&(e=e.replace("0x","#")),e)}function dS(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=uS(e[t]);return e}return uS(e)}function cS(e,t,i){for(var r in i)Array.isArray(t[r])?e[r]=t[r].slice():e[r]=t[r]}var pS=function(){function e(e,t,i,r,n,s,a,o,l){this.text=e,this.style=t,this.width=i,this.height=r,this.lines=n,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=o,this.fontProperties=l}return e.measureText=function(t,i,r,n){void 0===n&&(n=e._canvas),r=null==r?i.wordWrap:r;var s=i.toFontString(),a=e.measureFont(s);0===a.fontSize&&(a.fontSize=i.fontSize,a.ascent=i.fontSize);var o=n.getContext("2d");o.font=s;for(var l=(r?e.wordWrap(t,i,n):t).split(/(?:\r\n|\r|\n)/),h=new Array(l.length),u=0,d=0;d<l.length;d++){var c=o.measureText(l[d]).width+(l[d].length-1)*i.letterSpacing;h[d]=c,u=Math.max(u,c)}var p=u+i.strokeThickness;i.dropShadow&&(p+=i.dropShadowDistance);var g=i.lineHeight||a.fontSize+i.strokeThickness,f=Math.max(g,a.fontSize+i.strokeThickness)+(l.length-1)*(g+i.leading);return i.dropShadow&&(f+=i.dropShadowDistance),new e(t,i,p,f,l,h,g+i.leading,u,a)},e.wordWrap=function(t,i,r){void 0===r&&(r=e._canvas);for(var n=r.getContext("2d"),s=0,a="",o="",l=Object.create(null),h=i.letterSpacing,u=i.whiteSpace,d=e.collapseSpaces(u),c=e.collapseNewlines(u),p=!d,g=i.wordWrapWidth+h,f=e.tokenize(t),m=0;m<f.length;m++){var C=f[m];if(e.isNewline(C)){if(!c){o+=e.addLine(a),p=!d,a="",s=0;continue}C=" "}if(d){var y=e.isBreakingSpace(C),b=e.isBreakingSpace(a[a.length-1]);if(y&&b)continue}var I=e.getFromCache(C,h,l,n);if(I>g)if(""!==a&&(o+=e.addLine(a),a="",s=0),e.canBreakWords(C,i.breakWords))for(var v=e.wordWrapSplit(C),_=0;_<v.length;_++){for(var S=v[_],k=1;v[_+k];){var T=v[_+k],A=S[S.length-1];if(e.canBreakChars(A,T,C,_,i.breakWords))break;S+=T,k++}_+=S.length-1;var w=e.getFromCache(S,h,l,n);w+s>g&&(o+=e.addLine(a),p=!1,a="",s=0),a+=S,s+=w}else{a.length>0&&(o+=e.addLine(a),a="",s=0);var E=m===f.length-1;o+=e.addLine(C,!E),p=!1,a="",s=0}else I+s>g&&(p=!1,o+=e.addLine(a),a="",s=0),(a.length>0||!e.isBreakingSpace(C)||p)&&(a+=C,s+=I)}return o+=e.addLine(a,!1)},e.addLine=function(t,i){return void 0===i&&(i=!0),t=e.trimRight(t),t=i?t+"\n":t},e.getFromCache=function(e,t,i,r){var n=i[e];if("number"!=typeof n){var s=e.length*t;n=r.measureText(e).width+s,i[e]=n}return n},e.collapseSpaces=function(e){return"normal"===e||"pre-line"===e},e.collapseNewlines=function(e){return"normal"===e},e.trimRight=function(t){if("string"!=typeof t)return"";for(var i=t.length-1;i>=0;i--){var r=t[i];if(!e.isBreakingSpace(r))break;t=t.slice(0,-1)}return t},e.isNewline=function(t){return"string"==typeof t&&e._newlines.indexOf(t.charCodeAt(0))>=0},e.isBreakingSpace=function(t,i){return"string"==typeof t&&e._breakingSpaces.indexOf(t.charCodeAt(0))>=0},e.tokenize=function(t){var i=[],r="";if("string"!=typeof t)return i;for(var n=0;n<t.length;n++){var s=t[n],a=t[n+1];e.isBreakingSpace(s,a)||e.isNewline(s)?(""!==r&&(i.push(r),r=""),i.push(s)):r+=s}return""!==r&&i.push(r),i},e.canBreakWords=function(e,t){return t},e.canBreakChars=function(e,t,i,r,n){return!0},e.wordWrapSplit=function(e){return e.split("")},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var i={ascent:0,descent:0,fontSize:0},r=e._canvas,n=e._context;n.font=t;var s=e.METRICS_STRING+e.BASELINE_SYMBOL,a=Math.ceil(n.measureText(s).width),o=Math.ceil(n.measureText(e.BASELINE_SYMBOL).width),l=Math.ceil(e.HEIGHT_MULTIPLIER*o);o=o*e.BASELINE_MULTIPLIER|0,r.width=a,r.height=l,n.fillStyle="#f00",n.fillRect(0,0,a,l),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(s,0,o);var h=n.getImageData(0,0,a,l).data,u=h.length,d=4*a,c=0,p=0,g=!1;for(c=0;c<o;++c){for(var f=0;f<d;f+=4)if(255!==h[p+f]){g=!0;break}if(g)break;p+=d}for(i.ascent=o-c,p=u-d,g=!1,c=l;c>o;--c){for(f=0;f<d;f+=4)if(255!==h[p+f]){g=!0;break}if(g)break;p-=d}return i.descent=c-o,i.fontSize=i.ascent+i.descent,e._fonts[t]=i,i},e.clearMetrics=function(t){void 0===t&&(t=""),t?delete e._fonts[t]:e._fonts={}},Object.defineProperty(e,"_canvas",{get:function(){if(!e.__canvas){var t=void 0;try{var i=new OffscreenCanvas(0,0),r=i.getContext("2d");if(r&&r.measureText)return e.__canvas=i,i;t=document.createElement("canvas")}catch(e){t=document.createElement("canvas")}t.width=t.height=10,e.__canvas=t}return e.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(e,"_context",{get:function(){return e.__context||(e.__context=e._canvas.getContext("2d")),e.__context},enumerable:!1,configurable:!0}),e}();pS._fonts={},pS.METRICS_STRING="|ÉqÅ",pS.BASELINE_SYMBOL="M",pS.BASELINE_MULTIPLIER=1.4,pS.HEIGHT_MULTIPLIER=2,pS._newlines=[10,13],pS._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var gS={texture:!0,children:!1,baseTexture:!0},fS=function(e){function t(t,i,r){var n=this,s=!1;r||(r=document.createElement("canvas"),s=!0),r.width=3,r.height=3;var a=bb.from(r);return a.orig=new HC,a.trim=new HC,(n=e.call(this,a)||this)._ownCanvas=s,n.canvas=r,n.context=n.canvas.getContext("2d"),n._resolution=Yf.RESOLUTION,n._autoResolution=!0,n._text=null,n._style=null,n._styleListener=null,n._font="",n.text=t,n.style=i,n.localStyleID=-1,n}return function(e,t){function i(){this.constructor=e}aS(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),t.prototype.updateText=function(e){var i=this._style;if(this.localStyleID!==i.styleID&&(this.dirty=!0,this.localStyleID=i.styleID),this.dirty||!e){this._font=this._style.toFontString();var r,n,s=this.context,a=pS.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=a.width,l=a.height,h=a.lines,u=a.lineHeight,d=a.lineWidths,c=a.maxLineWidth,p=a.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+2*i.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,l)+2*i.padding)*this._resolution),s.scale(this._resolution,this._resolution),s.clearRect(0,0,this.canvas.width,this.canvas.height),s.font=this._font,s.lineWidth=i.strokeThickness,s.textBaseline=i.textBaseline,s.lineJoin=i.lineJoin,s.miterLimit=i.miterLimit;for(var g=i.dropShadow?2:1,f=0;f<g;++f){var m=i.dropShadow&&0===f,C=m?Math.ceil(Math.max(1,l)+2*i.padding):0,y=C*this._resolution;if(m){s.fillStyle="black",s.strokeStyle="black";var b=i.dropShadowColor,I=yC("number"==typeof b?b:IC(b)),v=i.dropShadowBlur*this._resolution,_=i.dropShadowDistance*this._resolution;s.shadowColor="rgba("+255*I[0]+","+255*I[1]+","+255*I[2]+","+i.dropShadowAlpha+")",s.shadowBlur=v,s.shadowOffsetX=Math.cos(i.dropShadowAngle)*_,s.shadowOffsetY=Math.sin(i.dropShadowAngle)*_+y}else s.fillStyle=this._generateFillStyle(i,h,a),s.strokeStyle=i.stroke,s.shadowColor="black",s.shadowBlur=0,s.shadowOffsetX=0,s.shadowOffsetY=0;var S=(u-p.fontSize)/2;(!t.nextLineHeightBehavior||u-p.fontSize<0)&&(S=0);for(var k=0;k<h.length;k++)r=i.strokeThickness/2,n=i.strokeThickness/2+k*u+p.ascent+S,"right"===i.align?r+=c-d[k]:"center"===i.align&&(r+=(c-d[k])/2),i.stroke&&i.strokeThickness&&this.drawLetterSpacing(h[k],r+i.padding,n+i.padding-C,!0),i.fill&&this.drawLetterSpacing(h[k],r+i.padding,n+i.padding-C)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,i,r,n){void 0===n&&(n=!1);var s=this._style.letterSpacing,a=t.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(0===s||a)return a&&(this.context.letterSpacing=s,this.context.textLetterSpacing=s),void(n?this.context.strokeText(e,i,r):this.context.fillText(e,i,r));for(var o=i,l=Array.from?Array.from(e):e.split(""),h=this.context.measureText(e).width,u=0,d=0;d<l.length;++d){var c=l[d];n?this.context.strokeText(c,o,r):this.context.fillText(c,o,r);for(var p="",g=d+1;g<l.length;++g)p+=l[g];o+=h-(u=this.context.measureText(p).width)+s,h=u}},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var t=function(e){var t,i,r,n=e.width,s=e.height,a=e.getContext("2d"),o=a.getImageData(0,0,n,s).data,l=o.length,h={top:null,left:null,right:null,bottom:null},u=null;for(t=0;t<l;t+=4)0!==o[t+3]&&(i=t/4%n,r=~~(t/4/n),null===h.top&&(h.top=r),(null===h.left||i<h.left)&&(h.left=i),(null===h.right||h.right<i)&&(h.right=i+1),(null===h.bottom||h.bottom<r)&&(h.bottom=r));return null!==h.top&&(n=h.right-h.left,s=h.bottom-h.top+1,u=a.getImageData(h.left,h.top,n,s)),{height:s,width:n,data:u}}(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}var i=this._texture,r=this._style,n=r.trim?0:r.padding,s=i.baseTexture;i.trim.width=i._frame.width=e.width/this._resolution,i.trim.height=i._frame.height=e.height/this._resolution,i.trim.x=-n,i.trim.y=-n,i.orig.width=i._frame.width-2*n,i.orig.height=i._frame.height-2*n,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),i.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},t.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,t)},t.prototype.getLocalBounds=function(t){return this.updateText(!0),e.prototype.getLocalBounds.call(this,t)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(e,t,i){var r,n=e.fill;if(!Array.isArray(n))return n;if(1===n.length)return n[0];var s=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,o=this.canvas.width/this._resolution-s-2*a,l=this.canvas.height/this._resolution-s-2*a,h=n.slice(),u=e.fillGradientStops.slice();if(!u.length)for(var d=h.length+1,c=1;c<d;++c)u.push(c/d);if(h.unshift(n[0]),u.unshift(0),h.push(n[n.length-1]),u.push(1),e.fillGradientType===iS.LINEAR_VERTICAL){r=this.context.createLinearGradient(o/2,a,o/2,l+a);var p=i.fontProperties.fontSize+e.strokeThickness;for(c=0;c<t.length;c++){var g=i.lineHeight*(c-1)+p,f=i.lineHeight*c,m=f;c>0&&g>f&&(m=(f+g)/2);var C=f+p,y=i.lineHeight*(c+1),b=C;c+1<t.length&&y<C&&(b=(C+y)/2);for(var I=(b-m)/l,v=0;v<h.length;v++){var _=0;_="number"==typeof u[v]?u[v]:v/h.length;var S=Math.min(1,Math.max(0,m/l+_*I));S=Number(S.toFixed(5)),r.addColorStop(S,h[v])}}}else{r=this.context.createLinearGradient(a,l/2,o+a,l/2);var k=h.length+1,T=1;for(c=0;c<h.length;c++){var A=void 0;A="number"==typeof u[c]?u[c]:T/k,r.addColorStop(A,h[c]),T++}}return r},t.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},gS,t),e.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=RC(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=RC(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){e=e||{},this._style=e instanceof hS?e:new hS(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t.nextLineHeightBehavior=!1,t.experimentalLetterSpacing=!1,t}(sS);
/*!
 * @pixi/prepare - v6.3.2
 * Compiled Wed, 04 May 2022 17:49:13 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
Yf.UPLOADS_PER_FRAME=4;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var mS=function(e,t){return mS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},mS(e,t)};var CS=function(){function e(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();function yS(e,t){var i=!1;if(e&&e._textures&&e._textures.length)for(var r=0;r<e._textures.length;r++)if(e._textures[r]instanceof bb){var n=e._textures[r].baseTexture;-1===t.indexOf(n)&&(t.push(n),i=!0)}return i}function bS(e,t){if(e.baseTexture instanceof rb){var i=e.baseTexture;return-1===t.indexOf(i)&&t.push(i),!0}return!1}function IS(e,t){if(e._texture&&e._texture instanceof bb){var i=e._texture.baseTexture;return-1===t.indexOf(i)&&t.push(i),!0}return!1}function vS(e,t){return t instanceof fS&&(t.updateText(!0),!0)}function _S(e,t){if(t instanceof hS){var i=t.toFontString();return pS.measureFont(i),!0}return!1}function SS(e,t){if(e instanceof fS){-1===t.indexOf(e.style)&&t.push(e.style),-1===t.indexOf(e)&&t.push(e);var i=e._texture.baseTexture;return-1===t.indexOf(i)&&t.push(i),!0}return!1}function kS(e,t){return e instanceof hS&&(-1===t.indexOf(e)&&t.push(e),!0)}function TS(e,t){return t instanceof rb&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function AS(e,t){if(!(t instanceof eS))return!1;var i=t.geometry;t.finishPoly(),i.updateBatches();for(var r=i.batches,n=0;n<r.length;n++){var s=r[n].style.texture;s&&TS(e,s.baseTexture)}return i.batchable||e.geometry.bind(i,t._resolveDirectShader(e)),!0}function wS(e,t){return e instanceof eS&&(t.push(e),!0)}var ES=function(e){function t(t){var i=e.call(this,t)||this;return i.uploadHookHelper=i.renderer,i.registerFindHook(wS),i.registerUploadHook(TS),i.registerUploadHook(AS),i}return function(e,t){function i(){this.constructor=e}mS(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),t}(function(){function e(e){var t=this;this.limiter=new CS(Yf.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){t.queue&&t.prepareItems()},this.registerFindHook(SS),this.registerFindHook(kS),this.registerFindHook(yS),this.registerFindHook(bS),this.registerFindHook(IS),this.registerUploadHook(vS),this.registerUploadHook(_S)}return e.prototype.upload=function(e,t){"function"==typeof e&&(t=e,e=null),e&&this.add(e),this.queue.length?(t&&this.completes.push(t),this.ticking||(this.ticking=!0,Zy.system.addOnce(this.tick,this,Ny.UTILITY))):t&&t()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)Zy.system.addOnce(this.tick,this,Ny.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);this.completes.length=0;for(i=0,r=n.length;i<r;i++)n[i]()}},e.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},e.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},e.prototype.add=function(e){for(var t=0,i=this.addHooks.length;t<i&&!this.addHooks[t](e,this.queue);t++);if(e instanceof By)for(t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this},e.prototype.destroy=function(){this.ticking&&Zy.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}()),JS=function(){function e(e,t,i){void 0===i&&(i=null),this._texture=e instanceof bb?e:null,this.baseTexture=e instanceof rb?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;var r=this.baseTexture.resource;this.resolution=this._updateResolution(i||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(e){void 0===e&&(e=null);var t=this.data.meta.scale,i=OC(e,null);return null===i&&(i=void 0!==t?parseFloat(t):1),1!==i&&this.baseTexture.setResolution(i),i},e.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(t){for(var i=t,r=e.BATCH_SIZE;i-t<r&&i<this._frameKeys.length;){var n=this._frameKeys[i],s=this._frames[n],a=s.frame;if(a){var o=null,l=null,h=!1!==s.trimmed&&s.sourceSize?s.sourceSize:s.frame,u=new HC(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);o=s.rotated?new HC(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.h)/this.resolution,Math.floor(a.w)/this.resolution):new HC(Math.floor(a.x)/this.resolution,Math.floor(a.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution),!1!==s.trimmed&&s.spriteSourceSize&&(l=new HC(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(a.w)/this.resolution,Math.floor(a.h)/this.resolution)),this.textures[n]=new bb(this.baseTexture,o,u,l,s.rotated?2:0,s.anchor),bb.addToCache(this.textures[n],n)}i++}},e.prototype._processAnimations=function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];for(var i=0;i<e[t].length;i++){var r=e[t][i];this.animations[t].push(this.textures[r])}}},e.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout((function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())}),0)},e.prototype.destroy=function(e){var t;for(var i in void 0===e&&(e=!1),this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(null===(t=this._texture)||void 0===t||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},e.BATCH_SIZE=1e3,e}(),RS=function(){function e(){}return e.use=function(t,i){var r,n,s=this,a=t.name+"_image";if(t.data&&t.type===Iv.TYPE.JSON&&t.data.frames&&!s.resources[a]){var o=null===(n=null===(r=t.data)||void 0===r?void 0:r.meta)||void 0===n?void 0:n.related_multi_packs;if(Array.isArray(o))for(var l=function(e){if("string"!=typeof e)return"continue";var i=e.replace(".json",""),r=gC.resolve(t.url.replace(s.baseUrl,""),e);if(s.resources[i]||Object.values(s.resources).some((function(e){return gC.format(gC.parse(e.url))===r})))return"continue";var n={crossOrigin:t.crossOrigin,loadType:Iv.LOAD_TYPE.XHR,xhrType:Iv.XHR_RESPONSE_TYPE.JSON,parentResource:t,metadata:t.metadata};s.add(i,r,n)},h=0,u=o;h<u.length;h++){l(u[h])}var d={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},c=e.getResourcePath(t,s.baseUrl);s.add(a,c,d,(function(e){if(e.error)i(e.error);else{var r=new JS(e.texture,t.data,t.url);r.parse((function(){t.spritesheet=r,t.textures=r.textures,i()}))}}))}else i()},e.getResourcePath=function(e,t){return e.isDataUrl?e.data.meta.image:gC.resolve(e.url.replace(t,""),e.data.meta.image)},e}(),xS=function(e,t){return xS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},xS(e,t)};
/*!
 * @pixi/spritesheet - v6.3.2
 * Compiled Wed, 04 May 2022 17:49:13 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */function GS(e,t){function i(){this.constructor=e}xS(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var DS=new WC;!function(e){function t(t,i,r){void 0===i&&(i=100),void 0===r&&(r=100);var n=e.call(this,t)||this;return n.tileTransform=new ly,n._width=i,n._height=r,n.uvMatrix=n.texture.uvMatrix||new vI(t),n.pluginName="tilingSprite",n.uvRespectAnchor=!1,n}GS(t,e),Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(e){var t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,i,r)},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new HC),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,DS);var t=this._width,i=this._height,r=-t*this.anchor._x;if(DS.x>=r&&DS.x<r+t){var n=-i*this.anchor._y;if(DS.y>=n&&DS.y<n+i)return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},t.from=function(e,i){return new t(e instanceof bb?e:bb.from(e,i),i.width,i.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0})}(sS);var BS="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",NS=new $C,QS=function(e){function t(t){var i=e.call(this,t)||this;return t.runners.contextChange.add(i),i.quad=new xb,i.state=yI.for2d(),i}return GS(t,e),t.prototype.contextChange=function(){var e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=CI.from(BS,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",t),this.shader=e.context.webGLVersion>1?CI.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",t):CI.from(BS,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",t)},t.prototype.render=function(e){var t=this.renderer,i=this.quad,r=i.vertices;r[0]=r[6]=e._width*-e.anchor.x,r[1]=r[3]=e._height*-e.anchor.y,r[2]=r[4]=e._width*(1-e.anchor.x),r[5]=r[7]=e._height*(1-e.anchor.y);var n=e.uvRespectAnchor?e.anchor.x:0,s=e.uvRespectAnchor?e.anchor.y:0;(r=i.uvs)[0]=r[6]=-n,r[1]=r[3]=-s,r[2]=r[4]=1-n,r[5]=r[7]=1-s,i.invalidate();var a=e._texture,o=a.baseTexture,l=e.tileTransform.localTransform,h=e.uvMatrix,u=o.isPowerOfTwo&&a.frame.width===o.width&&a.frame.height===o.height;u&&(o._glTextures[t.CONTEXT_UID]?u=o.wrapMode!==Wm.CLAMP:o.wrapMode===Wm.CLAMP&&(o.wrapMode=Wm.REPEAT));var d=u?this.simpleShader:this.shader,c=a.width,p=a.height,g=e._width,f=e._height;NS.set(l.a*c/g,l.b*c/f,l.c*p/g,l.d*p/f,l.tx/g,l.ty/f),NS.invert(),u?NS.prepend(h.mapCoord):(d.uniforms.uMapCoord=h.mapCoord.toArray(!0),d.uniforms.uClampFrame=h.uClampFrame,d.uniforms.uClampOffset=h.uClampOffset),d.uniforms.uTransform=NS.toArray(!0),d.uniforms.uColor=kC(e.tint,e.worldAlpha,d.uniforms.uColor,o.alphaMode),d.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),d.uniforms.uSampler=a,t.shader.bind(d),t.geometry.bind(i),this.state.blendMode=_C(e.blendMode,o.alphaMode),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(Zb),MS=function(e,t){return MS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},MS(e,t)};function ZS(e,t){function i(){this.constructor=e}MS(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var PS=function(){function e(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return e.prototype.update=function(e){if(e||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var t=this.uvBuffer.data;this.data&&this.data.length===t.length||(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}},e}(),OS=new WC,LS=new zC,XS=function(e){function t(t,i,r,n){void 0===n&&(n=Pm.TRIANGLES);var s=e.call(this)||this;return s.geometry=t,s.shader=i,s.state=r||yI.for2d(),s.drawMode=n,s.start=0,s.size=0,s.uvs=null,s.indices=null,s.vertexData=new Float32Array(1),s.vertexDirty=-1,s._transformID=-1,s._roundPixels=Yf.ROUND_PIXELS,s.batchUvs=null,s}return ZS(t,e),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},set:function(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){var i=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Pm.TRIANGLES&&i.length<2*t.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},t.prototype._renderDefault=function(e){var t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(e){var t=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var r=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[r]),e.plugins[r].render(this)},t.prototype.calculateVertices=function(){var e=this.geometry.buffers[0],t=e.data,i=e._updateID;if(i!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));for(var r=this.transform.worldTransform,n=r.a,s=r.b,a=r.c,o=r.d,l=r.tx,h=r.ty,u=this.vertexData,d=0;d<u.length/2;d++){var c=t[2*d],p=t[2*d+1];u[2*d]=n*c+a*p+l,u[2*d+1]=s*c+o*p+h}if(this._roundPixels){var g=Yf.RESOLUTION;for(d=0;d<u.length;++d)u[d]=Math.round((u[d]*g|0)/g)}this.vertexDirty=i}},t.prototype.calculateUvs=function(){var e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new PS(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,OS);for(var t=this.geometry.getBuffer("aVertexPosition").data,i=LS.points,r=this.geometry.getIndex().data,n=r.length,s=4===this.drawMode?3:1,a=0;a+2<n;a+=s){var o=2*r[a],l=2*r[a+1],h=2*r[a+2];if(i[0]=t[o],i[1]=t[o+1],i[2]=t[l],i[3]=t[l+1],i[4]=t[h],i[5]=t[h+1],LS.contains(OS.x,OS.y))return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(By),VS=function(e){function t(t,i){var r=this,n={uSampler:t,alpha:1,uTextureMatrix:$C.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(i=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},i)).uniforms&&Object.assign(n,i.uniforms),(r=e.call(this,i.program||mI.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),n)||this)._colorDirty=!1,r.uvMatrix=new vI(t),r.batchable=void 0===i.program,r.pluginName=i.pluginName,r.tint=i.tint,r.alpha=i.alpha,r}return ZS(t,e),Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var e=this.texture.baseTexture;kC(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(CI),FS=function(e){function t(t,i,r){var n=e.call(this)||this,s=new kb(t),a=new kb(i,!0),o=new kb(r,!0,!0);return n.addAttribute("aVertexPosition",s,2,!1,Xm.FLOAT).addAttribute("aTextureCoord",a,2,!1,Xm.FLOAT).addIndex(o),n._updateId=-1,n}return ZS(t,e),Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(Jb),WS=function(e,t){return WS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},WS(e,t)};var US=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]},HS=function(){function e(){}return e.test=function(e){return"string"==typeof e&&0===e.indexOf("info face=")},e.parse=function(e){var t=e.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var r in t){var n=t[r].match(/^[a-z]+/gm)[0],s=t[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var o in s){var l=s[o].split("="),h=l[0],u=l[1].replace(/"/gm,""),d=parseFloat(u),c=isNaN(d)?u:d;a[h]=c}i[n].push(a)}var p=new US;return i.info.forEach((function(e){return p.info.push({face:e.face,size:parseInt(e.size,10)})})),i.common.forEach((function(e){return p.common.push({lineHeight:parseInt(e.lineHeight,10)})})),i.page.forEach((function(e){return p.page.push({id:parseInt(e.id,10),file:e.file})})),i.char.forEach((function(e){return p.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})})),i.kerning.forEach((function(e){return p.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})})),i.distanceField.forEach((function(e){return p.distanceField.push({distanceRange:parseInt(e.distanceRange,10),fieldType:e.fieldType})})),p},e}(),KS=function(){function e(){}return e.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")},e.parse=function(e){for(var t=new US,i=e.getElementsByTagName("info"),r=e.getElementsByTagName("common"),n=e.getElementsByTagName("page"),s=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),o=e.getElementsByTagName("distanceField"),l=0;l<i.length;l++)t.info.push({face:i[l].getAttribute("face"),size:parseInt(i[l].getAttribute("size"),10)});for(l=0;l<r.length;l++)t.common.push({lineHeight:parseInt(r[l].getAttribute("lineHeight"),10)});for(l=0;l<n.length;l++)t.page.push({id:parseInt(n[l].getAttribute("id"),10)||0,file:n[l].getAttribute("file")});for(l=0;l<s.length;l++){var h=s[l];t.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(l=0;l<a.length;l++)t.kerning.push({first:parseInt(a[l].getAttribute("first"),10),second:parseInt(a[l].getAttribute("second"),10),amount:parseInt(a[l].getAttribute("amount"),10)});for(l=0;l<o.length;l++)t.distanceField.push({fieldType:o[l].getAttribute("fieldType"),distanceRange:parseInt(o[l].getAttribute("distanceRange"),10)});return t},e}(),YS=function(){function e(){}return e.test=function(e){if("string"==typeof e&&e.indexOf("<font>")>-1){var t=(new globalThis.DOMParser).parseFromString(e,"text/xml");return KS.test(t)}return!1},e.parse=function(e){var t=(new globalThis.DOMParser).parseFromString(e,"text/xml");return KS.parse(t)},e}(),zS=[HS,KS,YS];function jS(e){for(var t=0;t<zS.length;t++)if(zS[t].test(e))return zS[t];return null}function qS(e,t,i,r,n,s,a){var o=i.text,l=i.fontProperties;t.translate(r,n),t.scale(s,s);var h=a.strokeThickness/2,u=-a.strokeThickness/2;if(t.font=a.toFontString(),t.lineWidth=a.strokeThickness,t.textBaseline=a.textBaseline,t.lineJoin=a.lineJoin,t.miterLimit=a.miterLimit,t.fillStyle=function(e,t,i,r,n,s){var a,o=i.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var l=i.dropShadow?i.dropShadowDistance:0,h=i.padding||0,u=e.width/r-l-2*h,d=e.height/r-l-2*h,c=o.slice(),p=i.fillGradientStops.slice();if(!p.length)for(var g=c.length+1,f=1;f<g;++f)p.push(f/g);if(c.unshift(o[0]),p.unshift(0),c.push(o[o.length-1]),p.push(1),i.fillGradientType===iS.LINEAR_VERTICAL){a=t.createLinearGradient(u/2,h,u/2,d+h);var m=0,C=(s.fontProperties.fontSize+i.strokeThickness)/d;for(f=0;f<n.length;f++)for(var y=s.lineHeight*f,b=0;b<c.length;b++){var I=y/d+("number"==typeof p[b]?p[b]:b/c.length)*C,v=Math.max(m,I);v=Math.min(v,1),a.addColorStop(v,c[b]),m=v}}else{a=t.createLinearGradient(h,d/2,u+h,d/2);var _=c.length+1,S=1;for(f=0;f<c.length;f++){var k=void 0;k="number"==typeof p[f]?p[f]:S/_,a.addColorStop(k,c[f]),S++}}return a}(e,t,a,s,[o],i),t.strokeStyle=a.stroke,a.dropShadow){var d=a.dropShadowColor,c=yC("number"==typeof d?d:IC(d)),p=a.dropShadowBlur*s,g=a.dropShadowDistance*s;t.shadowColor="rgba("+255*c[0]+","+255*c[1]+","+255*c[2]+","+a.dropShadowAlpha+")",t.shadowBlur=p,t.shadowOffsetX=Math.cos(a.dropShadowAngle)*g,t.shadowOffsetY=Math.sin(a.dropShadowAngle)*g}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;a.stroke&&a.strokeThickness&&t.strokeText(o,h,u+i.lineHeight-l.descent),a.fill&&t.fillText(o,h,u+i.lineHeight-l.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function $S(e){return Array.from?Array.from(e):e.split("")}function ek(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}var tk=function(){function e(e,t,i){var r,n,s=e.info[0],a=e.common[0],o=e.page[0],l=e.distanceField[0],h=OC(o.file),u={};this._ownsTextures=i,this.font=s.face,this.size=s.size,this.lineHeight=a.lineHeight/h,this.chars={},this.pageTextures=u;for(var d=0;d<e.page.length;d++){var c=e.page[d],p=c.id,g=c.file;u[p]=t instanceof Array?t[d]:t[g],(null==l?void 0:l.fieldType)&&"none"!==l.fieldType&&(u[p].baseTexture.alphaMode=Hm.NO_PREMULTIPLIED_ALPHA)}for(d=0;d<e.char.length;d++){var f=e.char[d],m=(p=f.id,f.page),C=e.char[d],y=C.x,b=C.y,I=C.width,v=C.height,_=C.xoffset,S=C.yoffset,k=C.xadvance;b/=h,I/=h,v/=h,_/=h,S/=h,k/=h;var T=new HC((y/=h)+u[m].frame.x/h,b+u[m].frame.y/h,I,v);this.chars[p]={xOffset:_,yOffset:S,xAdvance:k,kerning:{},texture:new bb(u[m].baseTexture,T),page:m}}for(d=0;d<e.kerning.length;d++){var A=e.kerning[d],w=A.first,E=A.second,J=A.amount;w/=h,E/=h,J/=h,this.chars[E]&&(this.chars[E].kerning[w]=J)}this.distanceFieldRange=null==l?void 0:l.distanceRange,this.distanceFieldType=null!==(n=null===(r=null==l?void 0:l.fieldType)||void 0===r?void 0:r.toLowerCase())&&void 0!==n?n:"none"}return e.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},e.install=function(t,i,r){var n;if(t instanceof US)n=t;else{var s=jS(t);if(!s)throw new Error("Unrecognized data format for font.");n=s.parse(t)}i instanceof bb&&(i=[i]);var a=new e(n,i,r);return e.available[a.font]=a,a},e.uninstall=function(t){var i=e.available[t];if(!i)throw new Error("No font found named '"+t+"'");i.destroy(),delete e.available[t]},e.from=function(t,i,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var n=Object.assign({},e.defaultOptions,r),s=n.chars,a=n.padding,o=n.resolution,l=n.textureWidth,h=n.textureHeight,u=function(e){"string"==typeof e&&(e=[e]);for(var t=[],i=0,r=e.length;i<r;i++){var n=e[i];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var s=n[0].charCodeAt(0),a=n[1].charCodeAt(0);if(a<s)throw new Error("[BitmapFont]: Invalid character range.");for(var o=s,l=a;o<=l;o++)t.push(String.fromCharCode(o))}else t.push.apply(t,$S(n))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(s),d=i instanceof hS?i:new hS(i),c=l,p=new US;p.info[0]={face:d.fontFamily,size:d.fontSize},p.common[0]={lineHeight:d.fontSize};for(var g,f,m,C=0,y=0,b=0,I=[],v=0;v<u.length;v++){g||((g=document.createElement("canvas")).width=l,g.height=h,f=g.getContext("2d"),m=new rb(g,{resolution:o}),I.push(new bb(m)),p.page.push({id:I.length-1,file:""}));var _=pS.measureText(u[v],d,!1,g),S=_.width,k=Math.ceil(_.height),T=Math.ceil(("italic"===d.fontStyle?2:1)*S);if(y>=h-k*o){if(0===y)throw new Error("[BitmapFont] textureHeight "+h+"px is too small for "+d.fontSize+"px fonts");--v,g=null,f=null,m=null,y=0,C=0,b=0}else if(b=Math.max(k+_.fontProperties.descent,b),T*o+C>=c)--v,y+=b*o,y=Math.ceil(y),C=0,b=0;else{qS(g,f,_,C,y,o,d);var A=ek(_.text);p.char.push({id:A,page:I.length-1,x:C/o,y:y/o,width:T,height:k,xoffset:0,yoffset:0,xadvance:Math.ceil(S-(d.dropShadow?d.dropShadowDistance:0)-(d.stroke?d.strokeThickness:0))}),C+=(T+2*a)*o,C=Math.ceil(C)}}v=0;for(var w=u.length;v<w;v++)for(var E=u[v],J=0;J<w;J++){var R=u[J],x=f.measureText(E).width,G=f.measureText(R).width,D=f.measureText(E+R).width-(x+G);D&&p.kerning.push({first:ek(E),second:ek(R),amount:D})}var B=new e(p,I,!0);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=B,B},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),ik=[],rk=[],nk=[];!function(e){function t(i,r){void 0===r&&(r={});var n=e.call(this)||this;n._tint=16777215;var s=Object.assign({},t.styleDefaults,r),a=s.align,o=s.tint,l=s.maxWidth,h=s.letterSpacing,u=s.fontName,d=s.fontSize;if(!tk.available[u])throw new Error('Missing BitmapFont "'+u+'"');return n._activePagesMeshData=[],n._textWidth=0,n._textHeight=0,n._align=a,n._tint=o,n._fontName=u,n._fontSize=d||tk.available[u].size,n.text=i,n._maxWidth=l,n._maxLineHeight=0,n._letterSpacing=h,n._anchor=new qC((function(){n.dirty=!0}),n,0,0),n._roundPixels=Yf.ROUND_PIXELS,n.dirty=!0,n._textureCache={},n}(function(e,t){function i(){this.constructor=e}WS(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(t,e),t.prototype.updateText=function(){for(var e,t=tk.available[this._fontName],i=this._fontSize/t.size,r=new WC,n=[],s=[],a=[],o=$S(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),l=this._maxWidth*t.size/this._fontSize,h="none"===t.distanceFieldType?ik:rk,u=null,d=0,c=0,p=0,g=-1,f=0,m=0,C=0,y=0,b=0;b<o.length;b++){var I=ek(O=o[b]);if(/(?:\s)/.test(O)&&(g=b,f=d,y++),"\r"!==O&&"\n"!==O){var v=t.chars[I];if(v){u&&v.kerning[u]&&(r.x+=v.kerning[u]);var _=nk.pop()||{texture:bb.EMPTY,line:0,charCode:0,prevSpaces:0,position:new WC};_.texture=v.texture,_.line=p,_.charCode=I,_.position.x=r.x+v.xOffset+this._letterSpacing/2,_.position.y=r.y+v.yOffset,_.prevSpaces=y,n.push(_),d=_.position.x+Math.max(v.xAdvance,v.texture.orig.width),r.x+=v.xAdvance+this._letterSpacing,C=Math.max(C,v.yOffset+v.texture.height),u=I,-1!==g&&l>0&&r.x>l&&(JC(n,1+g-++m,1+b-g),b=g,g=-1,s.push(f),a.push(n.length>0?n[n.length-1].prevSpaces:0),c=Math.max(c,f),p++,r.x=0,r.y+=t.lineHeight,u=null,y=0)}}else s.push(d),a.push(-1),c=Math.max(c,d),++p,++m,r.x=0,r.y+=t.lineHeight,u=null,y=0}var S=o[o.length-1];"\r"!==S&&"\n"!==S&&(/(?:\s)/.test(S)&&(d=f),s.push(d),c=Math.max(c,d),a.push(-1));var k=[];for(b=0;b<=p;b++){var T=0;"right"===this._align?T=c-s[b]:"center"===this._align?T=(c-s[b])/2:"justify"===this._align&&(T=a[b]<0?0:(c-s[b])/a[b]),k.push(T)}var A=n.length,w={},E=[],J=this._activePagesMeshData;for(b=0;b<J.length;b++)h.push(J[b]);for(b=0;b<A;b++){var R=(X=n[b].texture).baseTexture.uid;if(!w[R]){if(!(Y=h.pop())){var x=new FS,G=void 0,D=void 0;"none"===t.distanceFieldType?(G=new VS(bb.EMPTY),D=Zm.NORMAL):(G=new VS(bb.EMPTY,{program:mI.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n"),uniforms:{uFWidth:0}}),D=Zm.NORMAL_NPM);var B=new XS(x,G);B.blendMode=D,Y={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:B,vertices:null,uvs:null,indices:null}}Y.index=0,Y.indexCount=0,Y.vertexCount=0,Y.uvsCount=0,Y.total=0;var N=this._textureCache;N[R]=N[R]||new bb(X.baseTexture),Y.mesh.texture=N[R],Y.mesh.tint=this._tint,E.push(Y),w[R]=Y}w[R].total++}for(b=0;b<J.length;b++)-1===E.indexOf(J[b])&&this.removeChild(J[b].mesh);for(b=0;b<E.length;b++)E[b].mesh.parent!==this&&this.addChild(E[b].mesh);for(var b in this._activePagesMeshData=E,w){var Q=(Y=w[b]).total;if(!((null===(e=Y.indices)||void 0===e?void 0:e.length)>6*Q)||Y.vertices.length<2*XS.BATCHABLE_SIZE)Y.vertices=new Float32Array(8*Q),Y.uvs=new Float32Array(8*Q),Y.indices=new Uint16Array(6*Q);else for(var M=Y.total,Z=Y.vertices,P=4*M*2;P<Z.length;P++)Z[P]=0;Y.mesh.size=6*Q}for(b=0;b<A;b++){var O,L=(O=n[b]).position.x+k[O.line]*("justify"===this._align?O.prevSpaces:1);this._roundPixels&&(L=Math.round(L));var X,V=L*i,F=O.position.y*i,W=w[(X=O.texture).baseTexture.uid],U=X.frame,H=X._uvs,K=W.index++;W.indices[6*K+0]=0+4*K,W.indices[6*K+1]=1+4*K,W.indices[6*K+2]=2+4*K,W.indices[6*K+3]=0+4*K,W.indices[6*K+4]=2+4*K,W.indices[6*K+5]=3+4*K,W.vertices[8*K+0]=V,W.vertices[8*K+1]=F,W.vertices[8*K+2]=V+U.width*i,W.vertices[8*K+3]=F,W.vertices[8*K+4]=V+U.width*i,W.vertices[8*K+5]=F+U.height*i,W.vertices[8*K+6]=V,W.vertices[8*K+7]=F+U.height*i,W.uvs[8*K+0]=H.x0,W.uvs[8*K+1]=H.y0,W.uvs[8*K+2]=H.x1,W.uvs[8*K+3]=H.y1,W.uvs[8*K+4]=H.x2,W.uvs[8*K+5]=H.y2,W.uvs[8*K+6]=H.x3,W.uvs[8*K+7]=H.y3}for(var b in this._textWidth=c*i,this._textHeight=(r.y+t.lineHeight)*i,w){var Y=w[b];if(0!==this.anchor.x||0!==this.anchor.y)for(var z=0,j=this._textWidth*this.anchor.x,q=this._textHeight*this.anchor.y,$=0;$<Y.total;$++)Y.vertices[z++]-=j,Y.vertices[z++]-=q,Y.vertices[z++]-=j,Y.vertices[z++]-=q,Y.vertices[z++]-=j,Y.vertices[z++]-=q,Y.vertices[z++]-=j,Y.vertices[z++]-=q;this._maxLineHeight=C*i;var ee=Y.mesh.geometry.getBuffer("aVertexPosition"),te=Y.mesh.geometry.getBuffer("aTextureCoord"),ie=Y.mesh.geometry.getIndex();ee.data=Y.vertices,te.data=Y.uvs,ie.data=Y.indices,ee.update(),te.update(),ie.update()}for(b=0;b<n.length;b++)nk.push(n[b])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype._render=function(t){var i=tk.available[this._fontName],r=i.distanceFieldRange,n=i.distanceFieldType,s=i.size;if("none"!==n)for(var a=this.worldTransform,o=a.a,l=a.b,h=a.c,u=a.d,d=Math.sqrt(o*o+l*l),c=Math.sqrt(h*h+u*u),p=(Math.abs(d)+Math.abs(c))/2,g=this._fontSize/s,f=0,m=this._activePagesMeshData;f<m.length;f++){m[f].mesh.shader.uniforms.uFWidth=p*r*g*t.resolution}e.prototype._render.call(this,t)},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!tk.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype.destroy=function(t){var i=this._textureCache;for(var r in i){i[r].destroy(),delete i[r]}this._textureCache=null,e.prototype.destroy.call(this,t)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0}}(By);var sk=function(){function e(){}return e.add=function(){Iv.setExtensionXhrType("fnt",Iv.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,i){var r=jS(t.data);if(r)for(var n=e.getBaseUrl(this,t),s=r.parse(t.data),a={},o=function(e){a[e.metadata.pageFile]=e.texture,Object.keys(a).length===s.page.length&&(t.bitmapFont=tk.install(s,a,!0),i())},l=0;l<s.page.length;++l){var h=s.page[l].file,u=n+h,d=!1;for(var c in this.resources){var p=this.resources[c];if(p.url===u){p.metadata.pageFile=h,p.texture?o(p):p.onAfterMiddleware.add(o),d=!0;break}}if(!d){var g={crossOrigin:t.crossOrigin,loadType:Iv.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:h},t.metadata.imageMetadata),parentResource:t};this.add(u,g,o)}}else i()},e.getBaseUrl=function(t,i){var r=i.isDataUrl?"":e.dirname(i.url);return i.isDataUrl&&("."===r&&(r=""),t.baseUrl&&r&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(r+="/")),(r=r.replace(t.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},e.dirname=function(e){var t=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return t===e?".":""===t?"/":t},e}(),ak=function(e,t){return ak=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},ak(e,t)};
/*!
 * @pixi/filter-alpha - v6.3.2
 * Compiled Wed, 04 May 2022 17:49:13 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ok=function(e){function t(t){void 0===t&&(t=1);var i=e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return i.alpha=t,i}return function(e,t){function i(){this.constructor=e}ak(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(bI),lk=function(e,t){return lk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},lk(e,t)};function hk(e,t){function i(){this.constructor=e}lk(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var uk,dk,ck,pk,gk,fk,mk,Ck,yk,bk,Ik,vk,_k,Sk,kk,Tk,Ak,wk,Ek,Jk={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Rk=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(uk||(uk={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(dk||(dk={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(ck||(ck={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(pk||(pk={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(gk||(gk={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(fk||(fk={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(mk||(mk={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(Ck||(Ck={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(yk||(yk={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(bk||(bk={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Ik||(Ik={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(vk||(vk={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(_k||(_k={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(Sk||(Sk={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(kk||(kk={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(Tk||(Tk={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(Ak||(Ak={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(wk||(wk={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(Ek||(Ek={}));var xk=function(e){function t(t,i,r,n,s){void 0===i&&(i=8),void 0===r&&(r=4),void 0===n&&(n=Yf.FILTER_RESOLUTION),void 0===s&&(s=5);var a=this,o=function(e,t){var i,r=Math.ceil(e/2),n="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",s="";i=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var a=0;a<e;a++){var o=i.replace("%index%",a.toString());s+=o=o.replace("%sampleIndex%",a-(r-1)+".0"),s+="\n"}return(n=n.replace("%blur%",s)).replace("%size%",e.toString())}(s,t),l=function(e){for(var t,i=Jk[e],r=i.length,n=Rk,s="",a=0;a<e;a++){var o="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a.toString());t=a,a>=r&&(t=e-a-1),s+=o=o.replace("%value%",i[t].toString()),s+="\n"}return(n=n.replace("%blur%",s)).replace("%size%",e.toString())}
/*!
 * @pixi/constants - v6.3.2
 * Compiled Wed, 04 May 2022 17:49:13 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */(s);return(a=e.call(this,o,l)||this).horizontal=t,a.resolution=n,a._quality=0,a.quality=r,a.blur=i,a}return hk(t,e),t.prototype.apply=function(e,t,i,r){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/t.width):this.uniforms.strength=1/i.height*(i.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,i,r);else{var n=e.getFilterTexture(),s=e.renderer,a=t,o=n;this.state.blend=!1,e.applyFilter(this,a,o,Sk.CLEAR);for(var l=1;l<this.passes-1;l++){e.bindAndClear(a,Sk.BLIT),this.uniforms.uSampler=o;var h=o;o=a,a=h,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,o,i,r),e.returnFilterTexture(n)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),t}(bI),Gk=function(e){function t(t,i,r,n){void 0===t&&(t=8),void 0===i&&(i=4),void 0===r&&(r=Yf.FILTER_RESOLUTION),void 0===n&&(n=5);var s=e.call(this)||this;return s.blurXFilter=new xk(!0,t,i,r,n),s.blurYFilter=new xk(!1,t,i,r,n),s.resolution=r,s.quality=i,s.blur=t,s.repeatEdgePixels=!1,s}return hk(t,e),t.prototype.apply=function(e,t,i,r){var n=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(n&&s){var a=e.getFilterTexture();this.blurXFilter.apply(e,t,a,Sk.CLEAR),this.blurYFilter.apply(e,a,i,r),e.returnFilterTexture(a)}else s?this.blurYFilter.apply(e,t,i,r):this.blurXFilter.apply(e,t,i,r)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),t}(bI),Dk=function(e,t){return Dk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},Dk(e,t)};var Bk=function(e){function t(){var t=this,i={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(t=e.call(this,zI,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",i)||this).alpha=1,t}return function(e,t){function i(){this.constructor=e}Dk(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),t.prototype._loadMatrix=function(e,t){void 0===t&&(t=!1);var i=e;t&&(this._multiply(i,this.uniforms.m,e),i=this._colorMatrix(i)),this.uniforms.m=i},t.prototype._multiply=function(e,t,i){return e[0]=t[0]*i[0]+t[1]*i[5]+t[2]*i[10]+t[3]*i[15],e[1]=t[0]*i[1]+t[1]*i[6]+t[2]*i[11]+t[3]*i[16],e[2]=t[0]*i[2]+t[1]*i[7]+t[2]*i[12]+t[3]*i[17],e[3]=t[0]*i[3]+t[1]*i[8]+t[2]*i[13]+t[3]*i[18],e[4]=t[0]*i[4]+t[1]*i[9]+t[2]*i[14]+t[3]*i[19]+t[4],e[5]=t[5]*i[0]+t[6]*i[5]+t[7]*i[10]+t[8]*i[15],e[6]=t[5]*i[1]+t[6]*i[6]+t[7]*i[11]+t[8]*i[16],e[7]=t[5]*i[2]+t[6]*i[7]+t[7]*i[12]+t[8]*i[17],e[8]=t[5]*i[3]+t[6]*i[8]+t[7]*i[13]+t[8]*i[18],e[9]=t[5]*i[4]+t[6]*i[9]+t[7]*i[14]+t[8]*i[19]+t[9],e[10]=t[10]*i[0]+t[11]*i[5]+t[12]*i[10]+t[13]*i[15],e[11]=t[10]*i[1]+t[11]*i[6]+t[12]*i[11]+t[13]*i[16],e[12]=t[10]*i[2]+t[11]*i[7]+t[12]*i[12]+t[13]*i[17],e[13]=t[10]*i[3]+t[11]*i[8]+t[12]*i[13]+t[13]*i[18],e[14]=t[10]*i[4]+t[11]*i[9]+t[12]*i[14]+t[13]*i[19]+t[14],e[15]=t[15]*i[0]+t[16]*i[5]+t[17]*i[10]+t[18]*i[15],e[16]=t[15]*i[1]+t[16]*i[6]+t[17]*i[11]+t[18]*i[16],e[17]=t[15]*i[2]+t[16]*i[7]+t[17]*i[12]+t[18]*i[17],e[18]=t[15]*i[3]+t[16]*i[8]+t[17]*i[13]+t[18]*i[18],e[19]=t[15]*i[4]+t[16]*i[9]+t[17]*i[14]+t[18]*i[19]+t[19],e},t.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},t.prototype.brightness=function(e,t){var i=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(i,t)},t.prototype.tint=function(e,t){var i=[(e>>16&255)/255,0,0,0,0,0,(e>>8&255)/255,0,0,0,0,0,(255&e)/255,0,0,0,0,0,1,0];this._loadMatrix(i,t)},t.prototype.greyscale=function(e,t){var i=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(i,t)},t.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var i=Math.cos(e),r=Math.sin(e),n=1/3,s=(0,Math.sqrt)(n),a=[i+(1-i)*n,n*(1-i)-s*r,n*(1-i)+s*r,0,0,n*(1-i)+s*r,i+n*(1-i),n*(1-i)-s*r,0,0,n*(1-i)-s*r,n*(1-i)+s*r,i+n*(1-i),0,0,0,0,0,1,0];this._loadMatrix(a,t)},t.prototype.contrast=function(e,t){var i=(e||0)+1,r=-.5*(i-1),n=[i,0,0,0,r,0,i,0,0,r,0,0,i,0,r,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.saturate=function(e,t){void 0===e&&(e=0);var i=2*e/3+1,r=-.5*(i-1),n=[i,r,r,0,0,r,i,r,0,0,r,r,i,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,t,i,r,n){var s=((i=i||16770432)>>16&255)/255,a=(i>>8&255)/255,o=(255&i)/255,l=((r=r||3375104)>>16&255)/255,h=(r>>8&255)/255,u=(255&r)/255,d=[.3,.59,.11,0,0,s,a,o,e=e||.2,0,l,h,u,t=t||.15,0,s-l,a-h,o-u,0,0];this._loadMatrix(d,n)},t.prototype.night=function(e,t){var i=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(i,t)},t.prototype.predator=function(e,t){var i=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(i,t)},t.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(bI);Bk.prototype.grayscale=Bk.prototype.greyscale;
/*!
 * @pixi/filter-displacement - v6.3.2
 * Compiled Wed, 04 May 2022 17:49:13 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var Nk=function(e,t){return Nk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},Nk(e,t)};var Qk=function(e){function t(t,i){var r=this,n=new $C;return t.renderable=!1,(r=e.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:t._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=t,r.maskMatrix=n,null==i&&(i=20),r.scale=new WC(i,i),r}return function(e,t){function i(){this.constructor=e}Nk(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),t.prototype.apply=function(e,t,i,r){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,s=Math.sqrt(n.a*n.a+n.b*n.b),a=Math.sqrt(n.c*n.c+n.d*n.d);0!==s&&0!==a&&(this.uniforms.rotation[0]=n.a/s,this.uniforms.rotation[1]=n.b/s,this.uniforms.rotation[2]=n.c/a,this.uniforms.rotation[3]=n.d/a),e.applyFilter(this,t,i,r)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),t}(bI),Mk=function(e,t){return Mk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},Mk(e,t)};var Zk=function(e){function t(){return e.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}return function(e,t){function i(){this.constructor=e}Mk(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),t}(bI),Pk=function(e,t){return Pk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},Pk(e,t)};var Ok,Lk,Xk,Vk,Fk,Wk,Uk,Hk,Kk,Yk,zk,jk,qk,$k,eT,tT,iT,rT,nT,sT=function(e){function t(t,i){void 0===t&&(t=.5),void 0===i&&(i=Math.random());var r=e.call(this,zI,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return r.noise=t,r.seed=i,r}return function(e,t){function i(){this.constructor=e}Pk(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),t}(bI);!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(Ok||(Ok={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(Lk||(Lk={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(Xk||(Xk={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(Vk||(Vk={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Fk||(Fk={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Wk||(Wk={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Uk||(Uk={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(Hk||(Hk={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(Kk||(Kk={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(Yk||(Yk={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(zk||(zk={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(jk||(jk={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(qk||(qk={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}($k||($k={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(eT||(eT={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(tT||(tT={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(iT||(iT={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(rT||(rT={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(nT||(nT={}));var aT=new $C;xy.prototype._cacheAsBitmap=!1,xy.prototype._cacheData=null,xy.prototype._cacheAsBitmapResolution=null,xy.prototype._cacheAsBitmapMultisample=rT.NONE;var oT=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(xy.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){var t;this._cacheAsBitmap!==e&&(this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new oT),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),xy.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},xy.prototype._initCachedDisplayObject=function(e){var t;if(!this._cacheData||!this._cacheData.sprite){var i=this.alpha;this.alpha=1,e.batch.flush();var r=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var n=this.filters[0].padding;r.pad(n)}r.ceil(Yf.RESOLUTION);var s=e.renderTexture.current,a=e.renderTexture.sourceFrame.clone(),o=e.renderTexture.destinationFrame.clone(),l=e.projection.transform,h=Ib.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:null!==(t=this.cacheAsBitmapMultisample)&&void 0!==t?t:e.multisample}),u="cacheAsBitmap_"+GC();this._cacheData.textureCacheId=u,rb.addToCache(h.baseTexture,u),bb.addToCache(h,u);var d=this.transform.localTransform.copyTo(aT).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:h,clear:!0,transform:d,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=l,e.renderTexture.bind(s,a,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var c=new sS(h);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-r.x/r.width,c.anchor.y=-r.y/r.height,c.alpha=i,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=c.containsPoint.bind(c)}},xy.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},xy.prototype._initCachedDisplayObjectCanvas=function(e){if(!this._cacheData||!this._cacheData.sprite){var t=this.getLocalBounds(null,!0),i=this.alpha;this.alpha=1;var r=e.context,n=e._projTransform;t.ceil(Yf.RESOLUTION);var s=Ib.create({width:t.width,height:t.height}),a="cacheAsBitmap_"+GC();this._cacheData.textureCacheId=a,rb.addToCache(s.baseTexture,a),bb.addToCache(s,a);var o=aT;this.transform.localTransform.copyTo(o),o.invert(),o.tx-=t.x,o.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:s,clear:!0,transform:o,skipUpdateTransform:!1}),e.context=r,e._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var l=new sS(s);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-t.x/t.width,l.anchor.y=-t.y/t.height,l.alpha=i,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}},xy.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},xy.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},xy.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,rb.removeFromCache(this._cacheData.textureCacheId),bb.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},xy.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},
/*!
 * @pixi/mixin-get-child-by-name - v6.3.2
 * Compiled Wed, 04 May 2022 17:49:13 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
xy.prototype.name=null,By.prototype.getChildByName=function(e,t){for(var i=0,r=this.children.length;i<r;i++)if(this.children[i].name===e)return this.children[i];if(t)for(i=0,r=this.children.length;i<r;i++){if(this.children[i].getChildByName){var n=this.children[i].getChildByName(e,!0);if(n)return n}}return null},
/*!
 * @pixi/mixin-get-global-position - v6.3.2
 * Compiled Wed, 04 May 2022 17:49:13 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
xy.prototype.getGlobalPosition=function(e,t){return void 0===e&&(e=new WC),void 0===t&&(t=!1),this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};
/*!
 * @pixi/mesh-extras - v6.3.2
 * Compiled Wed, 04 May 2022 17:49:13 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var lT=function(e,t){return lT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},lT(e,t)};function hT(e,t){function i(){this.constructor=e}lT(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var uT=function(e){function t(t,i,r,n){void 0===t&&(t=100),void 0===i&&(i=100),void 0===r&&(r=10),void 0===n&&(n=10);var s=e.call(this)||this;return s.segWidth=r,s.segHeight=n,s.width=t,s.height=i,s.build(),s}return hT(t,e),t.prototype.build=function(){for(var e=this.segWidth*this.segHeight,t=[],i=[],r=[],n=this.segWidth-1,s=this.segHeight-1,a=this.width/n,o=this.height/s,l=0;l<e;l++){var h=l%this.segWidth,u=l/this.segWidth|0;t.push(h*a,u*o),i.push(h/n,u/s)}var d=n*s;for(l=0;l<d;l++){var c=l%n,p=l/n|0,g=p*this.segWidth+c,f=p*this.segWidth+c+1,m=(p+1)*this.segWidth+c,C=(p+1)*this.segWidth+c+1;r.push(g,f,m,f,C,m)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(FS),dT=function(e){function t(t,i,r){void 0===t&&(t=200),void 0===r&&(r=0);var n=e.call(this,new Float32Array(4*i.length),new Float32Array(4*i.length),new Uint16Array(6*(i.length-1)))||this;return n.points=i,n._width=t,n.textureScale=r,n.build(),n}return hT(t,e),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var e=this.points;if(e){var t=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(e.length<1)){t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),i.data=new Float32Array(4*e.length),r.data=new Uint16Array(6*(e.length-1)));var n=i.data,s=r.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var a=0,o=e[0],l=this._width*this.textureScale,h=e.length,u=0;u<h;u++){var d=4*u;if(this.textureScale>0){var c=o.x-e[u].x,p=o.y-e[u].y,g=Math.sqrt(c*c+p*p);o=e[u],a+=g/l}else a=u/(h-1);n[d]=a,n[d+1]=0,n[d+2]=a,n[d+3]=1}var f=0;for(u=0;u<h-1;u++){d=2*u;s[f++]=d,s[f++]=d+1,s[f++]=d+2,s[f++]=d+2,s[f++]=d+1,s[f++]=d+3}i.update(),r.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var t,i=e[0],r=0,n=0,s=this.buffers[0].data,a=e.length,o=0;o<a;o++){var l=e[o],h=4*o;n=-((t=o<e.length-1?e[o+1]:l).x-i.x),r=t.y-i.y;var u=Math.sqrt(r*r+n*n),d=this.textureScale>0?this.textureScale*this._width/2:this._width/2;r/=u,n/=u,r*=d,n*=d,s[h]=l.x+r,s[h+1]=l.y+n,s[h+2]=l.x-r,s[h+3]=l.y-n,i=l}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(FS);!function(e){function t(t,i,r){void 0===r&&(r=0);var n=this,s=new dT(t.height,i,r),a=new VS(t);return r>0&&(t.baseTexture.wrapMode=Wm.REPEAT),(n=e.call(this,s,a)||this).autoUpdate=!0,n}hT(t,e),t.prototype._render=function(t){var i=this.geometry;(this.autoUpdate||i._width!==this.shader.texture.height)&&(i._width=this.shader.texture.height,i.update()),e.prototype._render.call(this,t)}}(XS);var cT=function(e){function t(t,i,r){var n=this,s=new uT(t.width,t.height,i,r),a=new VS(bb.WHITE);return(n=e.call(this,s,a)||this).texture=t,n.autoResize=!0,n}return hT(t,e),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry,t=this.shader.texture,i=t.width,r=t.height;!this.autoResize||e.width===i&&e.height===r||(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,t)},t.prototype.destroy=function(t){this.shader.texture.off("update",this.textureUpdated,this),e.prototype.destroy.call(this,t)},t}(XS);!function(e){function t(t,i,r,n,s){void 0===t&&(t=bb.EMPTY);var a=this,o=new FS(i,r,n);o.getBuffer("aVertexPosition").static=!1;var l=new VS(t);return(a=e.call(this,o,l,null,s)||this).autoUpdate=!0,a}hT(t,e),Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,t)}}(XS);!function(e){function t(t,i,r,n,s){void 0===i&&(i=10),void 0===r&&(r=10),void 0===n&&(n=10),void 0===s&&(s=10);var a=e.call(this,bb.WHITE,4,4)||this;return a._origWidth=t.orig.width,a._origHeight=t.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=i,a._rightWidth=n,a._topHeight=r,a._bottomHeight=s,a.texture=t,a}hT(t,e),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,i=this._topHeight+this._bottomHeight,r=this._height>i?1:this._height/i;return Math.min(t,r)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var i=1/this._origWidth,r=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=i*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-i*this._rightWidth,t[9]=t[11]=t[13]=t[15]=r*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}(cT);
/*!
 * @pixi/sprite-animated - v6.3.2
 * Compiled Wed, 04 May 2022 17:49:13 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var pT=function(e,t){return pT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},pT(e,t)};!function(e){function t(t,i){void 0===i&&(i=!0);var r=e.call(this,t[0]instanceof bb?t[0]:t[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=i,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=t,r}(function(e,t){function i(){this.constructor=e}pT(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)})(t,e),t.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Zy.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Zy.shared.add(this.update,this,Ny.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){if(this._playing){var t=this.animationSpeed*e,i=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=t/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this.updateTexture())}},t.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(e){for(var i=[],r=0;r<e.length;++r)i.push(bb.from(e[r]));return new t(i)},t.fromImages=function(e){for(var i=[],r=0;r<e.length;++r)i.push(bb.from(e[r]));return new t(i)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof bb)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Zy.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Zy.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0})}(sS),
/*!
 * pixi.js - v6.3.2
 * Compiled Wed, 04 May 2022 17:49:13 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
YI.registerPlugin("accessibility",Qy),YI.registerPlugin("extract",uv),YI.registerPlugin("interaction",Hy),YI.registerPlugin("particle",T_),YI.registerPlugin("prepare",ES),YI.registerPlugin("batch",av),YI.registerPlugin("tilingSprite",QS),Av.registerPlugin(sk),Av.registerPlugin(Pv),Av.registerPlugin(r_),Av.registerPlugin(b_),Av.registerPlugin(RS),ov.registerPlugin(Py),ov.registerPlugin(Jv);var gT,fT,mT,CT,yT,bT,IT,vT,_T,ST,kT,TT,AT,wT,ET,JT,RT,xT,GT,DT={AlphaFilter:ok,BlurFilter:Gk,BlurFilterPass:xk,ColorMatrixFilter:Bk,DisplacementFilter:Qk,FXAAFilter:Zk,NoiseFilter:sT},BT=Ef(globalThis.navigator);
/*!
 * @pixi/settings - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(gT||(gT={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(fT||(fT={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(mT||(mT={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(CT||(CT={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(yT||(yT={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(bT||(bT={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(IT||(IT={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(vT||(vT={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(_T||(_T={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(ST||(ST={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(kT||(kT={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(TT||(TT={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(AT||(AT={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(wT||(wT={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(ET||(ET={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(JT||(JT={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(RT||(RT={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(xT||(xT={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(GT||(GT={}));var NT,QT,MT,ZT,PT,OT,LT,XT,VT,FT,WT,UT,HT,KT,YT,zT,jT,qT,$T,eA={MIPMAP_TEXTURES:TT.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:xT.NONE,SPRITE_MAX_TEXTURES:function(e){var t=!0;if(BT.tablet||BT.phone){var i;if(BT.apple.device)if(i=navigator.userAgent.match(/OS (\d+)_(\d+)?/))parseInt(i[1],10)<11&&(t=!1);if(BT.android.device)if(i=navigator.userAgent.match(/Android\s([0-9.]*)/))parseInt(i[1],10)<7&&(t=!1)}return t?e:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:ET.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:kT.CLAMP,SCALE_MODE:ST.LINEAR,PRECISION_VERTEX:JT.HIGH,PRECISION_FRAGMENT:BT.apple.device?JT.HIGH:JT.MEDIUM,CAN_UPLOAD_SAME_BUFFER:!BT.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};
/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(NT||(NT={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(QT||(QT={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(MT||(MT={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(ZT||(ZT={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(PT||(PT={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(OT||(OT={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(LT||(LT={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(XT||(XT={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(VT||(VT={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(FT||(FT={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(WT||(WT={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(UT||(UT={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(HT||(HT={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(KT||(KT={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(YT||(YT={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(zT||(zT={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(jT||(jT={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(qT||(qT={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}($T||($T={}));
/*!
 * @pixi/utils - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
var tA={parse:xm,format:Dm,resolve:Gm};eA.RETINA_PREFIX=/@([0-9\.]+)x/,eA.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var iA,rA=!1;function nA(e,t){return void 0===t&&(t=[]),t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t}function sA(e){return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)}var aA=function(){for(var e=[],t=[],i=0;i<32;i++)e[i]=i,t[i]=i;e[ZT.NORMAL_NPM]=ZT.NORMAL,e[ZT.ADD_NPM]=ZT.ADD,e[ZT.SCREEN_NPM]=ZT.SCREEN,t[ZT.NORMAL]=ZT.NORMAL_NPM,t[ZT.ADD]=ZT.ADD_NPM,t[ZT.SCREEN]=ZT.SCREEN_NPM;var r=[];return r.push(t),r.push(e),r}();function oA(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}function lA(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1}function hA(e){return!(e&e-1||!e)}function uA(e){var t=(e>65535?1:0)<<4,i=((e>>>=t)>255?1:0)<<3;return t|=i,t|=i=((e>>>=i)>15?1:0)<<2,(t|=i=((e>>>=i)>3?1:0)<<1)|(e>>>=i)>>1}var dA=0;function cA(){return++dA}var pA={};function gA(e,t,i){if(void 0===i&&(i=3),!pA[t]){var r=(new Error).stack;void 0===r?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e):(r=r.split("\n").splice(i).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+e),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e),console.warn(r))),pA[t]=!0}}var fA,mA={},CA=Object.create(null),yA=Object.create(null);function bA(e,t){if(void 0===t&&(t=globalThis.location),0===e.indexOf("data:"))return"";t=t||globalThis.location,fA||(fA=document.createElement("a")),fA.href=e;var i=tA.parse(fA.href),r=!i.port&&""===t.port||i.port===t.port;return i.hostname===t.hostname&&r&&i.protocol===t.protocol?"":"anonymous"}function IA(e,t){var i=eA.RETINA_PREFIX.exec(e);return i?parseFloat(i[1]):void 0!==t?t:1}
/*!
 * @pixi/runner - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */!function(){function e(e,t,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||eA.RESOLUTION,this.resize(e,t)}e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(e,t){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(t*this.resolution)},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0})}();var vA,_A=function(){function e(e){this.items=[],this._name=e,this._aliasCount=0}return e.prototype.emit=function(e,t,i,r,n,s,a,o){if(arguments.length>8)throw new Error("max arguments reached");var l=this,h=l.name,u=l.items;this._aliasCount++;for(var d=0,c=u.length;d<c;d++)u[d][h](e,t,i,r,n,s,a,o);return u===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},e.prototype.remove=function(e){var t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},e.prototype.contains=function(e){return-1!==this.items.indexOf(e)},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e}();Object.defineProperties(_A.prototype,{dispatch:{value:_A.prototype.emit},run:{value:_A.prototype.emit}}),
/*!
 * @pixi/ticker - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
eA.TARGET_FPMS=.06,function(e){e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY"}(vA||(vA={}));var SA,kA=function(){function e(e,t,i,r){void 0===t&&(t=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=i,this.once=r}return e.prototype.match=function(e,t){return void 0===t&&(t=null),this.fn===e&&this.context===t},e.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},e.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},e.prototype.destroy=function(e){void 0===e&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t},e}(),TA=function(){function e(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new kA(null,null,1/0),this.deltaMS=1/eA.TARGET_FPMS,this.elapsedMS=1/eA.TARGET_FPMS,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return e.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(e,t,i){return void 0===i&&(i=vA.NORMAL),this._addListener(new kA(e,t,i))},e.prototype.addOnce=function(e,t,i){return void 0===i&&(i=vA.NORMAL),this._addListener(new kA(e,t,i,!0))},e.prototype._addListener=function(e){var t=this._head.next,i=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(i);break}i=t,t=t.next}e.previous||e.connect(i)}else e.connect(i);return this._startIfPossible(),this},e.prototype.remove=function(e,t){for(var i=this._head.next;i;)i=i.match(e,t)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,t=this._head;t=t.next;)e++;return e},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(e){var t;if(void 0===e&&(e=performance.now()),e>this.lastTime){if((t=this.elapsedMS=e-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var i=e-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=e-i%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*eA.TARGET_FPMS;for(var r=this._head,n=r.next;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(this.maxFPS,e),i=Math.min(Math.max(0,t)/1e3,eA.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(0===e)this._minElapsedMS=0;else{var t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!1,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!1,configurable:!0}),e}(),AA=2*Math.PI;!function(e){e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC"}(SA||(SA={}));var wA=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=0,this.y=0,this.x=e,this.y=t}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},e.prototype.copyTo=function(e){return e.set(this.x,this.y),e},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x=e,this.y=t,this},e.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},e}(),EA=[new wA,new wA,new wA,new wA],JA=function(){function e(e,t,i,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(e),this.y=Number(t),this.width=Number(i),this.height=Number(r),this.type=SA.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},e.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},e.prototype.contains=function(e,t){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)},e.prototype.intersects=function(e,t){if(!t){var i=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=i)return!1;var r=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>r}var n=this.left,s=this.right,a=this.top,o=this.bottom;if(s<=n||o<=a)return!1;var l=EA[0].set(e.left,e.top),h=EA[1].set(e.left,e.bottom),u=EA[2].set(e.right,e.top),d=EA[3].set(e.right,e.bottom);if(u.x<=l.x||h.y<=l.y)return!1;var c=Math.sign(t.a*t.d-t.b*t.c);if(0===c)return!1;if(t.apply(l,l),t.apply(h,h),t.apply(u,u),t.apply(d,d),Math.max(l.x,h.x,u.x,d.x)<=n||Math.min(l.x,h.x,u.x,d.x)>=s||Math.max(l.y,h.y,u.y,d.y)<=a||Math.min(l.y,h.y,u.y,d.y)>=o)return!1;var p=c*(h.y-l.y),g=c*(l.x-h.x),f=p*n+g*a,m=p*s+g*a,C=p*n+g*o,y=p*s+g*o;if(Math.max(f,m,C,y)<=p*l.x+g*l.y||Math.min(f,m,C,y)>=p*d.x+g*d.y)return!1;var b=c*(l.y-u.y),I=c*(u.x-l.x),v=b*n+I*a,_=b*s+I*a,S=b*n+I*o,k=b*s+I*o;return!(Math.max(v,_,S,k)<=b*l.x+I*l.y||Math.min(v,_,S,k)>=b*d.x+I*d.y)},e.prototype.pad=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},e.prototype.fit=function(e){var t=Math.max(this.x,e.x),i=Math.min(this.x+this.width,e.x+e.width),r=Math.max(this.y,e.y),n=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(i-t,0),this.y=r,this.height=Math.max(n-r,0),this},e.prototype.ceil=function(e,t){void 0===e&&(e=1),void 0===t&&(t=.001);var i=Math.ceil((this.x+this.width-t)*e)/e,r=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=i-this.x,this.height=r-this.y,this},e.prototype.enlarge=function(e){var t=Math.min(this.x,e.x),i=Math.max(this.x+this.width,e.x+e.width),r=Math.min(this.y,e.y),n=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=i-t,this.y=r,this.height=n-r,this},e.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),RA=function(){function e(e,t,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=e,this.scope=t}return e.prototype.clone=function(t,i){return void 0===t&&(t=this.cb),void 0===i&&(i=this.scope),new e(t,i,this._x,this._y)},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this._x===e&&this._y===t||(this._x=e,this._y=t,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(e){return this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(e){return e.set(this._x,this._y),e},e.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},e.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),e}(),xA=function(){function e(e,t,i,r,n,s){void 0===e&&(e=1),void 0===t&&(t=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=0),void 0===s&&(s=0),this.array=null,this.a=e,this.b=t,this.c=i,this.d=r,this.tx=n,this.ty=s}return e.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},e.prototype.set=function(e,t,i,r,n,s){return this.a=e,this.b=t,this.c=i,this.d=r,this.tx=n,this.ty=s,this},e.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var i=t||this.array;return e?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},e.prototype.apply=function(e,t){t=t||new wA;var i=e.x,r=e.y;return t.x=this.a*i+this.c*r+this.tx,t.y=this.b*i+this.d*r+this.ty,t},e.prototype.applyInverse=function(e,t){t=t||new wA;var i=1/(this.a*this.d+this.c*-this.b),r=e.x,n=e.y;return t.x=this.d*i*r+-this.c*i*n+(this.ty*this.c-this.tx*this.d)*i,t.y=this.a*i*n+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,t},e.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},e.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},e.prototype.rotate=function(e){var t=Math.cos(e),i=Math.sin(e),r=this.a,n=this.c,s=this.tx;return this.a=r*t-this.b*i,this.b=r*i+this.b*t,this.c=n*t-this.d*i,this.d=n*i+this.d*t,this.tx=s*t-this.ty*i,this.ty=s*i+this.ty*t,this},e.prototype.append=function(e){var t=this.a,i=this.b,r=this.c,n=this.d;return this.a=e.a*t+e.b*r,this.b=e.a*i+e.b*n,this.c=e.c*t+e.d*r,this.d=e.c*i+e.d*n,this.tx=e.tx*t+e.ty*r+this.tx,this.ty=e.tx*i+e.ty*n+this.ty,this},e.prototype.setTransform=function(e,t,i,r,n,s,a,o,l){return this.a=Math.cos(a+l)*n,this.b=Math.sin(a+l)*n,this.c=-Math.sin(a-o)*s,this.d=Math.cos(a-o)*s,this.tx=e-(i*this.a+r*this.c),this.ty=t-(i*this.b+r*this.d),this},e.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var i=this.a,r=this.c;this.a=i*e.a+this.b*e.c,this.b=i*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},e.prototype.decompose=function(e){var t=this.a,i=this.b,r=this.c,n=this.d,s=e.pivot,a=-Math.atan2(-r,n),o=Math.atan2(i,t),l=Math.abs(a+o);return l<1e-5||Math.abs(AA-l)<1e-5?(e.rotation=o,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=o),e.scale.x=Math.sqrt(t*t+i*i),e.scale.y=Math.sqrt(r*r+n*n),e.position.x=this.tx+(s.x*t+s.y*r),e.position.y=this.ty+(s.x*i+s.y*n),e},e.prototype.invert=function(){var e=this.a,t=this.b,i=this.c,r=this.d,n=this.tx,s=e*r-t*i;return this.a=r/s,this.b=-t/s,this.c=-i/s,this.d=e/s,this.tx=(i*this.ty-r*n)/s,this.ty=-(e*this.ty-t*n)/s,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},e.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},e.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!1,configurable:!0}),e}(),GA=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],DA=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],BA=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],NA=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],QA=[],MA=[],ZA=Math.sign;!function(){for(var e=0;e<16;e++){var t=[];QA.push(t);for(var i=0;i<16;i++)for(var r=ZA(GA[e]*GA[i]+BA[e]*DA[i]),n=ZA(DA[e]*GA[i]+NA[e]*DA[i]),s=ZA(GA[e]*BA[i]+BA[e]*NA[i]),a=ZA(DA[e]*BA[i]+NA[e]*NA[i]),o=0;o<16;o++)if(GA[o]===r&&DA[o]===n&&BA[o]===s&&NA[o]===a){t.push(o);break}}for(e=0;e<16;e++){var l=new xA;l.set(GA[e],DA[e],BA[e],NA[e],0,0),MA.push(l)}}();var PA={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return GA[e]},uY:function(e){return DA[e]},vX:function(e){return BA[e]},vY:function(e){return NA[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return QA[e][t]},sub:function(e,t){return QA[e][PA.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2==(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?t>=0?PA.S:PA.N:2*Math.abs(t)<=Math.abs(e)?e>0?PA.E:PA.W:t>0?e>0?PA.SE:PA.SW:e>0?PA.NE:PA.NW},matrixAppendRotationInv:function(e,t,i,r){void 0===i&&(i=0),void 0===r&&(r=0);var n=MA[PA.inv(t)];n.tx=i,n.ty=r,e.append(n)}};!function(){function e(){this.worldTransform=new xA,this.localTransform=new xA,this.position=new RA(this.onChange,this,0,0),this.scale=new RA(this.onChange,this,1,1),this.pivot=new RA(this.onChange,this,0,0),this.skew=new RA(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},e.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},e.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var i=e.worldTransform,r=this.worldTransform;r.a=t.a*i.a+t.b*i.c,r.b=t.a*i.b+t.b*i.d,r.c=t.c*i.a+t.d*i.c,r.d=t.c*i.b+t.d*i.d,r.tx=t.tx*i.a+t.ty*i.c+i.tx,r.ty=t.tx*i.b+t.ty*i.d+i.ty,this._parentID=e._worldID,this._worldID++}},e.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),e.IDENTITY=new e}(),
/*!
 * @pixi/core - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
eA.PREFER_ENV=BT.any?NT.WEBGL:NT.WEBGL2,eA.STRICT_TEXTURE_CACHE=!1;var OA=[];function LA(e,t){if(!e)return null;var i="";if("string"==typeof e){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);r&&(i=r[1].toLowerCase())}for(var n=OA.length-1;n>=0;--n){var s=OA[n];if(s.test&&s.test(e,i))return new s(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var XA=function(e,t){return XA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},XA(e,t)};function VA(e,t){function i(){this.constructor=e}XA(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var FA=function(){return FA=Object.assign||function(e){for(var t,i=arguments,r=1,n=arguments.length;r<n;r++)for(var s in t=i[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},FA.apply(this,arguments)};var WA=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new _A("setRealSize"),this.onUpdate=new _A("update"),this.onError=new _A("onError")}return e.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},e.prototype.resize=function(e,t){e===this._width&&t===this._height||(this._width=e,this._height=t,this.onResize.emit(e,t))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(e,t,i){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(e,t){return!1},e}(),UA=function(e){function t(t,i){var r=this,n=i||{},s=n.width,a=n.height;if(!s||!a)throw new Error("BufferResource width or height invalid");return(r=e.call(this,s,a)||this).data=t,r}return VA(t,e),t.prototype.upload=function(e,t,i){var r=e.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===HT.UNPACK);var n=t.realWidth,s=t.realHeight;return i.width===n&&i.height===s?r.texSubImage2D(t.target,0,0,0,n,s,t.format,i.type,this.data):(i.width=n,i.height=s,r.texImage2D(t.target,0,i.internalFormat,n,s,0,t.format,i.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(WA),HA={scaleMode:FT.NEAREST,format:OT.RGBA,alphaMode:HT.NPM},KA=function(e){function t(t,i){void 0===t&&(t=null),void 0===i&&(i=null);var r=e.call(this)||this,n=(i=i||{}).alphaMode,s=i.mipmap,a=i.anisotropicLevel,o=i.scaleMode,l=i.width,h=i.height,u=i.wrapMode,d=i.format,c=i.type,p=i.target,g=i.resolution,f=i.resourceOptions;return!t||t instanceof WA||((t=LA(t,f)).internal=!0),r.resolution=g||eA.RESOLUTION,r.width=Math.round((l||0)*r.resolution)/r.resolution,r.height=Math.round((h||0)*r.resolution)/r.resolution,r._mipmap=void 0!==s?s:eA.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==a?a:eA.ANISOTROPIC_LEVEL,r._wrapMode=u||eA.WRAP_MODE,r._scaleMode=void 0!==o?o:eA.SCALE_MODE,r.format=d||OT.RGBA,r.type=c||XT.UNSIGNED_BYTE,r.target=p||LT.TEXTURE_2D,r.alphaMode=void 0!==n?n:HT.UNPACK,r.uid=cA(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=l>0&&h>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(t),r}return VA(t,e),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,t){var i;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,i=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,i=!0),i&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,t,i){return i=i||this.resolution,this.setRealSize(e*i,t*i,i)},t.prototype.setRealSize=function(e,t,i){return this.resolution=i||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=hA(this.realWidth)&&hA(this.realHeight)},t.prototype.setResolution=function(e){var t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete yA[this.cacheId],delete CA[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,i,r){void 0===r&&(r=eA.STRICT_TEXTURE_CACHE);var n="string"==typeof e,s=null;if(n)s=e;else{if(!e._pixiId){var a=i&&i.pixiIdPrefix||"pixiid";e._pixiId=a+"_"+cA()}s=e._pixiId}var o=yA[s];if(n&&r&&!o)throw new Error('The cacheId "'+s+'" does not exist in BaseTextureCache.');return o||((o=new t(e,i)).cacheId=s,t.addToCache(o,s)),o},t.fromBuffer=function(e,i,r,n){e=e||new Float32Array(i*r*4);var s=new UA(e,{width:i,height:r}),a=e instanceof Float32Array?XT.FLOAT:XT.UNSIGNED_BYTE;return new t(s,Object.assign(HA,n||{width:i,height:r,type:a}))},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),yA[t]&&console.warn("BaseTexture added to the cache with an id ["+t+"] that already had an entry"),yA[t]=e)},t.removeFromCache=function(e){if("string"==typeof e){var t=yA[e];if(t){var i=t.textureCacheIds.indexOf(e);return i>-1&&t.textureCacheIds.splice(i,1),delete yA[e],t}}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)delete yA[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(jf),YA=function(e){function t(t,i){var r=this,n=i||{},s=n.width,a=n.height;(r=e.call(this,s,a)||this).items=[],r.itemDirtyIds=[];for(var o=0;o<t;o++){var l=new KA;r.items.push(l),r.itemDirtyIds.push(-2)}return r.length=t,r._load=null,r.baseTexture=null,r}return VA(t,e),t.prototype.initFromArray=function(e,t){for(var i=0;i<this.length;i++)e[i]&&(e[i].castToBaseTexture?this.addBaseTextureAt(e[i].castToBaseTexture(),i):e[i]instanceof WA?this.addResourceAt(e[i],i):this.addResourceAt(LA(e[i],t),i))},t.prototype.dispose=function(){for(var e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,t){if(!this.items[t])throw new Error("Index "+t+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this},t.prototype.bind=function(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,t);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=t,this.items[i].on("update",t.update,t)},t.prototype.unbind=function(t){e.prototype.unbind.call(this,t);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",t.update,t)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.items.map((function(e){return e.resource})).filter((function(e){return e})).map((function(e){return e.load()}));return this._load=Promise.all(t).then((function(){var t=e.items[0],i=t.realWidth,r=t.realHeight;return e.resize(i,r),Promise.resolve(e)})),this._load},t}(WA),zA=function(e){function t(t,i){var r,n,s=this,a=i||{},o=a.width,l=a.height;return Array.isArray(t)?(r=t,n=t.length):n=t,s=e.call(this,n,{width:o,height:l})||this,r&&s.initFromArray(r,i),s}return VA(t,e),t.prototype.addBaseTextureAt=function(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this},t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=LT.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,t,i){var r=this,n=r.length,s=r.itemDirtyIds,a=r.items,o=e.gl;i.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,n,0,t.format,i.type,null);for(var l=0;l<n;l++){var h=a[l];s[l]<h.dirtyId&&(s[l]=h.dirtyId,h.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,l,h.resource.width,h.resource.height,1,t.format,i.type,h.resource.source))}return!0},t}(YA),jA=function(e){function t(t){var i=this,r=t,n=r.naturalWidth||r.videoWidth||r.width,s=r.naturalHeight||r.videoHeight||r.height;return(i=e.call(this,n,s)||this).source=t,i.noSubImage=!1,i}return VA(t,e),t.crossOrigin=function(e,t,i){void 0===i&&0!==t.indexOf("data:")?e.crossOrigin=bA(t):!1!==i&&(e.crossOrigin="string"==typeof i?i:"anonymous")},t.prototype.upload=function(e,t,i,r){var n=e.gl,s=t.realWidth,a=t.realHeight;if((r=r||this.source)instanceof HTMLImageElement){if(!r.complete||0===r.naturalWidth)return!1}else if(r instanceof HTMLVideoElement&&r.readyState<=1)return!1;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===HT.UNPACK),this.noSubImage||t.target!==n.TEXTURE_2D||i.width!==s||i.height!==a?(i.width=s,i.height=a,n.texImage2D(t.target,0,i.internalFormat,t.format,i.type,r)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,t.format,i.type,r),!0},t.prototype.update=function(){if(!this.destroyed){var t=this.source,i=t.naturalWidth||t.videoWidth||t.width,r=t.naturalHeight||t.videoHeight||t.height;this.resize(i,r),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(WA),qA=function(e){function t(t){return e.call(this,t)||this}return VA(t,e),t.test=function(e){var t=globalThis.OffscreenCanvas;return!!(t&&e instanceof t)||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement},t}(jA),$A=function(e){function t(i,r){var n=this,s=r||{},a=s.width,o=s.height,l=s.autoLoad,h=s.linkBaseTexture;if(i&&i.length!==t.SIDES)throw new Error("Invalid length. Got "+i.length+", expected 6");n=e.call(this,6,{width:a,height:o})||this;for(var u=0;u<t.SIDES;u++)n.items[u].target=LT.TEXTURE_CUBE_MAP_POSITIVE_X+u;return n.linkBaseTexture=!1!==h,i&&n.initFromArray(i,r),!1!==l&&n.load(),n}return VA(t,e),t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=LT.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,t,i){if(!this.items[t])throw new Error("Index "+t+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,t)}else e.target=LT.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this},t.prototype.upload=function(e,i,r){for(var n=this.itemDirtyIds,s=0;s<t.SIDES;s++){var a=this.items[s];n[s]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(e,a,r),n[s]=a.dirtyId):n[s]<-1&&(e.gl.texImage2D(a.target,0,r.internalFormat,i.realWidth,i.realHeight,0,i.format,r.type,null),n[s]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(YA),ew=function(e){function t(t,i){var r=this;if(i=i||{},!(t instanceof HTMLImageElement)){var n=new Image;jA.crossOrigin(n,t,i.crossorigin),n.src=t,t=n}return r=e.call(this,t)||this,!t.complete&&r._width&&r._height&&(r._width=0,r._height=0),r.url=t.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==i.createBitmap?i.createBitmap:eA.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,r.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,r.bitmap=null,r._load=null,!1!==i.autoLoad&&r.load(),r}return VA(t,e),t.prototype.load=function(e){var t=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise((function(e,i){var r=t.source;t.url=r.src;var n=function(){t.destroyed||(r.onload=null,r.onerror=null,t.resize(r.width,r.height),t._load=null,t.createBitmap?e(t.process()):e(t))};r.complete&&r.src?n():(r.onload=n,r.onerror=function(e){i(e),t.onError.emit(e)})}))),this._load},t.prototype.process=function(){var e=this,t=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,r=!t.crossOrigin||"anonymous"===t.crossOrigin;return this._process=fetch(t.src,{mode:r?"cors":"no-cors"}).then((function(e){return e.blob()})).then((function(r){return i(r,0,0,t.width,t.height,{premultiplyAlpha:e.alphaMode===HT.UNPACK?"premultiply":"none"})})).then((function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))})),this._process},t.prototype.upload=function(t,i,r){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,t,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,t,i,r,this.bitmap),!this.preserveBitmap){var n=!0,s=i._glTextures;for(var a in s){var o=s[a];if(o!==r&&o.dirtyId!==i.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(jA),tw=function(e){function t(t,i){var r=this;return i=i||{},(r=e.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=t,r.scale=i.scale||1,r._overrideWidth=i.width,r._overrideHeight=i.height,r._resolve=null,r._crossorigin=i.crossorigin,r._load=null,!1!==i.autoLoad&&r.load(),r}return VA(t,e),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise((function(i){if(e._resolve=function(){e.resize(e.source.width,e.source.height),i(e)},t.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}))),this._load},t.prototype._loadSvg=function(){var e=this,t=new Image;jA.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=function(i){e._resolve&&(t.onerror=null,e.onError.emit(i))},t.onload=function(){if(e._resolve){var i=t.width,r=t.height;if(!i||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=i*e.scale,s=r*e.scale;(e._overrideWidth||e._overrideHeight)&&(n=e._overrideWidth||e._overrideHeight/r*i,s=e._overrideHeight||e._overrideWidth/i*r),n=Math.round(n),s=Math.round(s);var a=e.source;a.width=n,a.height=s,a._pixiId="canvas_"+cA(),a.getContext("2d").drawImage(t,0,0,i,r,0,0,n,s),e._resolve(),e._resolve=null}}},t.getSize=function(e){var i=t.SVG_SIZE.exec(e),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,i){return"svg"===i||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&t.SVG_XML.test(e)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(jA),iw=function(e){function t(i,r){var n=this;if(r=r||{},!(i instanceof HTMLVideoElement)){var s=document.createElement("video");s.setAttribute("preload","auto"),s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline",""),"string"==typeof i&&(i=[i]);var a=i[0].src||i[0];jA.crossOrigin(s,a,r.crossorigin);for(var o=0;o<i.length;++o){var l=document.createElement("source"),h=i[o],u=h.src,d=h.mime,c=(u=u||i[o]).split("?").shift().toLowerCase(),p=c.slice(c.lastIndexOf(".")+1);d=d||t.MIME_TYPES[p]||"video/"+p,l.src=u,l.type=d,s.appendChild(l)}i=s}return(n=e.call(this,i)||this).noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=r.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=!1!==r.autoPlay,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),!1!==r.autoLoad&&n.load(),n}return VA(t,e),t.prototype.update=function(t){if(!this.destroyed){var i=TA.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-i),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((function(i){e.valid?i(e):(e._resolve=i,t.load())})),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(TA.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(TA.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var t=this.valid;this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(TA.shared.remove(this.update,this),this._isConnectedToTicker=!1);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(TA.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(TA.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,i){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||t.TYPES.indexOf(i)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(jA),rw=function(e){function t(t){return e.call(this,t)||this}return VA(t,e),t.test=function(e){return!!globalThis.createImageBitmap&&e instanceof ImageBitmap},t}(jA);OA.push(ew,rw,qA,iw,tw,UA,$A,zA);var nw=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return VA(t,e),t.prototype.upload=function(e,t,i){var r=e.gl;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===HT.UNPACK);var n=t.realWidth,s=t.realHeight;return i.width===n&&i.height===s?r.texSubImage2D(t.target,0,0,0,n,s,t.format,i.type,this.data):(i.width=n,i.height=s,r.texImage2D(t.target,0,i.internalFormat,n,s,0,t.format,i.type,this.data)),!0},t}(UA),sw=function(){function e(e,t){this.width=Math.round(e||100),this.height=Math.round(t||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new _A("disposeFramebuffer"),this.multisample=qT.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(e,t){return void 0===e&&(e=0),this.colorTextures[e]=t||new KA(null,{scaleMode:FT.NEAREST,resolution:1,mipmap:UT.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(e){return this.depthTexture=e||new KA(new nw(null,{width:this.width,height:this.height}),{scaleMode:FT.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:UT.OFF,format:OT.DEPTH_COMPONENT,type:XT.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(e,t){if(e=Math.round(e),t=Math.round(t),e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i],n=r.resolution;r.setSize(e/n,t/n)}if(this.depthTexture){n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,t/n)}}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e}(),aw=function(e){function t(t){void 0===t&&(t={});var i=this;if("number"==typeof t){var r=arguments[0],n=arguments[1],s=arguments[2],a=arguments[3];t={width:r,height:n,scaleMode:s,resolution:a}}return t.width=t.width||100,t.height=t.height||100,t.multisample=void 0!==t.multisample?t.multisample:qT.NONE,(i=e.call(this,null,t)||this).mipmap=UT.OFF,i.valid=!0,i.clearColor=[0,0,0,0],i.framebuffer=new sw(i.realWidth,i.realHeight).addColorTexture(0,i),i.framebuffer.multisample=t.multisample,i.maskStack=[],i.filterStack=[{}],i}return VA(t,e),t.prototype.resize=function(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(KA),ow=function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(e,t,i){var r=t.width,n=t.height;if(i){var s=e.width/2/r,a=e.height/2/n,o=e.x/r+s,l=e.y/n+a;i=PA.add(i,PA.NW),this.x0=o+s*PA.uX(i),this.y0=l+a*PA.uY(i),i=PA.add(i,2),this.x1=o+s*PA.uX(i),this.y1=l+a*PA.uY(i),i=PA.add(i,2),this.x2=o+s*PA.uX(i),this.y2=l+a*PA.uY(i),i=PA.add(i,2),this.x3=o+s*PA.uX(i),this.y3=l+a*PA.uY(i)}else this.x0=e.x/r,this.y0=e.y/n,this.x1=(e.x+e.width)/r,this.y1=e.y/n,this.x2=(e.x+e.width)/r,this.y2=(e.y+e.height)/n,this.x3=e.x/r,this.y3=(e.y+e.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},e}(),lw=new ow;function hw(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}var uw=function(e){function t(i,r,n,s,a,o){var l=e.call(this)||this;if(l.noFrame=!1,r||(l.noFrame=!0,r=new JA(0,0,1,1)),i instanceof t&&(i=i.baseTexture),l.baseTexture=i,l._frame=r,l.trim=s,l.valid=!1,l._uvs=lw,l.uvMatrix=null,l.orig=n||r,l._rotate=Number(a||0),!0===a)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=o?new wA(o.x,o.y):new wA(0,0),l._updateID=0,l.textureCacheIds=[],i.valid?l.noFrame?i.valid&&l.onBaseTextureUpdated(i):l.frame=r:i.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&i.on("update",l.onBaseTextureUpdated,l),l}return VA(t,e),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var i=this.baseTexture.resource;i&&i.url&&CA[i.url]&&t.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var e=this._frame.clone(),i=this._frame===this.orig?e:this.orig.clone(),r=new t(this.baseTexture,!this.noFrame&&e,i,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r},t.prototype.updateUvs=function(){this._uvs===lw&&(this._uvs=new ow),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,i,r){void 0===i&&(i={}),void 0===r&&(r=eA.STRICT_TEXTURE_CACHE);var n="string"==typeof e,s=null;if(n)s=e;else if(e instanceof KA){if(!e.cacheId){var a=i&&i.pixiIdPrefix||"pixiid";e.cacheId=a+"-"+cA(),KA.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){a=i&&i.pixiIdPrefix||"pixiid";e._pixiId=a+"_"+cA()}s=e._pixiId}var o=CA[s];if(n&&r&&!o)throw new Error('The cacheId "'+s+'" does not exist in TextureCache.');return o||e instanceof KA?!o&&e instanceof KA&&(o=new t(e),t.addToCache(o,s)):(i.resolution||(i.resolution=IA(e)),(o=new t(new KA(e,i))).baseTexture.cacheId=s,KA.addToCache(o.baseTexture,s),t.addToCache(o,s)),o},t.fromURL=function(e,i){var r=Object.assign({autoLoad:!1},null==i?void 0:i.resourceOptions),n=t.from(e,Object.assign({resourceOptions:r},i),!1),s=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):s.load().then((function(){return Promise.resolve(n)}))},t.fromBuffer=function(e,i,r,n){return new t(KA.fromBuffer(e,i,r,n))},t.fromLoader=function(e,i,r,n){var s=new KA(e,Object.assign({scaleMode:eA.SCALE_MODE,resolution:IA(i)},n)),a=s.resource;a instanceof ew&&(a.url=i);var o=new t(s);return r||(r=i),KA.addToCache(o.baseTexture,r),t.addToCache(o,r),r!==i&&(KA.addToCache(o.baseTexture,i),t.addToCache(o,i)),o.baseTexture.valid?Promise.resolve(o):new Promise((function(e){o.baseTexture.once("loaded",(function(){return e(o)}))}))},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),CA[t]&&console.warn("Texture added to the cache with an id ["+t+"] that already had an entry"),CA[t]=e)},t.removeFromCache=function(e){if("string"==typeof e){var t=CA[e];if(t){var i=t.textureCacheIds.indexOf(e);return i>-1&&t.textureCacheIds.splice(i,1),delete CA[e],t}}else if(e&&e.textureCacheIds){for(var r=0;r<e.textureCacheIds.length;++r)CA[e.textureCacheIds[r]]===e&&delete CA[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,i=e.y,r=e.width,n=e.height,s=t+r>this.baseTexture.width,a=i+n>this.baseTexture.height;if(s||a){var o=s&&a?"and":"or",l="X: "+t+" + "+r+" = "+(t+r)+" > "+this.baseTexture.width,h="Y: "+i+" + "+n+" = "+(i+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+l+" "+o+" "+h)}this.valid=r&&n&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(t,"EMPTY",{get:function(){return t._EMPTY||(t._EMPTY=new t(new KA),hw(t._EMPTY),hw(t._EMPTY.baseTexture)),t._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(t,"WHITE",{get:function(){if(!t._WHITE){var e=document.createElement("canvas"),i=e.getContext("2d");e.width=16,e.height=16,i.fillStyle="white",i.fillRect(0,0,16,16),t._WHITE=new t(new KA(new qA(e))),hw(t._WHITE),hw(t._WHITE.baseTexture)}return t._WHITE},enumerable:!1,configurable:!0}),t}(jf),dw=function(e){function t(t,i){var r=e.call(this,t,i)||this;return r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return VA(t,e),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t,i){void 0===i&&(i=!0);var r=this.baseTexture.resolution,n=Math.round(e*r)/r,s=Math.round(t*r)/r;this.valid=n>0&&s>0,this._frame.width=this.orig.width=n,this._frame.height=this.orig.height=s,i&&this.baseTexture.resize(n,s),this.updateUvs()},t.prototype.setResolution=function(e){var t=this.baseTexture;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))},t.create=function(e){for(var i=arguments,r=[],n=1;n<arguments.length;n++)r[n-1]=i[n];return"number"==typeof e&&(gA("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:r[0],scaleMode:r[1],resolution:r[2]}),new t(new aw(e))},t}(uw),cw=function(){function e(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(e,t,i){void 0===i&&(i=qT.NONE);var r=new aw(Object.assign({width:e,height:t,resolution:1,multisample:i},this.textureOptions));return new dw(r)},e.prototype.getOptimalTexture=function(e,t,i,r){var n;void 0===i&&(i=1),void 0===r&&(r=qT.NONE),e=Math.ceil(e*i-1e-6),t=Math.ceil(t*i-1e-6),this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight?n=r>1?-r:-1:(n=((65535&(e=lA(e)))<<16|65535&(t=lA(t)))>>>0,r>1&&(n+=4294967296*r)),this.texturePool[n]||(this.texturePool[n]=[]);var s=this.texturePool[n].pop();return s||(s=this.createTexture(e,t,r)),s.filterPoolKey=n,s.setResolution(i),s},e.prototype.getFilterTexture=function(e,t,i){var r=this.getOptimalTexture(e.width,e.height,t||e.resolution,i||qT.NONE);return r.filterFrame=e.filterFrame,r},e.prototype.returnTexture=function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)},e.prototype.returnFilterTexture=function(e){this.returnTexture(e)},e.prototype.clear=function(e){if(e=!1!==e)for(var t in this.texturePool){var i=this.texturePool[t];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){for(var t in this.enableFullScreen=e.width>0&&e.height>0,this.texturePool)if(Number(t)<0){var i=this.texturePool[t];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},e.SCREEN_KEY=-1,e}(),pw=function(){function e(e,t,i,r,n,s,a){void 0===t&&(t=0),void 0===i&&(i=!1),void 0===r&&(r=XT.FLOAT),this.buffer=e,this.size=t,this.normalized=i,this.type=r,this.stride=n,this.start=s,this.instance=a}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,i,r,n,s){return new e(t,i,r,n,s)},e}(),gw=0,fw=function(){function e(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=t,this.id=gw++,this.disposeRunner=new _A("disposeBuffer")}return e.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(e.prototype,"index",{get:function(){return this.type===$T.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?$T.ELEMENT_ARRAY_BUFFER:$T.ARRAY_BUFFER},enumerable:!1,configurable:!0}),e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e}(),mw={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var Cw={5126:4,5123:2,5121:1},yw=0,bw={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Iw=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=yw++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new _A("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(e,t,i,r,n,s,a,o){if(void 0===i&&(i=0),void 0===r&&(r=!1),void 0===o&&(o=!1),!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof fw||(t instanceof Array&&(t=new Float32Array(t)),t=new fw(t));var l=e.split("|");if(l.length>1){for(var h=0;h<l.length;h++)this.addAttribute(l[h],t,i,r,n);return this}var u=this.buffers.indexOf(t);return-1===u&&(this.buffers.push(t),u=this.buffers.length-1),this.attributes[e]=new pw(u,i,r,n,s,a,o),this.instanced=this.instanced||o,this},e.prototype.getAttribute=function(e){return this.attributes[e]},e.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},e.prototype.addIndex=function(e){return e instanceof fw||(e instanceof Array&&(e=new Uint16Array(e)),e=new fw(e)),e.type=$T.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,-1===this.buffers.indexOf(e)&&this.buffers.push(e),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var e,t=[],i=[],r=new fw;for(e in this.attributes){var n=this.attributes[e],s=this.buffers[n.buffer];t.push(s.data),i.push(n.size*Cw[n.type]/4),n.buffer=0}for(r.data=function(e,t){for(var i=0,r=0,n={},s=0;s<e.length;s++)r+=t[s],i+=e[s].length;var a=new ArrayBuffer(4*i),o=null,l=0;for(s=0;s<e.length;s++){var h=t[s],u=e[s],d=oA(u);n[d]||(n[d]=new mw[d](a)),o=n[d];for(var c=0;c<u.length;c++)o[(c/h|0)*r+l+c%h]=u[c];l+=h}return new Float32Array(a)}(t,i),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var e in this.attributes){var t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,i=0;i<this.buffers.length;i++)t.buffers[i]=new fw(this.buffers[i].data.slice(0));for(var i in this.attributes){var r=this.attributes[i];t.attributes[i]=new pw(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=$T.ELEMENT_ARRAY_BUFFER),t},e.merge=function(t){for(var i,r=new e,n=[],s=[],a=[],o=0;o<t.length;o++){i=t[o];for(var l=0;l<i.buffers.length;l++)s[l]=s[l]||0,s[l]+=i.buffers[l].data.length,a[l]=0}for(o=0;o<i.buffers.length;o++)n[o]=new(bw[oA(i.buffers[o].data)])(s[o]),r.buffers[o]=new fw(n[o]);for(o=0;o<t.length;o++){i=t[o];for(l=0;l<i.buffers.length;l++)n[l].set(i.buffers[l].data,a[l]),a[l]+=i.buffers[l].data.length}if(r.attributes=i.attributes,i.indexBuffer){r.indexBuffer=r.buffers[i.buffers.indexOf(i.indexBuffer)],r.indexBuffer.type=$T.ELEMENT_ARRAY_BUFFER;var h=0,u=0,d=0,c=0;for(o=0;o<i.buffers.length;o++)if(i.buffers[o]!==i.indexBuffer){c=o;break}for(var o in i.attributes){var p=i.attributes[o];(0|p.buffer)===c&&(u+=p.size*Cw[p.type]/4)}for(o=0;o<t.length;o++){var g=t[o].indexBuffer.data;for(l=0;l<g.length;l++)r.indexBuffer.data[l+d]+=h;h+=t[o].buffers[c].data.length/u,d+=g.length}}return r},e}(),vw=function(e){function t(){var t=e.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}return VA(t,e),t}(Iw),_w=function(e){function t(){var t=e.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new fw(t.vertices),t.uvBuffer=new fw(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}return VA(t,e),t.prototype.map=function(e,t){var i=0,r=0;return this.uvs[0]=i,this.uvs[1]=r,this.uvs[2]=i+t.width/e.width,this.uvs[3]=r,this.uvs[4]=i+t.width/e.width,this.uvs[5]=r+t.height/e.height,this.uvs[6]=i,this.uvs[7]=r+t.height/e.height,i=t.x,r=t.y,this.vertices[0]=i,this.vertices[1]=r,this.vertices[2]=i+t.width,this.vertices[3]=r,this.vertices[4]=i+t.width,this.vertices[5]=r+t.height,this.vertices[6]=i,this.vertices[7]=r+t.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(Iw),Sw=0,kw=function(){function e(e,t,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Sw++,this.static=!!t,this.ubo=!!i,e instanceof fw?(this.buffer=e,this.buffer.type=$T.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new fw(new Float32Array(1)),this.buffer.type=$T.UNIFORM_BUFFER,this.autoManage=!0))}return e.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},e.prototype.add=function(t,i,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new e(i,r)},e.from=function(t,i,r){return new e(t,i,r)},e.uboFrom=function(t,i){return new e(t,null==i||i,!0)},e}(),Tw=function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=qT.NONE,this.sourceFrame=new JA,this.destinationFrame=new JA,this.bindingSourceFrame=new JA,this.bindingDestinationFrame=new JA,this.filters=[],this.transform=null}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e}(),Aw=[new wA,new wA,new wA,new wA],ww=new xA,Ew=function(){function e(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new cw,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new vw,this.quadUv=new _w,this.tempRect=new JA,this.activeState={},this.globalUniforms=new kw({outputFrame:new JA,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return e.prototype.push=function(e,t){for(var i,r,n=this.renderer,s=this.defaultFilterStack,a=this.statePool.pop()||new Tw,o=this.renderer.renderTexture,l=t[0].resolution,h=t[0].multisample,u=t[0].padding,d=t[0].autoFit,c=null===(i=t[0].legacy)||void 0===i||i,p=1;p<t.length;p++){var g=t[p];l=Math.min(l,g.resolution),h=Math.min(h,g.multisample),u=this.useMaxPadding?Math.max(u,g.padding):u+g.padding,d=d&&g.autoFit,c=c||null===(r=g.legacy)||void 0===r||r}1===s.length&&(this.defaultFilterStack[0].renderTexture=o.current),s.push(a),a.resolution=l,a.multisample=h,a.legacy=c,a.target=e,a.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),a.sourceFrame.pad(u);var f=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(ww.copyFrom(n.projection.transform).invert(),f),d?(a.sourceFrame.fit(f),(a.sourceFrame.width<=0||a.sourceFrame.height<=0)&&(a.sourceFrame.width=0,a.sourceFrame.height=0)):a.sourceFrame.intersects(f)||(a.sourceFrame.width=0,a.sourceFrame.height=0),this.roundFrame(a.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,l,h),a.filters=t,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var m=this.tempRect;m.x=0,m.y=0,m.width=a.sourceFrame.width,m.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(o.sourceFrame),a.bindingDestinationFrame.copyFrom(o.destinationFrame),a.transform=n.projection.transform,n.projection.transform=null,o.bind(a.renderTexture,a.sourceFrame,m),n.framebuffer.clear(0,0,0,0)},e.prototype.pop=function(){var e=this.defaultFilterStack,t=e.pop(),i=t.filters;this.activeState=t;var r=this.globalUniforms.uniforms;r.outputFrame=t.sourceFrame,r.resolution=t.resolution;var n=r.inputSize,s=r.inputPixel,a=r.inputClamp;if(n[0]=t.destinationFrame.width,n[1]=t.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],s[0]=Math.round(n[0]*t.resolution),s[1]=Math.round(n[1]*t.resolution),s[2]=1/s[0],s[3]=1/s[1],a[0]=.5*s[2],a[1]=.5*s[3],a[2]=t.sourceFrame.width*n[2]-.5*s[2],a[3]=t.sourceFrame.height*n[3]-.5*s[3],t.legacy){var o=r.filterArea;o[0]=t.destinationFrame.width,o[1]=t.destinationFrame.height,o[2]=t.sourceFrame.x,o[3]=t.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var l=e[e.length-1];if(this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,t.renderTexture,l.renderTexture,KT.BLEND,t),this.returnFilterTexture(t.renderTexture);else{var h=t.renderTexture,u=this.getOptimalFilterTexture(h.width,h.height,t.resolution);u.filterFrame=h.filterFrame;var d=0;for(d=0;d<i.length-1;++d){1===d&&t.multisample>1&&((u=this.getOptimalFilterTexture(h.width,h.height,t.resolution)).filterFrame=h.filterFrame),i[d].apply(this,h,u,KT.CLEAR,t);var c=h;h=u,u=c}i[d].apply(this,h,l.renderTexture,KT.BLEND,t),d>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(h),this.returnFilterTexture(u)}t.clear(),this.statePool.push(t)},e.prototype.bindAndClear=function(e,t){void 0===t&&(t=KT.CLEAR);var i=this.renderer,r=i.renderTexture,n=i.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var s=this.tempRect;s.x=0,s.y=0,s.width=e.filterFrame.width,s.height=e.filterFrame.height,r.bind(e,e.filterFrame,s)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var a=1&n.stateId||this.forceClear;(t===KT.CLEAR||t===KT.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)},e.prototype.applyFilter=function(e,t,i,r){var n=this.renderer;n.state.set(e.state),this.bindAndClear(i,r),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,n.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(PT.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(PT.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(e,t){var i=this.activeState,r=i.sourceFrame,n=i.destinationFrame,s=t._texture.orig,a=e.set(n.width,0,0,n.height,r.x,r.y),o=t.worldTransform.copyTo(xA.TEMP_MATRIX);return o.invert(),a.prepend(o),a.scale(1/s.width,1/s.height),a.translate(t.anchor.x,t.anchor.y),a},e.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(e,t,i,r){return void 0===i&&(i=1),void 0===r&&(r=qT.NONE),this.texturePool.getOptimalTexture(e,t,i,r)},e.prototype.getFilterTexture=function(e,t,i){if("number"==typeof e){var r=e;e=t,t=r}e=e||this.activeState.renderTexture;var n=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,i||qT.NONE);return n.filterFrame=e.filterFrame,n},e.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e.prototype.transformAABB=function(e,t){var i=Aw[0],r=Aw[1],n=Aw[2],s=Aw[3];i.set(t.left,t.top),r.set(t.left,t.bottom),n.set(t.right,t.top),s.set(t.right,t.bottom),e.apply(i,i),e.apply(r,r),e.apply(n,n),e.apply(s,s);var a=Math.min(i.x,r.x,n.x,s.x),o=Math.min(i.y,r.y,n.y,s.y),l=Math.max(i.x,r.x,n.x,s.x),h=Math.max(i.y,r.y,n.y,s.y);t.x=a,t.y=o,t.width=l-a,t.height=h-o},e.prototype.roundFrame=function(e,t,i,r,n){if(!(e.width<=0||e.height<=0||i.width<=0||i.height<=0)){if(n){var s=n.a,a=n.b,o=n.c,l=n.d;if((Math.abs(a)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(l)>1e-4))return}(n=n?ww.copyFrom(n):ww.identity()).translate(-i.x,-i.y).scale(r.width/i.width,r.height/i.height).translate(r.x,r.y),this.transformAABB(n,e),e.ceil(t),this.transformAABB(n.invert(),e)}},e}(),Jw=function(){function e(e){this.renderer=e}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(e){},e}(),Rw=function(){function e(e){this.renderer=e,this.emptyRenderer=new Jw(e),this.currentRenderer=this.emptyRenderer}return e.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(e,t){for(var i=this.renderer.texture.boundTextures,r=t-1;r>=0;--r)e[r]=i[r]||null,e[r]&&(e[r]._batchLocation=r)},e.prototype.boundArray=function(e,t,i,r){for(var n=e.elements,s=e.ids,a=e.count,o=0,l=0;l<a;l++){var h=n[l],u=h._batchLocation;if(u>=0&&u<r&&t[u]===h)s[l]=u;else for(;o<r;){var d=t[o];if(!d||d._batchEnabled!==i||d._batchLocation!==o){s[l]=o,h._batchLocation=o,t[o]=h;break}o++}}},e.prototype.destroy=function(){this.renderer=null},e}(),xw=0,Gw=function(){function e(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=xw++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=xw++,this.renderer.runners.contextChange.emit(e)},e.prototype.initFromOptions=function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)},e.prototype.createContext=function(e,t){var i;if(eA.PREFER_ENV>=NT.WEBGL2&&(i=e.getContext("webgl2",t)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var e=this.gl,t={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},e.prototype.handleContextLost=function(e){e.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(e){var t=e.getContextAttributes(),i="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;i&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=i||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(),Dw=function(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=qT.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},Bw=new JA,Nw=function(){function e(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new sw(10,10),this.msaaSamples=null}return e.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new JA,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var t=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;eA.PREFER_ENV===NT.WEBGL_LEGACY&&(t=null,i=null),t?e.drawBuffers=function(e){return t.drawBuffersWEBGL(e)}:(this.hasMRT=!1,e.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},e.prototype.bind=function(e,t,i){void 0===i&&(i=0);var r=this.gl;if(e){var n=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,r.bindFramebuffer(r.FRAMEBUFFER,n.framebuffer)),n.mipLevel!==i&&(e.dirtyId++,e.dirtyFormat++,n.mipLevel=i),n.dirtyId!==e.dirtyId&&(n.dirtyId=e.dirtyId,n.dirtyFormat!==e.dirtyFormat?(n.dirtyFormat=e.dirtyFormat,n.dirtySize=e.dirtySize,this.updateFramebuffer(e,i)):n.dirtySize!==e.dirtySize&&(n.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var s=0;s<e.colorTextures.length;s++){var a=e.colorTextures[s];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){var o=t.width>>i,l=t.height>>i,h=o/t.width;this.setViewport(t.x*h,t.y*h,o,l)}else{o=e.width>>i,l=e.height>>i;this.setViewport(0,0,o,l)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(e,t,i,r){var n=this.viewport;e=Math.round(e),t=Math.round(t),i=Math.round(i),r=Math.round(r),n.width===i&&n.height===r&&n.x===e&&n.y===t||(n.x=e,n.y=t,n.width=i,n.height=r,this.gl.viewport(e,t,i,r))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(e,t,i,r,n){void 0===n&&(n=MT.COLOR|MT.DEPTH);var s=this.gl;s.clearColor(e,t,i,r),s.clear(n)},e.prototype.initFramebuffer=function(e){var t=this.gl,i=new Dw(t.createFramebuffer());return i.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(e),e.disposeRunner.add(this),i},e.prototype.resizeFramebuffer=function(e){var t=this.gl,i=e.glFramebuffers[this.CONTEXT_UID];i.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,i.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,i.multisample,t.RGBA8,e.width,e.height)),i.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,i.stencil),i.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,i.multisample,t.DEPTH24_STENCIL8,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));var r=e.colorTextures,n=r.length;t.drawBuffers||(n=Math.min(n,1));for(var s=0;s<n;s++){var a=r[s],o=a.parentTextureArray||a;this.renderer.texture.bind(o,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},e.prototype.updateFramebuffer=function(e,t){var i=this.gl,r=e.glFramebuffers[this.CONTEXT_UID],n=e.colorTextures,s=n.length;i.drawBuffers||(s=Math.min(s,1)),r.multisample>1&&this.canMultisampleFramebuffer(e)?(r.msaaBuffer=r.msaaBuffer||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.RGBA8,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,r.msaaBuffer)):r.msaaBuffer&&(i.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var a=[],o=0;o<s;o++){var l=n[o],h=l.parentTextureArray||l;this.renderer.texture.bind(h,0),0===o&&r.msaaBuffer||(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+o,l.target,h._glTextures[this.CONTEXT_UID].texture,t),a.push(i.COLOR_ATTACHMENT0+o))}if((a.length>1&&i.drawBuffers(a),e.depthTexture)&&this.writeDepthTexture){var u=e.depthTexture;this.renderer.texture.bind(u,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,t)}!e.stencil&&!e.depth||e.depthTexture&&this.writeDepthTexture?r.stencil&&(i.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.stencil),r.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.DEPTH24_STENCIL8,e.width,e.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,r.stencil))},e.prototype.canMultisampleFramebuffer=function(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture},e.prototype.detectSamples=function(e){var t=this.msaaSamples,i=qT.NONE;if(e<=1||null===t)return i;for(var r=0;r<t.length;r++)if(t[r]<=e){i=t[r];break}return 1===i&&(i=qT.NONE),i},e.prototype.blit=function(e,t,i){var r=this,n=r.current,s=r.renderer,a=r.gl,o=r.CONTEXT_UID;if(2===s.context.webGLVersion&&n){var l=n.glFramebuffers[o];if(l){if(!e){if(!l.msaaBuffer)return;var h=n.colorTextures[0];if(!h)return;l.blitFramebuffer||(l.blitFramebuffer=new sw(n.width,n.height),l.blitFramebuffer.addColorTexture(0,h)),(e=l.blitFramebuffer).colorTextures[0]!==h&&(e.colorTextures[0]=h,e.dirtyId++,e.dirtyFormat++),e.width===n.width&&e.height===n.height||(e.width=n.width,e.height=n.height,e.dirtyId++,e.dirtySize++)}t||((t=Bw).width=n.width,t.height=n.height),i||(i=t);var u=t.width===i.width&&t.height===i.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,l.framebuffer),a.blitFramebuffer(t.left,t.top,t.right,t.bottom,i.left,i.top,i.right,i.bottom,a.COLOR_BUFFER_BIT,u?a.NEAREST:a.LINEAR)}}},e.prototype.disposeFramebuffer=function(e,t){var i=e.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete e.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(e);n>=0&&this.managedFramebuffers.splice(n,1),e.disposeRunner.remove(this),t||(r.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&r.deleteRenderbuffer(i.msaaBuffer),i.stencil&&r.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&i.blitFramebuffer.dispose()}},e.prototype.disposeAll=function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<t.length;i++)this.disposeFramebuffer(t[i],e)},e.prototype.forceStencil=function(){var e=this.current;if(e){var t=e.glFramebuffers[this.CONTEXT_UID];if(t&&!t.stencil){e.stencil=!0;var i=e.width,r=e.height,n=this.gl,s=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,s),t.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,t.multisample,n.DEPTH24_STENCIL8,i,r):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,i,r),t.stencil=s,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,s)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new JA},e.prototype.destroy=function(){this.renderer=null},e}(),Qw={5126:4,5123:2,5121:1},Mw=function(){function e(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return e.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){var i=this.renderer.context.extensions.vertexArrayObject;eA.PREFER_ENV===NT.WEBGL_LEGACY&&(i=null),i?(e.createVertexArray=function(){return i.createVertexArrayOES()},e.bindVertexArray=function(e){return i.bindVertexArrayOES(e)},e.deleteVertexArray=function(e){return i.deleteVertexArrayOES(e)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(2!==t.webGLVersion){var r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=function(e,t){return r.vertexAttribDivisorANGLE(e,t)},e.drawElementsInstanced=function(e,t,i,n,s){return r.drawElementsInstancedANGLE(e,t,i,n,s)},e.drawArraysInstanced=function(e,t,i,n){return r.drawArraysInstancedANGLE(e,t,i,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex},e.prototype.bind=function(e,t){t=t||this.renderer.shader.shader;var i=this.gl,r=e.glVertexArrayObjects[this.CONTEXT_UID],n=!1;r||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=r={},n=!0);var s=r[t.program.id]||this.initGeometryVao(e,t,n);this._activeGeometry=e,this._activeVao!==s&&(this._activeVao=s,this.hasVao?i.bindVertexArray(s):this.activateVao(e,t.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var e=this._activeGeometry,t=this.renderer.buffer,i=0;i<e.buffers.length;i++){var r=e.buffers[i];t.update(r)}},e.prototype.checkCompatibility=function(e,t){var i=e.attributes,r=t.attributeData;for(var n in r)if(!i[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},e.prototype.getSignature=function(e,t){var i=e.attributes,r=t.attributeData,n=["g",e.id];for(var s in i)r[s]&&n.push(s,r[s].location);return n.join("-")},e.prototype.initGeometryVao=function(e,t,i){void 0===i&&(i=!0);var r=this.gl,n=this.CONTEXT_UID,s=this.renderer.buffer,a=t.program;a.glPrograms[n]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,a);var o=this.getSignature(e,a),l=e.glVertexArrayObjects[this.CONTEXT_UID],h=l[o];if(h)return l[a.id]=h,h;var u=e.buffers,d=e.attributes,c={},p={};for(var g in u)c[g]=0,p[g]=0;for(var g in d)!d[g].size&&a.attributeData[g]?d[g].size=a.attributeData[g].size:d[g].size||console.warn("PIXI Geometry attribute '"+g+"' size cannot be determined (likely the bound shader does not have the attribute)"),c[d[g].buffer]+=d[g].size*Qw[d[g].type];for(var g in d){var f=d[g],m=f.size;void 0===f.stride&&(c[f.buffer]===m*Qw[f.type]?f.stride=0:f.stride=c[f.buffer]),void 0===f.start&&(f.start=p[f.buffer],p[f.buffer]+=m*Qw[f.type])}h=r.createVertexArray(),r.bindVertexArray(h);for(var C=0;C<u.length;C++){var y=u[C];s.bind(y),i&&y._glBuffers[n].refCount++}return this.activateVao(e,a),this._activeVao=h,l[a.id]=h,l[o]=h,h},e.prototype.disposeGeometry=function(e,t){var i;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var r=e.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,s=e.buffers,a=null===(i=this.renderer)||void 0===i?void 0:i.buffer;if(e.disposeRunner.remove(this),r){if(a)for(var o=0;o<s.length;o++){var l=s[o]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,0!==l.refCount||t||a.dispose(s[o],t))}if(!t)for(var h in r)if("g"===h[0]){var u=r[h];this._activeVao===u&&this.unbind(),n.deleteVertexArray(u)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedGeometries),i=0;i<t.length;i++)this.disposeGeometry(this.managedGeometries[t[i]],e)},e.prototype.activateVao=function(e,t){var i=this.gl,r=this.CONTEXT_UID,n=this.renderer.buffer,s=e.buffers,a=e.attributes;e.indexBuffer&&n.bind(e.indexBuffer);var o=null;for(var l in a){var h=a[l],u=s[h.buffer],d=u._glBuffers[r];if(t.attributeData[l]){o!==d&&(n.bind(u),o=d);var c=t.attributeData[l].location;if(i.enableVertexAttribArray(c),i.vertexAttribPointer(c,h.size,h.type||i.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(c,1)}}}},e.prototype.draw=function(e,t,i,r){var n=this.gl,s=this._activeGeometry;if(s.indexBuffer){var a=s.indexBuffer.data.BYTES_PER_ELEMENT,o=2===a?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?s.instanced?n.drawElementsInstanced(e,t||s.indexBuffer.data.length,o,(i||0)*a,r||1):n.drawElements(e,t||s.indexBuffer.data.length,o,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else s.instanced?n.drawArraysInstanced(e,i,t||s.getSize(),r||1):n.drawArrays(e,i,t||s.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e.prototype.destroy=function(){this.renderer=null},e}(),Zw=function(){function e(e){void 0===e&&(e=null),this.type=jT.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=eA.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(e.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=jT.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},e.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e}();function Pw(e,t,i){var r=e.createShader(t);return e.shaderSource(r,i),e.compileShader(r),r}function Ow(e,t){var i=e.getShaderSource(t).split("\n").map((function(e,t){return t+": "+e})),r=e.getShaderInfoLog(t),n=r.split("\n"),s={},a=n.map((function(e){return parseFloat(e.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))})).filter((function(e){return!(!e||s[e])&&(s[e]=!0,!0)})),o=[""];a.forEach((function(e){i[e-1]="%c"+i[e-1]+"%c",o.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));var l=i.join("\n");o[0]=l,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,o),console.groupEnd()}function Lw(e){for(var t=new Array(e),i=0;i<t.length;i++)t[i]=!1;return t}function Xw(e,t){switch(e){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return Lw(2*t);case"bvec3":return Lw(3*t);case"bvec4":return Lw(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Vw,Fw={},Ww=Fw;function Uw(){if(!Vw){Vw=zT.MEDIUM;var e=function(){if(Ww===Fw||Ww&&Ww.isContextLost()){var e=document.createElement("canvas"),t=void 0;eA.PREFER_ENV>=NT.WEBGL2&&(t=e.getContext("webgl2",{})),t||((t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),Ww=t}return Ww}();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);Vw=t.precision?zT.HIGH:zT.MEDIUM}}return Vw}function Hw(e,t,i){if("precision"!==e.substring(0,9)){var r=t;return t===zT.HIGH&&i!==zT.HIGH&&(r=zT.MEDIUM),"precision "+r+" float;\n"+e}return i!==zT.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}var Kw={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Yw(e){return Kw[e]}var zw=null,jw={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function qw(e,t){if(!zw){var i=Object.keys(jw);zw={};for(var r=0;r<i.length;++r){var n=i[r];zw[e[n]]=jw[n]}}return zw[t]}var $w=[{test:function(e){return"float"===e.type&&1===e.size},code:function(e){return'\n            if(uv["'+e+'"] !== ud["'+e+'"].value)\n            {\n                ud["'+e+'"].value = uv["'+e+'"]\n                gl.uniform1f(ud["'+e+'"].location, uv["'+e+'"])\n            }\n            '}},{test:function(e){return("sampler2D"===e.type||"samplerCube"===e.type||"sampler2DArray"===e.type)&&1===e.size&&!e.isArray},code:function(e){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+e+'"], t);\n\n            if(ud["'+e+'"].value !== t)\n            {\n                ud["'+e+'"].value = t;\n                gl.uniform1i(ud["'+e+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(e,t){return"mat3"===e.type&&1===e.size&&void 0!==t.a},code:function(e){return'\n            gl.uniformMatrix3fv(ud["'+e+'"].location, false, uv["'+e+'"].toArray(true));\n            '},codeUbo:function(e){return"\n                var "+e+"_matrix = uv."+e+".toArray(true);\n\n                data[offset] = "+e+"_matrix[0];\n                data[offset+1] = "+e+"_matrix[1];\n                data[offset+2] = "+e+"_matrix[2];\n        \n                data[offset + 4] = "+e+"_matrix[3];\n                data[offset + 5] = "+e+"_matrix[4];\n                data[offset + 6] = "+e+"_matrix[5];\n        \n                data[offset + 8] = "+e+"_matrix[6];\n                data[offset + 9] = "+e+"_matrix[7];\n                data[offset + 10] = "+e+"_matrix[8];\n            "}},{test:function(e,t){return"vec2"===e.type&&1===e.size&&void 0!==t.x},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+e+'"].location, v.x, v.y);\n                }'},codeUbo:function(e){return"\n                v = uv."+e+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(e){return"vec2"===e.type&&1===e.size},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+e+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(e,t){return"vec4"===e.type&&1===e.size&&void 0!==t.width},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+e+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(e){return"\n                    v = uv."+e+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(e){return"vec4"===e.type&&1===e.size},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+e+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],eE={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},tE={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var iE,rE=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function nE(e){for(var t="",i=0;i<e;++i)i>0&&(t+="\nelse "),i<e-1&&(t+="if(test == "+i+".0){}");return t}var sE=0,aE={},oE=function(){function e(t,i,r){void 0===r&&(r="pixi-shader"),this.id=sE++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=i||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(r=r.replace(/\s+/g,"-"),aE[r]?(aE[r]++,r+="-"+aE[r]):aE[r]=1,this.vertexSrc="#define SHADER_NAME "+r+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+"\n"+this.fragmentSrc,this.vertexSrc=Hw(this.vertexSrc,eA.PRECISION_VERTEX,zT.HIGH),this.fragmentSrc=Hw(this.fragmentSrc,eA.PRECISION_FRAGMENT,Uw())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),e.from=function(t,i,r){var n=t+i,s=mA[n];return s||(mA[n]=s=new e(t,i,r)),s},e}(),lE=function(){function e(e,t){this.uniformBindCount=0,this.program=e,this.uniformGroup=t?t instanceof kw?t:new kw(t):new kw({})}return e.prototype.checkUniformExists=function(e,t){if(t.uniforms[e])return!0;for(var i in t.uniforms){var r=t.uniforms[i];if(r.group&&this.checkUniformExists(e,r))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,i,r){return new e(oE.from(t,i),r)},e}(),hE=function(){function e(){this.data=0,this.blendMode=ZT.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(e){!!(1&this.data)!==e&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(e){!!(2&this.data)!==e&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(e){!!(4&this.data)!==e&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(e){!!(8&this.data)!==e&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(e){!!(32&this.data)!==e&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(e){!!(16&this.data)!==e&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==ZT.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e}(),uE=function(e){function t(i,r,n){var s=this,a=oE.from(i||t.defaultVertexSrc,r||t.defaultFragmentSrc);return(s=e.call(this,a,n)||this).padding=0,s.resolution=eA.FILTER_RESOLUTION,s.multisample=eA.FILTER_MULTISAMPLE,s.enabled=!0,s.autoFit=!0,s.state=new hE,s}return VA(t,e),t.prototype.apply=function(e,t,i,r,n){e.applyFilter(this,t,i,r)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(lE),dE=new xA,cE=function(){function e(e,t){this._texture=e,this.mapCoord=new xA,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===t?.5:t,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var i=this.mapCoord,r=0;r<e.length;r+=2){var n=e[r],s=e[r+1];t[r]=n*i.a+s*i.c+i.tx,t[r+1]=n*i.b+s*i.d+i.ty}return t},e.prototype.update=function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var i=t._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=t.orig,n=t.trim;n&&(dE.set(r.width/n.width,0,0,r.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(dE));var s=t.baseTexture,a=this.uClampFrame,o=this.clampMargin/s.resolution,l=this.clampOffset;return a[0]=(t._frame.x+o+l)/s.width,a[1]=(t._frame.y+o+l)/s.height,a[2]=(t._frame.x+t._frame.width-o+l)/s.width,a[3]=(t._frame.y+t._frame.height-o+l)/s.height,this.uClampOffset[0]=l/s.realWidth,this.uClampOffset[1]=l/s.realHeight,this.isSimple=t._frame.width===s.width&&t._frame.height===s.height&&0===t.rotate,!0},e}(),pE=function(e){function t(t,i,r){var n=this,s=null;return"string"!=typeof t&&void 0===i&&void 0===r&&(s=t,t=void 0,i=void 0,r=void 0),(n=e.call(this,t||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",i||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",r)||this).maskSprite=s,n.maskMatrix=new xA,n}return VA(t,e),Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(e,t,i,r){var n=this._maskSprite,s=n._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new cE(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,n).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,e.applyFilter(this,t,i,r))},t}(uE),gE=function(){function e(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return e.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},e.prototype.push=function(e,t){var i=t;if(!i.isMaskData){var r=this.maskDataPool.pop()||new Zw;r.pooled=!0,r.maskObject=t,i=r}var n=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(i.copyCountersOrReset(n),i.autoDetect&&this.detect(i),i._target=e,i.type!==jT.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case jT.SCISSOR:this.renderer.scissor.push(i);break;case jT.STENCIL:this.renderer.stencil.push(i);break;case jT.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i)}i.type===jT.SPRITE&&this.maskStack.push(i)},e.prototype.pop=function(e){var t=this.maskStack.pop();if(t&&t._target===e){if(t.enabled)switch(t.type){case jT.SCISSOR:this.renderer.scissor.pop();break;case jT.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case jT.SPRITE:this.popSpriteMask(t)}if(t.reset(),t.pooled&&this.maskDataPool.push(t),0!==this.maskStack.length){var i=this.maskStack[this.maskStack.length-1];i.type===jT.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}},e.prototype.detect=function(e){e.maskObject.isSprite?e.type=jT.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=jT.SCISSOR:e.type=jT.STENCIL},e.prototype.pushSpriteMask=function(e){var t,i,r=e.maskObject,n=e._target,s=e._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex])||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new pE]);var a,o,l=this.renderer,h=l.renderTexture;if(h.current){var u=h.current;a=e.resolution||u.resolution,o=null!==(t=e.multisample)&&void 0!==t?t:u.multisample}else a=e.resolution||l.resolution,o=null!==(i=e.multisample)&&void 0!==i?i:l.multisample;s[0].resolution=a,s[0].multisample=o,s[0].maskSprite=r;var d=n.filterArea;n.filterArea=r.getBounds(!0),l.filter.push(n,s),n.filterArea=d,e._filters||this.alphaMaskIndex++},e.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},e.prototype.destroy=function(){this.renderer=null},e}(),fE=function(){function e(e){this.renderer=e,this.maskStack=[],this.glConst=0}return e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(e){var t=this.renderer.gl,i=this.getStackLength();this.maskStack=e;var r=this.getStackLength();r!==i&&(0===r?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){this.renderer=null,this.maskStack=null},e}(),mE=new xA,CE=function(e){function t(t){var i=e.call(this,t)||this;return i.glConst=WebGLRenderingContext.SCISSOR_TEST,i}return VA(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.calcScissorRect=function(e){if(!e._scissorRectLocal){var t=e._scissorRect,i=e.maskObject,r=this.renderer,n=r.renderTexture;i.renderable=!0;var s=i.getBounds();this.roundFrameToPixels(s,n.current?n.current.resolution:r.resolution,n.sourceFrame,n.destinationFrame,r.projection.transform),i.renderable=!1,t&&s.fit(t),e._scissorRectLocal=s}},t.isMatrixRotated=function(e){if(!e)return!1;var t=e.a,i=e.b,r=e.c,n=e.d;return(Math.abs(i)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(n)>1e-4)},t.prototype.testScissor=function(e){var i=e.maskObject;if(!i.isFastRect||!i.isFastRect())return!1;if(t.isMatrixRotated(i.worldTransform))return!1;if(t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var r=e._scissorRectLocal;return r.width>0&&r.height>0},t.prototype.roundFrameToPixels=function(e,i,r,n,s){t.isMatrixRotated(s)||((s=s?mE.copyFrom(s):mE.identity()).translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.renderer.filter.transformAABB(s,e),e.fit(n),e.x=Math.round(e.x*i),e.y=Math.round(e.y*i),e.width=Math.round(e.width*i),e.height=Math.round(e.height*i))},t.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var t=this.renderer.gl;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e,t=this.maskStack[this.maskStack.length-1]._scissorRect;e=this.renderer.renderTexture.current?t.y:this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)},t}(fE),yE=function(e){function t(t){var i=e.call(this,t)||this;return i.glConst=WebGLRenderingContext.STENCIL_TEST,i}return VA(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var t=e.maskObject,i=this.renderer.gl,r=e._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),e._stencilCounter++,i.colorMask(!1,!1,!1,!1),i.stencilFunc(i.EQUAL,r,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var t=this.renderer.gl;0===this.getStackLength()?t.disable(t.STENCIL_TEST):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t}(fE),bE=function(){function e(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new xA,this.transform=null}return e.prototype.update=function(e,t,i,r){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(e,t,i,r){var n=this.projectionMatrix,s=r?-1:1;n.identity(),n.a=1/t.width*2,n.d=s*(1/t.height*2),n.tx=-1-t.x*n.a,n.ty=-s-t.y*n.d},e.prototype.setTransform=function(e){},e.prototype.destroy=function(){this.renderer=null},e}(),IE=new JA,vE=new JA,_E=function(){function e(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new JA,this.destinationFrame=new JA,this.viewportFrame=new JA}return e.prototype.bind=function(e,t,i){void 0===e&&(e=null);var r,n,s,a=this.renderer;this.current=e,e?(s=(r=e.baseTexture).resolution,t||(IE.width=e.frame.width,IE.height=e.frame.height,t=IE),i||(vE.x=e.frame.x,vE.y=e.frame.y,vE.width=t.width,vE.height=t.height,i=vE),n=r.framebuffer):(s=a.resolution,t||(IE.width=a.screen.width,IE.height=a.screen.height,t=IE),i||((i=IE).width=t.width,i.height=t.height));var o=this.viewportFrame;o.x=i.x*s,o.y=i.y*s,o.width=i.width*s,o.height=i.height*s,e||(o.y=a.view.height-(o.y+o.height)),o.ceil(),this.renderer.framebuffer.bind(n,o),this.renderer.projection.update(i,t,s,!n),e?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(i)},e.prototype.clear=function(e,t){e=this.current?e||this.current.baseTexture.clearColor:e||this.clearColor;var i=this.destinationFrame,r=this.current?this.current.baseTexture:this.renderer.screen,n=i.width!==r.width||i.height!==r.height;if(n){var s=this.viewportFrame,a=s.x,o=s.y,l=s.width,h=s.height;a=Math.round(a),o=Math.round(o),l=Math.round(l),h=Math.round(h),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,o,l,h)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],t),n&&this.renderer.scissor.pop()},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e.prototype.destroy=function(){this.renderer=null},e}();function SE(e,t,i,r,n){i.buffer.update(n)}var kE={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},TE={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function AE(e,t){if(!e.autoManage)return{size:0,syncFunc:SE};for(var i=function(e,t){var i=[];for(var r in e)t[r]&&i.push(t[r]);return i.sort((function(e,t){return e.index-t.index})),i}(e.uniforms,t),r=function(e){for(var t=e.map((function(e){return{data:e,offset:0,dataLen:0,dirty:0}})),i=0,r=0,n=0,s=0;s<t.length;s++){var a=t[s];if(i=TE[a.data.type],a.data.size>1&&(i=Math.max(i,16)*a.data.size),a.dataLen=i,r%i!=0&&r<16){var o=r%i%16;r+=o,n+=o}r+i>16?(n=16*Math.ceil(n/16),a.offset=n,n+=i,r=i):(a.offset=n,r+=i,n+=i)}return{uboElements:t,size:n=16*Math.ceil(n/16)}}(i),n=r.uboElements,s=r.size,a=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],o=0;o<n.length;o++){for(var l=n[o],h=e.uniforms[l.data.name],u=l.data.name,d=!1,c=0;c<$w.length;c++){var p=$w[c];if(p.codeUbo&&p.test(l.data,h)){a.push("offset = "+l.offset/4+";",$w[c].codeUbo(l.data.name,h)),d=!0;break}}if(!d)if(l.data.size>1){var g=Yw(l.data.type),f=Math.max(TE[l.data.type]/16,1),m=g/f,C=(4-m%4)%4;a.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+l.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+l.data.size*f+"; i++)\n                {\n                    for(var j = 0; j < "+m+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+C+";\n                }\n\n                ")}else{var y=kE[l.data.type];a.push("\n                cv = ud."+u+".value;\n                v = uv."+u+";\n                offset = "+l.offset/4+";\n                "+y+";\n                ")}}return a.push("\n       renderer.buffer.update(buffer);\n    "),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join("\n"))}}var wE=function(){function e(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},e}();function EE(e,t){var i=Pw(e,e.VERTEX_SHADER,t.vertexSrc),r=Pw(e,e.FRAGMENT_SHADER,t.fragmentSrc),n=e.createProgram();if(e.attachShader(n,i),e.attachShader(n,r),e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS)||function(e,t,i,r){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(i,e.COMPILE_STATUS)||Ow(e,i),e.getShaderParameter(r,e.COMPILE_STATUS)||Ow(e,r),console.error("PixiJS Error: Could not initialize shader."),""!==e.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}(e,n,i,r),t.attributeData=function(e,t){for(var i={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),n=0;n<r;n++){var s=t.getActiveAttrib(e,n);if(0!==s.name.indexOf("gl_")){var a=qw(t,s.type),o={type:a,name:s.name,size:Yw(a),location:t.getAttribLocation(e,s.name)};i[s.name]=o}}return i}(n,e),t.uniformData=function(e,t){for(var i={},r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n=0;n<r;n++){var s=t.getActiveUniform(e,n),a=s.name.replace(/\[.*?\]$/,""),o=!!s.name.match(/\[.*?\]$/),l=qw(t,s.type);i[a]={name:a,index:n,type:l,size:s.size,isArray:o,value:Xw(l,s.size)}}return i}(n,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var s=Object.keys(t.attributeData);s.sort((function(e,t){return e>t?1:-1}));for(var a=0;a<s.length;a++)t.attributeData[s[a]].location=a,e.bindAttribLocation(n,a,s[a]);e.linkProgram(n)}e.deleteShader(i),e.deleteShader(r);var o={};for(var a in t.uniformData){var l=t.uniformData[a];o[a]={location:e.getUniformLocation(n,a),value:Xw(l.type,l.size)}}return new wE(n,o)}var JE=0,RE={textureCount:0,uboCount:0},xE=function(){function e(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=JE++}return e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof iE)return iE;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");iE=!0===e({a:"b"},"a","b")}catch(e){iE=!1}return iE}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(e){this.gl=e,this.reset()},e.prototype.bind=function(e,t){e.uniforms.globals=this.renderer.globalUniforms;var i=e.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),t||(RE.textureCount=0,RE.uboCount=0,this.syncUniformGroup(e.uniformGroup,RE)),r},e.prototype.setUniforms=function(e){var t=this.shader.program,i=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(i.uniformData,e,this.renderer)},e.prototype.syncUniformGroup=function(e,t){var i=this.getGlProgram();e.static&&e.dirtyId===i.uniformDirtyGroups[e.id]||(i.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,i,t))},e.prototype.syncUniforms=function(e,t,i){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,i)},e.prototype.createSyncGroups=function(e){var t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=function(e,t){var i,r=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var n in e.uniforms){var s=t[n];if(s){for(var a=e.uniforms[n],o=!1,l=0;l<$w.length;l++)if($w[l].test(s,a)){r.push($w[l].code(n,a)),o=!0;break}if(!o){var h=(1===s.size?eE:tE)[s.type].replace("location",'ud["'+n+'"].location');r.push('\n            cu = ud["'+n+'"];\n            cv = cu.value;\n            v = uv["'+n+'"];\n            '+h+";")}}else(null===(i=e.uniforms[n])||void 0===i?void 0:i.group)&&(e.uniforms[n].ubo?r.push("\n                        renderer.shader.syncUniformBufferGroup(uv."+n+", '"+n+"');\n                    "):r.push("\n                        renderer.shader.syncUniformGroup(uv."+n+", syncData);\n                    "))}return new Function("ud","uv","renderer","syncData",r.join("\n"))}(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]},e.prototype.syncUniformBufferGroup=function(e,t){var i=this.getGlProgram();if(!e.static||0!==e.dirtyId||!i.uniformGroups[e.id]){e.dirtyId=0;var r=i.uniformGroups[e.id]||this.createSyncBufferGroup(e,i,t);e.buffer.update(),r(i.uniformData,e.uniforms,this.renderer,RE,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,i.uniformBufferBindings[t])},e.prototype.createSyncBufferGroup=function(e,t,i){var r=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var n=this.gl.getUniformBlockIndex(t.program,i);t.uniformBufferBindings[i]=this.shader.uniformBindCount,r.uniformBlockBinding(t.program,n,this.shader.uniformBindCount),this.shader.uniformBindCount++;var s=this.getSignature(e,this.shader.program.uniformData,"ubo"),a=this._uboCache[s];if(a||(a=this._uboCache[s]=AE(e,this.shader.program.uniformData)),e.autoManage){var o=new Float32Array(a.size/4);e.buffer.update(o)}return t.uniformGroups[e.id]=a.syncFunc,t.uniformGroups[e.id]},e.prototype.getSignature=function(e,t,i){var r=e.uniforms,n=[i+"-"];for(var s in r)n.push(s),t[s]&&n.push(t[s].type);return n.join("-")},e.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateProgram=function(e){var t=this.gl,i=e.program,r=EE(t,i);return i.glPrograms[this.renderer.CONTEXT_UID]=r,r},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},e}();var GE=function(){function e(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ZT.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new hE,this.defaultState.blend=!0}return e.prototype.contextChange=function(e){this.gl=e,this.blendModes=function(e,t){return void 0===t&&(t=[]),t[ZT.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ZT.ADD]=[e.ONE,e.ONE],t[ZT.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ZT.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ZT.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ZT.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ZT.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ZT.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ZT.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ZT.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ZT.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ZT.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ZT.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ZT.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ZT.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ZT.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ZT.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ZT.NONE]=[0,0],t[ZT.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ZT.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[ZT.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[ZT.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[ZT.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[ZT.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[ZT.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[ZT.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[ZT.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[ZT.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[ZT.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[ZT.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}(e),this.set(this.defaultState),this.reset()},e.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,i=0;t;)1&t&&this.map[i].call(this,!!(e.data&1<<i)),t>>=1,i++;this.stateId=e.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,e)},e.prototype.forceState=function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setDepthMask=function(e){this.gl.depthMask(e)},e.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},e.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var t=this.blendModes[e],i=this.gl;2===t.length?i.blendFunc(t[0],t[1]):i.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,i.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},e.prototype.setPolygonOffset=function(e,t){this.gl.polygonOffset(e,t)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(e,t){var i=this.checks.indexOf(e);t&&-1===i?this.checks.push(e):t||-1===i||this.checks.splice(i,1)},e.checkBlendMode=function(e,t){e.setBlendMode(t.blendMode)},e.checkPolygonOffset=function(e,t){e.setPolygonOffset(1,t.polygonOffset)},e.prototype.destroy=function(){this.gl=null},e}(),DE=function(){function e(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=eA.GC_MAX_IDLE,this.checkCountMax=eA.GC_MAX_CHECK_COUNT,this.mode=eA.GC_MODE}return e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==YT.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var e=this.renderer.texture,t=e.managedTextures,i=!1,r=0;r<t.length;r++){var n=t[r];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(e.destroyTexture(n,!0),t[r]=null,i=!0)}if(i){var s=0;for(r=0;r<t.length;r++)null!==t[r]&&(t[s++]=t[r]);t.length=s}},e.prototype.unload=function(e){var t=this.renderer.texture,i=e._texture;i&&!i.framebuffer&&t.destroyTexture(i);for(var r=e.children.length-1;r>=0;r--)this.unload(e.children[r])},e.prototype.destroy=function(){this.renderer=null},e}();var BE=function(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=XT.UNSIGNED_BYTE,this.internalFormat=OT.RGBA,this.samplerType=0},NE=function(){function e(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new KA,this.hasIntegerTextures=!1}return e.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function(e){var t,i,r,n,s,a,o,l,h,u,d,c,p,g,f,m,C,y,b,I,v,_,S;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?((t={})[XT.UNSIGNED_BYTE]=((i={})[OT.RGBA]=e.RGBA8,i[OT.RGB]=e.RGB8,i[OT.RG]=e.RG8,i[OT.RED]=e.R8,i[OT.RGBA_INTEGER]=e.RGBA8UI,i[OT.RGB_INTEGER]=e.RGB8UI,i[OT.RG_INTEGER]=e.RG8UI,i[OT.RED_INTEGER]=e.R8UI,i[OT.ALPHA]=e.ALPHA,i[OT.LUMINANCE]=e.LUMINANCE,i[OT.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,i),t[XT.BYTE]=((r={})[OT.RGBA]=e.RGBA8_SNORM,r[OT.RGB]=e.RGB8_SNORM,r[OT.RG]=e.RG8_SNORM,r[OT.RED]=e.R8_SNORM,r[OT.RGBA_INTEGER]=e.RGBA8I,r[OT.RGB_INTEGER]=e.RGB8I,r[OT.RG_INTEGER]=e.RG8I,r[OT.RED_INTEGER]=e.R8I,r),t[XT.UNSIGNED_SHORT]=((n={})[OT.RGBA_INTEGER]=e.RGBA16UI,n[OT.RGB_INTEGER]=e.RGB16UI,n[OT.RG_INTEGER]=e.RG16UI,n[OT.RED_INTEGER]=e.R16UI,n[OT.DEPTH_COMPONENT]=e.DEPTH_COMPONENT16,n),t[XT.SHORT]=((s={})[OT.RGBA_INTEGER]=e.RGBA16I,s[OT.RGB_INTEGER]=e.RGB16I,s[OT.RG_INTEGER]=e.RG16I,s[OT.RED_INTEGER]=e.R16I,s),t[XT.UNSIGNED_INT]=((a={})[OT.RGBA_INTEGER]=e.RGBA32UI,a[OT.RGB_INTEGER]=e.RGB32UI,a[OT.RG_INTEGER]=e.RG32UI,a[OT.RED_INTEGER]=e.R32UI,a[OT.DEPTH_COMPONENT]=e.DEPTH_COMPONENT24,a),t[XT.INT]=((o={})[OT.RGBA_INTEGER]=e.RGBA32I,o[OT.RGB_INTEGER]=e.RGB32I,o[OT.RG_INTEGER]=e.RG32I,o[OT.RED_INTEGER]=e.R32I,o),t[XT.FLOAT]=((l={})[OT.RGBA]=e.RGBA32F,l[OT.RGB]=e.RGB32F,l[OT.RG]=e.RG32F,l[OT.RED]=e.R32F,l[OT.DEPTH_COMPONENT]=e.DEPTH_COMPONENT32F,l),t[XT.HALF_FLOAT]=((h={})[OT.RGBA]=e.RGBA16F,h[OT.RGB]=e.RGB16F,h[OT.RG]=e.RG16F,h[OT.RED]=e.R16F,h),t[XT.UNSIGNED_SHORT_5_6_5]=((u={})[OT.RGB]=e.RGB565,u),t[XT.UNSIGNED_SHORT_4_4_4_4]=((d={})[OT.RGBA]=e.RGBA4,d),t[XT.UNSIGNED_SHORT_5_5_5_1]=((c={})[OT.RGBA]=e.RGB5_A1,c),t[XT.UNSIGNED_INT_2_10_10_10_REV]=((p={})[OT.RGBA]=e.RGB10_A2,p[OT.RGBA_INTEGER]=e.RGB10_A2UI,p),t[XT.UNSIGNED_INT_10F_11F_11F_REV]=((g={})[OT.RGB]=e.R11F_G11F_B10F,g),t[XT.UNSIGNED_INT_5_9_9_9_REV]=((f={})[OT.RGB]=e.RGB9_E5,f),t[XT.UNSIGNED_INT_24_8]=((m={})[OT.DEPTH_STENCIL]=e.DEPTH24_STENCIL8,m),t[XT.FLOAT_32_UNSIGNED_INT_24_8_REV]=((C={})[OT.DEPTH_STENCIL]=e.DEPTH32F_STENCIL8,C),S=t):((y={})[XT.UNSIGNED_BYTE]=((b={})[OT.RGBA]=e.RGBA,b[OT.RGB]=e.RGB,b[OT.ALPHA]=e.ALPHA,b[OT.LUMINANCE]=e.LUMINANCE,b[OT.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,b),y[XT.UNSIGNED_SHORT_5_6_5]=((I={})[OT.RGB]=e.RGB,I),y[XT.UNSIGNED_SHORT_4_4_4_4]=((v={})[OT.RGBA]=e.RGBA,v),y[XT.UNSIGNED_SHORT_5_5_5_1]=((_={})[OT.RGBA]=e.RGBA,_),S=y),S}(e);var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(var i=0;i<t;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new BE(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new BE(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(i=0;i<this.boundTextures.length;i++)this.bind(null,i)},e.prototype.bind=function(e,t){void 0===t&&(t=0);var i=this.gl;if((e=null==e?void 0:e.castToBaseTexture())&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var r=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,i.activeTexture(i.TEXTURE0+t)),i.bindTexture(e.target,r.texture)),r.dirtyId!==e.dirtyId&&(this.currentLocation!==t&&(this.currentLocation=t,i.activeTexture(i.TEXTURE0+t)),this.updateTexture(e)),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,i.activeTexture(i.TEXTURE0+t)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[t]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},e.prototype.unbind=function(e){var t=this.gl,i=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<i.length;r++)i[r]===this.unknownTexture&&this.bind(null,r)}for(r=0;r<i.length;r++)i[r]===e&&(this.currentLocation!==r&&(t.activeTexture(t.TEXTURE0+r),this.currentLocation=r),t.bindTexture(e.target,this.emptyTextures[e.target].texture),i[r]=null)},e.prototype.ensureSamplerType=function(e){var t=this,i=t.boundTextures,r=t.hasIntegerTextures,n=t.CONTEXT_UID;if(r)for(var s=e-1;s>=0;--s){var a=i[s];if(a)a._glTextures[n].samplerType!==VT.FLOAT&&this.renderer.texture.unbind(a)}},e.prototype.initTexture=function(e){var t=new BE(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t},e.prototype.initTextureType=function(e,t){var i,r;t.internalFormat=null!==(r=null===(i=this.internalFormats[e.type])||void 0===i?void 0:i[e.format])&&void 0!==r?r:e.format,2===this.webGLVersion&&e.type===XT.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type},e.prototype.updateTexture=function(e){var t=e._glTextures[this.CONTEXT_UID];if(t){var i=this.renderer;if(this.initTextureType(e,t),e.resource&&e.resource.upload(i,e,t))t.samplerType!==VT.FLOAT&&(this.hasIntegerTextures=!0);else{var r=e.realWidth,n=e.realHeight,s=i.gl;(t.width!==r||t.height!==n||t.dirtyId<0)&&(t.width=r,t.height=n,s.texImage2D(e.target,0,t.internalFormat,r,n,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}},e.prototype.destroyTexture=function(e,t){var i=this.gl;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),i.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){var r=this.managedTextures.indexOf(e);-1!==r&&function(e,t,i){var r,n=e.length;if(!(t>=n||0===i)){var s=n-(i=t+i>n?n-t:i);for(r=t;r<s;++r)e[r]=e[r+i];e.length=s}}(this.managedTextures,r,1)}},e.prototype.updateTextureStyle=function(e){var t=e._glTextures[this.CONTEXT_UID];t&&(e.mipmap!==UT.POW2&&2===this.webGLVersion||e.isPowerOfTwo?t.mipmap=e.mipmap>=1:t.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?t.wrapMode=e.wrapMode:t.wrapMode=WT.CLAMP,e.resource&&e.resource.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)},e.prototype.setStyle=function(e,t){var i=this.gl;if(t.mipmap&&e.mipmap!==UT.ON_MANUAL&&i.generateMipmap(e.target),i.texParameteri(e.target,i.TEXTURE_WRAP_S,t.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===FT.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&e.anisotropicLevel>0&&e.scaleMode===FT.LINEAR){var n=Math.min(e.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(e.target,r.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===FT.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,e.scaleMode===FT.LINEAR?i.LINEAR:i.NEAREST)},e.prototype.destroy=function(){this.renderer=null},e}(),QE=new xA,ME=function(e){function t(t,i){void 0===t&&(t=QT.UNKNOWN);var r=e.call(this)||this;return i=Object.assign({},eA.RENDER_OPTIONS,i),r.options=i,r.type=t,r.screen=new JA(0,0,i.width,i.height),r.view=i.view||document.createElement("canvas"),r.resolution=i.resolution||eA.RESOLUTION,r.useContextAlpha=i.useContextAlpha,r.autoDensity=!!i.autoDensity,r.preserveDrawingBuffer=i.preserveDrawingBuffer,r.clearBeforeRender=i.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,1],r._backgroundColorString="#000000",r.backgroundColor=i.backgroundColor||r._backgroundColor,r.backgroundAlpha=i.backgroundAlpha,void 0!==i.transparent&&(gA("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),r.useContextAlpha=i.transparent,r.backgroundAlpha=i.transparent?0:1),r._lastObjectRendered=null,r.plugins={},r}return VA(t,e),t.prototype.initPlugins=function(e){for(var t in e)this.plugins[t]=new e[t](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(t*this.resolution);var i=this.view.width/this.resolution,r=this.view.height/this.resolution;this.screen.width=i,this.screen.height=r,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=r+"px"),this.emit("resize",i,r)},t.prototype.generateTexture=function(e,t,i,r){void 0===t&&(t={}),"number"==typeof t&&(gA("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),t={scaleMode:t,resolution:i,region:r});var n=t.region,s=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(i[r[n]]=e[r[n]])}return i}(t,["region"]);0===(r=n||e.getLocalBounds(null,!0)).width&&(r.width=1),0===r.height&&(r.height=1);var a=dw.create(FA({width:r.width,height:r.height},s));return QE.tx=-r.x,QE.ty=-r.y,this.render(e,{renderTexture:a,clear:!1,transform:QE,skipUpdateTransform:!!e.parent}),a},t.prototype.destroy=function(e){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=QT.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){var t;this._backgroundColor=e,this._backgroundColorString=(t=e.toString(16),"#"+("000000".substring(0,6-t.length)+t)),nA(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),t}(jf),ZE=function(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},PE=function(){function e(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return e.prototype.destroy=function(){this.renderer=null},e.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},e.prototype.bind=function(e){var t=this.gl,i=this.CONTEXT_UID,r=e._glBuffers[i]||this.createGLBuffer(e);t.bindBuffer(e.type,r.buffer)},e.prototype.bindBufferBase=function(e,t){var i=this.gl,r=this.CONTEXT_UID;if(this.boundBufferBases[t]!==e){var n=e._glBuffers[r]||this.createGLBuffer(e);this.boundBufferBases[t]=e,i.bindBufferBase(i.UNIFORM_BUFFER,t,n.buffer)}},e.prototype.bindBufferRange=function(e,t,i){var r=this.gl,n=this.CONTEXT_UID;i=i||0;var s=e._glBuffers[n]||this.createGLBuffer(e);r.bindBufferRange(r.UNIFORM_BUFFER,t||0,s.buffer,256*i,256)},e.prototype.update=function(e){var t=this.gl,i=this.CONTEXT_UID,r=e._glBuffers[i];if(e._updateID!==r.updateID)if(r.updateID=e._updateID,t.bindBuffer(e.type,r.buffer),r.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{var n=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;r.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,n)}},e.prototype.dispose=function(e,t){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var i=e._glBuffers[this.CONTEXT_UID],r=this.gl;e.disposeRunner.remove(this),i&&(t||r.deleteBuffer(i.buffer),delete e._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedBuffers),i=0;i<t.length;i++)this.dispose(this.managedBuffers[t[i]],e)},e.prototype.createGLBuffer=function(e){var t=this.CONTEXT_UID,i=this.gl;return e._glBuffers[t]=new ZE(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]},e}();!function(e){function t(i){var r=e.call(this,QT.WEBGL,i)||this;return i=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new _A("destroy"),contextChange:new _A("contextChange"),reset:new _A("reset"),update:new _A("update"),postrender:new _A("postrender"),prerender:new _A("prerender"),resize:new _A("resize")},r.runners.contextChange.add(r),r.globalUniforms=new kw({projectionMatrix:new xA},!0),r.addSystem(gE,"mask").addSystem(Gw,"context").addSystem(GE,"state").addSystem(xE,"shader").addSystem(NE,"texture").addSystem(PE,"buffer").addSystem(Mw,"geometry").addSystem(Nw,"framebuffer").addSystem(CE,"scissor").addSystem(yE,"stencil").addSystem(bE,"projection").addSystem(DE,"textureGC").addSystem(Ew,"filter").addSystem(_E,"renderTexture").addSystem(Rw,"batch"),r.initPlugins(t.__plugins),r.multisample=void 0,i.context?r.context.initFromContext(i.context):r.context.initFromOptions({alpha:!!r.useContextAlpha,antialias:i.antialias,premultipliedAlpha:r.useContextAlpha&&"notMultiplied"!==r.useContextAlpha,stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,function(e){var t;if(!rA){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var i=["\n %c %c %c PixiJS 6.4.2 - ✰ "+e+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=globalThis.console).log.apply(t,i)}else globalThis.console&&globalThis.console.log("PixiJS 6.4.2 - "+e+" - http://www.pixijs.com/");rA=!0}}(2===r.context.webGLVersion?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}VA(t,e),t.create=function(e){if(void 0===iA&&(iA=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:eA.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),r=!(!i||!i.getContextAttributes().stencil);if(i){var n=i.getExtension("WEBGL_lose_context");n&&n.loseContext()}return i=null,r}catch(e){return!1}}()),iA)return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var e,t=this.gl;if(1===this.context.webGLVersion){var i=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,i)}else{i=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,i)}e>=qT.HIGH?this.multisample=qT.HIGH:e>=qT.MEDIUM?this.multisample=qT.MEDIUM:e>=qT.LOW?this.multisample=qT.LOW:this.multisample=qT.NONE},t.prototype.addSystem=function(e,t){var i=new e(this);if(this[t])throw new Error('Whoops! The name "'+t+'" is already in use');for(var r in this[t]=i,this.runners)this.runners[r].add(i);return this},t.prototype.render=function(e,t){var i,r,n,s;if(t&&(t instanceof dw?(gA("6.0.0","Renderer#render arguments changed, use options instead."),i=t,r=arguments[2],n=arguments[3],s=arguments[4]):(i=t.renderTexture,r=t.clear,n=t.transform,s=t.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=n,!this.context.isLost){if(i||(this._lastObjectRendered=e),!s){var a=e.enableTempParent();e.updateTransform(),e.disableTempParent(a)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(t,i,r,n){void 0===i&&(i={});var s=e.prototype.generateTexture.call(this,t,i,r,n);return this.framebuffer.blit(),s},t.prototype.resize=function(t,i){e.prototype.resize.call(this,t,i),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(t){for(var i in this.runners.destroy.emit(),this.runners)this.runners[i].destroy();e.prototype.destroy.call(this,t),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return gA("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(e,i){t.__plugins=t.__plugins||{},t.__plugins[e]=i}}(ME);var OE=function(){this.texArray=null,this.blend=0,this.type=PT.TRIANGLES,this.start=0,this.size=0,this.data=null},LE=function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},e}(),XE=function(){function e(e){"number"==typeof e?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(e){return this[e+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},e}(),VE=function(e){function t(t){var i=e.call(this,t)||this;return i.shaderGenerator=null,i.geometryClass=null,i.vertexSize=null,i.state=hE.for2d(),i.size=4*eA.SPRITE_BATCH_SIZE,i._vertexCount=0,i._indexCount=0,i._bufferedElements=[],i._bufferedTextures=[],i._bufferSize=0,i._shader=null,i._packedGeometries=[],i._packedGeometryPoolSize=2,i._flushId=0,i._aBuffers={},i._iBuffers={},i.MAX_TEXTURES=1,i.renderer.on("prerender",i.onPrerender,i),t.runners.contextChange.add(i),i._dcIndex=0,i._aIndex=0,i._iIndex=0,i._attributeBuffer=null,i._indexBuffer=null,i._tempBoundTextures=[],i}return VA(t,e),t.prototype.contextChange=function(){var e=this.renderer.gl;eA.PREFER_ENV===NT.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),eA.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=t.createShader(t.FRAGMENT_SHADER);;){var r=rE.replace(/%forloop%/gi,nE(e));if(t.shaderSource(i,r),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS))break;e=e/2|0}return e}(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,i=t._textureArrayPool,r=this.size/4,n=Math.floor(r/this.MAX_TEXTURES)+1;e.length<r;)e.push(new OE);for(;i.length<n;)i.push(new LE);for(var s=0;s<this.MAX_TEXTURES;s++)this._tempBoundTextures[s]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var e=this._bufferedTextures,i=this.MAX_TEXTURES,r=t._textureArrayPool,n=this.renderer.batch,s=this._tempBoundTextures,a=this.renderer.textureGC.count,o=++KA._globalBatch,l=0,h=r[0],u=0;n.copyBoundTextures(s,i);for(var d=0;d<this._bufferSize;++d){var c=e[d];e[d]=null,c._batchEnabled!==o&&(h.count>=i&&(n.boundArray(h,s,o,i),this.buildDrawCalls(h,u,d),u=d,h=r[++l],++o),c._batchEnabled=o,c.touched=a,h.elements[h.count++]=c)}h.count>0&&(n.boundArray(h,s,o,i),this.buildDrawCalls(h,u,this._bufferSize),++l,++o);for(d=0;d<s.length;d++)s[d]=null;KA._globalBatch=o},t.prototype.buildDrawCalls=function(e,i,r){var n=this,s=n._bufferedElements,a=n._attributeBuffer,o=n._indexBuffer,l=n.vertexSize,h=t._drawCallPool,u=this._dcIndex,d=this._aIndex,c=this._iIndex,p=h[u];p.start=this._iIndex,p.texArray=e;for(var g=i;g<r;++g){var f=s[g],m=f._texture.baseTexture,C=aA[m.alphaMode?1:0][f.blendMode];s[g]=null,i<g&&p.blend!==C&&(p.size=c-p.start,i=g,(p=h[++u]).texArray=e,p.start=c),this.packInterleavedGeometry(f,a,o,d,c),d+=f.vertexData.length/2*l,c+=f.indices.length,p.blend=C}i<r&&(p.size=c-p.start,++u),this._dcIndex=u,this._aIndex=d,this._iIndex=c},t.prototype.bindAndClearTexArray=function(e){for(var t=this.renderer.texture,i=0;i<e.count;i++)t.bind(e.elements[i],e.ids[i]),e.elements[i]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,t=e._packedGeometries,i=e._attributeBuffer,r=e._indexBuffer;eA.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(i.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(i.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,i=this.renderer,r=i.gl,n=i.state,s=t._drawCallPool,a=null,o=0;o<e;o++){var l=s[o],h=l.texArray,u=l.type,d=l.size,c=l.start,p=l.blend;a!==h&&(a=h,this.bindAndClearTexArray(h)),this.state.blendMode=p,n.set(this.state),r.drawElements(u,d,r.UNSIGNED_SHORT,2*c)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),eA.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var t=lA(Math.ceil(e/8)),i=uA(t),r=8*t;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var n=this._aBuffers[r];return n||(this._aBuffers[r]=n=new XE(r*this.vertexSize*4)),n},t.prototype.getIndexBuffer=function(e){var t=lA(Math.ceil(e/12)),i=uA(t),r=12*t;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var n=this._iBuffers[i];return n||(this._iBuffers[i]=n=new Uint16Array(r)),n},t.prototype.packInterleavedGeometry=function(e,t,i,r,n){for(var s=t.uint32View,a=t.float32View,o=r/this.vertexSize,l=e.uvs,h=e.indices,u=e.vertexData,d=e._texture.baseTexture._batchLocation,c=Math.min(e.worldAlpha,1),p=c<1&&e._texture.baseTexture.alphaMode?function(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var i=e>>16&255,r=e>>8&255,n=255&e;return(255*t<<24)+((i=i*t+.5|0)<<16)+((r=r*t+.5|0)<<8)+(n*t+.5|0)}(e._tintRGB,c):e._tintRGB+(255*c<<24),g=0;g<u.length;g+=2)a[r++]=u[g],a[r++]=u[g+1],a[r++]=l[g],a[r++]=l[g+1],s[r++]=p,a[r++]=d;for(g=0;g<h.length;g++)i[n++]=o+h[g]},t._drawCallPool=[],t._textureArrayPool=[],t}(Jw),FE=function(){function e(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},t.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(t.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return e.prototype.generateShader=function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),i=0;i<e;i++)t[i]=i;this.defaultGroupCache[e]=kw.from({uSamplers:t},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+e)).replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new oE(this.vertexSrc,r)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new xA,default:this.defaultGroupCache[e]};return new lE(this.programCache[e],n)},e.prototype.generateSampleSrc=function(e){var t="";t+="\n",t+="\n";for(var i=0;i<e;i++)i>0&&(t+="\nelse "),i<e-1&&(t+="if(vTextureId < "+i+".5)"),t+="\n{",t+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",t+="\n}";return t+="\n",t+="\n"},e}(),WE=function(e){function t(t){void 0===t&&(t=!1);var i=e.call(this)||this;return i._buffer=new fw(null,t,!1),i._indexBuffer=new fw(null,t,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,XT.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,XT.FLOAT).addAttribute("aColor",i._buffer,4,!0,XT.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,XT.FLOAT).addIndex(i._indexBuffer),i}return VA(t,e),t}(Iw),UE="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",HE="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",KE=function(){function e(){}return e.create=function(e){var t=Object.assign({vertex:UE,fragment:HE,geometryClass:WE,vertexSize:6},e),i=t.vertex,r=t.fragment,n=t.vertexSize,s=t.geometryClass;return function(e){function t(t){var a=e.call(this,t)||this;return a.shaderGenerator=new FE(i,r),a.geometryClass=s,a.vertexSize=n,a}return VA(t,e),t}(VE)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return UE},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return HE},enumerable:!1,configurable:!0}),e}();KE.create();
/*!
 * @pixi/filter-multi-color-replace - v4.1.5
 * Compiled Wed, 29 Sep 2021 14:05:57 UTC
 *
 * @pixi/filter-multi-color-replace is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var YE=function(e,t){return YE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},YE(e,t)};var zE=function(e){function t(t,i,r){void 0===i&&(i=.05),void 0===r&&(r=t.length);var n=e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\nuniform float epsilon;\n\nconst int MAX_COLORS = %maxColors%;\n\nuniform vec3 originalColors[MAX_COLORS];\nuniform vec3 targetColors[MAX_COLORS];\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    float alpha = gl_FragColor.a;\n    if (alpha < 0.0001)\n    {\n      return;\n    }\n\n    vec3 color = gl_FragColor.rgb / alpha;\n\n    for(int i = 0; i < MAX_COLORS; i++)\n    {\n      vec3 origColor = originalColors[i];\n      if (origColor.r < 0.0)\n      {\n        break;\n      }\n      vec3 colorDiff = origColor - color;\n      if (length(colorDiff) < epsilon)\n      {\n        vec3 targetColor = targetColors[i];\n        gl_FragColor = vec4((targetColor + colorDiff) * alpha, alpha);\n        return;\n      }\n    }\n}\n".replace(/%maxColors%/g,r.toFixed(0)))||this;return n._replacements=[],n._maxColors=0,n.epsilon=i,n._maxColors=r,n.uniforms.originalColors=new Float32Array(3*r),n.uniforms.targetColors=new Float32Array(3*r),n.replacements=t,n}return function(e,t){function i(){this.constructor=e}YE(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}(t,e),Object.defineProperty(t.prototype,"replacements",{get:function(){return this._replacements},set:function(e){var t=this.uniforms.originalColors,i=this.uniforms.targetColors,r=e.length;if(r>this._maxColors)throw new Error("Length of replacements ("+r+") exceeds the maximum colors length ("+this._maxColors+")");t[3*r]=-1;for(var n=0;n<r;n++){var s=e[n],a=s[0];"number"==typeof a?a=nA(a):s[0]=sA(a),t[3*n]=a[0],t[3*n+1]=a[1],t[3*n+2]=a[2];var o=s[1];"number"==typeof o?o=nA(o):s[1]=sA(o),i[3*n]=o[0],i[3*n+1]=o[1],i[3*n+2]=o[2]}this._replacements=e},enumerable:!1,configurable:!0}),t.prototype.refresh=function(){this.replacements=this._replacements},Object.defineProperty(t.prototype,"maxColors",{get:function(){return this._maxColors},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"epsilon",{get:function(){return this.uniforms.epsilon},set:function(e){this.uniforms.epsilon=e},enumerable:!1,configurable:!0}),t}(uE);function jE(e,t,i){return t>e?t:i<e?i:e}function qE(e,t,i){return e*(1-i)+t*i}function $E(e,t,i){const r=t/100,n=i/100,s=t=>(t+e/60)%6;return[5,3,1].map((e=>Math.floor(255*(e=>n*(1-r*Math.max(0,Math.min(s(e),4-s(e),1))))(e))))}function eJ(e){return(e[0]<<16)+(e[1]<<8)+e[2]}function tJ(e){return e>>16}function iJ(e){return e>>8&255}function rJ(e){return 255&e}function nJ(e){return[e>>16,e>>8&255,255&e]}function sJ(e,t){const i="number"==typeof e?nJ(e):e,r="number"==typeof t?nJ(t):t;return eJ(i.map(((e,t)=>Math.round(e/255*(r[t]/255)*255))))}function aJ(e,t,i){return(qE(tJ(e),tJ(t),i)<<16)+(qE(iJ(e),iJ(t),i)<<8)+qE(rJ(e),rJ(t),i)}function oJ(e){const t=[16711680,16742400,16767232,65280,65535,15631086],i=6*e%1,r=Math.floor(6*e);return aJ(t[r%6],t[(r+1)%6],i)}function lJ(e){const t={};for(let[i,r]of Object.entries(e))t[i]=new rb(r);return t}function hJ(e,t){return new bb(t,e.frame)}class uJ extends By{constructor(){super(),this.disposers=[]}makeReaction(e,t,i=!0){let r=mp(e,t,{fireImmediately:i});this.disposers.push(r)}dispose(e){if("number"==typeof e&&e>=0&&e<this.disposers.length)return this.disposers[e](),void this.disposers.splice(e,1);for(let e=0;e<this.disposers.length;e++)this.disposers[e]();this.disposers=[]}destroy(e){super.destroy(e),this.dispose()}}class dJ extends uJ{constructor(e){super(),this.baseTexture=e,this.sprite=new sS,this.prismatic=!1,this.addChild(this.sprite),this.subSprite=new sS,this.subSprite.zIndex=2.75,this.zIndex=4}initialize(e){this.makeReaction((()=>({boundBox:e.hatBoundBox,offsetY:e.hatYOffset,masked:e.hat.isMask&&0===e.direction})),this.changeSprite.bind(this)),this.makeReaction((()=>e.hatTint),this.changePrismatic.bind(this)),this.makeReaction((()=>e.hatsSheet._spritesheet?.blobURL??"/assets/hats.png"),this.changeSpriteSheet.bind(this),!1)}changeSprite({boundBox:e,offsetY:t,masked:i}){if(i){const{x:i,y:r,width:n}=e,s=new bb(this.baseTexture,new HC(i,r,n,11)),a=new bb(this.baseTexture,new HC(i,r+11,n,9));this.sprite.texture=a,this.sprite.x=-2,this.sprite.y=t+11,this.subSprite.texture=s,this.subSprite.x=-2,this.subSprite.y=t}else{const i=new bb(this.baseTexture,e);this.sprite.texture=i,this.sprite.x=-2,this.sprite.y=t,this.subSprite.texture=bb.EMPTY}}changePrismatic(e){this.prismatic="prismatic"===e,this.prismatic||(this.sprite.tint=16777215)}changeSpriteSheet(e){this.baseTexture=new rb(e),this.sprite.texture=hJ(this.sprite.texture,this.baseTexture)}applyTint(e){this.sprite.tint=e}}class cJ extends uJ{constructor(e,t){super(),this.baseTexture=e,this.additionalTexture=t,this.sprite=new sS,this.currentSheet="default",this.addChild(this.sprite),this.zIndex=3}initialize(e){this.makeReaction((()=>({boundBox:e.hairBoundBox,offsetY:e.hairstyleYOffset})),this.changeSprite.bind(this)),this.makeReaction((()=>e.hairTint),this.applyTint.bind(this)),this.makeReaction((()=>{let t={...e.hairstyleSheet._additionalSheet,hairstyles2:"/assets/hairstyles2.png"};return{base:e.hairstyleSheet._spritesheet?.blobURL??"/assets/hairstyle.png",additional:t}}),(t=>this.changeSpriteSheet(t,e)),!1)}changeSprite({boundBox:e,offsetY:t}){const{rect:i,sheet:r="default",flipped:n}=e,s="default"===r?this.baseTexture:this.additionalTexture[r];try{const e=new bb(s,i);this.sprite.texture=e}catch(e){if(!e.message.startsWith("Texture Error: frame does not fit inside the base Texture dimensions:"))throw e}this.sprite.x=0,this.sprite.y=t,this.currentSheet=r,this.sprite.scale.x=n?-1:1,n&&(this.sprite.x=this.sprite.width)}changeSpriteSheet({base:e,additional:t},i){this.baseTexture=new rb(e),this.additionalTexture=lJ(t);const r="default"===this.currentSheet?this.baseTexture:this.additionalTexture[this.currentSheet];this.sprite.texture=hJ(this.sprite.texture,r);const{hairBoundBox:n,hairstyleYOffset:s}=i;this.changeSprite({boundBox:n,offsetY:s})}applyTint(e){this.sprite.tint=e}}class pJ extends uJ{constructor(e){super(),this.baseTexture=e,this.uncoloredSprite=new sS,this.coloredSprite=new sS,this.prismatic=!1,this.addChild(this.uncoloredSprite,this.coloredSprite),this.zIndex=2}initialize(e){this.makeReaction((()=>({boundBox:e.shirtBoundBox,offsetY:e.shirtYOffset})),this.changeSprite.bind(this)),this.makeReaction((()=>e.shirtTint),this.changeColor.bind(this)),this.makeReaction((()=>e.shirtsSheet._spritesheet?.blobURL??"/assets/shirts.png"),this.changeSpriteSheet.bind(this),!1)}changeSprite({boundBox:e,offsetY:t}){const{uncolored:i,colored:r}=e,n=new bb(this.baseTexture,i),s=new bb(this.baseTexture,r);this.uncoloredSprite.texture=n,this.uncoloredSprite.x=4,this.uncoloredSprite.y=t,this.coloredSprite.texture=s,this.coloredSprite.x=4,this.coloredSprite.y=t}changeColor(e){this.prismatic="prismatic"===e,this.prismatic||this.applyTint(e)}changeSpriteSheet(e){this.baseTexture=new rb(e),this.uncoloredSprite.texture=hJ(this.uncoloredSprite.texture,this.baseTexture),this.coloredSprite.texture=hJ(this.coloredSprite.texture,this.baseTexture)}applyTint(e){this.coloredSprite.tint=e}}class gJ extends uJ{constructor(e){super(),this.baseTexture=e,this.sprite=new sS,this.prismatic=!1,this.addChild(this.sprite),this.zIndex=1}initialize(e){this.makeReaction((()=>e.pantsBoundBox),this.changeSprite.bind(this)),this.makeReaction((()=>e.pantsTint),this.changeColor.bind(this)),this.makeReaction((()=>e.pantsSheet._spritesheet?.blobURL??"/assets/pants.png"),this.changeSpriteSheet.bind(this),!1)}changeSprite(e){const{rect:t,flipped:i}=e,r=new bb(this.baseTexture,t);this.sprite.texture=r,this.sprite.x=0,this.sprite.scale.x=i?-1:1,i&&(this.sprite.x=this.sprite.width)}changeColor(e){this.prismatic="prismatic"===e,this.prismatic||this.applyTint(e)}changeSpriteSheet(e){this.baseTexture=new rb(e),this.sprite.texture=hJ(this.sprite.texture,this.baseTexture)}applyTint(e){this.sprite.tint=e}}class fJ extends uJ{constructor(e){super(),this.baseTextures=e,this.currentSheet="body_male",this.baseSprite=new sS,this.armSprite=new sS,this.addChild(this.baseSprite);const t=new Array(8).fill(0).map((()=>[0,0]));this.colorReplacer=new zE(t,.001,8),this.baseSprite.filters=[this.colorReplacer],this.armSprite.filters=[this.colorReplacer],this.zIndex=0,this.armSprite.zIndex=5}initialize(e){this.makeReaction((()=>({direction:e.direction,boundBox:e.bodyBoundBox,sheetName:e.body.sheet})),this.changeSprite.bind(this)),this.makeReaction((()=>e.bodyMaskedColor),this.changeColor.bind(this)),this.makeReaction((()=>e.bodySheet.urlDict),this.changeSpriteSheet.bind(this),!1)}changeSprite({direction:e,boundBox:t,sheetName:i}){const{base:r,arm:n,flipped:s}=t,a=new bb(this.baseTextures[i],r),o=new bb(this.baseTextures[i],n);this.baseSprite.texture=a,this.armSprite.texture=o,this.baseSprite.scale.x=s?-1:1,this.baseSprite.x=s?this.baseSprite.width:0,this.armSprite.scale.x=s?-1:1,this.armSprite.x=s?this.armSprite.width:0,this.currentSheet=i,this.armSprite.zIndex=0===e?-1:5}changeColor({from:e,to:t}){this.colorReplacer.replacements=e.map(((e,i)=>[e,t[i]]))}changeSpriteSheet(e){this.baseTextures=lJ(e),this.baseSprite.texture.baseTexture=this.baseTextures[this.currentSheet],this.armSprite.texture.baseTexture=this.baseTextures[this.currentSheet]}}class mJ{constructor(e){this.app=new ov({width:200,height:200,resolution:1,antialias:!0,useContextAlpha:!0,backgroundColor:0,backgroundAlpha:0}),Yf.SCALE_MODE=Fm.NEAREST,Yf.ROUND_PIXELS=!0,this.container=new By,this.container.pivot.set(8,16),this.container.scale.set(5),this.container.sortableChildren=!0,this.app.stage.addChild(this.container),this.baseTextures=function(){const e={body_male:"/assets/farmer_base.png",body_male_bald:"/assets/farmer_base_bald.png",body_female:"/assets/farmer_girl_base.png",body_female_bald:"/assets/farmer_girl_base_bald.png",hats:"/assets/hats.png",hairstyle:"/assets/hairstyle.png",hairstyle2:"/assets/hairstyles2.png",shirts:"/assets/shirts.png",pants:"/assets/pants.png"},t=new Map;for(let[i,r]of Object.entries(e))t.set(i,new rb(r));return t}(),this.farmer=e,this.elapsedTime=0,this.ticker=this.ticker.bind(this)}appendParent(e){e.appendChild(this.app.view),this.app.stage.pivot.set(-this.app.screen.width/2,-this.app.screen.height/2)}initializeSprites(){this.hatSprite=new dJ(this.baseTextures.get("hats")),this.hatSprite.initialize(this.farmer),this.container.addChild(this.hatSprite,this.hatSprite.subSprite),this.hairSprite=new cJ(this.baseTextures.get("hairstyle"),{hairstyles2:this.baseTextures.get("hairstyle2")}),this.hairSprite.initialize(this.farmer),this.container.addChild(this.hairSprite),this.shirtSprite=new pJ(this.baseTextures.get("shirts")),this.shirtSprite.initialize(this.farmer),this.container.addChild(this.shirtSprite),this.pantsSprite=new gJ(this.baseTextures.get("pants")),this.pantsSprite.initialize(this.farmer),this.container.addChild(this.pantsSprite);const e=["body_male","body_male_bald","body_female","body_female_bald"].reduce(((e,t)=>(e[t]=this.baseTextures.get(t),e)),{});this.bodySprite=new fJ(e),this.bodySprite.initialize(this.farmer),this.container.addChild(this.bodySprite,this.bodySprite.armSprite)}initialize(){this.app.start(),this.initializeSprites(),window.addEventListener("resize",this.resize),this.app.ticker.add(this.ticker)}ticker(e){const t=60*e;this.elapsedTime=(this.elapsedTime+t)%3e3;const i=oJ(this.elapsedTime/3e3);this.hatSprite.prismatic&&this.hatSprite.applyTint(i),this.shirtSprite.prismatic&&this.shirtSprite.applyTint(i),this.pantsSprite.prismatic&&this.pantsSprite.applyTint(i)}destroy(){this.container.destroy({children:!0})}}var CJ={exports:{}},yJ={},bJ=n.exports,IJ=Symbol.for("react.element"),vJ=Symbol.for("react.fragment"),_J=Object.prototype.hasOwnProperty,SJ=bJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kJ={key:!0,ref:!0,__self:!0,__source:!0};function TJ(e,t,i){var r,n={},s=null,a=null;for(r in void 0!==i&&(s=""+i),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(a=t.ref),t)_J.call(t,r)&&!kJ.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===n[r]&&(n[r]=t[r]);return{$$typeof:IJ,type:e,key:s,ref:a,props:n,_owner:SJ.current}}yJ.Fragment=vJ,yJ.jsx=TJ,yJ.jsxs=TJ,CJ.exports=yJ;class AJ extends n.exports.Component{constructor(e){super(),this.hud=new mJ(e.characterStore),this.canvasDom=n.exports.createRef()}componentDidMount(){this.canvasDom.current&&(this.hud.appendParent(this.canvasDom.current),this.hud.initialize())}componentWillUnmount(){this.canvasDom.current&&this.hud.destroy()}render(){return CJ.exports.jsx("div",{className:"viewer-canvas",ref:this.canvasDom})}}class wJ{value=0;hue=0;saturation=0;brightness=100;constructor({value:e=0,hue:t=0,saturation:i=0,brightness:r=100}={}){Op(this,{value:pc,hue:pc,saturation:pc,brightness:pc,color:mc,changeSelect:dp,adjustSelect:dp,changeHue:dp,changeSaturation:dp,changeBrightness:dp}),this.value=e,this.hue=Math.round(t),this.saturation=Math.round(i),this.brightness=Math.round(r)}get color(){return $E(this.hue,this.saturation,this.brightness)}changeSelect(e){this.value=e}adjustSelect(e){this.value>=e&&(this.value=0)}changeHue(e){this.hue=+e}changeSaturation(e){this.saturation=+e}changeBrightness(e){this.brightness=+e}}var EJ=[{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!0,isMask:!0,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!0,isMask:!0,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!0,isMask:!0,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!1,isMask:!1,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!1,isMask:!1,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!1,isMask:!1,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!1,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!1,isMask:!1,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!1,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!1,isMask:!1,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!1,isMask:!1,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!0,isMask:!0,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:2,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:2,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!1,isMask:!1,prismatic:!1},{hairDrawType:2,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:2,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:2,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:2,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:2,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!0,isMask:!0,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:2,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!0,isMask:!0,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!0},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!0},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!1,isMask:!1,prismatic:!1},{hairDrawType:2,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:2,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:2,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:0,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:2,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:2,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1},{hairDrawType:1,ignoreHairstyleOffset:!0,isMask:!1,prismatic:!1}],JJ={100:{sheet:"hairstyles2",tileX:0,tileY:0,useUniqueLeft:!0,coveredHair:100,isBald:!1},101:{sheet:"hairstyles2",tileX:1,tileY:0,useUniqueLeft:!0,coveredHair:-101,isBald:!1},102:{sheet:"hairstyles2",tileX:2,tileY:0,useUniqueLeft:!0,coveredHair:102,isBald:!1},103:{sheet:"hairstyles2",tileX:3,tileY:0,useUniqueLeft:!0,coveredHair:103,isBald:!1},104:{sheet:"hairstyles2",tileX:4,tileY:0,useUniqueLeft:!0,coveredHair:103,isBald:!1},105:{sheet:"hairstyles2",tileX:5,tileY:0,useUniqueLeft:!0,coveredHair:105,isBald:!1},106:{sheet:"hairstyles2",tileX:6,tileY:0,useUniqueLeft:!0,coveredHair:105,isBald:!1},107:{sheet:"hairstyles2",tileX:7,tileY:0,useUniqueLeft:!0,coveredHair:-111,isBald:!1},108:{sheet:"hairstyles2",tileX:0,tileY:8,useUniqueLeft:!0,coveredHair:116,isBald:!1},109:{sheet:"hairstyles2",tileX:1,tileY:8,useUniqueLeft:!0,coveredHair:-111,isBald:!1},110:{sheet:"hairstyles2",tileX:2,tileY:8,useUniqueLeft:!0,coveredHair:-110,isBald:!1},111:{sheet:"hairstyles2",tileX:3,tileY:8,useUniqueLeft:!0,coveredHair:112,isBald:!1},112:{sheet:"hairstyles2",tileX:4,tileY:8,useUniqueLeft:!0,coveredHair:112,isBald:!1},113:{sheet:"hairstyles2",tileX:5,tileY:8,useUniqueLeft:!0,coveredHair:113,isBald:!1},114:{sheet:"hairstyles2",tileX:6,tileY:8,useUniqueLeft:!0,coveredHair:-114,isBald:!1},115:{sheet:"hairstyles2",tileX:7,tileY:8,useUniqueLeft:!0,coveredHair:-115,isBald:!1},116:{sheet:"hairstyles2",tileX:0,tileY:16,useUniqueLeft:!0,coveredHair:116,isBald:!1},117:{sheet:"hairstyles2",tileX:1,tileY:16,useUniqueLeft:!0,coveredHair:112,isBald:!1},"-101":{sheet:"hairstyles2",tileX:2,tileY:16,useUniqueLeft:!0,coveredHair:-101,isBald:!1},"-114":{sheet:"hairstyles2",tileX:3,tileY:16,useUniqueLeft:!0,coveredHair:-114,isBald:!1},"-115":{sheet:"hairstyles2",tileX:4,tileY:16,useUniqueLeft:!0,coveredHair:-115,isBald:!1},"-110":{sheet:"hairstyles2",tileX:5,tileY:16,useUniqueLeft:!0,coveredHair:-110,isBald:!1},"-111":{sheet:"hairstyles2",tileX:6,tileY:16,useUniqueLeft:!0,coveredHair:-111,isBald:!1}},RJ=[{name:"shirts.name.0",male:0,female:0,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:1,female:1,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.2",male:2,female:2,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.3",male:3,female:3,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.4",male:4,female:4,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.5",male:5,female:5,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.6",male:6,female:6,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.7",male:7,female:7,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.8",male:8,female:8,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.9",male:9,female:9,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.10",male:10,female:10,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.11",male:11,female:11,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.12",male:12,female:12,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.13",male:13,female:13,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.14",male:14,female:14,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.15",male:15,female:15,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.16",male:16,female:16,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.17",male:17,female:17,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.18",male:18,female:18,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.19",male:19,female:19,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.20",male:20,female:20,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.21",male:21,female:21,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:22,female:22,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:23,female:23,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:24,female:24,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:25,female:25,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.26",male:26,female:26,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.27",male:27,female:27,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.28",male:28,female:28,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.29",male:29,female:29,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.30",male:30,female:30,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:31,female:31,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:32,female:32,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:33,female:33,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.34",male:34,female:34,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.35",male:35,female:35,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:36,female:36,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:37,female:37,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.38",male:38,female:41,color:[255,235,203],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.39",male:39,female:39,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:40,female:40,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:41,female:41,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.42",male:42,female:42,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:43,female:43,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:44,female:44,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:45,female:45,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:46,female:46,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:47,female:47,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:48,female:48,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:49,female:49,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:50,female:50,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:51,female:51,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:52,female:52,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:53,female:53,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:54,female:54,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:55,female:55,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:56,female:56,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:57,female:57,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:58,female:58,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:59,female:59,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:60,female:60,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:61,female:61,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:62,female:62,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:63,female:63,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:64,female:64,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:65,female:65,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:66,female:66,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:67,female:67,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:68,female:68,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:69,female:69,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:70,female:70,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.71",male:71,female:71,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:72,female:72,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:73,female:73,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:74,female:74,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:75,female:75,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:76,female:76,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:77,female:77,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:78,female:78,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:79,female:79,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:80,female:80,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:81,female:81,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:82,female:82,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:83,female:83,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:84,female:84,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:85,female:85,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:86,female:86,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.87",male:87,female:87,color:[220,48,62],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:88,female:88,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:89,female:89,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:90,female:90,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:91,female:91,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:92,female:92,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:93,female:93,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:94,female:94,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:95,female:95,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:96,female:96,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:97,female:97,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:98,female:98,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:99,female:99,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:100,female:100,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:101,female:101,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:102,female:102,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:103,female:103,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:104,female:104,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:105,female:105,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:106,female:106,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:107,female:107,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:108,female:108,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:109,female:109,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:110,female:110,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:111,female:111,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:112,female:112,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:113,female:113,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:114,female:114,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:115,female:115,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:116,female:116,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:117,female:117,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:118,female:118,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:119,female:119,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:120,female:120,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:121,female:121,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:122,female:122,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.123",male:123,female:123,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:124,female:124,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:125,female:125,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:126,female:126,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.127",male:127,female:127,color:[255,235,203],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.128",male:128,female:128,color:[255,235,203],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.129",male:129,female:130,color:[255,235,203],dyeable:!0,sleeveless:!0,prismatic:!1},{name:"shirts.name.131",male:131,female:131,color:[255,235,203],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.132",male:132,female:133,color:[255,235,203],dyeable:!0,sleeveless:!0,prismatic:!1},{name:"shirts.name.134",male:134,female:134,color:[255,235,203],dyeable:!0,sleeveless:!0,prismatic:!1},{name:"shirts.name.135",male:135,female:135,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.136",male:152,female:136,color:[255,235,203],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.137",male:137,female:137,color:[207,40,21],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.138",male:138,female:138,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.139",male:139,female:139,color:[255,235,203],dyeable:!0,sleeveless:!0,prismatic:!1},{name:"shirts.name.140",male:140,female:140,color:[255,235,203],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.141",male:141,female:141,color:[255,235,203],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.142",male:142,female:142,color:[255,235,203],dyeable:!0,sleeveless:!0,prismatic:!1},{name:"shirts.name.143",male:143,female:143,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:144,female:144,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:145,female:145,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:146,female:146,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:147,female:147,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.148",male:148,female:148,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.149",male:149,female:149,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.150",male:150,female:150,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.151",male:151,female:151,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.153",male:153,female:153,color:[249,174,137],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.154",male:154,female:154,color:[255,255,255],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.155",male:155,female:155,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.156",male:156,female:156,color:[255,255,255],dyeable:!1,sleeveless:!0,prismatic:!1},{name:"shirts.name.157",male:157,female:157,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.158",male:158,female:158,color:[150,200,100],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.159",male:159,female:159,color:[255,255,255],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.160",male:160,female:160,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.161",male:161,female:161,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.162",male:162,female:162,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.163",male:163,female:163,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.164",male:164,female:164,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.165",male:165,female:165,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.166",male:166,female:166,color:[255,255,255],dyeable:!0,sleeveless:!0,prismatic:!1},{name:"shirts.name.167",male:167,female:167,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.168",male:168,female:168,color:[255,255,255],dyeable:!1,sleeveless:!0,prismatic:!1},{name:"shirts.name.169",male:169,female:169,color:[255,255,255],dyeable:!1,sleeveless:!0,prismatic:!1},{name:"shirts.name.170",male:170,female:170,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.171",male:171,female:171,color:[255,255,255],dyeable:!1,sleeveless:!0,prismatic:!1},{name:"shirts.name.172",male:172,female:172,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.173",male:173,female:173,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.174",male:174,female:174,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.175",male:175,female:175,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.176",male:176,female:177,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.178",male:178,female:178,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.179",male:179,female:179,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.180",male:180,female:180,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:181,female:181,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.default",male:182,female:182,color:[255,255,255],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.183",male:183,female:183,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.184",male:184,female:184,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.185",male:185,female:185,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.186",male:186,female:186,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.187",male:187,female:187,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.188",male:188,female:188,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.189",male:189,female:189,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.190",male:190,female:190,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.191",male:191,female:191,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.192",male:192,female:192,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.193",male:193,female:193,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.194",male:194,female:194,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.195",male:195,female:195,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.196",male:196,female:196,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.197",male:197,female:197,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.198",male:198,female:198,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.199",male:199,female:199,color:[255,0,0],dyeable:!1,sleeveless:!0,prismatic:!1},{name:"shirts.name.200",male:200,female:200,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.201",male:201,female:202,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.203",male:203,female:203,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.204",male:204,female:204,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.205",male:205,female:205,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.206",male:206,female:206,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.207",male:207,female:207,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.208",male:208,female:208,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.209",male:209,female:209,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.210",male:210,female:210,color:[255,255,255],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.211",male:211,female:211,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.212",male:212,female:212,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.213",male:213,female:213,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.214",male:214,female:214,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.215",male:215,female:215,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.216",male:216,female:216,color:[46,85,183],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.217",male:217,female:217,color:[46,85,183],dyeable:!0,sleeveless:!0,prismatic:!1},{name:"shirts.name.218",male:218,female:218,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.219",male:219,female:219,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.220",male:220,female:220,color:[178,98,51],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.221",male:221,female:221,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.222",male:222,female:222,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.223",male:223,female:223,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!0},{name:"shirts.name.224",male:224,female:224,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.225",male:225,female:225,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.226",male:226,female:226,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.227",male:227,female:227,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.228",male:228,female:228,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.229",male:229,female:229,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.230",male:230,female:230,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.231",male:231,female:231,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.232",male:232,female:232,color:[255,0,0],dyeable:!1,sleeveless:!0,prismatic:!1},{name:"shirts.name.233",male:233,female:233,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.234",male:234,female:234,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.235",male:235,female:235,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.236",male:236,female:236,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.237",male:237,female:237,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.238",male:238,female:238,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.239",male:239,female:239,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.240",male:240,female:240,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.241",male:241,female:241,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.242",male:242,female:242,color:[255,0,0],dyeable:!1,sleeveless:!0,prismatic:!1},{name:"shirts.name.243",male:243,female:243,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.244",male:244,female:244,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.245",male:245,female:245,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.246",male:246,female:246,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.247",male:247,female:247,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.248",male:248,female:248,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.249",male:249,female:249,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.250",male:250,female:250,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.251",male:251,female:251,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.252",male:252,female:252,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.253",male:253,female:253,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.254",male:254,female:254,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.255",male:255,female:255,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.256",male:256,female:256,color:[255,0,0],dyeable:!1,sleeveless:!0,prismatic:!1},{name:"shirts.name.257",male:257,female:257,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.258",male:258,female:258,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.259",male:259,female:259,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.260",male:260,female:260,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.261",male:261,female:261,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.262",male:262,female:262,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.263",male:263,female:263,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.264",male:264,female:264,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.265",male:265,female:265,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.266",male:266,female:266,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.267",male:267,female:267,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.268",male:268,female:268,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.269",male:269,female:269,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.270",male:270,female:270,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.271",male:271,female:271,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.272",male:272,female:272,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.273",male:273,female:273,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.274",male:274,female:274,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.275",male:275,female:275,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.276",male:276,female:276,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.277",male:277,female:277,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.278",male:278,female:278,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.279",male:279,female:279,color:[255,0,0],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.280",male:280,female:280,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.281",male:281,female:281,color:[255,0,0],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.282",male:282,female:282,color:[255,0,0],dyeable:!1,sleeveless:!0,prismatic:!1},{name:"shirts.name.283",male:283,female:283,color:[0,50,200],dyeable:!0,sleeveless:!0,prismatic:!1},{name:"shirts.name.284",male:284,female:284,color:[0,50,200],dyeable:!0,sleeveless:!1,prismatic:!1},{name:"shirts.name.285",male:285,female:285,color:[0,50,200],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.286",male:286,female:286,color:[0,50,200],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.287",male:287,female:287,color:[0,50,200],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.288",male:290,female:290,color:[0,50,200],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.289",male:291,female:291,color:[0,50,200],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.290",male:292,female:292,color:[0,50,200],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.291",male:293,female:293,color:[0,50,200],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.292",male:294,female:294,color:[0,50,200],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.293",male:295,female:295,color:[0,50,200],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.294",male:296,female:296,color:[0,50,200],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.295",male:297,female:297,color:[0,50,200],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.296",male:298,female:298,color:[0,50,200],dyeable:!1,sleeveless:!1,prismatic:!1},{name:"shirts.name.297",male:299,female:299,color:[255,195,0],dyeable:!0,sleeveless:!0,prismatic:!1},{name:"shirts.name.997",male:272,female:272,color:[0,50,200],dyeable:!1,sleeveless:!1,prismatic:!0},{name:"shirts.name.998",male:289,female:289,color:[0,50,200],dyeable:!1,sleeveless:!1,prismatic:!0},{name:"shirts.name.999",male:288,female:288,color:[0,50,200],dyeable:!1,sleeveless:!1,prismatic:!0}],xJ=[{light:9314060,mid:7345944,dark:4852742,dyeable:0},{light:13596928,mid:10573824,dark:6563584,dyeable:0},{light:10215604,mid:4090446,dark:1717026,dyeable:0},{light:2171171,mid:1250068,dark:592138,dyeable:0},{light:2171171,mid:1250068,dark:592138,dyeable:0},{light:6265014,mid:2707327,dark:920629,dyeable:0},{light:16241325,mid:12883849,dark:6109761,dyeable:0},{light:2077257,mid:1335599,dark:796700,dyeable:0},{light:16765214,mid:13998102,dark:4987142,dyeable:0},{light:4898490,mid:3045260,dark:1192004,dyeable:0},{light:4079166,mid:3223857,dark:592138,dyeable:0},{light:2588459,mid:545820,dark:204298,dyeable:0},{light:9693204,mid:6923534,dark:1582608,dyeable:0},{light:11338499,mid:8520194,dark:3670273,dyeable:0},{light:4079166,mid:3223857,dark:592138,dyeable:0},{light:12410432,mid:8536364,dark:6044191,dyeable:0},{light:5724090,mid:3289740,dark:1179955,dyeable:0},{light:6926978,mid:4090446,dark:1717026,dyeable:0},{light:7221512,mid:4266497,dark:2887936,dyeable:0},{light:15395562,mid:9808063,dark:3026500,dyeable:0},{light:9535597,mid:6313309,dark:2959404,dyeable:0},{light:13871639,mid:11369999,dark:4992774,dyeable:0},{light:12128768,mid:9242376,dark:5505024,dyeable:0},{light:3247628,mid:2384687,dark:1258777,dyeable:0},{light:4826060,mid:3041687,dark:1253173,dyeable:0},{light:1070496,mid:467296,dark:266805,dyeable:0},{light:9224864,mid:5809033,dark:2706506,dyeable:0},{light:13393810,mid:7606616,dark:4000570,dyeable:0},{light:2171171,mid:1250068,dark:592138,dyeable:0},{light:13750706,mid:11842206,dark:5130819,dyeable:0},{light:5516568,mid:4464910,dark:2627084,dyeable:0},{light:11372902,mid:8348747,dark:3352606,dyeable:0},{light:12320777,mid:8323078,dark:2949122,dyeable:0},{light:3247628,mid:2384687,dark:204298,dyeable:0},{light:9520158,mid:6828309,dark:3479819,dyeable:0},{light:12320777,mid:8323078,dark:2949122,dyeable:0},{light:14845344,mid:11360895,dark:8335187,dyeable:0},{light:5987163,mid:3355443,dark:723723,dyeable:0},{light:15395562,mid:11906975,dark:4670521,dyeable:0},{light:9224864,mid:5809033,dark:1907997,dyeable:0},{light:12159714,mid:7812023,dark:3808596,dyeable:0},{light:15395562,mid:11906975,dark:4670521,dyeable:0},{light:6539096,mid:3247628,dark:204298,dyeable:0},{light:1070496,mid:603512,dark:266805,dyeable:0},{light:9287664,mid:4750532,dark:2050178,dyeable:0},{light:11675405,mid:8855566,dark:4332810,dyeable:0},{light:8522438,mid:6622616,dark:3080277,dyeable:0},{light:9193262,mid:6760988,dark:3871514,dyeable:0},{light:2894893,mid:1710619,dark:328966,dyeable:0},{light:16767999,mid:13866187,dark:5186887,dyeable:0},{light:6447812,mid:4342438,dark:5643078,dyeable:0},{light:16767999,mid:13866187,dark:5838892,dyeable:0},{light:9465517,mid:6309239,dark:3939927,dyeable:0},{light:2171171,mid:1250068,dark:592138,dyeable:0},{light:9224864,mid:5809033,dark:2706506,dyeable:0},{light:14182237,mid:8857928,dark:5312550,dyeable:0},{light:8712796,mid:3574323,dark:2051869,dyeable:0},{light:15395562,mid:11906975,dark:6498858,dyeable:0},{light:5987301,mid:2434462,dark:1842267,dyeable:0},{light:15048489,mid:12477983,dark:5976092,dyeable:0},{light:6844387,mid:3356554,dark:1908815,dyeable:0},{light:15898213,mid:12675649,dark:5977121,dyeable:0},{light:4750532,mid:2705800,dark:1383477,dyeable:0},{light:6299703,mid:8323078,dark:2949122,dyeable:0},{light:4826060,mid:3041687,dark:1912914,dyeable:0},{light:3247628,mid:2384687,dark:1258777,dyeable:0},{light:12362899,mid:8351846,dark:3485998,dyeable:0},{light:16767840,mid:11040299,dark:6505733,dyeable:0},{light:12442508,mid:9941618,dark:1259554,dyeable:0},{light:4242803,mid:2916942,dark:1259554,dyeable:0},{light:12401089,mid:8464261,dark:3674425,dyeable:0},{light:15395562,mid:11906975,dark:4670521,dyeable:0},{light:15585740,mid:13205878,dark:7029077,dyeable:0},{light:5783741,mid:4009090,dark:4069189,dyeable:0},{light:3036599,mid:2235821,dark:986185,dyeable:0},{light:2171171,mid:1250068,dark:592138,dyeable:0},{light:12943827,mid:9779624,dark:4663103,dyeable:0},{light:15395562,mid:11906975,dark:4670521,dyeable:0},{light:11157693,mid:7679106,dark:4069189,dyeable:0},{light:3632595,mid:1783694,dark:1250124,dyeable:0},{light:9077910,mid:6444139,dark:2366245,dyeable:0},{light:4242811,mid:2916948,dark:1259556,dyeable:0},{light:2630736,mid:1972025,dark:854296,dyeable:0},{light:2697515,mid:1776412,dark:592138,dyeable:0},{light:2894893,mid:1710619,dark:328966,dyeable:0},{light:12128768,mid:9242376,dark:5505024,dyeable:0},{light:4237493,mid:1400961,dark:10581,dyeable:0},{light:15395562,mid:11906975,dark:3684408,dyeable:0},{light:13876822,mid:12026399,dark:7029778,dyeable:0},{light:8274109,mid:5713026,dark:2429752,dyeable:0},{light:3487029,mid:2434341,dark:1118481,dyeable:0},{light:4308288,mid:2982444,dark:1325075,dyeable:0},{light:16277640,mid:11420768,dark:6367288,dyeable:0},{light:11906975,mid:7038814,dark:4012849,dyeable:0},{light:14181193,mid:10502700,dark:5644567,dyeable:0},{light:15048489,mid:12477983,dark:5976092,dyeable:0},{light:8307506,mid:5148967,dark:1253661,dyeable:0},{light:8026746,mid:5789784,dark:2960685,dyeable:0},{light:2697515,mid:1776412,dark:592138,dyeable:0},{light:7473831,mid:5049727,dark:2884427,dyeable:0},{light:7577030,mid:4809835,dark:1129028,dyeable:0},{light:2697515,mid:1776412,dark:592138,dyeable:0},{light:14135969,mid:10453620,dark:3481880,dyeable:0},{light:11513775,mid:6184542,dark:2697513,dyeable:0},{light:5155208,mid:1798759,dark:337466,dyeable:0},{light:4815058,mid:1724084,dark:10082,dyeable:0},{light:7263408,mid:4432512,dark:337466,dyeable:0},{light:12670101,mid:9580138,dark:4916014,dyeable:0},{light:13790785,mid:11748369,dark:5316111,dyeable:0},{light:7473831,mid:5049727,dark:2884427,dyeable:0},{light:12602624,mid:9120256,dark:5512704,dyeable:0},{light:8426004,mid:6974995,dark:4079879,dyeable:0},{light:12353792,mid:8345344,dark:2957056,dyeable:0},{light:16024968,mid:13461899,dark:5379909,dyeable:0},{light:11814717,mid:8064527,dark:4719620,dyeable:0},{light:4815058,mid:4815058,dark:10082,dyeable:0},{light:16225968,mid:14177913,dark:4916014,dyeable:0},{light:31955,mid:18599,dark:8265,dyeable:0},{light:5945557,mid:2983364,dark:792913,dyeable:0},{light:15030100,mid:12857389,dark:4132131,dyeable:0},{light:15180885,mid:14190373,dark:5320218,dyeable:0},{light:10576328,mid:8730035,dark:3804730,dyeable:0},{light:6184542,mid:2697515,dark:592138,dyeable:0},{light:15395562,mid:9335145,dark:3881791,dyeable:0},{light:1070496,mid:603512,dark:266805,dyeable:0},{light:12669500,mid:9115966,dark:4000519,dyeable:0},{light:1819031,mid:1081995,dark:473405,dyeable:0},{light:31955,mid:18599,dark:8265,dyeable:0},{light:11378836,mid:8550511,dark:4670521,dyeable:7},{light:0,mid:0,dark:4670521,dyeable:1},{light:0,mid:0,dark:4670521,dyeable:1},{light:15395562,mid:11906975,dark:4670521,dyeable:0},{light:0,mid:0,dark:4670521,dyeable:1},{light:0,mid:0,dark:4670521,dyeable:1},{light:6841428,mid:6841428,dark:4670521,dyeable:7},{light:11199805,mid:5347610,dark:999987,dyeable:0},{light:15395562,mid:11906975,dark:4670521,dyeable:7},{light:15395562,mid:8871507,dark:5526612,dyeable:1},{light:3223857,mid:328967,dark:0,dyeable:0},{light:0,mid:4670521,dark:4670521,dyeable:3},{light:15395562,mid:11906975,dark:4670521,dyeable:7},{light:15395562,mid:13947077,dark:4670521,dyeable:7},{light:0,mid:4670521,dark:4670521,dyeable:3},{light:13774388,mid:8927008,dark:1059375,dyeable:0},{light:2589708,mid:87299,dark:9748,dyeable:0},{light:3780550,mid:2183794,dark:401215,dyeable:0},{light:16756224,mid:11362816,dark:4466468,dyeable:0},{light:6003280,mid:4683833,dark:10509,dyeable:0},{light:13418953,mid:10522012,dark:4997962,dyeable:0},{light:15435594,mid:12868643,dark:6103565,dyeable:0},{light:16754984,mid:15106049,dark:7287040,dyeable:0},{light:10823935,mid:6947570,dark:3080303,dyeable:0},{light:15395562,mid:11906975,dark:4670521,dyeable:7},{light:14605785,mid:13684165,dark:4670521,dyeable:7},{light:15395562,mid:8550511,dark:4670521,dyeable:7},{light:3874334,mid:2561301,dark:592138,dyeable:0},{light:11362816,mid:16756224,dark:6694147,dyeable:0},{light:15106049,mid:11362816,dark:1580555,dyeable:0},{light:2698766,mid:1843460,dark:987136,dyeable:0},{light:15395562,mid:11906975,dark:4670521,dyeable:7},{light:12757417,mid:9141113,dark:4077878,dyeable:0},{light:3780550,mid:2717070,dark:401215,dyeable:0},{light:12714020,mid:9109518,dark:4066560,dyeable:0},{light:7644117,mid:4289187,dark:1781339,dyeable:0},{light:14583808,mid:11621891,dark:6500900,dyeable:0},{light:16241325,mid:12883849,dark:3287075,dyeable:0},{light:3675916,mid:3675916,dark:3675916,dyeable:0},{light:15395562,mid:11906975,dark:1186599,dyeable:0},{light:0,mid:0,dark:598791,dyeable:0},{light:4135479,mid:4135479,dark:1967385,dyeable:0},{light:3104703,mid:1975930,dark:2233113,dyeable:0},{light:732552,mid:732552,dark:989749,dyeable:0},{light:10851978,mid:7628898,dark:4536896,dyeable:0},{light:15395562,mid:11906975,dark:3684408,dyeable:0},{light:15780812,mid:15314094,dark:7225438,dyeable:0},{light:16382457,mid:11906975,dark:3684408,dyeable:7},{light:15921906,mid:14407630,dark:4670521,dyeable:7},{light:15921906,mid:14407630,dark:4670521,dyeable:7},{light:15921906,mid:14407630,dark:4670521,dyeable:7},{light:4603823,mid:3551367,dark:401215,dyeable:0},{light:10152734,mid:6008128,dark:1785125,dyeable:0},{light:15240813,mid:15427402,dark:5312273,dyeable:0},{light:11508125,mid:11508125,dark:5181187,dyeable:0},{light:8618098,mid:7039070,dark:3881791,dyeable:0},{light:12320777,mid:8323078,dark:2949122,dyeable:0},{light:3224911,mid:1974844,dark:134182,dyeable:0},{light:12320777,mid:8323078,dark:4456451,dyeable:0},{light:15972608,mid:13469440,dark:6173184,dyeable:0},{light:3224911,mid:1974844,dark:724517,dyeable:0},{light:3251712,mid:2453504,dark:1657088,dyeable:0},{light:5522995,mid:4141611,dark:3023905,dyeable:0},{light:16382457,mid:11906975,dark:3684408,dyeable:7},{light:2067175,mid:2067175,dark:273495,dyeable:0},{light:6154866,mid:1818232,dark:1918011,dyeable:0},{light:2894893,mid:328966,dark:328966,dyeable:0},{light:12661560,mid:12661560,dark:4656652,dyeable:0},{light:15921906,mid:14407630,dark:4670521,dyeable:7},{light:5969284,mid:4066905,dark:1443103,dyeable:0},{light:11817984,mid:8010240,dark:2823168,dyeable:0},{light:16575702,mid:13087115,dark:5850661,dyeable:0},{light:3224911,mid:3224911,dark:724517,dyeable:0},{light:10814503,mid:7340827,dark:2621705,dyeable:0},{light:10814503,mid:7340827,dark:2621705,dyeable:0},{light:3238316,mid:3238316,dark:794431,dyeable:0},{light:32755,mid:20113,dark:862307,dyeable:0},{light:10767887,mid:7879183,dark:4465421,dyeable:0},{light:7825310,mid:7825310,dark:2695223,dyeable:0},{light:1099547,mid:1542438,dark:669696,dyeable:0},{light:8627824,mid:6322770,dark:2437152,dyeable:0},{light:15921906,mid:14407630,dark:4670521,dyeable:7},{light:2171171,mid:1250068,dark:592138,dyeable:0},{light:2960685,mid:1973793,dark:592138,dyeable:0},{light:2843283,mid:1917540,dark:661283,dyeable:0},{light:15921906,mid:7764346,dark:1973793,dyeable:0},{light:11468805,mid:7410999,dark:4787495,dyeable:0},{light:10158206,mid:4915261,dark:1052688,dyeable:0},{light:15395562,mid:11906975,dark:4670521,dyeable:7},{light:0,mid:0,dark:989239,dyeable:0},{light:15921906,mid:14407630,dark:4670521,dyeable:7},{light:3881791,mid:1973793,dark:592138,dyeable:0},{light:15921906,mid:14407630,dark:4670521,dyeable:7},{light:4340041,mid:2893368,dark:1052688,dyeable:0},{light:15921906,mid:14407630,dark:4670521,dyeable:7},{light:5921371,mid:3355444,dark:2302756,dyeable:0},{light:4478077,mid:3424606,dark:1382437,dyeable:0},{light:16748288,mid:16748288,dark:8730117,dyeable:0},{light:14181284,mid:14181284,dark:8989816,dyeable:0},{light:16575702,mid:13087115,dark:5850661,dyeable:0},{light:11044026,mid:5919361,dark:3746626,dyeable:0},{light:4815058,mid:1724084,dark:10082,dyeable:0},{light:5937847,mid:2978965,dark:1388344,dyeable:0},{light:10186578,mid:6506807,dark:3481887,dyeable:0},{light:3947587,mid:3947587,dark:3947587,dyeable:0},{light:9737388,mid:8224149,dark:4210772,dyeable:0},{light:4758858,mid:2261285,dark:1391379,dyeable:0},{light:16769454,mid:14524505,dark:7026448,dyeable:0},{light:16774624,mid:15391420,dark:5654311,dyeable:0},{light:6245439,mid:5193527,dark:3352354,dyeable:0},{light:9979392,mid:6305057,dark:4000519,dyeable:0},{light:14145237,mid:11974067,dark:3749944,dyeable:0},{light:7840437,mid:5802400,dark:1388344,dyeable:0},{light:11639163,mid:10256477,dark:3548695,dyeable:0},{light:0,mid:17297,dark:5958,dyeable:0},{light:4268663,mid:4268663,dark:1902911,dyeable:0},{light:16776980,mid:14856722,dark:8008448,dyeable:0},{light:16670616,mid:16670616,dark:9513850,dyeable:0},{light:16777181,mid:16765204,dark:8008448,dyeable:0},{light:15902507,mid:9191168,dark:5965824,dyeable:0},{light:14407630,mid:14407630,dark:4670521,dyeable:7},{light:16766041,mid:16755220,dark:8003328,dyeable:0},{light:12903036,mid:8625728,dark:3687450,dyeable:0},{light:15239304,mid:9001301,dark:4465440,dyeable:0},{light:16232275,mid:14583808,dark:7028247,dyeable:0},{light:14464368,mid:10120246,dark:6237696,dyeable:0},{light:16764648,mid:16561105,dark:6498876,dyeable:0},{light:11845515,mid:7699271,dark:4013837,dyeable:0},{light:9538687,mid:9538687,dark:4670521,dyeable:0},{light:16761433,mid:13469767,dark:5446656,dyeable:0},{light:14854837,mid:9254816,dark:4791370,dyeable:0},{light:15395562,mid:9808063,dark:3026500,dyeable:0},{light:16776980,mid:12350509,dark:8008448,dyeable:0},{light:15395562,mid:9808063,dark:3026500,dyeable:7},{light:2894893,mid:1710619,dark:328966,dyeable:0},{light:2894893,mid:1710619,dark:328966,dyeable:0},{light:4473925,mid:3026479,dark:1315861,dyeable:0},{light:15986943,mid:11712196,dark:3816010,dyeable:0},{light:11899754,mid:7821364,dark:3680019,dyeable:0},{light:14118462,mid:9325356,dark:4004124,dyeable:0},{light:10082507,mid:5935493,dark:3485743,dyeable:0},{light:15983793,mid:13942627,dark:4993818,dyeable:0},{light:7323413,mid:5538841,dark:4011527,dyeable:0},{light:14407630,mid:11906975,dark:4670521,dyeable:7},{light:2894893,mid:1710619,dark:328966,dyeable:0},{light:16711422,mid:13027014,dark:4670521,dyeable:7},{light:4012330,mid:4012330,dark:3680289,dyeable:0},{light:15904550,mid:14062871,dark:6832936,dyeable:0},{light:12615472,mid:8998968,dark:5518119,dyeable:0},{light:16711422,mid:8553090,dark:4670521,dyeable:7},{light:16711422,mid:13027014,dark:4670521,dyeable:7},{light:2906996,mid:1255232,dark:726563,dyeable:0},{light:16711422,mid:13027014,dark:4670521,dyeable:7},{light:16711422,mid:13027014,dark:4670521,dyeable:7},{light:8859904,mid:8859904,dark:5773056,dyeable:0},{light:12866048,mid:8859904,dark:4784660,dyeable:0},{light:7895160,mid:4079167,dark:2697514,dyeable:7},{light:69,mid:41,dark:0,dyeable:0},{light:16032634,mid:12351857,dark:5845304,dyeable:0},{light:11924158,mid:6600588,dark:2180671,dyeable:0},{light:14211288,mid:10395294,dark:3486247,dyeable:0},{light:4144959,mid:3487029,dark:2170648,dyeable:0},{light:16757504,mid:11620864,dark:4794155,dyeable:0},{light:4079166,mid:3223857,dark:592138,dyeable:0},{light:467296,mid:41,dark:0,dyeable:0},{light:7471165,mid:6029370,dark:4456506,dyeable:0},{light:12866048,mid:8859904,dark:4784660,dyeable:0},{light:1982013,mid:1254178,dark:596248,dyeable:0},{light:14529792,mid:12487680,dark:7029524,dyeable:0},{light:16753866,mid:12468340,dark:6625850,dyeable:0},{light:11336179,mid:5612479,dark:1715529,dyeable:0},{light:2694943,mid:2694943,dark:5262155,dyeable:7}],GJ=[{name:"pants.name.0",sheetIndex:0,color:[255,235,203],dyeable:!0,prismatic:!1},{name:"pants.name.1",sheetIndex:1,color:[255,235,203],dyeable:!0,prismatic:!1},{name:"pants.name.2",sheetIndex:2,color:[255,235,203],dyeable:!0,prismatic:!1},{name:"pants.name.3",sheetIndex:3,color:[255,235,203],dyeable:!0,prismatic:!1},{name:"pants.name.4",sheetIndex:4,color:[255,235,203],dyeable:!0,prismatic:!1},{name:"pants.name.5",sheetIndex:5,color:[255,255,255],dyeable:!1,prismatic:!1},{name:"pants.name.6",sheetIndex:6,color:[255,255,255],dyeable:!1,prismatic:!1},{name:"pants.name.7",sheetIndex:7,color:[255,255,255],dyeable:!1,prismatic:!1},{name:"pants.name.8",sheetIndex:8,color:[255,235,203],dyeable:!0,prismatic:!1},{name:"pants.name.9",sheetIndex:9,color:[255,235,203],dyeable:!0,prismatic:!1},{name:"pants.name.10",sheetIndex:10,color:[255,235,203],dyeable:!0,prismatic:!1},{name:"pants.name.11",sheetIndex:11,color:[255,235,203],dyeable:!0,prismatic:!1},{name:"pants.name.12",sheetIndex:12,color:[255,235,203],dyeable:!0,prismatic:!1},{name:"pants.name.13",sheetIndex:13,color:[255,235,203],dyeable:!0,prismatic:!1},{name:"pants.name.15",sheetIndex:15,color:[255,235,203],dyeable:!1,prismatic:!1},{name:"pants.name.998",sheetIndex:0,color:[255,235,203],dyeable:!1,prismatic:!0},{name:"pants.name.999",sheetIndex:8,color:[255,235,203],dyeable:!1,prismatic:!0}],DJ=[{light:16363145,mid:14707557,dark:7012410},{light:14781542,mid:11027261,dark:5579829},{light:15769730,mid:13725256,dark:5579829},{light:16234906,mid:14914951,dark:7353145},{light:12870727,mid:10108717,dark:5774613},{light:11427641,mid:7350809,dark:4266002},{light:10634770,mid:7806996,dark:4330251},{light:13797947,mid:12475948,dark:6692890},{light:12417348,mid:10635290,dark:5580056},{light:16755634,mid:12743534,dark:8141108},{light:14070441,mid:10117484,dark:5452876},{light:15239774,mid:10698797,dark:5579047},{light:14869169,mid:9994847,dark:5518900},{light:15699104,mid:11292250,dark:5579829},{light:9196585,mid:5908499,dark:3017476},{light:14320468,mid:11485225,dark:5580337},{light:6864872,mid:29134,dark:1617},{light:12445832,mid:4239894,dark:213264},{light:16748174,mid:11474454,dark:4129539},{light:11702783,mid:7864526,dark:3938902},{light:16768396,mid:13403418,dark:5121795},{light:14537427,mid:8944769,dark:4340803},{light:16764318,mid:16417397,dark:7932990},{light:16765877,mid:16751495,dark:7483186}];function BJ(e,t){return[e[4*t],e[4*t+1],e[4*t+2],e[4*t+3]]}function NJ(e){const t=t=>eJ(BJ(e,t));return{sleeve:[258,257,256].map(t),skin:[262,261,260].map(t),eye:[277,276].map(t)}}function QJ(e,t){return[e[4*t],e[4*t+1],e[4*t+2],e[4*t+3]]}class MJ{static id="base";static columns=1;static deltaX=0;static deltaY=0;static omittable=!1;static size={width:20,height:20};_spritesheet=null;_defaultClothesData=null;_clothesData=null;static getSpriteFromIndex(e,t=0,i=0){return{x:e%this.columns*this.deltaX+t,y:Math.floor(e/this.columns)*this.deltaY+i}}constructor(e){this._defaultClothesData=e,this._clothesData=e}setSpritesheet(e){const{width:t,height:i,blobURL:r}=e;URL.revokeObjectURL(this._spritesheet?.blobURL),this._spritesheet={width:t,height:i,blobURL:r}}setClothesData(e){this._clothesData=e}resetData(){URL.revokeObjectURL(this._spritesheet?.blobURL),this._spritesheet=null,this._clothesData=this._defaultClothesData}get getListItemKey(){return e=>`${this.constructor.id}-${e}`}get getDefaultColor(){return e=>[255,255,255]}get getDyeable(){return e=>!1}get getPrismatic(){return e=>!1}get getItemNameFromIndex(){return e=>`${this.constructor.id}.name.${e}`}get getDescriptionFromIndex(){return e=>`${this.constructor.id}.desc.${e}`}}class ZJ extends MJ{static id="hats";static columns=12;static deltaX=20;static deltaY=80;static omittable=!0;constructor(){super(EJ),Op(this,{_spritesheet:pc,_clothesData:pc,setSpritesheet:dp,setClothesData:dp,resetData:dp,getUncoloredSpriteFromIndex:mc,getColoredSpriteFromIndex:mc,getPrismaticSpriteFromIndex:mc,getHairDrawType:mc,getIgnoreHairstyleOffset:mc,count:mc})}get getUncoloredSpriteFromIndex(){return e=>{const t=this._clothesData[e];return void 0===t||t.prismatic?null:this.constructor.getSpriteFromIndex(e,0,0)}}get getColoredSpriteFromIndex(){return e=>null}get getPrismaticSpriteFromIndex(){return e=>{const t=this._clothesData[e];return void 0===t?null:t.prismatic?this.constructor.getSpriteFromIndex(e,0,0):null}}get getHairDrawType(){return e=>this._clothesData[e]?.hairDrawType??0}get getIgnoreHairstyleOffset(){return e=>this._clothesData[e]?.ignoreHairstyleOffset??!1}get getMask(){return e=>this._clothesData[e]?.isMask??!1}get getPrismatic(){return e=>this._clothesData[e]?.prismatic??!1}get count(){return this._clothesData.length}}class PJ extends MJ{static id="hairstyle";static columns=8;static deltaX=16;static deltaY=96;static size={width:16,height:20};static coveredTable=[7,1,7,11,7,5,6,7,7,9,7,11,7,7,7,7,30,17,23,23,20,23,30,23,24,25,30,27,28,29,30,23,32,33,34,30,36,30,30,39,30,41,46,43,44,45,46,47,6,52,50,51,52,53,54,55];_additionalSheet={hairstyles2:null};constructor(){super(JJ),Op(this,{_spritesheet:pc,_clothesData:pc,_additionalSheet:pc,setSpritesheet:dp,setClothesData:dp,setAdditionalSheet:dp,resetData:dp,getUncoloredSpriteFromIndex:mc,getColoredSpriteFromIndex:mc,getPrismaticSpriteFromIndex:mc,getListItemKey:mc,getInnerIndex:mc,getSpriteFromInnerIndex:mc,getCoveredHairIndex:mc,hasUniqueLeftSprite:mc,isBald:mc,count:mc})}setAdditionalSheet(e){for(let t of Object.keys(e))this._additionalSheet[t]&&URL.revokeObjectURL(this._additionalSheet[t]);this._additionalSheet={...this._additionalSheet,...e}}resetData(){super.resetData();for(let e of Object.values(this._additionalSheet))URL.revokeObjectURL(e);this._additionalSheet={hairstyles2:null}}get getListItemKey(){return e=>`${this.constructor.id}-${this.getInnerIndex(e)}`}get getInnerIndex(){const e=(null===this._spritesheet?672:this._spritesheet.height)/96*8,t=Object.keys(this._clothesData).filter((e=>e>=0)).sort(((e,t)=>e-t));return i=>i<e?i:t[i-e]}get getSpriteFromInnerIndex(){return e=>{if(e in this._clothesData){let{tileX:t,tileY:i,sheet:r}=this._clothesData[e];return{x:16*t,y:16*i,sheet:r}}return this.constructor.getSpriteFromIndex(e,0,0)}}get getUncoloredSpriteFromIndex(){return e=>null}get getColoredSpriteFromIndex(){return e=>(e=this.getInnerIndex(e),this.getSpriteFromInnerIndex(e))}get getPrismaticSpriteFromIndex(){return e=>null}get getCoveredHairIndex(){return e=>e in this._clothesData?this._clothesData[e].coveredHair:e>=56?30:this.constructor.coveredTable[e]}get hasUniqueLeftSprite(){return e=>e in this._clothesData&&this._clothesData[e].useUniqueLeft}get isBald(){return e=>e in this._clothesData?this._clothesData[e].isBald:e>48&&e<56}get getDyeable(){return e=>!0}get count(){return(null===this._spritesheet?672:this._spritesheet.height)/96*8+Object.keys(this._clothesData).reduce(((e,t)=>e+(t>0)),0)}}class OJ extends MJ{static id="shirts";static columns=16;static deltaX=8;static deltaY=32;static size={width:8,height:8};_sleeveData=xJ;_gender="male";constructor(){super(RJ),Op(this,{_spritesheet:pc,_clothesData:pc,_gender:pc,setSpritesheet:dp,setClothesData:dp,resetData:dp,gender:mc,setGender:dp,getUncoloredSpriteFromIndex:mc,getColoredSpriteFromIndex:mc,getPrismaticSpriteFromIndex:mc,getDefaultColor:mc,getDyeable:mc,getSleeveless:mc,getPrismatic:mc,getItemNameFromIndex:mc,getSleeveColor:mc,count:mc})}setSpritesheet(e){const{width:t,height:i,data:r,blobURL:n}=e;this._sleeveData=function(e,t,i){function r(e){let i=e%16*8;return 32*Math.floor(e/16)*t+i}function n(t,i=0){const n=r(a)+i,s=n+128;let[,,,o]=BJ(e,s);return o>0?{color:eJ(BJ(e,s)),dyeable:1}:{color:eJ(BJ(e,n)),dyeable:0}}const s=[];let a=0;for(;4*r(a)<e.length;){let{color:e,dyeable:i}=n(0,2*t),{color:r,dyeable:o}=n(0,3*t),{color:l,dyeable:h}=n(0,4*t);s[a]={light:e,mid:r,dark:l,dyeable:i<<2|o<<1|h<<0},a++}return s}(r,t),URL.revokeObjectURL(this._spritesheet?.blobURL),this._spritesheet={width:t,height:i,blobURL:n}}resetData(){super.resetData(),this._sleeveData=xJ}get gender(){return this._gender}setGender(e){this._gender=e}get getUncoloredSpriteFromIndex(){return e=>{const t=this._clothesData[e],i="male"===this.gender?t.male:t.female;return this.constructor.getSpriteFromIndex(i,0,0)}}get getColoredSpriteFromIndex(){return e=>{const t=this._clothesData[e];if(t.prismatic)return null;const i="male"===this.gender?t.male:t.female;return this.constructor.getSpriteFromIndex(i,128,0)}}get getPrismaticSpriteFromIndex(){return e=>{const t=this._clothesData[e];if(!t.prismatic)return null;const i="male"===this.gender?t.male:t.female;return this.constructor.getSpriteFromIndex(i,128,0)}}get getDefaultColor(){return e=>[...this._clothesData[e].color]}get getDyeable(){return e=>this._clothesData[e].dyeable}get getSleeveless(){return e=>this._clothesData[e].sleeveless}get getPrismatic(){return e=>this._clothesData[e].prismatic}get getItemNameFromIndex(){return e=>this._clothesData[e].name}get getSleeveColor(){return e=>{const t=this._clothesData[e],i="male"===this.gender?t.male:t.female;return this._sleeveData[i]}}get count(){return this._clothesData.length}}class LJ extends MJ{static id="pants";static columns=10;static deltaX=192;static deltaY=688;static size={width:16,height:16};constructor(){super(GJ),Op(this,{_spritesheet:pc,_clothesData:pc,setSpritesheet:dp,setClothesData:dp,resetData:dp,getUncoloredSpriteFromIndex:mc,getColoredSpriteFromIndex:mc,getPrismaticSpriteFromIndex:mc,getDefaultColor:mc,getDyeable:mc,getPrismatic:mc,getItemNameFromIndex:mc,getInnerIndex:mc,count:mc})}get getUncoloredSpriteFromIndex(){return e=>{const t=this._clothesData[e];return t.prismatic||t.dyeable?null:this.constructor.getSpriteFromIndex(t.sheetIndex,0,672)}}get getColoredSpriteFromIndex(){return e=>{const t=this._clothesData[e];return t.prismatic?null:t.dyeable?this.constructor.getSpriteFromIndex(t.sheetIndex,0,672):null}}get getPrismaticSpriteFromIndex(){return e=>{const t=this._clothesData[e];return t.prismatic?this.constructor.getSpriteFromIndex(t.sheetIndex,0,672):null}}get getDefaultColor(){return e=>[...this._clothesData[e].color]}get getDyeable(){return e=>this._clothesData[e].dyeable}get getPrismatic(){return e=>this._clothesData[e].prismatic}get getItemNameFromIndex(){return e=>this._clothesData[e].name}get getInnerIndex(){return e=>this._clothesData[e].sheetIndex}get count(){return this._clothesData.length}}class XJ{static defaultURLDict={body_male:"/assets/farmer_base.png",body_male_bald:"/assets/farmer_base_bald.png",body_female:"/assets/farmer_girl_base.png",body_female_bald:"/assets/farmer_girl_base_bald.png"};urlDict={...XJ.defaultURLDict};bodyColor={body_male:{sleeve:[9314060,7345944,4852742],skin:[16363145,14707557,7012410],eye:[6826767,2953734]},body_male_bald:{sleeve:[9314060,7345944,4852742],skin:[16363145,14707557,7012410],eye:[6826767,2953734]},body_female:{sleeve:[9314060,7345944,4852742],skin:[16363145,14707557,7012410],eye:[6826767,2953734]},body_female_bald:{sleeve:[9314060,7345944,4852742],skin:[16363145,14707557,7012410],eye:[6826767,2953734]}};skinColor=DJ;constructor(){Op(this,{urlDict:pc,bodyColor:pc,skinColor:pc,setSpritesheet:dp,resetData:dp,setSkinColor:dp,getSkinColor:mc,count:mc})}setSpritesheet(e,t){const{blobURL:i,data:r}=e;this.bodyColor={...this.bodyColor,[t]:NJ(r)},this.urlDict[t]!==XJ.defaultURLDict[t]&&URL.revokeObjectURL(this.urlDict[t]),this.urlDict={...this.urlDict,[t]:i}}setSkinColor(e){const{data:t,width:i,height:r}=e;this.skinColor=function(e,t,i){const r=[];for(let t=0;t<i;t++){let i=[];for(let r=0;r<3;r++)i[r]=((n=QJ(e,3*t+r))[0]<<16)+(n[1]<<8)+n[2];const[s,a,o]=i;r[t]={light:o,mid:a,dark:s}}var n;return r}(t,0,r)}resetBody(){for(let e of Object.keys(this.urlDict))this.urlDict[e]!==XJ.defaultURLDict[e]&&URL.revokeObjectURL(this.urlDict[e]);this.urlDict={...XJ.defaultURLDict},this.bodyColor={body_male:{sleeve:[9314060,7345944,4852742],skin:[16363145,14707557,7012410],eye:[6826767,2953734]},body_male_bald:{sleeve:[9314060,7345944,4852742],skin:[16363145,14707557,7012410],eye:[6826767,2953734]},body_female:{sleeve:[9314060,7345944,4852742],skin:[16363145,14707557,7012410],eye:[6826767,2953734]},body_female_bald:{sleeve:[9314060,7345944,4852742],skin:[16363145,14707557,7012410],eye:[6826767,2953734]}}}resetSkin(){this.skinColor=DJ}resetData(){this.resetBody(),this.resetSkin()}get getSkinColor(){return e=>this.skinColor[e]}get count(){return this.skinColor.length}}function VJ(e){let[,,,t,i,,r,n,,s]=e.split("/");return[t,i]=[+t,+i],-1===i&&(i=t),r=r.split(" ").map((e=>+e)),n="true"===n,{name:name,male:t,female:i,color:r,dyeable:n,sleeveless:"Sleeveless"===s,prismatic:"Prismatic"===s}}function FJ(e){const[t,i]=function(e){const t=Object.entries(e),i=new Set;let r=t.filter((([e])=>+e>=1e3)).map((([e,t])=>{let[,,,r,n]=t.split("/");return[r,n]=[+r,+n],i.add(r),-1!==n&&i.add(n),+e})),n=t.filter((([e])=>(e=+e)<1e3&&e>=0&&14!==e)).map((([e])=>+e));const s=Array.from({length:300},((e,t)=>t)).filter((e=>!i.has(e))).map((e=>e+1e3));return s.push(1041),r=r.concat(s),r.sort(((e,t)=>e-t)),[r,n]}(e),r=t.map((t=>{const i=void 0!==e[t]?t:-2;let{male:r,female:n,color:s,dyeable:a,prismatic:o}=VJ(e[i]);return-2===i&&([r,n]=[t-1e3,t-1e3]),{name:`shirts.name.${-2!==i?i-1e3:"default"}`,male:r,female:n,color:s,dyeable:a,sleeveless:sleeveless,prismatic:o}})),n=i.map((t=>{const i=void 0!==e[t]?t:-1;let{male:r,color:n,dyeable:s,prismatic:a}=VJ(e[i]);return{name:`pants.name.${i}`,sheetIndex:r,color:n,dyeable:s,prismatic:a}}));return[r,n]}function WJ(e,t=!1){switch(e){case 2:return 0;case 0:return t?3:2;case 1:return 1;case 3:return t?2:1}}const UJ=new class{bodySelector=new wJ({hue:10.8,saturation:57,brightness:47});hatsSelector=new wJ({value:-1});hairstyleSelector=new wJ({hue:14.4,saturation:74,brightness:75});shirtsSelector=new wJ;pantsSelector=new wJ({hue:219.6,saturation:74,brightness:71});bodySheet=new XJ;hatsSheet=new ZJ;hairstyleSheet=new PJ;shirtsSheet=new OJ;pantsSheet=new LJ;direction=2;isMale=!0;constructor(){!function(e,t,i){if(ld(e))return Ip(e,e,t,i);var r=cg(e,i)[xd];if(!e[Lp]){var n=Object.getPrototypeOf(e),s=new Set([].concat(md(e),md(n)));s.delete("constructor"),s.delete(xd),ud(n,Lp,s)}jc();try{e[Lp].forEach((function(e){return r.make_(e,!t||!(e in t)||t[e])}))}finally{qc()}}(this)}get isFemale(){return!this.isMale}get body(){return{sheet:`body_${this.isMale?"male":"female"}${this.hair.isBald?"_bald":""}`}}get bodyMaskedColor(){const{skin:e,eye:t,sleeve:i}=this.bodySheet.bodyColor[this.body.sheet];return{from:[...e,...t,...i],to:[...this.skinColor,...this.eyeColor,...this.sleeveColor]}}get hat(){const e=this.hatsSelector.value;return{index:e,ignoreYOffset:this.hatsSheet.getIgnoreHairstyleOffset(e),isMask:this.hatsSheet.getMask(e)}}get hair(){let e=this.hairstyleSheet.getInnerIndex(this.hairstyleSelector.value);const t=this.hatsSheet.getHairDrawType(this.hatsSelector.value),[i,r,n]=[0,1,2];switch(t){case n:e=52;break;case r:e=this.hairstyleSheet.getCoveredHairIndex(e)}return{index:e,hasUniqueLeftSprite:this.hairstyleSheet.hasUniqueLeftSprite(e),isBald:t!==n&&this.hairstyleSheet.isBald(e)}}get shirt(){const e=this.shirtsSelector.value;return{index:e,sleeveless:this.shirtsSheet.getSleeveless(e)}}get pants(){return{index:this.pantsSheet.getInnerIndex(this.pantsSelector.value)}}get skinColor(){const e=this.bodySelector.value,{light:t,mid:i,dark:r}=this.bodySheet.getSkinColor(e);return[t,i,r]}get eyeColor(){let e=eJ(this.bodySelector.color),t=function(e,t){const i="number"==typeof e?nJ(e):e,r=Math.floor(t>0?5*t/6:8*t/7);return(jE(i[0]+t,0,255)<<16)+(jE(i[1]+t,0,255)<<8)+jE(i[2]+r,0,255)}(e,-75);return e===t&&(e+=10),[e,t]}get sleeveColor(){if(this.shirt.sleeveless)return this.skinColor;let{light:e,mid:t,dark:i,dyeable:r=0}=this.shirtsSheet.getSleeveColor(this.shirt.index);const n=this.shirtsSelector.color;return!0&r&&(e=sJ(e,n)),!0&r&&(t=sJ(t,n)),!0&r&&(i=sJ(i,n)),[e,t,i]}get hatYOffset(){let e=-2;if(0===this.direction&&(e-=1),!1===this.hat.ignoreYOffset){const t=this.hair.index%16;3!==t&&6!==t&&8!==t||(e+=1)}return this.isFemale&&(e+=1),e}get hairstyleYOffset(){let e=1;return this.hair.index>=16&&(e-=1),this.isFemale&&(e+=1),e}get shirtYOffset(){let e=15;return 0===this.direction&&(e-=1),this.isFemale&&(e+=1),e}get bodyBoundBox(){const e=32*WJ(this.direction),t=3===this.direction;return{base:new HC(0,e,16,32),arm:new HC(96,e,16,32),flipped:t}}get hatBoundBox(){const{width:e,height:t}=ZJ.size,i=WJ(this.direction,!0)*t,{x:r,y:n}=ZJ.getSpriteFromIndex(this.hat.index,0,i);return new HC(r,n,e,t)}get hairBoundBox(){let e;if(this.hair.hasUniqueLeftSprite)switch(this.direction){case 2:e=0;break;case 0:e=64;break;case 1:e=32;break;case 3:e=96}else e=32*WJ(this.direction);const{x:t,y:i,sheet:r}=this.hairstyleSheet.getSpriteFromInnerIndex(this.hair.index);return{rect:new HC(t,i+e,16,32),sheet:r,flipped:!this.hair.hasUniqueLeftSprite&&3===this.direction}}get shirtBoundBox(){const{width:e,height:t}=OJ.size,i=WJ(this.direction,!0)*t,{x:r,y:n}=this.shirtsSheet.getUncoloredSpriteFromIndex(this.shirt.index);return{uncolored:new HC(r,n+i,e,t),colored:new HC(r+128,n+i,e,t)}}get pantsBoundBox(){const e=32*WJ(this.direction),{columns:t,deltaX:i,deltaY:r}=LJ,n=this.pants.index;let s=n%t*i+(this.isMale?0:96),a=Math.floor(n/t)*r+e;return{rect:new HC(s,a,16,32),flipped:3===this.direction}}get hatTint(){return this.hatsSheet.getPrismatic(this.hat.index)?"prismatic":16777215}get hairTint(){return eJ(this.hairstyleSelector.color)}get shirtTint(){return this.shirtsSheet.getPrismatic(this.shirt.index)?"prismatic":eJ(this.shirtsSelector.color)}get pantsTint(){const e=this.pantsSelector.value;return this.pantsSheet.getPrismatic(e)?"prismatic":this.pantsSheet.getDyeable(e)?eJ(this.pantsSelector.color):16777215}turnLeft(){this.direction++,this.direction>3&&(this.direction=0)}turnRight(){this.direction--,this.direction<0&&(this.direction=3)}setGender(e){"male"===e&&(this.isMale=!0,this.shirtsSheet.setGender(e)),"female"===e&&(this.isMale=!1,this.shirtsSheet.setGender(e))}getProps(e){return{selection:this[`${e}Selector`],dataSet:this[`${e}Sheet`],defaultImage:"body"===e?"assets/farmer_base_bald.png":`assets/${e}.png`}}importHatsData(e){this.hatsSheet.setClothesData(function(e){let t=[],i=0;for(let r of Object.values(e)){let[e,,n,s,a]=r.split("/");n="true"==n?0:"false"==n?1:2;let o=!1;2!==n&&e.includes("Mask")&&(o=!0),s="true"===s;let l="Prismatic"===a;t[i++]={hairDrawType:n,ignoreHairstyleOffset:s,isMask:o,prismatic:l}}return t}(e))}importHairstyleData(e){this.hairstyleSheet.setClothesData(function(e){let t={};for(let[i,r]of Object.entries(e)){let[e,n,s,a,o,l]=r.split("/");[n,s]=[+n,+s],a="true"===a,l="true"===l,o="-1"===o?+i:+o,t[i]={sheet:e,tileX:n,tileY:s,useUniqueLeft:a,coveredHair:o,isBald:l}}return t}(e))}importClothesData(e){const[t,i]=FJ(e);this.shirtsSheet.setClothesData(t),this.pantsSheet.setClothesData(t)}resetAll(){[this.bodySheet,this.hatsSheet,this.hairstyleSheet,this.shirtsSheet,this.pantsSheet].forEach((e=>e.resetData()))}};function HJ({characterStore:e}){let[t,i]=n.exports.useState(e.isMale);function r(t){e.setGender(t?"male":"female"),i(t)}return CJ.exports.jsxs("div",{className:"gender-select-wrapper",children:[CJ.exports.jsx("div",{className:"ui-icon male-button hover-interact "+(t?"selected":""),onClick:()=>r(!0)}),CJ.exports.jsx("div",{className:"ui-icon female-button hover-interact "+(t?"":"selected"),onClick:()=>r(!1)})]})}const KJ=()=>CJ.exports.jsx("div",{className:"viewer",children:CJ.exports.jsxs("div",{className:"viewer-wrapper",children:[CJ.exports.jsx(AJ,{characterStore:UJ}),CJ.exports.jsx("div",{className:"ui-icon left-turn-button hover-interact",onClick:()=>UJ.turnLeft()}),CJ.exports.jsx("div",{className:"ui-icon right-turn-button hover-interact",onClick:()=>UJ.turnRight()}),CJ.exports.jsx(HJ,{characterStore:UJ})]})});function YJ(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function zJ(e={},t={}){Object.keys(t).forEach((i=>{void 0===e[i]?e[i]=t[i]:YJ(t[i])&&YJ(e[i])&&Object.keys(t[i]).length>0&&zJ(e[i],t[i])}))}const jJ={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function qJ(){const e="undefined"!=typeof document?document:{};return zJ(e,jJ),e}const $J={document:jJ,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function eR(){const e="undefined"!=typeof window?window:{};return zJ(e,$J),e}class tR extends Array{constructor(e){"number"==typeof e?super(e):(super(...e||[]),function(e){const t=e.__proto__;Object.defineProperty(e,"__proto__",{get:()=>t,set(e){t.__proto__=e}})}(this))}}function iR(e=[]){const t=[];return e.forEach((e=>{Array.isArray(e)?t.push(...iR(e)):t.push(e)})),t}function rR(e,t){return Array.prototype.filter.call(e,t)}function nR(e,t){const i=eR(),r=qJ();let n=[];if(!t&&e instanceof tR)return e;if(!e)return new tR(n);if("string"==typeof e){const i=e.trim();if(i.indexOf("<")>=0&&i.indexOf(">")>=0){let e="div";0===i.indexOf("<li")&&(e="ul"),0===i.indexOf("<tr")&&(e="tbody"),0!==i.indexOf("<td")&&0!==i.indexOf("<th")||(e="tr"),0===i.indexOf("<tbody")&&(e="table"),0===i.indexOf("<option")&&(e="select");const t=r.createElement(e);t.innerHTML=i;for(let e=0;e<t.childNodes.length;e+=1)n.push(t.childNodes[e])}else n=function(e,t){if("string"!=typeof e)return[e];const i=[],r=t.querySelectorAll(e);for(let e=0;e<r.length;e+=1)i.push(r[e]);return i}(e.trim(),t||r)}else if(e.nodeType||e===i||e===r)n.push(e);else if(Array.isArray(e)){if(e instanceof tR)return e;n=e}return new tR(function(e){const t=[];for(let i=0;i<e.length;i+=1)-1===t.indexOf(e[i])&&t.push(e[i]);return t}(n))}nR.fn=tR.prototype;const sR={addClass:function(...e){const t=iR(e.map((e=>e.split(" "))));return this.forEach((e=>{e.classList.add(...t)})),this},removeClass:function(...e){const t=iR(e.map((e=>e.split(" "))));return this.forEach((e=>{e.classList.remove(...t)})),this},hasClass:function(...e){const t=iR(e.map((e=>e.split(" "))));return rR(this,(e=>t.filter((t=>e.classList.contains(t))).length>0)).length>0},toggleClass:function(...e){const t=iR(e.map((e=>e.split(" "))));this.forEach((e=>{t.forEach((t=>{e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(let i=0;i<this.length;i+=1)if(2===arguments.length)this[i].setAttribute(e,t);else for(const t in e)this[i][t]=e[t],this[i].setAttribute(t,e[t]);return this},removeAttr:function(e){for(let t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?`${e}ms`:e;return this},on:function(...e){let[t,i,r,n]=e;function s(e){const t=e.target;if(!t)return;const n=e.target.dom7EventData||[];if(n.indexOf(e)<0&&n.unshift(e),nR(t).is(i))r.apply(t,n);else{const e=nR(t).parents();for(let t=0;t<e.length;t+=1)nR(e[t]).is(i)&&r.apply(e[t],n)}}function a(e){const t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),r.apply(this,t)}"function"==typeof e[1]&&([t,r,n]=e,i=void 0),n||(n=!1);const o=t.split(" ");let l;for(let e=0;e<this.length;e+=1){const t=this[e];if(i)for(l=0;l<o.length;l+=1){const e=o[l];t.dom7LiveListeners||(t.dom7LiveListeners={}),t.dom7LiveListeners[e]||(t.dom7LiveListeners[e]=[]),t.dom7LiveListeners[e].push({listener:r,proxyListener:s}),t.addEventListener(e,s,n)}else for(l=0;l<o.length;l+=1){const e=o[l];t.dom7Listeners||(t.dom7Listeners={}),t.dom7Listeners[e]||(t.dom7Listeners[e]=[]),t.dom7Listeners[e].push({listener:r,proxyListener:a}),t.addEventListener(e,a,n)}}return this},off:function(...e){let[t,i,r,n]=e;"function"==typeof e[1]&&([t,r,n]=e,i=void 0),n||(n=!1);const s=t.split(" ");for(let e=0;e<s.length;e+=1){const t=s[e];for(let e=0;e<this.length;e+=1){const s=this[e];let a;if(!i&&s.dom7Listeners?a=s.dom7Listeners[t]:i&&s.dom7LiveListeners&&(a=s.dom7LiveListeners[t]),a&&a.length)for(let e=a.length-1;e>=0;e-=1){const i=a[e];r&&i.listener===r||r&&i.listener&&i.listener.dom7proxy&&i.listener.dom7proxy===r?(s.removeEventListener(t,i.proxyListener,n),a.splice(e,1)):r||(s.removeEventListener(t,i.proxyListener,n),a.splice(e,1))}}}return this},trigger:function(...e){const t=eR(),i=e[0].split(" "),r=e[1];for(let n=0;n<i.length;n+=1){const s=i[n];for(let i=0;i<this.length;i+=1){const n=this[i];if(t.CustomEvent){const i=new t.CustomEvent(s,{detail:r,bubbles:!0,cancelable:!0});n.dom7EventData=e.filter(((e,t)=>t>0)),n.dispatchEvent(i),n.dom7EventData=[],delete n.dom7EventData}}}return this},transitionEnd:function(e){const t=this;return e&&t.on("transitionend",(function i(r){r.target===this&&(e.call(this,r),t.off("transitionend",i))})),this},outerWidth:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){const e=eR();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){const e=eR(),t=qJ(),i=this[0],r=i.getBoundingClientRect(),n=t.body,s=i.clientTop||n.clientTop||0,a=i.clientLeft||n.clientLeft||0,o=i===e?e.scrollY:i.scrollTop,l=i===e?e.scrollX:i.scrollLeft;return{top:r.top+o-s,left:r.left+l-a}}return null},css:function(e,t){const i=eR();let r;if(1===arguments.length){if("string"!=typeof e){for(r=0;r<this.length;r+=1)for(const t in e)this[r].style[t]=e[t];return this}if(this[0])return i.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(r=0;r<this.length;r+=1)this[r].style[e]=t;return this}return this},each:function(e){return e?(this.forEach(((t,i)=>{e.apply(t,[t,i])})),this):this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(let t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(let t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){const t=eR(),i=qJ(),r=this[0];let n,s;if(!r||void 0===e)return!1;if("string"==typeof e){if(r.matches)return r.matches(e);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(r.msMatchesSelector)return r.msMatchesSelector(e);for(n=nR(e),s=0;s<n.length;s+=1)if(n[s]===r)return!0;return!1}if(e===i)return r===i;if(e===t)return r===t;if(e.nodeType||e instanceof tR){for(n=e.nodeType?[e]:e,s=0;s<n.length;s+=1)if(n[s]===r)return!0;return!1}return!1},index:function(){let e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;const t=this.length;if(e>t-1)return nR([]);if(e<0){const i=t+e;return nR(i<0?[]:[this[i]])}return nR([this[e]])},append:function(...e){let t;const i=qJ();for(let r=0;r<e.length;r+=1){t=e[r];for(let e=0;e<this.length;e+=1)if("string"==typeof t){const r=i.createElement("div");for(r.innerHTML=t;r.firstChild;)this[e].appendChild(r.firstChild)}else if(t instanceof tR)for(let i=0;i<t.length;i+=1)this[e].appendChild(t[i]);else this[e].appendChild(t)}return this},prepend:function(e){const t=qJ();let i,r;for(i=0;i<this.length;i+=1)if("string"==typeof e){const n=t.createElement("div");for(n.innerHTML=e,r=n.childNodes.length-1;r>=0;r-=1)this[i].insertBefore(n.childNodes[r],this[i].childNodes[0])}else if(e instanceof tR)for(r=0;r<e.length;r+=1)this[i].insertBefore(e[r],this[i].childNodes[0]);else this[i].insertBefore(e,this[i].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&nR(this[0].nextElementSibling).is(e)?nR([this[0].nextElementSibling]):nR([]):this[0].nextElementSibling?nR([this[0].nextElementSibling]):nR([]):nR([])},nextAll:function(e){const t=[];let i=this[0];if(!i)return nR([]);for(;i.nextElementSibling;){const r=i.nextElementSibling;e?nR(r).is(e)&&t.push(r):t.push(r),i=r}return nR(t)},prev:function(e){if(this.length>0){const t=this[0];return e?t.previousElementSibling&&nR(t.previousElementSibling).is(e)?nR([t.previousElementSibling]):nR([]):t.previousElementSibling?nR([t.previousElementSibling]):nR([])}return nR([])},prevAll:function(e){const t=[];let i=this[0];if(!i)return nR([]);for(;i.previousElementSibling;){const r=i.previousElementSibling;e?nR(r).is(e)&&t.push(r):t.push(r),i=r}return nR(t)},parent:function(e){const t=[];for(let i=0;i<this.length;i+=1)null!==this[i].parentNode&&(e?nR(this[i].parentNode).is(e)&&t.push(this[i].parentNode):t.push(this[i].parentNode));return nR(t)},parents:function(e){const t=[];for(let i=0;i<this.length;i+=1){let r=this[i].parentNode;for(;r;)e?nR(r).is(e)&&t.push(r):t.push(r),r=r.parentNode}return nR(t)},closest:function(e){let t=this;return void 0===e?nR([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){const t=[];for(let i=0;i<this.length;i+=1){const r=this[i].querySelectorAll(e);for(let e=0;e<r.length;e+=1)t.push(r[e])}return nR(t)},children:function(e){const t=[];for(let i=0;i<this.length;i+=1){const r=this[i].children;for(let i=0;i<r.length;i+=1)e&&!nR(r[i]).is(e)||t.push(r[i])}return nR(t)},filter:function(e){return nR(rR(this,e))},remove:function(){for(let e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};function aR(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function oR(){return Date.now()}function lR(e,t){void 0===t&&(t="x");const i=eR();let r,n,s;const a=function(e){const t=eR();let i;return t.getComputedStyle&&(i=t.getComputedStyle(e,null)),!i&&e.currentStyle&&(i=e.currentStyle),i||(i=e.style),i}(e);return i.WebKitCSSMatrix?(n=a.transform||a.webkitTransform,n.split(",").length>6&&(n=n.split(", ").map((e=>e.replace(",","."))).join(", ")),s=new i.WebKitCSSMatrix("none"===n?"":n)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),"x"===t&&(n=i.WebKitCSSMatrix?s.m41:16===r.length?parseFloat(r[12]):parseFloat(r[4])),"y"===t&&(n=i.WebKitCSSMatrix?s.m42:16===r.length?parseFloat(r[13]):parseFloat(r[5])),n||0}function hR(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function uR(e){return"undefined"!=typeof window&&void 0!==window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function dR(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let i=1;i<arguments.length;i+=1){const r=i<0||arguments.length<=i?void 0:arguments[i];if(null!=r&&!uR(r)){const i=Object.keys(Object(r)).filter((e=>t.indexOf(e)<0));for(let t=0,n=i.length;t<n;t+=1){const n=i[t],s=Object.getOwnPropertyDescriptor(r,n);void 0!==s&&s.enumerable&&(hR(e[n])&&hR(r[n])?r[n].__swiper__?e[n]=r[n]:dR(e[n],r[n]):!hR(e[n])&&hR(r[n])?(e[n]={},r[n].__swiper__?e[n]=r[n]:dR(e[n],r[n])):e[n]=r[n])}}}return e}function cR(e,t,i){e.style.setProperty(t,i)}function pR(e){let{swiper:t,targetPosition:i,side:r}=e;const n=eR(),s=-t.translate;let a,o=null;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(t.cssModeFrameID);const h=i>s?"next":"prev",u=(e,t)=>"next"===h&&e>=t||"prev"===h&&e<=t,d=()=>{a=(new Date).getTime(),null===o&&(o=a);const e=Math.max(Math.min((a-o)/l,1),0),h=.5-Math.cos(e*Math.PI)/2;let c=s+h*(i-s);if(u(c,i)&&(c=i),t.wrapperEl.scrollTo({[r]:c}),u(c,i))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout((()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[r]:c})})),void n.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=n.requestAnimationFrame(d)};d()}let gR,fR,mR;function CR(){return gR||(gR=function(){const e=eR(),t=qJ();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){let t=!1;try{const i=Object.defineProperty({},"passive",{get(){t=!0}});e.addEventListener("testPassiveListener",null,i)}catch(e){}return t}(),gestures:"ongesturestart"in e}}()),gR}function yR(e){return void 0===e&&(e={}),fR||(fR=function(e){let{userAgent:t}=void 0===e?{}:e;const i=CR(),r=eR(),n=r.navigator.platform,s=t||r.navigator.userAgent,a={ios:!1,android:!1},o=r.screen.width,l=r.screen.height,h=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),c=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="Win32"===n;let g="MacIntel"===n;return!u&&g&&i.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${o}x${l}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),h&&!p&&(a.os="android",a.android=!0),(u||c||d)&&(a.os="ios",a.ios=!0),a}(e)),fR}function bR(){return mR||(mR=function(){const e=eR();return{isSafari:function(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),mR}Object.keys(sR).forEach((e=>{Object.defineProperty(nR.fn,e,{value:sR[e],writable:!0})}));var IR={on(e,t,i){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof t)return r;const n=i?"unshift":"push";return e.split(" ").forEach((e=>{r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][n](t)})),r},once(e,t,i){const r=this;if(!r.eventsListeners||r.destroyed)return r;if("function"!=typeof t)return r;function n(){r.off(e,n),n.__emitterProxy&&delete n.__emitterProxy;for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];t.apply(r,s)}return n.__emitterProxy=t,r.on(e,n,i)},onAny(e,t){const i=this;if(!i.eventsListeners||i.destroyed)return i;if("function"!=typeof e)return i;const r=t?"unshift":"push";return i.eventsAnyListeners.indexOf(e)<0&&i.eventsAnyListeners[r](e),i},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const i=t.eventsAnyListeners.indexOf(e);return i>=0&&t.eventsAnyListeners.splice(i,1),t},off(e,t){const i=this;return!i.eventsListeners||i.destroyed?i:i.eventsListeners?(e.split(" ").forEach((e=>{void 0===t?i.eventsListeners[e]=[]:i.eventsListeners[e]&&i.eventsListeners[e].forEach(((r,n)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&i.eventsListeners[e].splice(n,1)}))})),i):i},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t,i,r;for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];"string"==typeof s[0]||Array.isArray(s[0])?(t=s[0],i=s.slice(1,s.length),r=e):(t=s[0].events,i=s[0].data,r=s[0].context||e),i.unshift(r);return(Array.isArray(t)?t:t.split(" ")).forEach((t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach((e=>{e.apply(r,[t,...i])})),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach((e=>{e.apply(r,i)}))})),e}};var vR={updateSize:function(){const e=this;let t,i;const r=e.$el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:r[0].clientWidth,i=void 0!==e.params.height&&null!==e.params.height?e.params.height:r[0].clientHeight,0===t&&e.isHorizontal()||0===i&&e.isVertical()||(t=t-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),i=i-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(i)&&(i=0),Object.assign(e,{width:t,height:i,size:e.isHorizontal()?t:i}))},updateSlides:function(){const e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function i(e,i){return parseFloat(e.getPropertyValue(t(i))||0)}const r=e.params,{$wrapperEl:n,size:s,rtlTranslate:a,wrongRTL:o}=e,l=e.virtual&&r.virtual.enabled,h=l?e.virtual.slides.length:e.slides.length,u=n.children(`.${e.params.slideClass}`),d=l?e.virtual.slides.length:u.length;let c=[];const p=[],g=[];let f=r.slidesOffsetBefore;"function"==typeof f&&(f=r.slidesOffsetBefore.call(e));let m=r.slidesOffsetAfter;"function"==typeof m&&(m=r.slidesOffsetAfter.call(e));const C=e.snapGrid.length,y=e.slidesGrid.length;let b=r.spaceBetween,I=-f,v=0,_=0;if(void 0===s)return;"string"==typeof b&&b.indexOf("%")>=0&&(b=parseFloat(b.replace("%",""))/100*s),e.virtualSize=-b,a?u.css({marginLeft:"",marginBottom:"",marginTop:""}):u.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(cR(e.wrapperEl,"--swiper-centered-offset-before",""),cR(e.wrapperEl,"--swiper-centered-offset-after",""));const S=r.grid&&r.grid.rows>1&&e.grid;let k;S&&e.grid.initSlides(d);const T="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter((e=>void 0!==r.breakpoints[e].slidesPerView)).length>0;for(let n=0;n<d;n+=1){k=0;const a=u.eq(n);if(S&&e.grid.updateSlide(n,a,d,t),"none"!==a.css("display")){if("auto"===r.slidesPerView){T&&(u[n].style[t("width")]="");const s=getComputedStyle(a[0]),o=a[0].style.transform,l=a[0].style.webkitTransform;if(o&&(a[0].style.transform="none"),l&&(a[0].style.webkitTransform="none"),r.roundLengths)k=e.isHorizontal()?a.outerWidth(!0):a.outerHeight(!0);else{const e=i(s,"width"),t=i(s,"padding-left"),r=i(s,"padding-right"),n=i(s,"margin-left"),o=i(s,"margin-right"),l=s.getPropertyValue("box-sizing");if(l&&"border-box"===l)k=e+n+o;else{const{clientWidth:i,offsetWidth:s}=a[0];k=e+t+r+n+o+(s-i)}}o&&(a[0].style.transform=o),l&&(a[0].style.webkitTransform=l),r.roundLengths&&(k=Math.floor(k))}else k=(s-(r.slidesPerView-1)*b)/r.slidesPerView,r.roundLengths&&(k=Math.floor(k)),u[n]&&(u[n].style[t("width")]=`${k}px`);u[n]&&(u[n].swiperSlideSize=k),g.push(k),r.centeredSlides?(I=I+k/2+v/2+b,0===v&&0!==n&&(I=I-s/2-b),0===n&&(I=I-s/2-b),Math.abs(I)<.001&&(I=0),r.roundLengths&&(I=Math.floor(I)),_%r.slidesPerGroup==0&&c.push(I),p.push(I)):(r.roundLengths&&(I=Math.floor(I)),(_-Math.min(e.params.slidesPerGroupSkip,_))%e.params.slidesPerGroup==0&&c.push(I),p.push(I),I=I+k+b),e.virtualSize+=k+b,v=k,_+=1}}if(e.virtualSize=Math.max(e.virtualSize,s)+m,a&&o&&("slide"===r.effect||"coverflow"===r.effect)&&n.css({width:`${e.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&n.css({[t("width")]:`${e.virtualSize+r.spaceBetween}px`}),S&&e.grid.updateWrapperSize(k,c,t),!r.centeredSlides){const t=[];for(let i=0;i<c.length;i+=1){let n=c[i];r.roundLengths&&(n=Math.floor(n)),c[i]<=e.virtualSize-s&&t.push(n)}c=t,Math.floor(e.virtualSize-s)-Math.floor(c[c.length-1])>1&&c.push(e.virtualSize-s)}if(0===c.length&&(c=[0]),0!==r.spaceBetween){const i=e.isHorizontal()&&a?"marginLeft":t("marginRight");u.filter(((e,t)=>!r.cssMode||t!==u.length-1)).css({[i]:`${b}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let e=0;g.forEach((t=>{e+=t+(r.spaceBetween?r.spaceBetween:0)})),e-=r.spaceBetween;const t=e-s;c=c.map((e=>e<0?-f:e>t?t+m:e))}if(r.centerInsufficientSlides){let e=0;if(g.forEach((t=>{e+=t+(r.spaceBetween?r.spaceBetween:0)})),e-=r.spaceBetween,e<s){const t=(s-e)/2;c.forEach(((e,i)=>{c[i]=e-t})),p.forEach(((e,i)=>{p[i]=e+t}))}}if(Object.assign(e,{slides:u,snapGrid:c,slidesGrid:p,slidesSizesGrid:g}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){cR(e.wrapperEl,"--swiper-centered-offset-before",-c[0]+"px"),cR(e.wrapperEl,"--swiper-centered-offset-after",e.size/2-g[g.length-1]/2+"px");const t=-e.snapGrid[0],i=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+i))}if(d!==h&&e.emit("slidesLengthChange"),c.length!==C&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),p.length!==y&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset(),!(l||r.cssMode||"slide"!==r.effect&&"fade"!==r.effect)){const t=`${r.containerModifierClass}backface-hidden`,i=e.$el.hasClass(t);d<=r.maxBackfaceHiddenSlides?i||e.$el.addClass(t):i&&e.$el.removeClass(t)}},updateAutoHeight:function(e){const t=this,i=[],r=t.virtual&&t.params.virtual.enabled;let n,s=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const a=e=>r?t.slides.filter((t=>parseInt(t.getAttribute("data-swiper-slide-index"),10)===e))[0]:t.slides.eq(e)[0];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||nR([])).each((e=>{i.push(e)}));else for(n=0;n<Math.ceil(t.params.slidesPerView);n+=1){const e=t.activeIndex+n;if(e>t.slides.length&&!r)break;i.push(a(e))}else i.push(a(t.activeIndex));for(n=0;n<i.length;n+=1)if(void 0!==i[n]){const e=i[n].offsetHeight;s=e>s?e:s}(s||0===s)&&t.$wrapperEl.css("height",`${s}px`)},updateSlidesOffset:function(){const e=this,t=e.slides;for(let i=0;i<t.length;i+=1)t[i].swiperSlideOffset=e.isHorizontal()?t[i].offsetLeft:t[i].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);const t=this,i=t.params,{slides:r,rtlTranslate:n,snapGrid:s}=t;if(0===r.length)return;void 0===r[0].swiperSlideOffset&&t.updateSlidesOffset();let a=-e;n&&(a=e),r.removeClass(i.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(let e=0;e<r.length;e+=1){const o=r[e];let l=o.swiperSlideOffset;i.cssMode&&i.centeredSlides&&(l-=r[0].swiperSlideOffset);const h=(a+(i.centeredSlides?t.minTranslate():0)-l)/(o.swiperSlideSize+i.spaceBetween),u=(a-s[0]+(i.centeredSlides?t.minTranslate():0)-l)/(o.swiperSlideSize+i.spaceBetween),d=-(a-l),c=d+t.slidesSizesGrid[e];(d>=0&&d<t.size-1||c>1&&c<=t.size||d<=0&&c>=t.size)&&(t.visibleSlides.push(o),t.visibleSlidesIndexes.push(e),r.eq(e).addClass(i.slideVisibleClass)),o.progress=n?-h:h,o.originalProgress=n?-u:u}t.visibleSlides=nR(t.visibleSlides)},updateProgress:function(e){const t=this;if(void 0===e){const i=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*i||0}const i=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:n,isBeginning:s,isEnd:a}=t;const o=s,l=a;0===r?(n=0,s=!0,a=!0):(n=(e-t.minTranslate())/r,s=n<=0,a=n>=1),Object.assign(t,{progress:n,isBeginning:s,isEnd:a}),(i.watchSlidesProgress||i.centeredSlides&&i.autoHeight)&&t.updateSlidesProgress(e),s&&!o&&t.emit("reachBeginning toEdge"),a&&!l&&t.emit("reachEnd toEdge"),(o&&!s||l&&!a)&&t.emit("fromEdge"),t.emit("progress",n)},updateSlidesClasses:function(){const e=this,{slides:t,params:i,$wrapperEl:r,activeIndex:n,realIndex:s}=e,a=e.virtual&&i.virtual.enabled;let o;t.removeClass(`${i.slideActiveClass} ${i.slideNextClass} ${i.slidePrevClass} ${i.slideDuplicateActiveClass} ${i.slideDuplicateNextClass} ${i.slideDuplicatePrevClass}`),o=a?e.$wrapperEl.find(`.${i.slideClass}[data-swiper-slide-index="${n}"]`):t.eq(n),o.addClass(i.slideActiveClass),i.loop&&(o.hasClass(i.slideDuplicateClass)?r.children(`.${i.slideClass}:not(.${i.slideDuplicateClass})[data-swiper-slide-index="${s}"]`).addClass(i.slideDuplicateActiveClass):r.children(`.${i.slideClass}.${i.slideDuplicateClass}[data-swiper-slide-index="${s}"]`).addClass(i.slideDuplicateActiveClass));let l=o.nextAll(`.${i.slideClass}`).eq(0).addClass(i.slideNextClass);i.loop&&0===l.length&&(l=t.eq(0),l.addClass(i.slideNextClass));let h=o.prevAll(`.${i.slideClass}`).eq(0).addClass(i.slidePrevClass);i.loop&&0===h.length&&(h=t.eq(-1),h.addClass(i.slidePrevClass)),i.loop&&(l.hasClass(i.slideDuplicateClass)?r.children(`.${i.slideClass}:not(.${i.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicateNextClass):r.children(`.${i.slideClass}.${i.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicateNextClass),h.hasClass(i.slideDuplicateClass)?r.children(`.${i.slideClass}:not(.${i.slideDuplicateClass})[data-swiper-slide-index="${h.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicatePrevClass):r.children(`.${i.slideClass}.${i.slideDuplicateClass}[data-swiper-slide-index="${h.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicatePrevClass)),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,i=t.rtlTranslate?t.translate:-t.translate,{slidesGrid:r,snapGrid:n,params:s,activeIndex:a,realIndex:o,snapIndex:l}=t;let h,u=e;if(void 0===u){for(let e=0;e<r.length;e+=1)void 0!==r[e+1]?i>=r[e]&&i<r[e+1]-(r[e+1]-r[e])/2?u=e:i>=r[e]&&i<r[e+1]&&(u=e+1):i>=r[e]&&(u=e);s.normalizeSlideIndex&&(u<0||void 0===u)&&(u=0)}if(n.indexOf(i)>=0)h=n.indexOf(i);else{const e=Math.min(s.slidesPerGroupSkip,u);h=e+Math.floor((u-e)/s.slidesPerGroup)}if(h>=n.length&&(h=n.length-1),u===a)return void(h!==l&&(t.snapIndex=h,t.emit("snapIndexChange")));const d=parseInt(t.slides.eq(u).attr("data-swiper-slide-index")||u,10);Object.assign(t,{snapIndex:h,realIndex:d,previousIndex:a,activeIndex:u}),t.emit("activeIndexChange"),t.emit("snapIndexChange"),o!==d&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")},updateClickedSlide:function(e){const t=this,i=t.params,r=nR(e).closest(`.${i.slideClass}`)[0];let n,s=!1;if(r)for(let e=0;e<t.slides.length;e+=1)if(t.slides[e]===r){s=!0,n=e;break}if(!r||!s)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=r,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(nR(r).attr("data-swiper-slide-index"),10):t.clickedIndex=n,i.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}};var _R={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:i,translate:r,$wrapperEl:n}=this;if(t.virtualTranslate)return i?-r:r;if(t.cssMode)return r;let s=lR(n[0],e);return i&&(s=-s),s||0},setTranslate:function(e,t){const i=this,{rtlTranslate:r,params:n,$wrapperEl:s,wrapperEl:a,progress:o}=i;let l,h=0,u=0;i.isHorizontal()?h=r?-e:e:u=e,n.roundLengths&&(h=Math.floor(h),u=Math.floor(u)),n.cssMode?a[i.isHorizontal()?"scrollLeft":"scrollTop"]=i.isHorizontal()?-h:-u:n.virtualTranslate||s.transform(`translate3d(${h}px, ${u}px, 0px)`),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?h:u;const d=i.maxTranslate()-i.minTranslate();l=0===d?0:(e-i.minTranslate())/d,l!==o&&i.updateProgress(e),i.emit("setTranslate",i.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,i,r,n){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),void 0===r&&(r=!0);const s=this,{params:a,wrapperEl:o}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;const l=s.minTranslate(),h=s.maxTranslate();let u;if(u=r&&e>l?l:r&&e<h?h:e,s.updateProgress(u),a.cssMode){const e=s.isHorizontal();if(0===t)o[e?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return pR({swiper:s,targetPosition:-u,side:e?"left":"top"}),!0;o.scrollTo({[e?"left":"top"]:-u,behavior:"smooth"})}return!0}return 0===t?(s.setTransition(0),s.setTranslate(u),i&&(s.emit("beforeTransitionStart",t,n),s.emit("transitionEnd"))):(s.setTransition(t),s.setTranslate(u),i&&(s.emit("beforeTransitionStart",t,n),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,i&&s.emit("transitionEnd"))}),s.$wrapperEl[0].addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onTranslateToWrapperTransitionEnd))),!0}};function SR(e){let{swiper:t,runCallbacks:i,direction:r,step:n}=e;const{activeIndex:s,previousIndex:a}=t;let o=r;if(o||(o=s>a?"next":s<a?"prev":"reset"),t.emit(`transition${n}`),i&&s!==a){if("reset"===o)return void t.emit(`slideResetTransition${n}`);t.emit(`slideChangeTransition${n}`),"next"===o?t.emit(`slideNextTransition${n}`):t.emit(`slidePrevTransition${n}`)}}var kR={slideTo:function(e,t,i,r,n){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),"number"!=typeof e&&"string"!=typeof e)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof e}] given.`);if("string"==typeof e){const t=parseInt(e,10);if(!isFinite(t))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`);e=t}const s=this;let a=e;a<0&&(a=0);const{params:o,snapGrid:l,slidesGrid:h,previousIndex:u,activeIndex:d,rtlTranslate:c,wrapperEl:p,enabled:g}=s;if(s.animating&&o.preventInteractionOnTransition||!g&&!r&&!n)return!1;const f=Math.min(s.params.slidesPerGroupSkip,a);let m=f+Math.floor((a-f)/s.params.slidesPerGroup);m>=l.length&&(m=l.length-1),(d||o.initialSlide||0)===(u||0)&&i&&s.emit("beforeSlideChangeStart");const C=-l[m];if(s.updateProgress(C),o.normalizeSlideIndex)for(let e=0;e<h.length;e+=1){const t=-Math.floor(100*C),i=Math.floor(100*h[e]),r=Math.floor(100*h[e+1]);void 0!==h[e+1]?t>=i&&t<r-(r-i)/2?a=e:t>=i&&t<r&&(a=e+1):t>=i&&(a=e)}if(s.initialized&&a!==d){if(!s.allowSlideNext&&C<s.translate&&C<s.minTranslate())return!1;if(!s.allowSlidePrev&&C>s.translate&&C>s.maxTranslate()&&(d||0)!==a)return!1}let y;if(y=a>d?"next":a<d?"prev":"reset",c&&-C===s.translate||!c&&C===s.translate)return s.updateActiveIndex(a),o.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==o.effect&&s.setTranslate(C),"reset"!==y&&(s.transitionStart(i,y),s.transitionEnd(i,y)),!1;if(o.cssMode){const e=s.isHorizontal(),i=c?C:-C;if(0===t){const t=s.virtual&&s.params.virtual.enabled;t&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),p[e?"scrollLeft":"scrollTop"]=i,t&&requestAnimationFrame((()=>{s.wrapperEl.style.scrollSnapType="",s._swiperImmediateVirtual=!1}))}else{if(!s.support.smoothScroll)return pR({swiper:s,targetPosition:i,side:e?"left":"top"}),!0;p.scrollTo({[e?"left":"top"]:i,behavior:"smooth"})}return!0}return s.setTransition(t),s.setTranslate(C),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,r),s.transitionStart(i,y),0===t?s.transitionEnd(i,y):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.$wrapperEl[0].removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].removeEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(i,y))}),s.$wrapperEl[0].addEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.$wrapperEl[0].addEventListener("webkitTransitionEnd",s.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,i,r){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),"string"==typeof e){const t=parseInt(e,10);if(!isFinite(t))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`);e=t}const n=this;let s=e;return n.params.loop&&(s+=n.loopedSlides),n.slideTo(s,t,i,r)},slideNext:function(e,t,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);const r=this,{animating:n,enabled:s,params:a}=r;if(!s)return r;let o=a.slidesPerGroup;"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(o=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<a.slidesPerGroupSkip?1:o;if(a.loop){if(n&&a.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return a.rewind&&r.isEnd?r.slideTo(0,e,t,i):r.slideTo(r.activeIndex+l,e,t,i)},slidePrev:function(e,t,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);const r=this,{params:n,animating:s,snapGrid:a,slidesGrid:o,rtlTranslate:l,enabled:h}=r;if(!h)return r;if(n.loop){if(s&&n.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}function u(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const d=u(l?r.translate:-r.translate),c=a.map((e=>u(e)));let p=a[c.indexOf(d)-1];if(void 0===p&&n.cssMode){let e;a.forEach(((t,i)=>{d>=t&&(e=i)})),void 0!==e&&(p=a[e>0?e-1:e])}let g=0;if(void 0!==p&&(g=o.indexOf(p),g<0&&(g=r.activeIndex-1),"auto"===n.slidesPerView&&1===n.slidesPerGroup&&n.slidesPerGroupAuto&&(g=g-r.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),n.rewind&&r.isBeginning){const n=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(n,e,t,i)}return r.slideTo(g,e,t,i)},slideReset:function(e,t,i){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,i)},slideToClosest:function(e,t,i,r){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===r&&(r=.5);const n=this;let s=n.activeIndex;const a=Math.min(n.params.slidesPerGroupSkip,s),o=a+Math.floor((s-a)/n.params.slidesPerGroup),l=n.rtlTranslate?n.translate:-n.translate;if(l>=n.snapGrid[o]){const e=n.snapGrid[o];l-e>(n.snapGrid[o+1]-e)*r&&(s+=n.params.slidesPerGroup)}else{const e=n.snapGrid[o-1];l-e<=(n.snapGrid[o]-e)*r&&(s-=n.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,n.slidesGrid.length-1),n.slideTo(s,e,t,i)},slideToClickedSlide:function(){const e=this,{params:t,$wrapperEl:i}=e,r="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let n,s=e.clickedIndex;if(t.loop){if(e.animating)return;n=parseInt(nR(e.clickedSlide).attr("data-swiper-slide-index"),10),t.centeredSlides?s<e.loopedSlides-r/2||s>e.slides.length-e.loopedSlides+r/2?(e.loopFix(),s=i.children(`.${t.slideClass}[data-swiper-slide-index="${n}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),aR((()=>{e.slideTo(s)}))):e.slideTo(s):s>e.slides.length-r?(e.loopFix(),s=i.children(`.${t.slideClass}[data-swiper-slide-index="${n}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),aR((()=>{e.slideTo(s)}))):e.slideTo(s)}else e.slideTo(s)}};var TR={loopCreate:function(){const e=this,t=qJ(),{params:i,$wrapperEl:r}=e,n=r.children().length>0?nR(r.children()[0].parentNode):r;n.children(`.${i.slideClass}.${i.slideDuplicateClass}`).remove();let s=n.children(`.${i.slideClass}`);if(i.loopFillGroupWithBlank){const e=i.slidesPerGroup-s.length%i.slidesPerGroup;if(e!==i.slidesPerGroup){for(let r=0;r<e;r+=1){const e=nR(t.createElement("div")).addClass(`${i.slideClass} ${i.slideBlankClass}`);n.append(e)}s=n.children(`.${i.slideClass}`)}}"auto"!==i.slidesPerView||i.loopedSlides||(i.loopedSlides=s.length),e.loopedSlides=Math.ceil(parseFloat(i.loopedSlides||i.slidesPerView,10)),e.loopedSlides+=i.loopAdditionalSlides,e.loopedSlides>s.length&&(e.loopedSlides=s.length);const a=[],o=[];s.each(((t,i)=>{const r=nR(t);i<e.loopedSlides&&o.push(t),i<s.length&&i>=s.length-e.loopedSlides&&a.push(t),r.attr("data-swiper-slide-index",i)}));for(let e=0;e<o.length;e+=1)n.append(nR(o[e].cloneNode(!0)).addClass(i.slideDuplicateClass));for(let e=a.length-1;e>=0;e-=1)n.prepend(nR(a[e].cloneNode(!0)).addClass(i.slideDuplicateClass))},loopFix:function(){const e=this;e.emit("beforeLoopFix");const{activeIndex:t,slides:i,loopedSlides:r,allowSlidePrev:n,allowSlideNext:s,snapGrid:a,rtlTranslate:o}=e;let l;e.allowSlidePrev=!0,e.allowSlideNext=!0;const h=-a[t]-e.getTranslate();if(t<r){l=i.length-3*r+t,l+=r;e.slideTo(l,0,!1,!0)&&0!==h&&e.setTranslate((o?-e.translate:e.translate)-h)}else if(t>=i.length-r){l=-i.length+t+r,l+=r;e.slideTo(l,0,!1,!0)&&0!==h&&e.setTranslate((o?-e.translate:e.translate)-h)}e.allowSlidePrev=n,e.allowSlideNext=s,e.emit("loopFix")},loopDestroy:function(){const{$wrapperEl:e,params:t,slides:i}=this;e.children(`.${t.slideClass}.${t.slideDuplicateClass},.${t.slideClass}.${t.slideBlankClass}`).remove(),i.removeAttr("data-swiper-slide-index")}};var AR={setGrabCursor:function(e){const t=this;if(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const i="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;i.style.cursor="move",i.style.cursor=e?"grabbing":"grab"},unsetGrabCursor:function(){const e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}};function wR(e){const t=this,i=qJ(),r=eR(),n=t.touchEventsData,{params:s,touches:a,enabled:o}=t;if(!o)return;if(t.animating&&s.preventInteractionOnTransition)return;!t.animating&&s.cssMode&&s.loop&&t.loopFix();let l=e;l.originalEvent&&(l=l.originalEvent);let h=nR(l.target);if("wrapper"===s.touchEventsTarget&&!h.closest(t.wrapperEl).length)return;if(n.isTouchEvent="touchstart"===l.type,!n.isTouchEvent&&"which"in l&&3===l.which)return;if(!n.isTouchEvent&&"button"in l&&l.button>0)return;if(n.isTouched&&n.isMoved)return;!!s.noSwipingClass&&""!==s.noSwipingClass&&l.target&&l.target.shadowRoot&&e.path&&e.path[0]&&(h=nR(e.path[0]));const u=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,d=!(!l.target||!l.target.shadowRoot);if(s.noSwiping&&(d?function(e,t){return void 0===t&&(t=this),function t(i){if(!i||i===qJ()||i===eR())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(e);return r||i.getRootNode?r||t(i.getRootNode().host):null}(t)}(u,h[0]):h.closest(u)[0]))return void(t.allowClick=!0);if(s.swipeHandler&&!h.closest(s.swipeHandler)[0])return;a.currentX="touchstart"===l.type?l.targetTouches[0].pageX:l.pageX,a.currentY="touchstart"===l.type?l.targetTouches[0].pageY:l.pageY;const c=a.currentX,p=a.currentY,g=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,f=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(g&&(c<=f||c>=r.innerWidth-f)){if("prevent"!==g)return;e.preventDefault()}if(Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=c,a.startY=p,n.touchStartTime=oR(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,s.threshold>0&&(n.allowThresholdMove=!1),"touchstart"!==l.type){let e=!0;h.is(n.focusableElements)&&(e=!1,"SELECT"===h[0].nodeName&&(n.isTouched=!1)),i.activeElement&&nR(i.activeElement).is(n.focusableElements)&&i.activeElement!==h[0]&&i.activeElement.blur();const r=e&&t.allowTouchMove&&s.touchStartPreventDefault;!s.touchStartForcePreventDefault&&!r||h[0].isContentEditable||l.preventDefault()}t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!s.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",l)}function ER(e){const t=qJ(),i=this,r=i.touchEventsData,{params:n,touches:s,rtlTranslate:a,enabled:o}=i;if(!o)return;let l=e;if(l.originalEvent&&(l=l.originalEvent),!r.isTouched)return void(r.startMoving&&r.isScrolling&&i.emit("touchMoveOpposite",l));if(r.isTouchEvent&&"touchmove"!==l.type)return;const h="touchmove"===l.type&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),u="touchmove"===l.type?h.pageX:l.pageX,d="touchmove"===l.type?h.pageY:l.pageY;if(l.preventedByNestedSwiper)return s.startX=u,void(s.startY=d);if(!i.allowTouchMove)return nR(l.target).is(r.focusableElements)||(i.allowClick=!1),void(r.isTouched&&(Object.assign(s,{startX:u,startY:d,currentX:u,currentY:d}),r.touchStartTime=oR()));if(r.isTouchEvent&&n.touchReleaseOnEdges&&!n.loop)if(i.isVertical()){if(d<s.startY&&i.translate<=i.maxTranslate()||d>s.startY&&i.translate>=i.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(u<s.startX&&i.translate<=i.maxTranslate()||u>s.startX&&i.translate>=i.minTranslate())return;if(r.isTouchEvent&&t.activeElement&&l.target===t.activeElement&&nR(l.target).is(r.focusableElements))return r.isMoved=!0,void(i.allowClick=!1);if(r.allowTouchCallbacks&&i.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;s.currentX=u,s.currentY=d;const c=s.currentX-s.startX,p=s.currentY-s.startY;if(i.params.threshold&&Math.sqrt(c**2+p**2)<i.params.threshold)return;if(void 0===r.isScrolling){let e;i.isHorizontal()&&s.currentY===s.startY||i.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:c*c+p*p>=25&&(e=180*Math.atan2(Math.abs(p),Math.abs(c))/Math.PI,r.isScrolling=i.isHorizontal()?e>n.touchAngle:90-e>n.touchAngle)}if(r.isScrolling&&i.emit("touchMoveOpposite",l),void 0===r.startMoving&&(s.currentX===s.startX&&s.currentY===s.startY||(r.startMoving=!0)),r.isScrolling)return void(r.isTouched=!1);if(!r.startMoving)return;i.allowClick=!1,!n.cssMode&&l.cancelable&&l.preventDefault(),n.touchMoveStopPropagation&&!n.nested&&l.stopPropagation(),r.isMoved||(n.loop&&!n.cssMode&&i.loopFix(),r.startTranslate=i.getTranslate(),i.setTransition(0),i.animating&&i.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,!n.grabCursor||!0!==i.allowSlideNext&&!0!==i.allowSlidePrev||i.setGrabCursor(!0),i.emit("sliderFirstMove",l)),i.emit("sliderMove",l),r.isMoved=!0;let g=i.isHorizontal()?c:p;s.diff=g,g*=n.touchRatio,a&&(g=-g),i.swipeDirection=g>0?"prev":"next",r.currentTranslate=g+r.startTranslate;let f=!0,m=n.resistanceRatio;if(n.touchReleaseOnEdges&&(m=0),g>0&&r.currentTranslate>i.minTranslate()?(f=!1,n.resistance&&(r.currentTranslate=i.minTranslate()-1+(-i.minTranslate()+r.startTranslate+g)**m)):g<0&&r.currentTranslate<i.maxTranslate()&&(f=!1,n.resistance&&(r.currentTranslate=i.maxTranslate()+1-(i.maxTranslate()-r.startTranslate-g)**m)),f&&(l.preventedByNestedSwiper=!0),!i.allowSlideNext&&"next"===i.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!i.allowSlidePrev&&"prev"===i.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),i.allowSlidePrev||i.allowSlideNext||(r.currentTranslate=r.startTranslate),n.threshold>0){if(!(Math.abs(g)>n.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,void(s.diff=i.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY)}n.followFinger&&!n.cssMode&&((n.freeMode&&n.freeMode.enabled&&i.freeMode||n.watchSlidesProgress)&&(i.updateActiveIndex(),i.updateSlidesClasses()),i.params.freeMode&&n.freeMode.enabled&&i.freeMode&&i.freeMode.onTouchMove(),i.updateProgress(r.currentTranslate),i.setTranslate(r.currentTranslate))}function JR(e){const t=this,i=t.touchEventsData,{params:r,touches:n,rtlTranslate:s,slidesGrid:a,enabled:o}=t;if(!o)return;let l=e;if(l.originalEvent&&(l=l.originalEvent),i.allowTouchCallbacks&&t.emit("touchEnd",l),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&r.grabCursor&&t.setGrabCursor(!1),i.isMoved=!1,void(i.startMoving=!1);r.grabCursor&&i.isMoved&&i.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const h=oR(),u=h-i.touchStartTime;if(t.allowClick){const e=l.path||l.composedPath&&l.composedPath();t.updateClickedSlide(e&&e[0]||l.target),t.emit("tap click",l),u<300&&h-i.lastClickTime<300&&t.emit("doubleTap doubleClick",l)}if(i.lastClickTime=oR(),aR((()=>{t.destroyed||(t.allowClick=!0)})),!i.isTouched||!i.isMoved||!t.swipeDirection||0===n.diff||i.currentTranslate===i.startTranslate)return i.isTouched=!1,i.isMoved=!1,void(i.startMoving=!1);let d;if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,d=r.followFinger?s?t.translate:-t.translate:-i.currentTranslate,r.cssMode)return;if(t.params.freeMode&&r.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:d});let c=0,p=t.slidesSizesGrid[0];for(let e=0;e<a.length;e+=e<r.slidesPerGroupSkip?1:r.slidesPerGroup){const t=e<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;void 0!==a[e+t]?d>=a[e]&&d<a[e+t]&&(c=e,p=a[e+t]-a[e]):d>=a[e]&&(c=e,p=a[a.length-1]-a[a.length-2])}let g=null,f=null;r.rewind&&(t.isBeginning?f=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(g=0));const m=(d-a[c])/p,C=c<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(u>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(m>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?g:c+C):t.slideTo(c)),"prev"===t.swipeDirection&&(m>1-r.longSwipesRatio?t.slideTo(c+C):null!==f&&m<0&&Math.abs(m)>r.longSwipesRatio?t.slideTo(f):t.slideTo(c))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(l.target===t.navigation.nextEl||l.target===t.navigation.prevEl)?l.target===t.navigation.nextEl?t.slideTo(c+C):t.slideTo(c):("next"===t.swipeDirection&&t.slideTo(null!==g?g:c+C),"prev"===t.swipeDirection&&t.slideTo(null!==f?f:c))}}function RR(){const e=this,{params:t,el:i}=e;if(i&&0===i.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:n,snapGrid:s}=e;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=n,e.allowSlideNext=r,e.params.watchOverflow&&s!==e.snapGrid&&e.checkOverflow()}function xR(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function GR(){const e=this,{wrapperEl:t,rtlTranslate:i,enabled:r}=e;if(!r)return;let n;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const s=e.maxTranslate()-e.minTranslate();n=0===s?0:(e.translate-e.minTranslate())/s,n!==e.progress&&e.updateProgress(i?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}let DR=!1;function BR(){}const NR=(e,t)=>{const i=qJ(),{params:r,touchEvents:n,el:s,wrapperEl:a,device:o,support:l}=e,h=!!r.nested,u="on"===t?"addEventListener":"removeEventListener",d=t;if(l.touch){const t=!("touchstart"!==n.start||!l.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};s[u](n.start,e.onTouchStart,t),s[u](n.move,e.onTouchMove,l.passiveListener?{passive:!1,capture:h}:h),s[u](n.end,e.onTouchEnd,t),n.cancel&&s[u](n.cancel,e.onTouchEnd,t)}else s[u](n.start,e.onTouchStart,!1),i[u](n.move,e.onTouchMove,h),i[u](n.end,e.onTouchEnd,!1);(r.preventClicks||r.preventClicksPropagation)&&s[u]("click",e.onClick,!0),r.cssMode&&a[u]("scroll",e.onScroll),r.updateOnWindowResize?e[d](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",RR,!0):e[d]("observerUpdate",RR,!0)};var QR={attachEvents:function(){const e=this,t=qJ(),{params:i,support:r}=e;e.onTouchStart=wR.bind(e),e.onTouchMove=ER.bind(e),e.onTouchEnd=JR.bind(e),i.cssMode&&(e.onScroll=GR.bind(e)),e.onClick=xR.bind(e),r.touch&&!DR&&(t.addEventListener("touchstart",BR),DR=!0),NR(e,"on")},detachEvents:function(){NR(this,"off")}};const MR=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var ZR={setBreakpoint:function(){const e=this,{activeIndex:t,initialized:i,loopedSlides:r=0,params:n,$el:s}=e,a=n.breakpoints;if(!a||a&&0===Object.keys(a).length)return;const o=e.getBreakpoint(a,e.params.breakpointsBase,e.el);if(!o||e.currentBreakpoint===o)return;const l=(o in a?a[o]:void 0)||e.originalParams,h=MR(e,n),u=MR(e,l),d=n.enabled;h&&!u?(s.removeClass(`${n.containerModifierClass}grid ${n.containerModifierClass}grid-column`),e.emitContainerClasses()):!h&&u&&(s.addClass(`${n.containerModifierClass}grid`),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===n.grid.fill)&&s.addClass(`${n.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach((t=>{const i=n[t]&&n[t].enabled,r=l[t]&&l[t].enabled;i&&!r&&e[t].disable(),!i&&r&&e[t].enable()}));const c=l.direction&&l.direction!==n.direction,p=n.loop&&(l.slidesPerView!==n.slidesPerView||c);c&&i&&e.changeDirection(),dR(e.params,l);const g=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),d&&!g?e.disable():!d&&g&&e.enable(),e.currentBreakpoint=o,e.emit("_beforeBreakpoint",l),p&&i&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-r+e.loopedSlides,0,!1)),e.emit("breakpoint",l)},getBreakpoint:function(e,t,i){if(void 0===t&&(t="window"),!e||"container"===t&&!i)return;let r=!1;const n=eR(),s="window"===t?n.innerHeight:i.clientHeight,a=Object.keys(e).map((e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:s*t,point:e}}return{value:e,point:e}}));a.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let e=0;e<a.length;e+=1){const{point:s,value:o}=a[e];"window"===t?n.matchMedia(`(min-width: ${o}px)`).matches&&(r=s):o<=i.clientWidth&&(r=s)}return r||"max"}};var PR={addClasses:function(){const e=this,{classNames:t,params:i,rtl:r,$el:n,device:s,support:a}=e,o=function(e,t){const i=[];return e.forEach((e=>{"object"==typeof e?Object.keys(e).forEach((r=>{e[r]&&i.push(t+r)})):"string"==typeof e&&i.push(t+e)})),i}(["initialized",i.direction,{"pointer-events":!a.touch},{"free-mode":e.params.freeMode&&i.freeMode.enabled},{autoheight:i.autoHeight},{rtl:r},{grid:i.grid&&i.grid.rows>1},{"grid-column":i.grid&&i.grid.rows>1&&"column"===i.grid.fill},{android:s.android},{ios:s.ios},{"css-mode":i.cssMode},{centered:i.cssMode&&i.centeredSlides},{"watch-progress":i.watchSlidesProgress}],i.containerModifierClass);t.push(...o),n.addClass([...t].join(" ")),e.emitContainerClasses()},removeClasses:function(){const{$el:e,classNames:t}=this;e.removeClass(t.join(" ")),this.emitContainerClasses()}};var OR={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function LR(e,t){return function(i){void 0===i&&(i={});const r=Object.keys(i)[0],n=i[r];"object"==typeof n&&null!==n?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===e[r]&&(e[r]={auto:!0}),r in e&&"enabled"in n?(!0===e[r]&&(e[r]={enabled:!0}),"object"!=typeof e[r]||"enabled"in e[r]||(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),dR(t,i)):dR(t,i)):dR(t,i)}}const XR={eventsEmitter:IR,update:vR,translate:_R,transition:{setTransition:function(e,t){const i=this;i.params.cssMode||i.$wrapperEl.transition(e),i.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const i=this,{params:r}=i;r.cssMode||(r.autoHeight&&i.updateAutoHeight(),SR({swiper:i,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const i=this,{params:r}=i;i.animating=!1,r.cssMode||(i.setTransition(0),SR({swiper:i,runCallbacks:e,direction:t,step:"End"}))}},slide:kR,loop:TR,grabCursor:AR,events:QR,breakpoints:ZR,checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:i}=e,{slidesOffsetBefore:r}=i;if(r){const t=e.slides.length-1,i=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*r;e.isLocked=e.size>i}else e.isLocked=1===e.snapGrid.length;!0===i.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===i.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:PR,images:{loadImage:function(e,t,i,r,n,s){const a=eR();let o;function l(){s&&s()}nR(e).parent("picture")[0]||e.complete&&n?l():t?(o=new a.Image,o.onload=l,o.onerror=l,r&&(o.sizes=r),i&&(o.srcset=i),t&&(o.src=t)):l()},preloadImages:function(){const e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(let i=0;i<e.imagesToLoad.length;i+=1){const r=e.imagesToLoad[i];e.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,t)}}}},VR={};class FR{constructor(){let e,t;for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];if(1===r.length&&r[0].constructor&&"Object"===Object.prototype.toString.call(r[0]).slice(8,-1)?t=r[0]:[e,t]=r,t||(t={}),t=dR({},t),e&&!t.el&&(t.el=e),t.el&&nR(t.el).length>1){const e=[];return nR(t.el).each((i=>{const r=dR({},t,{el:i});e.push(new FR(r))})),e}const s=this;s.__swiper__=!0,s.support=CR(),s.device=yR({userAgent:t.userAgent}),s.browser=bR(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],t.modules&&Array.isArray(t.modules)&&s.modules.push(...t.modules);const a={};s.modules.forEach((e=>{e({swiper:s,extendParams:LR(t,a),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})}));const o=dR({},OR,a);return s.params=dR({},o,VR,t),s.originalParams=dR({},s.params),s.passedParams=dR({},t),s.params&&s.params.on&&Object.keys(s.params.on).forEach((e=>{s.on(e,s.params.on[e])})),s.params&&s.params.onAny&&s.onAny(s.params.onAny),s.$=nR,Object.assign(s,{enabled:s.params.enabled,el:e,classNames:[],slides:nR(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===s.params.direction,isVertical:()=>"vertical"===s.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEvents:function(){const e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return s.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},s.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},s.support.touch||!s.params.simulateTouch?s.touchEventsTouch:s.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:oR(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),n=(i.maxTranslate()-r)*e+r;i.translateTo(n,void 0===t?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.each((i=>{const r=e.getSlideClasses(i);t.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:i,slides:r,slidesGrid:n,slidesSizesGrid:s,size:a,activeIndex:o}=this;let l=1;if(i.centeredSlides){let e,t=r[o].swiperSlideSize;for(let i=o+1;i<r.length;i+=1)r[i]&&!e&&(t+=r[i].swiperSlideSize,l+=1,t>a&&(e=!0));for(let i=o-1;i>=0;i-=1)r[i]&&!e&&(t+=r[i].swiperSlideSize,l+=1,t>a&&(e=!0))}else if("current"===e)for(let e=o+1;e<r.length;e+=1){(t?n[e]+s[e]-n[o]<a:n[e]-n[o]<a)&&(l+=1)}else for(let e=o-1;e>=0;e-=1){n[o]-n[e]<a&&(l+=1)}return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;function r(){const t=e.rtlTranslate?-1*e.translate:e.translate,i=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(i),e.updateActiveIndex(),e.updateSlidesClasses()}let n;i.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(r(),e.params.autoHeight&&e.updateAutoHeight()):(n=("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),n||r()),i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const i=this,r=i.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(i.$el.removeClass(`${i.params.containerModifierClass}${r}`).addClass(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.each((t=>{"vertical"===e?t.style.width="":t.style.height=""})),i.emit("changeDirection"),t&&i.update()),i}mount(e){const t=this;if(t.mounted)return!0;const i=nR(e||t.params.el);if(!(e=i[0]))return!1;e.swiper=t;const r=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let n=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const t=nR(e.shadowRoot.querySelector(r()));return t.children=e=>i.children(e),t}return i.children?i.children(r()):nR(i).children(r())})();if(0===n.length&&t.params.createElements){const e=qJ().createElement("div");n=nR(e),e.className=t.params.wrapperClass,i.append(e),i.children(`.${t.params.slideClass}`).each((e=>{n.append(e)}))}return Object.assign(t,{$el:i,el:e,$wrapperEl:n,wrapperEl:n[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===i.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===i.css("direction")),wrongRTL:"-webkit-box"===n.css("display")}),!0}init(e){const t=this;if(t.initialized)return t;return!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const i=this,{params:r,$el:n,$wrapperEl:s,slides:a}=i;return void 0===i.params||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),t&&(i.removeClasses(),n.removeAttr("style"),s.removeAttr("style"),a&&a.length&&a.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach((e=>{i.off(e)})),!1!==e&&(i.$el[0].swiper=null,function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}}))}(i)),i.destroyed=!0),null}static extendDefaults(e){dR(VR,e)}static get extendedDefaults(){return VR}static get defaults(){return OR}static installModule(e){FR.prototype.__modules__||(FR.prototype.__modules__=[]);const t=FR.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>FR.installModule(e))),FR):(FR.installModule(e),FR)}}function WR(e){let{swiper:t,extendParams:i,on:r,emit:n}=e;const s=eR();let a;i({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}}),t.mousewheel={enabled:!1};let o,l=oR();const h=[];function u(){t.enabled&&(t.mouseEntered=!0)}function d(){t.enabled&&(t.mouseEntered=!1)}function c(e){return!(t.params.mousewheel.thresholdDelta&&e.delta<t.params.mousewheel.thresholdDelta)&&(!(t.params.mousewheel.thresholdTime&&oR()-l<t.params.mousewheel.thresholdTime)&&(e.delta>=6&&oR()-l<60||(e.direction<0?t.isEnd&&!t.params.loop||t.animating||(t.slideNext(),n("scroll",e.raw)):t.isBeginning&&!t.params.loop||t.animating||(t.slidePrev(),n("scroll",e.raw)),l=(new s.Date).getTime(),!1)))}function p(e){let i=e,r=!0;if(!t.enabled)return;const s=t.params.mousewheel;t.params.cssMode&&i.preventDefault();let l=t.$el;if("container"!==t.params.mousewheel.eventsTarget&&(l=nR(t.params.mousewheel.eventsTarget)),!t.mouseEntered&&!l[0].contains(i.target)&&!s.releaseOnEdges)return!0;i.originalEvent&&(i=i.originalEvent);let u=0;const d=t.rtlTranslate?-1:1,p=function(e){let t=0,i=0,r=0,n=0;return"detail"in e&&(i=e.detail),"wheelDelta"in e&&(i=-e.wheelDelta/120),"wheelDeltaY"in e&&(i=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=i,i=0),r=10*t,n=10*i,"deltaY"in e&&(n=e.deltaY),"deltaX"in e&&(r=e.deltaX),e.shiftKey&&!r&&(r=n,n=0),(r||n)&&e.deltaMode&&(1===e.deltaMode?(r*=40,n*=40):(r*=800,n*=800)),r&&!t&&(t=r<1?-1:1),n&&!i&&(i=n<1?-1:1),{spinX:t,spinY:i,pixelX:r,pixelY:n}}(i);if(s.forceToAxis)if(t.isHorizontal()){if(!(Math.abs(p.pixelX)>Math.abs(p.pixelY)))return!0;u=-p.pixelX*d}else{if(!(Math.abs(p.pixelY)>Math.abs(p.pixelX)))return!0;u=-p.pixelY}else u=Math.abs(p.pixelX)>Math.abs(p.pixelY)?-p.pixelX*d:-p.pixelY;if(0===u)return!0;s.invert&&(u=-u);let g=t.getTranslate()+u*s.sensitivity;if(g>=t.minTranslate()&&(g=t.minTranslate()),g<=t.maxTranslate()&&(g=t.maxTranslate()),r=!!t.params.loop||!(g===t.minTranslate()||g===t.maxTranslate()),r&&t.params.nested&&i.stopPropagation(),t.params.freeMode&&t.params.freeMode.enabled){const e={time:oR(),delta:Math.abs(u),direction:Math.sign(u)},r=o&&e.time<o.time+500&&e.delta<=o.delta&&e.direction===o.direction;if(!r){o=void 0,t.params.loop&&t.loopFix();let l=t.getTranslate()+u*s.sensitivity;const d=t.isBeginning,c=t.isEnd;if(l>=t.minTranslate()&&(l=t.minTranslate()),l<=t.maxTranslate()&&(l=t.maxTranslate()),t.setTransition(0),t.setTranslate(l),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses(),(!d&&t.isBeginning||!c&&t.isEnd)&&t.updateSlidesClasses(),t.params.freeMode.sticky){clearTimeout(a),a=void 0,h.length>=15&&h.shift();const i=h.length?h[h.length-1]:void 0,r=h[0];if(h.push(e),i&&(e.delta>i.delta||e.direction!==i.direction))h.splice(0);else if(h.length>=15&&e.time-r.time<500&&r.delta-e.delta>=1&&e.delta<=6){const i=u>0?.8:.2;o=e,h.splice(0),a=aR((()=>{t.slideToClosest(t.params.speed,!0,void 0,i)}),0)}a||(a=aR((()=>{o=e,h.splice(0),t.slideToClosest(t.params.speed,!0,void 0,.5)}),500))}if(r||n("scroll",i),t.params.autoplay&&t.params.autoplayDisableOnInteraction&&t.autoplay.stop(),l===t.minTranslate()||l===t.maxTranslate())return!0}}else{const i={time:oR(),delta:Math.abs(u),direction:Math.sign(u),raw:e};h.length>=2&&h.shift();const r=h.length?h[h.length-1]:void 0;if(h.push(i),r?(i.direction!==r.direction||i.delta>r.delta||i.time>r.time+150)&&c(i):c(i),function(e){const i=t.params.mousewheel;if(e.direction<0){if(t.isEnd&&!t.params.loop&&i.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&i.releaseOnEdges)return!0;return!1}(i))return!0}return i.preventDefault?i.preventDefault():i.returnValue=!1,!1}function g(e){let i=t.$el;"container"!==t.params.mousewheel.eventsTarget&&(i=nR(t.params.mousewheel.eventsTarget)),i[e]("mouseenter",u),i[e]("mouseleave",d),i[e]("wheel",p)}function f(){return t.params.cssMode?(t.wrapperEl.removeEventListener("wheel",p),!0):!t.mousewheel.enabled&&(g("on"),t.mousewheel.enabled=!0,!0)}function m(){return t.params.cssMode?(t.wrapperEl.addEventListener(event,p),!0):!!t.mousewheel.enabled&&(g("off"),t.mousewheel.enabled=!1,!0)}r("init",(()=>{!t.params.mousewheel.enabled&&t.params.cssMode&&m(),t.params.mousewheel.enabled&&f()})),r("destroy",(()=>{t.params.cssMode&&f(),t.mousewheel.enabled&&m()})),Object.assign(t.mousewheel,{enable:f,disable:m})}function UR(e){return void 0===e&&(e=""),`.${e.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function HR(e){let{swiper:t,extendParams:i,on:r,emit:n}=e;const s="swiper-pagination";let a;i({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),t.pagination={el:null,$el:null,bullets:[]};let o=0;function l(){return!t.params.pagination.el||!t.pagination.el||!t.pagination.$el||0===t.pagination.$el.length}function h(e,i){const{bulletActiveClass:r}=t.params.pagination;e[i]().addClass(`${r}-${i}`)[i]().addClass(`${r}-${i}-${i}`)}function u(){const e=t.rtl,i=t.params.pagination;if(l())return;const r=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,s=t.pagination.$el;let u;const d=t.params.loop?Math.ceil((r-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(u=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup),u>r-1-2*t.loopedSlides&&(u-=r-2*t.loopedSlides),u>d-1&&(u-=d),u<0&&"bullets"!==t.params.paginationType&&(u=d+u)):u=void 0!==t.snapIndex?t.snapIndex:t.activeIndex||0,"bullets"===i.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const r=t.pagination.bullets;let n,l,d;if(i.dynamicBullets&&(a=r.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),s.css(t.isHorizontal()?"width":"height",a*(i.dynamicMainBullets+4)+"px"),i.dynamicMainBullets>1&&void 0!==t.previousIndex&&(o+=u-(t.previousIndex-t.loopedSlides||0),o>i.dynamicMainBullets-1?o=i.dynamicMainBullets-1:o<0&&(o=0)),n=Math.max(u-o,0),l=n+(Math.min(r.length,i.dynamicMainBullets)-1),d=(l+n)/2),r.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map((e=>`${i.bulletActiveClass}${e}`)).join(" ")),s.length>1)r.each((e=>{const t=nR(e),r=t.index();r===u&&t.addClass(i.bulletActiveClass),i.dynamicBullets&&(r>=n&&r<=l&&t.addClass(`${i.bulletActiveClass}-main`),r===n&&h(t,"prev"),r===l&&h(t,"next"))}));else{const e=r.eq(u),s=e.index();if(e.addClass(i.bulletActiveClass),i.dynamicBullets){const e=r.eq(n),a=r.eq(l);for(let e=n;e<=l;e+=1)r.eq(e).addClass(`${i.bulletActiveClass}-main`);if(t.params.loop)if(s>=r.length){for(let e=i.dynamicMainBullets;e>=0;e-=1)r.eq(r.length-e).addClass(`${i.bulletActiveClass}-main`);r.eq(r.length-i.dynamicMainBullets-1).addClass(`${i.bulletActiveClass}-prev`)}else h(e,"prev"),h(a,"next");else h(e,"prev"),h(a,"next")}}if(i.dynamicBullets){const n=Math.min(r.length,i.dynamicMainBullets+4),s=(a*n-a)/2-d*a,o=e?"right":"left";r.css(t.isHorizontal()?o:"top",`${s}px`)}}if("fraction"===i.type&&(s.find(UR(i.currentClass)).text(i.formatFractionCurrent(u+1)),s.find(UR(i.totalClass)).text(i.formatFractionTotal(d))),"progressbar"===i.type){let e;e=i.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const r=(u+1)/d;let n=1,a=1;"horizontal"===e?n=r:a=r,s.find(UR(i.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${n}) scaleY(${a})`).transition(t.params.speed)}"custom"===i.type&&i.renderCustom?(s.html(i.renderCustom(t,u+1,d)),n("paginationRender",s[0])):n("paginationUpdate",s[0]),t.params.watchOverflow&&t.enabled&&s[t.isLocked?"addClass":"removeClass"](i.lockClass)}function d(){const e=t.params.pagination;if(l())return;const i=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,r=t.pagination.$el;let s="";if("bullets"===e.type){let n=t.params.loop?Math.ceil((i-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&!t.params.loop&&n>i&&(n=i);for(let i=0;i<n;i+=1)e.renderBullet?s+=e.renderBullet.call(t,i,e.bulletClass):s+=`<${e.bulletElement} class="${e.bulletClass}"></${e.bulletElement}>`;r.html(s),t.pagination.bullets=r.find(UR(e.bulletClass))}"fraction"===e.type&&(s=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`,r.html(s)),"progressbar"===e.type&&(s=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`,r.html(s)),"custom"!==e.type&&n("paginationRender",t.pagination.$el[0])}function c(){t.params.pagination=function(e,t,i,r){const n=qJ();return e.params.createElements&&Object.keys(r).forEach((s=>{if(!i[s]&&!0===i.auto){let a=e.$el.children(`.${r[s]}`)[0];a||(a=n.createElement("div"),a.className=r[s],e.$el.append(a)),i[s]=a,t[s]=a}})),i}(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const e=t.params.pagination;if(!e.el)return;let i=nR(e.el);0!==i.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&i.length>1&&(i=t.$el.find(e.el),i.length>1&&(i=i.filter((e=>nR(e).parents(".swiper")[0]===t.el)))),"bullets"===e.type&&e.clickable&&i.addClass(e.clickableClass),i.addClass(e.modifierClass+e.type),i.addClass(t.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(i.addClass(`${e.modifierClass}${e.type}-dynamic`),o=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&i.addClass(e.progressbarOppositeClass),e.clickable&&i.on("click",UR(e.bulletClass),(function(e){e.preventDefault();let i=nR(this).index()*t.params.slidesPerGroup;t.params.loop&&(i+=t.loopedSlides),t.slideTo(i)})),Object.assign(t.pagination,{$el:i,el:i[0]}),t.enabled||i.addClass(e.lockClass))}function p(){const e=t.params.pagination;if(l())return;const i=t.pagination.$el;i.removeClass(e.hiddenClass),i.removeClass(e.modifierClass+e.type),i.removeClass(t.isHorizontal()?e.horizontalClass:e.verticalClass),t.pagination.bullets&&t.pagination.bullets.removeClass&&t.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&i.off("click",UR(e.bulletClass))}r("init",(()=>{!1===t.params.pagination.enabled?g():(c(),d(),u())})),r("activeIndexChange",(()=>{(t.params.loop||void 0===t.snapIndex)&&u()})),r("snapIndexChange",(()=>{t.params.loop||u()})),r("slidesLengthChange",(()=>{t.params.loop&&(d(),u())})),r("snapGridLengthChange",(()=>{t.params.loop||(d(),u())})),r("destroy",(()=>{p()})),r("enable disable",(()=>{const{$el:e}=t.pagination;e&&e[t.enabled?"removeClass":"addClass"](t.params.pagination.lockClass)})),r("lock unlock",(()=>{u()})),r("click",((e,i)=>{const r=i.target,{$el:s}=t.pagination;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&s.length>0&&!nR(r).hasClass(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&r===t.navigation.nextEl||t.navigation.prevEl&&r===t.navigation.prevEl))return;const e=s.hasClass(t.params.pagination.hiddenClass);n(!0===e?"paginationShow":"paginationHide"),s.toggleClass(t.params.pagination.hiddenClass)}}));const g=()=>{t.$el.addClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.addClass(t.params.pagination.paginationDisabledClass),p()};Object.assign(t.pagination,{enable:()=>{t.$el.removeClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.removeClass(t.params.pagination.paginationDisabledClass),c(),d(),u()},disable:g,render:d,update:u,init:c,destroy:p})}function KR(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function YR(e,t){const i=["__proto__","constructor","prototype"];Object.keys(t).filter((e=>i.indexOf(e)<0)).forEach((i=>{void 0===e[i]?e[i]=t[i]:KR(t[i])&&KR(e[i])&&Object.keys(t[i]).length>0?t[i].__swiper__?e[i]=t[i]:YR(e[i],t[i]):e[i]=t[i]}))}function zR(e){return void 0===e&&(e={}),e.navigation&&void 0===e.navigation.nextEl&&void 0===e.navigation.prevEl}function jR(e){return void 0===e&&(e={}),e.pagination&&void 0===e.pagination.el}function qR(e){return void 0===e&&(e={}),e.scrollbar&&void 0===e.scrollbar.el}function $R(e){void 0===e&&(e="");const t=e.split(" ").map((e=>e.trim())).filter((e=>!!e)),i=[];return t.forEach((e=>{i.indexOf(e)<0&&i.push(e)})),i.join(" ")}Object.keys(XR).forEach((e=>{Object.keys(XR[e]).forEach((t=>{FR.prototype[t]=XR[e][t]}))})),FR.use([function(e){let{swiper:t,on:i,emit:r}=e;const n=eR();let s=null,a=null;const o=()=>{t&&!t.destroyed&&t.initialized&&(r("beforeResize"),r("resize"))},l=()=>{t&&!t.destroyed&&t.initialized&&r("orientationchange")};i("init",(()=>{t.params.resizeObserver&&void 0!==n.ResizeObserver?t&&!t.destroyed&&t.initialized&&(s=new ResizeObserver((e=>{a=n.requestAnimationFrame((()=>{const{width:i,height:r}=t;let n=i,s=r;e.forEach((e=>{let{contentBoxSize:i,contentRect:r,target:a}=e;a&&a!==t.el||(n=r?r.width:(i[0]||i).inlineSize,s=r?r.height:(i[0]||i).blockSize)})),n===i&&s===r||o()}))})),s.observe(t.el)):(n.addEventListener("resize",o),n.addEventListener("orientationchange",l))})),i("destroy",(()=>{a&&n.cancelAnimationFrame(a),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null),n.removeEventListener("resize",o),n.removeEventListener("orientationchange",l)}))},function(e){let{swiper:t,extendParams:i,on:r,emit:n}=e;const s=[],a=eR(),o=function(e,t){void 0===t&&(t={});const i=new(a.MutationObserver||a.WebkitMutationObserver)((e=>{if(1===e.length)return void n("observerUpdate",e[0]);const t=function(){n("observerUpdate",e[0])};a.requestAnimationFrame?a.requestAnimationFrame(t):a.setTimeout(t,0)}));i.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),s.push(i)};i({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",(()=>{if(t.params.observer){if(t.params.observeParents){const e=t.$el.parents();for(let t=0;t<e.length;t+=1)o(e[t])}o(t.$el[0],{childList:t.params.observeSlideChildren}),o(t.$wrapperEl[0],{attributes:!1})}})),r("destroy",(()=>{s.forEach((e=>{e.disconnect()})),s.splice(0,s.length)}))}]);const ex=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function tx(e,t){let i=t.slidesPerView;if(t.breakpoints){const e=FR.prototype.getBreakpoint(t.breakpoints),r=e in t.breakpoints?t.breakpoints[e]:void 0;r&&r.slidesPerView&&(i=r.slidesPerView)}let r=Math.ceil(parseFloat(t.loopedSlides||i,10));return r+=t.loopAdditionalSlides,r>e.length&&(r=e.length),r}function ix(e){const t=[];return P.Children.toArray(e).forEach((e=>{e.type&&"SwiperSlide"===e.type.displayName?t.push(e):e.props&&e.props.children&&ix(e.props.children).forEach((e=>t.push(e)))})),t}function rx(e){const t=[],i={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return P.Children.toArray(e).forEach((e=>{if(e.type&&"SwiperSlide"===e.type.displayName)t.push(e);else if(e.props&&e.props.slot&&i[e.props.slot])i[e.props.slot].push(e);else if(e.props&&e.props.children){const r=ix(e.props.children);r.length>0?r.forEach((e=>t.push(e))):i["container-end"].push(e)}else i["container-end"].push(e)})),{slides:t,slots:i}}function nx(e){let{swiper:t,slides:i,passedParams:r,changedParams:n,nextEl:s,prevEl:a,scrollbarEl:o,paginationEl:l}=e;const h=n.filter((e=>"children"!==e&&"direction"!==e)),{params:u,pagination:d,navigation:c,scrollbar:p,virtual:g,thumbs:f}=t;let m,C,y,b,I;n.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(m=!0),n.includes("controller")&&r.controller&&r.controller.control&&u.controller&&!u.controller.control&&(C=!0),n.includes("pagination")&&r.pagination&&(r.pagination.el||l)&&(u.pagination||!1===u.pagination)&&d&&!d.el&&(y=!0),n.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||o)&&(u.scrollbar||!1===u.scrollbar)&&p&&!p.el&&(b=!0),n.includes("navigation")&&r.navigation&&(r.navigation.prevEl||a)&&(r.navigation.nextEl||s)&&(u.navigation||!1===u.navigation)&&c&&!c.prevEl&&!c.nextEl&&(I=!0);if(h.forEach((e=>{if(KR(u[e])&&KR(r[e]))YR(u[e],r[e]);else{const n=r[e];!0!==n&&!1!==n||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?u[e]=r[e]:!1===n&&t[i=e]&&(t[i].destroy(),"navigation"===i?(u[i].prevEl=void 0,u[i].nextEl=void 0,t[i].prevEl=void 0,t[i].nextEl=void 0):(u[i].el=void 0,t[i].el=void 0))}var i})),h.includes("controller")&&!C&&t.controller&&t.controller.control&&u.controller&&u.controller.control&&(t.controller.control=u.controller.control),n.includes("children")&&g&&u.virtual.enabled?(g.slides=i,g.update(!0)):n.includes("children")&&t.lazy&&t.params.lazy.enabled&&t.lazy.load(),m){f.init()&&f.update(!0)}C&&(t.controller.control=u.controller.control),y&&(l&&(u.pagination.el=l),d.init(),d.render(),d.update()),b&&(o&&(u.scrollbar.el=o),p.init(),p.updateSize(),p.setTranslate()),I&&(s&&(u.navigation.nextEl=s),a&&(u.navigation.prevEl=a),c.init(),c.update()),n.includes("allowSlideNext")&&(t.allowSlideNext=r.allowSlideNext),n.includes("allowSlidePrev")&&(t.allowSlidePrev=r.allowSlidePrev),n.includes("direction")&&t.changeDirection(r.direction,!1),t.update()}function sx(e,t){return"undefined"==typeof window?n.exports.useEffect(e,t):n.exports.useLayoutEffect(e,t)}const ax=n.exports.createContext(null),ox=n.exports.createContext(null);function lx(){return lx=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},lx.apply(this,arguments)}const hx=n.exports.forwardRef((function(e,t){let{className:i,tag:r="div",wrapperTag:s="div",children:a,onSwiper:o,...l}=void 0===e?{}:e,h=!1;const[u,d]=n.exports.useState("swiper"),[c,p]=n.exports.useState(null),[g,f]=n.exports.useState(!1),m=n.exports.useRef(!1),C=n.exports.useRef(null),y=n.exports.useRef(null),b=n.exports.useRef(null),I=n.exports.useRef(null),v=n.exports.useRef(null),_=n.exports.useRef(null),S=n.exports.useRef(null),k=n.exports.useRef(null),{params:T,passedParams:A,rest:w,events:E}=function(e){void 0===e&&(e={});const t={on:{}},i={},r={};YR(t,FR.defaults),YR(t,FR.extendedDefaults),t._emitClasses=!0,t.init=!1;const n={},s=ex.map((e=>e.replace(/_/,"")));return Object.keys(e).forEach((a=>{s.indexOf(a)>=0?KR(e[a])?(t[a]={},r[a]={},YR(t[a],e[a]),YR(r[a],e[a])):(t[a]=e[a],r[a]=e[a]):0===a.search(/on[A-Z]/)&&"function"==typeof e[a]?i[`${a[2].toLowerCase()}${a.substr(3)}`]=e[a]:n[a]=e[a]})),["navigation","pagination","scrollbar"].forEach((e=>{!0===t[e]&&(t[e]={}),!1===t[e]&&delete t[e]})),{params:t,passedParams:r,rest:n,events:i}}(l),{slides:J,slots:R}=rx(a),x=()=>{f(!g)};Object.assign(T.on,{_containerClasses(e,t){d(t)}});const G=()=>{if(Object.assign(T.on,E),h=!0,y.current=new FR(T),y.current.loopCreate=()=>{},y.current.loopDestroy=()=>{},T.loop&&(y.current.loopedSlides=tx(J,T)),y.current.virtual&&y.current.params.virtual.enabled){y.current.virtual.slides=J;const e={cache:!1,slides:J,renderExternal:p,renderExternalUpdate:!1};YR(y.current.params.virtual,e),YR(y.current.originalParams.virtual,e)}};C.current||G(),y.current&&y.current.on("_beforeBreakpoint",x);return n.exports.useEffect((()=>()=>{y.current&&y.current.off("_beforeBreakpoint",x)})),n.exports.useEffect((()=>{!m.current&&y.current&&(y.current.emitSlidesClasses(),m.current=!0)})),sx((()=>{if(t&&(t.current=C.current),C.current)return y.current.destroyed&&G(),function(e,t){let{el:i,nextEl:r,prevEl:n,paginationEl:s,scrollbarEl:a,swiper:o}=e;zR(t)&&r&&n&&(o.params.navigation.nextEl=r,o.originalParams.navigation.nextEl=r,o.params.navigation.prevEl=n,o.originalParams.navigation.prevEl=n),jR(t)&&s&&(o.params.pagination.el=s,o.originalParams.pagination.el=s),qR(t)&&a&&(o.params.scrollbar.el=a,o.originalParams.scrollbar.el=a),o.init(i)}({el:C.current,nextEl:v.current,prevEl:_.current,paginationEl:S.current,scrollbarEl:k.current,swiper:y.current},T),o&&o(y.current),()=>{y.current&&!y.current.destroyed&&y.current.destroy(!0,!1)}}),[]),sx((()=>{!h&&E&&y.current&&Object.keys(E).forEach((e=>{y.current.on(e,E[e])}));const e=function(e,t,i,r){const n=[];if(!t)return n;const s=e=>{n.indexOf(e)<0&&n.push(e)},a=r.map((e=>e.key)),o=i.map((e=>e.key));return a.join("")!==o.join("")&&s("children"),r.length!==i.length&&s("children"),ex.filter((e=>"_"===e[0])).map((e=>e.replace(/_/,""))).forEach((i=>{if(i in e&&i in t)if(KR(e[i])&&KR(t[i])){const r=Object.keys(e[i]),n=Object.keys(t[i]);r.length!==n.length?s(i):(r.forEach((r=>{e[i][r]!==t[i][r]&&s(i)})),n.forEach((r=>{e[i][r]!==t[i][r]&&s(i)})))}else e[i]!==t[i]&&s(i)})),n}(A,b.current,J,I.current);return b.current=A,I.current=J,e.length&&y.current&&!y.current.destroyed&&nx({swiper:y.current,slides:J,passedParams:A,changedParams:e,nextEl:v.current,prevEl:_.current,scrollbarEl:k.current,paginationEl:S.current}),()=>{E&&y.current&&Object.keys(E).forEach((e=>{y.current.off(e,E[e])}))}})),sx((()=>{var e;!(e=y.current)||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())}),[c]),P.createElement(r,lx({ref:C,className:$R(`${u}${i?` ${i}`:""}`)},w),P.createElement(ox.Provider,{value:y.current},R["container-start"],P.createElement(s,{className:"swiper-wrapper"},R["wrapper-start"],T.virtual?function(e,t,i){if(!i)return null;const r=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${i.offset}px`}:{top:`${i.offset}px`};return t.filter(((e,t)=>t>=i.from&&t<=i.to)).map((t=>P.cloneElement(t,{swiper:e,style:r})))}(y.current,J,c):!T.loop||y.current&&y.current.destroyed?J.map((e=>P.cloneElement(e,{swiper:y.current}))):function(e,t,i){const r=t.map(((t,i)=>P.cloneElement(t,{swiper:e,"data-swiper-slide-index":i})));function n(e,t,r){return P.cloneElement(e,{key:`${e.key}-duplicate-${t}-${r}`,className:`${e.props.className||""} ${i.slideDuplicateClass}`})}if(i.loopFillGroupWithBlank){const e=i.slidesPerGroup-r.length%i.slidesPerGroup;if(e!==i.slidesPerGroup)for(let t=0;t<e;t+=1){const e=P.createElement("div",{className:`${i.slideClass} ${i.slideBlankClass}`});r.push(e)}}"auto"!==i.slidesPerView||i.loopedSlides||(i.loopedSlides=r.length);const s=tx(r,i),a=[],o=[];return r.forEach(((e,t)=>{t<s&&o.push(n(e,t,"prepend")),t<r.length&&t>=r.length-s&&a.push(n(e,t,"append"))})),e&&(e.loopedSlides=s),[...a,...r,...o]}(y.current,J,T),R["wrapper-end"]),zR(T)&&P.createElement(P.Fragment,null,P.createElement("div",{ref:_,className:"swiper-button-prev"}),P.createElement("div",{ref:v,className:"swiper-button-next"})),qR(T)&&P.createElement("div",{ref:k,className:"swiper-scrollbar"}),jR(T)&&P.createElement("div",{ref:S,className:"swiper-pagination"}),R["container-end"]))}));function ux(){return ux=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ux.apply(this,arguments)}hx.displayName="Swiper";const dx=n.exports.forwardRef((function(e,t){let{tag:i="div",children:r,className:s="",swiper:a,zoom:o,virtualIndex:l,...h}=void 0===e?{}:e;const u=n.exports.useRef(null),[d,c]=n.exports.useState("swiper-slide");function p(e,t,i){t===u.current&&c(i)}sx((()=>{if(t&&(t.current=u.current),u.current&&a){if(!a.destroyed)return a.on("_slideClass",p),()=>{a&&a.off("_slideClass",p)};"swiper-slide"!==d&&c("swiper-slide")}})),sx((()=>{a&&u.current&&!a.destroyed&&c(a.getSlideClasses(u.current))}),[a]);const g={isActive:d.indexOf("swiper-slide-active")>=0||d.indexOf("swiper-slide-duplicate-active")>=0,isVisible:d.indexOf("swiper-slide-visible")>=0,isDuplicate:d.indexOf("swiper-slide-duplicate")>=0,isPrev:d.indexOf("swiper-slide-prev")>=0||d.indexOf("swiper-slide-duplicate-prev")>=0,isNext:d.indexOf("swiper-slide-next")>=0||d.indexOf("swiper-slide-duplicate-next")>=0},f=()=>"function"==typeof r?r(g):r;return P.createElement(i,ux({ref:u,className:$R(`${d}${s?` ${s}`:""}`),"data-swiper-slide-index":l},h),P.createElement(ax.Provider,{value:g},o?P.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"==typeof o?o:void 0},f()):f()))}));function cx({ids:e,children:t}){return CJ.exports.jsx(hx,{slidesPerView:1,spaceBetween:10,pagination:{clickable:!0,horizontalClass:"nav-bar",verticalClass:"nav-bar",bulletClass:"nav-icon",type:"custom",renderCustom:(i=e,function(e,t,r){return i.map(((e,i)=>function(e,t){return`<div class="nav-icon ${t?"swiper-pagination-bullet-active":""}">\n\t<div class="ui-icon ${e}-icon"></div>\n\t<p class="bullet-caption">${e}</p>\n</div>`}(e,i===t-1))).join("\n")})},mousewheel:{releaseOnEdges:!0},breakpoints:{1366:{slidesPerView:"auto",spaceBetween:20,direction:"vertical"}},noSwipingSelector:"input, canvas",autoHeight:!0,className:"controller",modules:[HR,WR],children:t.map(((t,i)=>CJ.exports.jsx(dx,{children:t},e[i])))});var i}if(dx.displayName="SwiperSlide",!n.exports.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!Op)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function px(e){e()}function gx(e){return vp(Tg(e,t));var t}var fx="undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry;function mx(e){return{reaction:e,mounted:!1,changedBeforeMount:!1,cleanAt:Date.now()+Cx}}var Cx=1e4;var yx=function(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],r=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var bx=fx?function(e){var t=new Map,i=1,r=new e((function(e){var i=t.get(e);i&&(i.reaction.dispose(),t.delete(e))}));return{addReactionToTrack:function(e,n,s){var a=i++;return r.register(s,a,e),e.current=mx(n),e.current.finalizationRegistryCleanupToken=a,t.set(a,e.current),e.current},recordReactionAsCommitted:function(e){r.unregister(e),e.current&&e.current.finalizationRegistryCleanupToken&&t.delete(e.current.finalizationRegistryCleanupToken)},forceCleanupTimerToRunNowForTests:function(){},resetCleanupScheduleForTests:function(){}}}(fx):function(){var e,t=new Set;function i(){void 0===e&&(e=setTimeout(r,1e4))}function r(){e=void 0;var r=Date.now();t.forEach((function(e){var i=e.current;i&&r>=i.cleanAt&&(i.reaction.dispose(),e.current=null,t.delete(e))})),t.size>0&&i()}return{addReactionToTrack:function(e,r,n){var s;return e.current=mx(r),s=e,t.add(s),i(),e.current},recordReactionAsCommitted:function(e){t.delete(e)},forceCleanupTimerToRunNowForTests:function(){e&&(clearTimeout(e),r())},resetCleanupScheduleForTests:function(){var i,r;if(t.size>0){try{for(var n=yx(t),s=n.next();!s.done;s=n.next()){var a=s.value,o=a.current;o&&(o.reaction.dispose(),a.current=null)}}catch(e){i={error:e}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}t.clear()}e&&(clearTimeout(e),e=void 0)}}}(),Ix=bx.addReactionToTrack,vx=bx.recordReactionAsCommitted,_x=function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,n,s=i.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}return a};function Sx(e){return"observer".concat(e)}var kx=function(){};function Tx(){return new kx}var Ax="function"==typeof Symbol&&Symbol.for,wx=Ax?Symbol.for("react.forward_ref"):"function"==typeof n.exports.forwardRef&&n.exports.forwardRef((function(e){return null})).$$typeof,Ex=Ax?Symbol.for("react.memo"):"function"==typeof n.exports.memo&&n.exports.memo((function(e){return null})).$$typeof;function Jx(e,t){var i;if(Ex&&e.$$typeof===Ex)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var r=null!==(i=null==t?void 0:t.forwardRef)&&void 0!==i&&i,s=e,a=e.displayName||e.name;if(wx&&e.$$typeof===wx&&(r=!0,"function"!=typeof(s=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var o,l,h=function(e,t){return function(e,t){void 0===t&&(t="observed");var i=_x(P.useState(Tx),1)[0],r=_x(P.useState(),2)[1],n=function(){return r([])},s=P.useRef(null);if(!s.current)var a=new tp(Sx(t),(function(){o.mounted?n():o.changedBeforeMount=!0})),o=Ix(s,a,i);var l,h,u=s.current.reaction;if(P.useDebugValue(u,gx),P.useEffect((function(){return vx(s),s.current?(s.current.mounted=!0,s.current.changedBeforeMount&&(s.current.changedBeforeMount=!1,n())):(s.current={reaction:new tp(Sx(t),(function(){n()})),mounted:!0,changedBeforeMount:!1,cleanAt:1/0},n()),function(){s.current.reaction.dispose(),s.current=null}}),[]),u.track((function(){try{l=e()}catch(e){h=e}})),h)throw h;return l}((function(){return s(e,t)}),a)};return""!==a&&(h.displayName=a),e.contextTypes&&(h.contextTypes=e.contextTypes),r&&(h=n.exports.forwardRef(h)),h=n.exports.memo(h),o=e,l=h,Object.keys(o).forEach((function(e){Rx[e]||Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(o,e))})),h}var Rx={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function xx({button:e=null,children:t,buttonClass:i="",listClass:r="dropdown-list",wrapperClass:s="",type:a="dropdown",closeOutside:o=!0,hasModalBG:l,hasCloseButton:h}){"modal"===a?(l=l??!0,h=h??!0):(l=l??!1,h=h??!1);let[u,d]=n.exports.useState(!1),c=n.exports.useRef(null);n.exports.useEffect((()=>{if(!o)return;const e=function(e){(function(e,t){if(t===window)return!0;if(null===t)return!1;let i=e;for(;null!==i.parentNode;){if(i===t)return!0;i=i.parentNode}return!1})(e.target,c.current)||d(!1)};return u?(document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}):void 0}),[u]);const p=u?"":"inactive";return CJ.exports.jsxs("div",{className:`dropdown-wrapper ${s}`,ref:c,children:[CJ.exports.jsx("div",{className:`${i} hover-interact`,onClick:()=>d((e=>!e)),children:e}),l&&CJ.exports.jsx("div",{className:`modal-bg ${p}`,onClick:()=>d(!1)}),CJ.exports.jsxs("div",{className:`${r} ${p}`,children:[h&&CJ.exports.jsx("div",{className:"ui-icon close-button modal-close hover-interact",onClick:()=>d(!1)}),t]})]})}!function(e){e||(e=px),bp({reactionScheduler:e})}(i.exports.unstable_batchedUpdates);const Gx=Jx((()=>{const e=n.exports.useContext(Vg),t=Og.getAllLanguageList();return CJ.exports.jsx(CJ.exports.Fragment,{children:t.map((function(t){const i=t===e.currentLanguage?"bold":"";return CJ.exports.jsx("p",{className:i,onClick:()=>e.changeLanguage(t),children:e.getText(`UI.language.${t}`)},t)}))})}));function Dx(){return CJ.exports.jsx(xx,{wrapperClass:"language-wrapper dropdown-wrapper-center",buttonClass:"ui-icon language-button",listClass:"dropdown-list language-list",type:"dropdown",children:CJ.exports.jsx(Gx,{})})}const Bx=Jx((function({text:e}){const t=n.exports.useContext(Vg);return CJ.exports.jsx(CJ.exports.Fragment,{children:t.getText(e)})})),Nx=Jx((function({text:e}){const t=n.exports.useContext(Vg);return CJ.exports.jsx(CJ.exports.Fragment,{children:t.getTextHTML(e)})}));function Qx(){const[e,t]=[1,7];let[i,r]=n.exports.useState(1);const s=i===e?"gray":"hover-interact",a=i===t?"gray":"hover-interact";return CJ.exports.jsxs(CJ.exports.Fragment,{children:[CJ.exports.jsx("h2",{children:CJ.exports.jsx(Bx,{text:`howto.title.${i}`})}),CJ.exports.jsx("p",{children:CJ.exports.jsx(Nx,{text:`howto.desc.${i}`})}),CJ.exports.jsxs("div",{className:"howto-nav",children:[CJ.exports.jsx("div",{className:`ui-icon left-button ${s}`,onClick:function(){r((i=>jE(i-1,e,t)))}}),CJ.exports.jsx("div",{className:`ui-icon right-button ${a}`,onClick:function(){r((i=>jE(i+1,e,t)))}})]})]})}function Mx(){return CJ.exports.jsx(xx,{wrapperClass:"howto-wrapper",buttonClass:"ui-icon help-button",listClass:"modal",type:"modal",children:CJ.exports.jsx(Qx,{})})}var Zx=/^\s+|\s+$/g,Px=/^[-+]0x[0-9a-f]+$/i,Ox=/^0b[01]+$/i,Lx=/^0o[0-7]+$/i,Xx=parseInt,Vx="object"==typeof e&&e&&e.Object===Object&&e,Fx="object"==typeof self&&self&&self.Object===Object&&self,Wx=Vx||Fx||Function("return this")(),Ux=Object.prototype.toString,Hx=Math.max,Kx=Math.min,Yx=function(){return Wx.Date.now()};function zx(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function jx(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==Ux.call(e)}(e))return NaN;if(zx(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=zx(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Zx,"");var i=Ox.test(e);return i||Lx.test(e)?Xx(e.slice(2),i?2:8):Px.test(e)?NaN:+e}var qx=function(e,t,i){var r,n,s,a,o,l,h=0,u=!1,d=!1,c=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var i=r,s=n;return r=n=void 0,h=t,a=e.apply(s,i)}function g(e){return h=e,o=setTimeout(m,t),u?p(e):a}function f(e){var i=e-l;return void 0===l||i>=t||i<0||d&&e-h>=s}function m(){var e=Yx();if(f(e))return C(e);o=setTimeout(m,function(e){var i=t-(e-l);return d?Kx(i,s-(e-h)):i}(e))}function C(e){return o=void 0,c&&r?p(e):(r=n=void 0,a)}function y(){var e=Yx(),i=f(e);if(r=arguments,n=this,l=e,i){if(void 0===o)return g(l);if(d)return o=setTimeout(m,t),p(l)}return void 0===o&&(o=setTimeout(m,t)),a}return t=jx(t)||0,zx(i)&&(u=!!i.leading,s=(d="maxWait"in i)?Hx(jx(i.maxWait)||0,t):s,c="trailing"in i?!!i.trailing:c),y.cancel=function(){void 0!==o&&clearTimeout(o),h=0,r=l=n=o=void 0},y.flush=function(){return void 0===o?a:C(Yx())},y};class $x{constructor(e,t=0,i=0){this.prev=t,this.threshold=e,this.offset=i}checkEach(e,t){return this.prev>=t-this.offset&&e<t+this.offset?-1:this.prev<=t-this.offset&&e>t+this.offset?1:0}update(e,t){const i=qx(t,400);if("number"==typeof this.threshold){const t=this.checkEach(e,this.threshold);1===t?i(1):-1===t&&i(0)}if(Array.isArray(this.threshold))for(let t=0;t<this.threshold.length;t++){const r=this.checkEach(e,this.threshold[t]);1===r?i(1+(t<<1)):-1===r&&i(0+(t<<1))}this.prev=e}}class eG extends By{constructor(e=null){super(),this.colorFilter=new DT.ColorMatrixFilter,this.filters=[this.colorFilter],this.reflectTarget=e}tint(e){this.colorFilter.tint(e)}reset(){this.colorFilter.reset()}autoTint(){null!==this.reflectTarget&&this.tint(eJ(this.reflectTarget.color))}}class tG extends eG{constructor(){super(),this.elapsedTime=0,this.tint(oJ(0))}progress(e){this.elapsedTime=(this.elapsedTime+e)%3e3;const t=this.elapsedTime/3e3;this.tint(oJ(t))}}const iG=Symbol.for("x"),rG=Symbol.for("y");function nG(e){return function(e){return e<768}(e)?.8:1}function sG(e,t=1){return 80*(e+.5)*t}class aG extends sS{constructor(e,t){super(t),this.innerIndex=e}setPosition(e=1){this.x=sG(this.innerIndex,e),this.y=0}arrangePosition(e,t=iG,i=1){const r=this.innerIndex,n=r%e,s=Math.floor(r/e);this.x=sG(n,i),this.y=t===rG?sG(s,i):0}}function oG(e,t){for(let i of e.children)i.scale.set(t)}class lG{static deselectedTexture=new bb(bb.EMPTY,new HC(0,0,72,72));static selectedTexture=bb.from("assets/selectedBorder.png");constructor(e){this.previousCheck=0,this.selectBox=e,this.container=new By,this.parent=null,this.buttons=[],this.check=this.check.bind(this)}get current(){return this.selectBox.value}attachToParent(e){e.addChild(this.container),this.parent=e}generateButton(e,t,i=1){const r=new aG(t);e===this.previousCheck?r.texture=this.constructor.selectedTexture:r.texture=this.constructor.deselectedTexture,r.interactive=!0,r.buttonMode=!0,r.anchor.set(.5),r.setPosition(i),r.scale.set(i),r.on("pointertap",this.check(e)),this.buttons[e]=r,this.container.addChild(r)}flush(){this.container.removeChildren(),this.buttons=[]}check(e){return t=>{this.parent?.isDragged||(this.buttons[this.previousCheck]&&this.previousCheck!==e&&(this.buttons[this.previousCheck].texture=this.constructor.deselectedTexture),this.selectBox.changeSelect(e),this.buttons[e].texture=this.constructor.selectedTexture,this.previousCheck=e)}}setInitialValue(e){this.previousCheck=e}syncronize(){const e=this.selectBox.value;return this.previousCheck===e?{resync:!1,value:e}:(this.buttons[e].texture=this.constructor.selectedTexture,this.previousCheck=e,{resync:!0,value:e})}}class hG extends By{static transitionTime=800;constructor(e){super(),this.itemAmount=0,this.lineCount=0,this.container=e,this.scroll_index=0,this.scroll_time=0,this.scroll_prevPos=0,this.scroll_nextPos=0,this.scroll_axis=iG,this.holding=!1,this.dragThreshold=0,this.dragPrevPos=0,this.velocity=0,this.interactive=!0,this.on("pointerdown",(e=>this.onDragStart(this.mousePos(e)))).on("pointermove",(e=>this.onDragMove(this.mousePos(e)))).on("pointerup",(()=>this.onDragEnd())).on("pointerupoutside",(()=>this.onDragEnd()))}get gap(){return 80*nG(document.body.clientWidth)}get containerSize(){let e=this.container?this.container:this;return this.scroll_axis===rG?e.height:e.width}get screenItemNumber(){return jE(Math.floor(this.containerSize/this.gap),1,1/0)}get isDragged(){return this.dragThreshold>30}get rightBoundary(){return Math.max(this.lineCount-this.screenItemNumber,0)}get scroll_pos(){return this.scroll_axis===rG?this.y:this.x}set scroll_pos(e){this.scroll_axis===rG?this.y=e:this.x=e}slideTo(e,t=hG.transitionTime){this.scroll_index=jE(e,0,this.rightBoundary),this.scroll_time=jE(t,1,1/0),this.scroll_prevPos=this.scroll_pos,this.scroll_nextPos=-this.gap*this.scroll_index}slide(e,t=hG.transitionTime){this.slideTo(this.scroll_index+e)}slideLeft(){this.slide(-this.screenItemNumber)}slideRight(){this.slide(this.screenItemNumber)}progress(e){if(this.scroll_time>0){this.scroll_time=jE(this.scroll_time-e,0,1/0);const t=1-this.scroll_time/this.constructor.transitionTime;this.scroll_pos=qE(this.scroll_prevPos,this.scroll_nextPos,function(e){return 1-Math.pow(1-e,5)}(t))}!this.holding&&Math.abs(this.velocity)>1.5&&(this.scroll_pos+=this.velocity,this.scroll_index=this.getCurrentScrollIndex(),this.velocity*=.98,(Math.abs(this.velocity)<=1.5||this.scroll_pos>this.gap||this.scroll_pos<-(this.rightBoundary+1)*this.gap)&&(this.velocity=0,this.slide(0)))}onDragStart(e){this.holding=!0,this.dragPrevPos=e,this.dragThreshold=0,this.velocity=0}onDragMove(e){if(this.holding){const t=e-this.dragPrevPos;this.scroll_pos+=t,this.dragThreshold+=Math.abs(t),this.velocity=t,this.scroll_index=this.getCurrentScrollIndex(),this.dragPrevPos=e}}onDragEnd(e){this.dragThreshold;const t=Math.abs(this.velocity)>6;this.holding=!1,this.dragPrevPos=0,this.dragThreshold=0,t||(this.velocity=0,this.slide(0))}getCurrentScrollIndex(){return jE(Math.round(-this.scroll_pos/this.gap),0,this.rightBoundary)}mousePos(e){return this.scroll_axis===rG?e.data.global.y:e.data.global.x}resetHitArea(){this.hitArea=new HC(0,this.scroll_axis===rG?0:-this.height/2,this.width,this.height)}}class uG{constructor(e){this.app=new ov({resolution:1,antialias:!0,backgroundColor:16777215,autoResize:!0}),this.setContainer(e),Yf.SCALE_MODE=Fm.NEAREST,Yf.ROUND_PIXELS=!0,this.expanded=!1,this.screenSizeObserver=new $x([336,400,464,528,768],document.body.clientWidth,20),this.disposer=()=>{},this.resize=this.resize.bind(this),this.ticker=this.ticker.bind(this),this.slideLeft=this.slideLeft.bind(this),this.slideRight=this.slideRight.bind(this),this.onWheel=this.onWheel.bind(this),this.toggleExpantion=this.toggleExpantion.bind(this)}get lines(){return this.expanded?this.container.container.width/(80*this.multiplier):1}get multiplier(){return nG(document.body.clientWidth)}setContainer(e){this.container=new hG(this.app.screen),this.app.stage.addChild(this.container),this.radioButton=new lG(e),this.radioButton.attachToParent(this.container)}appendParent(e){e.appendChild(this.app.view),this.app.resizeTo=e,this.app.screen.height=e.clientHeight,this.app.view.height=e.clientHeight,this.container.y=this.app.screen.height/2}initializeRadio(e){this.radioButton.setInitialValue(e)}setDisposer(e){}initialize(e){this.app.start(),this.setDisposer(e),window.addEventListener("resize",this.resize),this.app.ticker.add(this.ticker)}initializeSprites(){}ticker(e){const{resync:t,value:i}=this.radioButton.syncronize();t&&this.container.slideTo(Math.floor(i/this.lines)),this.container.progress(60*e)}slideLeft(){this.expanded||this.container.slideLeft()}slideRight(){this.expanded||this.container.slideRight()}onWheel(e){this.container.slide(e)}arrangeIcons(e){}arrangeContainerItems(e){const t=this.expanded?rG:iG,i=this.container.itemAmount,r=this.expanded?this.container.container.width/(80*e):1,n=t===rG?r:Math.ceil(i/r),s=i=>function(e,t,i=iG,r=1){for(let n of e.children)n.arrangePosition(t,i,r)}(i,n,t,e);s(this.radioButton.container),this.arrangeIcons(s)}toggleExpantion(e){this.app.resize(),this.expanded=e??!this.expanded,this.arrangeContainerItems(this.multiplier),this.container.scroll_axis=this.expanded?rG:iG,this.expanded?(this.container.x=0,this.container.y=0):this.container.y=this.app.screen.height/2,this.container.scroll_index=0,this.container.lineCount=Math.ceil(this.container.itemAmount/this.lines),this.container.resetHitArea();const t=Math.floor(this.radioButton.current/this.lines)-2;this.container.slide(t,1)}scaleIcons(e){}adjustItemSize(e){const t=1*e,i=jE(Math.floor(3*e),1,1/0);oG(this.radioButton.container,t),this.scaleIcons(i),this.arrangeContainerItems(e),this.container.resetHitArea()}flushChildren(){this.radioButton.flush()}halt(){this.app.stop(),this.disposer(),window.removeEventListener("resize",this.resize),this.app.ticker.remove(this.ticker)}resize(){this.screenSizeObserver.update(document.body.clientWidth,(()=>{const e=nG(document.body.clientWidth);this.adjustItemSize(e)}))}}class dG extends uG{constructor(e,{defaultImage:t,additionalDefaultImage:i={}}){super(e),this.defaultImage=t,this.additionalDefaultImage=i}setContainer(e){super.setContainer(e),this.uncolored=new By,this.colored=new eG(e),this.prismatic=new tG,this.container.addChild(this.uncolored,this.colored,this.prismatic)}setDisposer(e){this.disposer=mp((()=>({sheet:e._spritesheet?.blobURL??this.defaultImage,clothesData:e._clothesData,additionalSheet:{...e._additionalSheet,...this.additionalDefaultImage}})),(({sheet:t,additionalSheet:i})=>this.initializeSprites(e,t,i)))}initializeSprites(e,t,i){const r=e.constructor.size,n=e.constructor.omittable?1:0;this.flushChildren();const s=function(e,t={}){const i=lJ(t);return{default:new rb(e),...i}}(t,i),a=[{parent:this.uncolored,positioner:e.getUncoloredSpriteFromIndex},{parent:this.colored,positioner:e.getColoredSpriteFromIndex},{parent:this.prismatic,positioner:e.getPrismaticSpriteFromIndex}].map((({parent:e,positioner:t})=>i=>{const a=function(e,t,i,r={width:20,height:20},n=1){if(null===i)return;const{x:s,y:a,sheet:o="default"}=i,{width:l,height:h}=r;if(void 0===t||void 0===t[o])return;const u=new HC(s,a,l,h),d=new bb(t[o],u),c=new aG(e,d);return c.setPosition(n),c.anchor.set(.5),c.scale.set(3*n),c}(i+n,s,t(i),r,this.multiplier);a&&e.addChild(a)}));for(let t=-n;t<e.count;t++)this.radioButton.generateButton(t,t+n,this.multiplier),a.forEach((e=>e(t)));this.container.itemAmount=e.count+n,this.toggleExpantion(this.expanded)}flushChildren(){super.flushChildren(),this.uncolored.removeChildren(),this.colored.removeChildren(),this.prismatic.removeChildren()}arrangeIcons(e){e(this.uncolored),e(this.colored),e(this.prismatic)}scaleIcons(e){oG(this.uncolored,e),oG(this.colored,e),oG(this.prismatic,e)}ticker(e){super.ticker(e);this.colored.autoTint(),this.prismatic.progress(60*e)}}class cG extends uG{constructor(e){super(e),this.basePixels=null}loadPixelData(e){const t=new Av;t.add("body_icon","assets/body_icon.png"),t.load(((t,i)=>{const r=sS.from(i.body_icon.texture);this.basePixels=this.app.renderer.plugins.extract.pixels(r),e()}))}makeTexture({light:e=16363145,mid:t=14707557,dark:i=7012410}={}){const r=[[16363145,e],[14707557,t],[7012410,i]],n=function(e,t){let i=new Uint8Array(e),r=new Map(t);for(let e=0;e<i.length;e+=4){let t=eJ([i[e+0],i[e+1],i[e+2]]);if(r.has(t)){let[n,s,a]=nJ(r.get(t));i[e+0]=n,i[e+1]=s,i[e+2]=a}}return i}(this.basePixels,r);return bb.fromBuffer(n,16,16)}setContainer(e){super.setContainer(e),this.icons=new By,this.container.addChild(this.icons)}setDisposer(e){this.disposer=mp((()=>e.skinColor),(e=>this.initializeSprites(e)))}_initializeSprites(e){this.flushChildren();const t=t=>{const i=this.makeTexture(e[t]),r=new aG(t,i);r.setPosition(this.multiplier),r.anchor.set(.5),r.scale.set(3*this.multiplier),r&&this.icons.addChild(r)};for(let i=0;i<e.length;i++)this.radioButton.generateButton(i,i,this.multiplier),t(i);this.container.itemAmount=e.length,this.toggleExpantion(this.expanded)}initializeSprites(e){null!==this.basePixels?this._initializeSprites(e):this.loadPixelData((()=>this._initializeSprites(e)))}flushChildren(){super.flushChildren(),this.icons.removeChildren()}arrangeIcons(e){e(this.icons)}scaleIcons(e){oG(this.icons,e)}}const pG=document.getElementById("app");class gG extends n.exports.Component{constructor(e){super(e);const{selection:t,dataSet:i,defaultImage:r,additionalDefaultImage:s={},hudType:a="itemList"}=e;this.swiper=e.swiper,this.hud=null,"skinColor"===a?(this.hud=new cG(t),this.hud.initializeRadio(0),this.hud.initializeSprites(i.skinColor)):(this.hud=new dG(t,{defaultImage:r,additionalDefaultImage:s}),this.hud.initializeRadio(i.constructor.omittable?-1:0),this.hud.initializeSprites(i,r,s)),this.canvasDom=n.exports.createRef(),this.state={expanded:!1},this.resizeObserver=new $x([768,1366],document.body.clientWidth),this.toggleExpansion=this.toggleExpansion.bind(this),this.screenResize=qx(this.screenResize.bind(this),100),this.mobileScrollToggle=qx(this.mobileScrollToggle.bind(this),100),this.canvasScroll=e=>{e.preventDefault();let t=Math.sign(function(e){return e.deltaY??("number"==typeof e.wheelDeltaY?-e.wheelDeltaY:e.detail)}(e));this.hud.onWheel(t),e.stopPropagation()}}mobileScrollToggle(e){if(document.body.clientWidth>=768)return;const{scrollTop:t}=e.target;this.setState((e=>t<1?{expanded:!1}:{expanded:!0}))}screenResize(){this.resizeObserver.update(document.body.clientWidth,(()=>{pG.scrollTop=0,this.setState({expanded:!1})}))}componentDidMount(){this.canvasDom.current&&(this.hud.appendParent(this.canvasDom.current),this.hud.initialize(this.props.dataSet),this.canvasDom.current.addEventListener("wheel",this.canvasScroll,{passive:!1})),window.addEventListener("resize",this.screenResize),pG.addEventListener("scroll",this.mobileScrollToggle)}componentWillUnmount(){this.canvasDom.current&&(this.hud.halt(),this.canvasDom.current.removeEventListener("wheel",this.canvasScroll,{passive:!1})),window.removeEventListener("resize",this.screenResize),pG.removeEventListener("scroll",this.mobileScrollToggle)}toggleExpansion(){this.setState((e=>({expanded:!e.expanded})))}componentDidUpdate(){setTimeout((()=>{this.hud.toggleExpantion(this.state.expanded),this.swiper.update()}),350)}render(){return CJ.exports.jsxs("div",{className:"selector",children:[CJ.exports.jsx("div",{className:"ui-icon left-button hover-interact "+(this.state.expanded?"inactive":""),onClick:()=>this.hud.slideLeft()}),CJ.exports.jsxs("div",{className:"selector-border",children:[CJ.exports.jsx("div",{className:"hidden "+(this.state.expanded?"expanded":""),style:{display:"none"}}),CJ.exports.jsx("div",{className:"selector-canvas",ref:this.canvasDom})]}),CJ.exports.jsx("div",{className:"ui-icon right-button hover-interact "+(this.state.expanded?"inactive":""),onClick:()=>this.hud.slideRight()}),CJ.exports.jsx("div",{className:"ui-icon expand-button",onClick:this.toggleExpansion})]})}}function fG(e,t,i){return`RGB(${$E(e,t,i).join(", ")})`}const mG=Jx((({type:e,selection:t})=>{const[i,r,n]=((e,t)=>"H"===e?[t.hue,t.changeHue.bind(t),"slider-hue"]:"S"===e?[t.saturation,t.changeSaturation.bind(t),"slider-saturation"]:"B"===e?[t.brightness,t.changeBrightness.bind(t),"slider-brightness"]:void 0)(e,t);let s={};return"H"===e?s["--thumb-border-color"]=fG(t.hue,100,100):"S"===e?(s["--thumb-border-color"]=fG(t.hue,t.saturation,t.brightness),s["--left"]=fG(t.hue,0,t.brightness),s["--right"]=fG(t.hue,100,t.brightness)):"B"===e&&(s["--thumb-border-color"]=fG(t.hue,t.saturation,t.brightness),s["--left"]=fG(t.hue,t.saturation,0),s["--right"]=fG(t.hue,t.saturation,100)),CJ.exports.jsxs("label",{children:[CJ.exports.jsx("p",{className:"label",children:e}),CJ.exports.jsx("input",{type:"range",min:"0",max:"H"===e?360:100,defaultValue:i,className:n,onChange:e=>r(+e.target.value),onTouchMove:e=>e.stopPropagation(),style:s}),CJ.exports.jsx("output",{children:i})]})}));var CG=Jx((function({selection:e}){return CJ.exports.jsxs("div",{className:"slider",children:[CJ.exports.jsx(mG,{type:"H",selection:e}),CJ.exports.jsx(mG,{type:"S",selection:e}),CJ.exports.jsx(mG,{type:"B",selection:e})]})}));var yG=Jx((function({type:e,selection:t}){return CJ.exports.jsxs("div",{className:"description box-with-title",children:[CJ.exports.jsx("h3",{children:CJ.exports.jsx(Bx,{text:"UI.howToObtain"})}),CJ.exports.jsx("p",{className:"description-content",children:CJ.exports.jsx(Bx,{text:`${e}.desc.${t.value}`})})]})}));function bG(e,t,i){var r=void 0===t?null:t,n=function(e,t){var i=atob(e);if(t){for(var r=new Uint8Array(i.length),n=0,s=i.length;n<s;++n)r[n]=i.charCodeAt(n);return String.fromCharCode.apply(null,new Uint16Array(r.buffer))}return i}(e,void 0!==i&&i),s=n.indexOf("\n",10)+1,a=n.substring(s)+(r?"//# sourceMappingURL="+r:""),o=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(o)}const IG=function(e,t,i){var r;return function(n){return r=r||bG(e,t,i),new Worker(r,n)}}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewoJJ3VzZSBzdHJpY3QnOwoKCS8qKiAKCSAqIHhuYi5qcyAxLjIuMQoJICogbWFkZSBieSBMeWJlbGwoIGh0dHBzOi8vZ2l0aHViLmNvbS9seWJlbGwtYXJ0LyApCgkgKiBUaGlzIGxpYnJhcnkgaXMgYmFzZWQgb24gdGhlIFhuYkNsaSBtYWRlIGJ5IExlb25ibGFkZS4KCSAqIAoJICogeG5iLmpzIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBMR1BMIDMuMCBMaWNlbnNlLgoJICogCgkqLwoKCWZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgewoJCXZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsKCgkJaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsKCQkJdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7CgkJCWVudW1lcmFibGVPbmx5ICYmIChzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgewoJCQkJcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7CgkJCX0pKSwga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOwoJCX0KCgkJcmV0dXJuIGtleXM7Cgl9CgoJZnVuY3Rpb24gX29iamVjdFNwcmVhZDIodGFyZ2V0KSB7CgkJZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsKCQkJdmFyIHNvdXJjZSA9IG51bGwgIT0gYXJndW1lbnRzW2ldID8gYXJndW1lbnRzW2ldIDoge307CgkJCWkgJSAyID8gb3duS2V5cyhPYmplY3Qoc291cmNlKSwgITApLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewoJCQkJX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7CgkJCX0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpIDogb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CgkJCQlPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsKCQkJfSk7CgkJfQoKCQlyZXR1cm4gdGFyZ2V0OwoJfQoKCWZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsKCQlpZiAoa2V5IGluIG9iaikgewoJCQlPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsKCQkJCXZhbHVlOiB2YWx1ZSwKCQkJCWVudW1lcmFibGU6IHRydWUsCgkJCQljb25maWd1cmFibGU6IHRydWUsCgkJCQl3cml0YWJsZTogdHJ1ZQoJCQl9KTsKCQl9IGVsc2UgewoJCQlvYmpba2V5XSA9IHZhbHVlOwoJCX0KCgkJcmV0dXJuIG9iajsKCX0KCgljbGFzcyBYbmJFcnJvciBleHRlbmRzIEVycm9yIHsKCQljb25zdHJ1Y3RvcigpIHsKCQkJbGV0IG1lc3NhZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnOwoJCQlzdXBlcihtZXNzYWdlKTsKCQkJdGhpcy5uYW1lID0gIlhuYkVycm9yIjsKCQkJdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCQkJRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgWG5iRXJyb3IpOwoJCX0KCgl9CgoJZnVuY3Rpb24gcmVtb3ZlRXh0ZXJuQnJhY2tldChzdHIpIHsKCQlsZXQgYnJhY2tldFN0YWNrID0gW107CgkJbGV0IHJlc3VsdCA9IFtdOwoKCQlmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykgewoJCQlsZXQgYyA9IHN0cltpXTsKCQkJaWYgKGMgPT09ICJbIikgYnJhY2tldFN0YWNrLnB1c2goaSk7ZWxzZSBpZiAoYyA9PT0gIl0iKSB7CgkJCQlsZXQgc3RhcnRQb2ludCA9IGJyYWNrZXRTdGFjay5wb3AoKTsKCQkJCWlmIChzdGFydFBvaW50ID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcigiSW52YWxpZCBCcmFja2V0IEZvcm0hIik7CgkJCQlpZiAoYnJhY2tldFN0YWNrLmxlbmd0aCA9PT0gMCkgcmVzdWx0LnB1c2goc3RyLnNsaWNlKHN0YXJ0UG9pbnQgKyAxLCBpKSk7CgkJCX0KCQl9CgoJCXJldHVybiByZXN1bHQ7Cgl9CgoJY2xhc3MgVHlwZVJlYWRlciB7CgkJc3RhdGljIHNldFJlYWRlcnMocmVhZGVycykgewoJCQlUeXBlUmVhZGVyLnJlYWRlcnMgPSBfb2JqZWN0U3ByZWFkMih7fSwgcmVhZGVycyk7CgkJfQoKCQlzdGF0aWMgYWRkUmVhZGVycyhyZWFkZXJzKSB7CgkJCVR5cGVSZWFkZXIucmVhZGVycyA9IF9vYmplY3RTcHJlYWQyKF9vYmplY3RTcHJlYWQyKHt9LCBUeXBlUmVhZGVyLnJlYWRlcnMpLCByZWFkZXJzKTsKCQl9CgoJCXN0YXRpYyBtYWtlU2ltcGxpZWQodHlwZSwgcmVhZGVyKSB7CgkJCWxldCBzaW1wbGUgPSB0eXBlLnNwbGl0KC9gfCwvKVswXTsKCgkJCWlmIChyZWFkZXIuaXNUeXBlT2Yoc2ltcGxlKSkgewoJCQkJaWYgKHJlYWRlci5oYXNTdWJUeXBlKCkpIHsKCQkJCQlsZXQgc3VidHlwZXMgPSBUeXBlUmVhZGVyLnBhcnNlU3VidHlwZXModHlwZSkubWFwKFR5cGVSZWFkZXIuc2ltcGxpZnlUeXBlLmJpbmQoVHlwZVJlYWRlcikpOwoJCQkJCXJldHVybiAiIi5jb25jYXQocmVhZGVyLnR5cGUoKSwgIjwiKS5jb25jYXQoc3VidHlwZXMuam9pbigiLCIpLCAiPiIpOwoJCQkJfSBlbHNlIHJldHVybiByZWFkZXIudHlwZSgpOwoJCQl9CgoJCQlyZXR1cm4gbnVsbDsKCQl9CgoJCXN0YXRpYyBzaW1wbGlmeVR5cGUodHlwZSkgewoJCQlsZXQgc2ltcGxlID0gdHlwZS5zcGxpdCgvYHwsLylbMF07CgkJCWxldCBpc0FycmF5ID0gc2ltcGxlLmVuZHNXaXRoKCdbXScpOwoJCQlpZiAoaXNBcnJheSkgcmV0dXJuICJBcnJheTwiLmNvbmNhdChzaW1wbGlmeVR5cGUoc2ltcGxlLnNsaWNlKDAsIC0yKSksICI+Iik7CgoJCQlpZiAoc2ltcGxlID09PSAnTWljcm9zb2Z0LlhuYS5GcmFtZXdvcmsuQ29udGVudC5SZWZsZWN0aXZlUmVhZGVyJykgewoJCQkJCWxldCByZWZsZWN0aXZlVHlwZSA9IFR5cGVSZWFkZXIucGFyc2VTdWJ0eXBlcyh0eXBlKS5tYXAoVHlwZVJlYWRlci5zaW1wbGlmeVR5cGUuYmluZChUeXBlUmVhZGVyKSk7CgkJCQkJcmV0dXJuICIiLmNvbmNhdChyZWZsZWN0aXZlVHlwZSk7CgkJCQl9CgoJCQlmb3IgKGxldCByZWFkZXIgb2YgT2JqZWN0LnZhbHVlcyhUeXBlUmVhZGVyLnJlYWRlcnMpKSB7CgkJCQlsZXQgcmVzdWx0ID0gVHlwZVJlYWRlci5tYWtlU2ltcGxpZWQodHlwZSwgcmVhZGVyKTsKCQkJCWlmIChyZXN1bHQgIT09IG51bGwpIHJldHVybiByZXN1bHQ7CgkJCX0KCgkJCXRocm93IG5ldyBYbmJFcnJvcigiTm9uLWltcGxlbWVudGVkIHR5cGUgZm91bmQsIGNhbm5vdCByZXNvbHZlIHR5cGUgXCIiLmNvbmNhdChzaW1wbGUsICJcIiwgXCIiKS5jb25jYXQodHlwZSwgIlwiLiIpKTsKCQl9CgoJCXN0YXRpYyBwYXJzZVN1YnR5cGVzKHR5cGUpIHsKCQkJbGV0IHN1YnR5cGUgPSB0eXBlLnNsaWNlKHR5cGUuc2VhcmNoKCJgIikgKyAxKTsKCQkJc3VidHlwZVswXTsKCQkJc3VidHlwZSA9IHJlbW92ZUV4dGVybkJyYWNrZXQoc3VidHlwZSlbMF07CgkJCWxldCBtYXRjaGVzID0gcmVtb3ZlRXh0ZXJuQnJhY2tldChzdWJ0eXBlKTsKCQkJcmV0dXJuIG1hdGNoZXM7CgkJfQoKCQlzdGF0aWMgZ2V0VHlwZUluZm8odHlwZSkgewoJCQlsZXQgbWFpblR5cGUgPSB0eXBlLm1hdGNoKC9bXjxdKy8pWzBdOwoJCQlsZXQgc3VidHlwZXMgPSB0eXBlLm1hdGNoKC88KC4rKT4vKTsKCQkJc3VidHlwZXMgPSBzdWJ0eXBlcyA/IHN1YnR5cGVzWzFdLnNwbGl0KCcsJykubWFwKHR5cGUgPT4gdHlwZS50cmltKCkpIDogW107CgkJCXJldHVybiB7CgkJCQl0eXBlOiBtYWluVHlwZSwKCQkJCXN1YnR5cGVzCgkJCX07CgkJfQoKCQlzdGF0aWMgZ2V0UmVhZGVyVHlwZUxpc3QodHlwZVN0cmluZykgewoJCQlsZXQgcmVhZGVyID0gVHlwZVJlYWRlci5nZXRSZWFkZXIodHlwZVN0cmluZyk7CgkJCXJldHVybiByZWFkZXIucGFyc2VUeXBlTGlzdCgpOwoJCX0KCgkJc3RhdGljIGdldFJlYWRlcih0eXBlU3RyaW5nKSB7CgkJCWxldCB7CgkJCQl0eXBlLAoJCQkJc3VidHlwZXMKCQkJfSA9IFR5cGVSZWFkZXIuZ2V0VHlwZUluZm8odHlwZVN0cmluZyk7CgkJCXN1YnR5cGVzID0gc3VidHlwZXMubWFwKFR5cGVSZWFkZXIuZ2V0UmVhZGVyLmJpbmQoVHlwZVJlYWRlcikpOwoJCQlpZiAoVHlwZVJlYWRlci5yZWFkZXJzLmhhc093blByb3BlcnR5KCIiLmNvbmNhdCh0eXBlLCAiUmVhZGVyIikpKSByZXR1cm4gbmV3IFR5cGVSZWFkZXIucmVhZGVyc1siIi5jb25jYXQodHlwZSwgIlJlYWRlciIpXSguLi5zdWJ0eXBlcyk7CgkJCXRocm93IG5ldyBYbmJFcnJvcigiSW52YWxpZCByZWFkZXIgdHlwZSBcIiIuY29uY2F0KHR5cGVTdHJpbmcsICJcIiBwYXNzZWQsIHVuYWJsZSB0byByZXNvbHZlISIpKTsKCQl9CgoJCXN0YXRpYyBnZXRSZWFkZXJGcm9tUmF3KHR5cGVTdHJpbmcpIHsKCQkJY29uc3Qgc2ltcGxpZmllZCA9IFR5cGVSZWFkZXIuc2ltcGxpZnlUeXBlKHR5cGVTdHJpbmcpOwoJCQlyZXR1cm4gVHlwZVJlYWRlci5nZXRSZWFkZXIoc2ltcGxpZmllZCk7CgkJfQoKCX0KCglfZGVmaW5lUHJvcGVydHkoVHlwZVJlYWRlciwgInJlYWRlcnMiLCB7fSk7CgoJY29uc3QgVVRGOF9GSVJTVF9CSVRFUyA9IFsweEMwLCAweEUwLCAweEYwXTsKCWNvbnN0IFVURjhfU0VDT05EX0JJVEVTID0gMHg4MDsKCWNvbnN0IFVURjhfTUFTSyA9IDBiMTExMTExOwoJY29uc3QgVVRGMTZfQklURVMkMSA9IFsweEQ4MDAsIDB4REMwMF07Cgljb25zdCBVVEYxNl9NQVNLJDEgPSAwYjExMTExMTExMTE7CgoJZnVuY3Rpb24gVVRGOEVuY29kZShjb2RlKSB7CgkJaWYgKGNvZGUgPCAweDgwKSByZXR1cm4gW2NvZGVdOwoJCWlmIChjb2RlIDwgMHg4MDApIHJldHVybiBbVVRGOF9GSVJTVF9CSVRFU1swXSB8IGNvZGUgPj4gNiwgVVRGOF9TRUNPTkRfQklURVMgfCBjb2RlICYgVVRGOF9NQVNLXTsKCQlpZiAoY29kZSA8IDB4MTAwMDApIHJldHVybiBbVVRGOF9GSVJTVF9CSVRFU1sxXSB8IGNvZGUgPj4gMTIsIFVURjhfU0VDT05EX0JJVEVTIHwgY29kZSA+PiA2ICYgVVRGOF9NQVNLLCBVVEY4X1NFQ09ORF9CSVRFUyB8IGNvZGUgJiBVVEY4X01BU0tdOwoJCXJldHVybiBbVVRGOF9GSVJTVF9CSVRFU1syXSB8IGNvZGUgPj4gMTgsIFVURjhfU0VDT05EX0JJVEVTIHwgY29kZSA+PiAxMiAmIFVURjhfTUFTSywgVVRGOF9TRUNPTkRfQklURVMgfCBjb2RlID4+IDYgJiBVVEY4X01BU0ssIFVURjhfU0VDT05EX0JJVEVTIHwgY29kZSAmIFVURjhfTUFTS107Cgl9CgoJZnVuY3Rpb24gVVRGMTZFbmNvZGUoY29kZSkgewoJCWlmIChjb2RlIDwgMHhGRkZGKSByZXR1cm4gW2NvZGVdOwoJCWNvZGUgLT0gMHgxMDAwMDsKCQlyZXR1cm4gW1VURjE2X0JJVEVTJDFbMF0gfCBjb2RlID4+IDEwICYgVVRGMTZfTUFTSyQxLCBVVEYxNl9CSVRFUyQxWzFdIHwgY29kZSAmIFVURjE2X01BU0skMV07Cgl9CgoJZnVuY3Rpb24gVVRGOERlY29kZShjb2RlU2V0KSB7CgkJdmFyIF9jb2RlU2V0OwoKCQlpZiAodHlwZW9mIGNvZGVTZXQgPT09ICJudW1iZXIiKSBjb2RlU2V0ID0gW2NvZGVTZXRdOwoJCWlmICghKChfY29kZVNldCA9IGNvZGVTZXQpICE9PSBudWxsICYmIF9jb2RlU2V0ICE9PSB2b2lkIDAgJiYgX2NvZGVTZXQubGVuZ3RoKSkgdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGNvZGVzZXQhIik7CgkJY29uc3QgY29kZVNldFJhbmdlID0gY29kZVNldC5sZW5ndGg7CgkJaWYgKGNvZGVTZXRSYW5nZSA9PT0gMSkgcmV0dXJuIGNvZGVTZXRbMF07CgkJaWYgKGNvZGVTZXRSYW5nZSA9PT0gMikgcmV0dXJuICgoY29kZVNldFswXSBeIFVURjhfRklSU1RfQklURVNbMF0pIDw8IDYpICsgKGNvZGVTZXRbMV0gXiBVVEY4X1NFQ09ORF9CSVRFUyk7CgoJCWlmIChjb2RlU2V0UmFuZ2UgPT09IDMpIHsKCQkJcmV0dXJuICgoY29kZVNldFswXSBeIFVURjhfRklSU1RfQklURVNbMV0pIDw8IDEyKSArICgoY29kZVNldFsxXSBeIFVURjhfU0VDT05EX0JJVEVTKSA8PCA2KSArIChjb2RlU2V0WzJdIF4gVVRGOF9TRUNPTkRfQklURVMpOwoJCX0KCgkJcmV0dXJuICgoY29kZVNldFswXSBeIFVURjhfRklSU1RfQklURVNbMl0pIDw8IDE4KSArICgoY29kZVNldFsxXSBeIFVURjhfU0VDT05EX0JJVEVTKSA8PCAxMikgKyAoKGNvZGVTZXRbMl0gXiBVVEY4X1NFQ09ORF9CSVRFUykgPDwgNikgKyAoY29kZVNldFszXSBeIFVURjhfU0VDT05EX0JJVEVTKTsKCX0KCglmdW5jdGlvbiBVVEYxNkRlY29kZSQxKGNvZGVTZXQpIHsKCQl2YXIgX2NvZGVTZXQyOwoKCQlpZiAodHlwZW9mIGNvZGVTZXQgPT09ICJudW1iZXIiKSBjb2RlU2V0ID0gW2NvZGVTZXRdOwoJCWlmICghKChfY29kZVNldDIgPSBjb2RlU2V0KSAhPT0gbnVsbCAmJiBfY29kZVNldDIgIT09IHZvaWQgMCAmJiBfY29kZVNldDIubGVuZ3RoKSkgdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGNvZGVzZXQhIik7CgkJY29uc3QgY29kZVNldFJhbmdlID0gY29kZVNldC5sZW5ndGg7CgkJaWYgKGNvZGVTZXRSYW5nZSA9PT0gMSkgcmV0dXJuIGNvZGVTZXRbMF07CgkJcmV0dXJuICgoY29kZVNldFswXSAmIFVURjE2X01BU0skMSkgPDwgMTApICsgKGNvZGVTZXRbMV0gJiBVVEYxNl9NQVNLJDEpICsgMHgxMDAwMDsKCX0KCglmdW5jdGlvbiBzdHJpbmdUb1VuaWNvZGUkMShzdHIpIHsKCQljb25zdCB1dGYxNk1hcCA9IEFycmF5LmZyb20oewoJCQlsZW5ndGg6IHN0ci5sZW5ndGgKCQl9LCAoXywgaSkgPT4gc3RyLmNoYXJDb2RlQXQoaSkpOwoJCWNvbnN0IHJlc3VsdCA9IFtdOwoJCWxldCBpbmRleCA9IDA7CgoJCXdoaWxlIChpbmRleCA8IHN0ci5sZW5ndGgpIHsKCQkJbGV0IGNvZGUgPSB1dGYxNk1hcFtpbmRleF07CgoJCQlpZiAoKFVURjE2X0JJVEVTJDFbMF0gJiBjb2RlKSAhPT0gVVRGMTZfQklURVMkMVswXSkgewoJCQkJcmVzdWx0LnB1c2goY29kZSk7CgkJCQlpbmRleCsrOwoJCQl9IGVsc2UgewoJCQkJcmVzdWx0LnB1c2goVVRGMTZEZWNvZGUkMSh1dGYxNk1hcC5zbGljZShpbmRleCwgaW5kZXggKyAyKSkpOwoJCQkJaW5kZXggKz0gMjsKCQkJfQoJCX0KCgkJcmV0dXJuIHJlc3VsdDsKCX0KCglmdW5jdGlvbiBVVEY4VG9Vbmljb2RlKGNvZGVzKSB7CgkJY29uc3QgZGF0YUFycmF5ID0gY29kZXMgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciA/IG5ldyBVaW50OEFycmF5KGNvZGVzKSA6IGNvZGVzOwoJCWNvbnN0IHJlc3VsdCA9IFtdOwoJCWxldCBpbmRleCA9IDA7CgoJCXdoaWxlIChpbmRleCA8IGRhdGFBcnJheS5sZW5ndGgpIHsKCQkJbGV0IGhlYWRlckNvZGUgPSBkYXRhQXJyYXlbaW5kZXhdOwoKCQkJaWYgKChoZWFkZXJDb2RlICYgMHg4MCkgPT09IDApIHsKCQkJCXJlc3VsdC5wdXNoKGhlYWRlckNvZGUpOwoJCQkJaW5kZXgrKzsKCQkJfSBlbHNlIGlmIChoZWFkZXJDb2RlIDwgVVRGOF9GSVJTVF9CSVRFU1sxXSkgewoJCQkJcmVzdWx0LnB1c2goVVRGOERlY29kZShkYXRhQXJyYXkuc2xpY2UoaW5kZXgsIGluZGV4ICsgMikpKTsKCQkJCWluZGV4ICs9IDI7CgkJCX0gZWxzZSBpZiAoaGVhZGVyQ29kZSA8IFVURjhfRklSU1RfQklURVNbMl0pIHsKCQkJCXJlc3VsdC5wdXNoKFVURjhEZWNvZGUoZGF0YUFycmF5LnNsaWNlKGluZGV4LCBpbmRleCArIDMpKSk7CgkJCQlpbmRleCArPSAzOwoJCQl9IGVsc2UgewoJCQkJcmVzdWx0LnB1c2goVVRGOERlY29kZShkYXRhQXJyYXkuc2xpY2UoaW5kZXgsIGluZGV4ICsgNCkpKTsKCQkJCWluZGV4ICs9IDQ7CgkJCX0KCQl9CgoJCXJldHVybiByZXN1bHQ7Cgl9CgoJZnVuY3Rpb24gVW5pY29kZVRvVVRGOCh1bmljb2RlQXJyKSB7CgkJY29uc3QgcmVzdWx0ID0gW107CgoJCWZvciAobGV0IGNvZGUgb2YgdW5pY29kZUFycikgewoJCQlyZXN1bHQucHVzaCguLi5VVEY4RW5jb2RlKGNvZGUpKTsKCQl9CgoJCXJldHVybiByZXN1bHQ7Cgl9CgoJZnVuY3Rpb24gVW5pY29kZVRvU3RyaW5nKHVuaWNvZGVBcnIpIHsKCQljb25zdCByZXN1bHQgPSBbXTsKCgkJZm9yIChsZXQgY29kZSBvZiB1bmljb2RlQXJyKSB7CgkJCXJlc3VsdC5wdXNoKC4uLlVURjE2RW5jb2RlKGNvZGUpKTsKCQl9CgoJCWNvbnN0IGJsb2NrU2l6ZSA9IDMyNzY4OwoJCWxldCByZXN1bHRTdHIgPSAiIjsKCgkJZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoIC8gYmxvY2tTaXplOyBpKyspIHsKCQkJcmVzdWx0U3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoLi4ucmVzdWx0LnNsaWNlKGkgKiBibG9ja1NpemUsIChpICsgMSkgKiBibG9ja1NpemUpKTsKCQl9CgoJCXJldHVybiByZXN1bHRTdHI7Cgl9CgoJZnVuY3Rpb24gc3RyaW5nVG9VVEY4KHN0cikgewoJCXJldHVybiBVbmljb2RlVG9VVEY4KHN0cmluZ1RvVW5pY29kZSQxKHN0cikpOwoJfQoKCWZ1bmN0aW9uIFVURjhUb1N0cmluZyh1dGY4QXJyYXkpIHsKCQlyZXR1cm4gVW5pY29kZVRvU3RyaW5nKFVURjhUb1VuaWNvZGUodXRmOEFycmF5KSk7Cgl9CgoJZnVuY3Rpb24gVVRGOExlbmd0aCQxKHN0cikgewoJCWNvbnN0IGNvZGVzID0gc3RyaW5nVG9Vbmljb2RlJDEoc3RyKTsKCQlyZXR1cm4gY29kZXMucmVkdWNlKChzdW0sIHVuaWNvZGUpID0+IHsKCQkJaWYgKHVuaWNvZGUgPCAweDgwKSByZXR1cm4gc3VtICsgMTsKCQkJaWYgKHVuaWNvZGUgPCAweDgwMCkgcmV0dXJuIHN1bSArIDI7CgkJCWlmICh1bmljb2RlIDwgMHgxMDAwMCkgcmV0dXJuIHN1bSArIDM7CgkJCXJldHVybiBzdW0gKyA0OwoJCX0sIDApOwoJfQoKCWNvbnN0IExJVFRMRV9FTkRJQU4gPSB0cnVlOwoKCWNsYXNzIEJ1ZmZlclJlYWRlciB7CgkJY29uc3RydWN0b3IoYnVmZmVyKSB7CgkJCWxldCBlbmRpYW51cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogTElUVExFX0VORElBTjsKCQkJdGhpcy5fZW5kaWFudXMgPSBlbmRpYW51czsKCQkJdGhpcy5fYnVmZmVyID0gYnVmZmVyLnNsaWNlKCk7CgkJCXRoaXMuX2RhdGFWaWV3ID0gbmV3IERhdGFWaWV3KHRoaXMuX2J1ZmZlcik7CgkJCXRoaXMuX29mZnNldCA9IDA7CgkJCXRoaXMuX2JpdE9mZnNldCA9IDA7CgkJfQoKCQlzZWVrKGluZGV4KSB7CgkJCWxldCBvcmlnaW4gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRoaXMuX29mZnNldDsKCQkJY29uc3Qgb2Zmc2V0ID0gdGhpcy5fb2Zmc2V0OwoJCQl0aGlzLl9vZmZzZXQgPSBNYXRoLm1heChvcmlnaW4gKyBOdW1iZXIucGFyc2VJbnQoaW5kZXgpLCAwKTsKCQkJaWYgKHRoaXMuX29mZnNldCA8IDAgfHwgdGhpcy5fb2Zmc2V0ID4gdGhpcy5idWZmZXIubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcigiQnVmZmVyIHNlZWsgb3V0IG9mIGJvdW5kcyEgIi5jb25jYXQodGhpcy5fb2Zmc2V0LCAiICIpLmNvbmNhdCh0aGlzLmJ1ZmZlci5sZW5ndGgpKTsKCQkJcmV0dXJuIHRoaXMuX29mZnNldCAtIG9mZnNldDsKCQl9CgoJCWdldCBieXRlUG9zaXRpb24oKSB7CgkJCXJldHVybiBOdW1iZXIucGFyc2VJbnQodGhpcy5fb2Zmc2V0KTsKCQl9CgoJCXNldCBieXRlUG9zaXRpb24odmFsdWUpIHsKCQkJdGhpcy5fb2Zmc2V0ID0gdmFsdWU7CgkJfQoKCQlnZXQgYml0UG9zaXRpb24oKSB7CgkJCXJldHVybiBOdW1iZXIucGFyc2VJbnQodGhpcy5fYml0T2Zmc2V0KTsKCQl9CgoJCXNldCBiaXRQb3NpdGlvbihvZmZzZXQpIHsKCQkJaWYgKG9mZnNldCA8IDApIG9mZnNldCA9IDE2IC0gb2Zmc2V0OwoJCQl0aGlzLl9iaXRPZmZzZXQgPSBvZmZzZXQgJSAxNjsKCQkJY29uc3QgYnl0ZVNlZWsgPSAob2Zmc2V0IC0gTWF0aC5hYnMob2Zmc2V0KSAlIDE2KSAvIDE2ICogMjsKCQkJdGhpcy5zZWVrKGJ5dGVTZWVrKTsKCQl9CgoJCWdldCBzaXplKCkgewoJCQlyZXR1cm4gdGhpcy5idWZmZXIuYnl0ZUxlbmd0aDsKCQl9CgoJCWdldCBidWZmZXIoKSB7CgkJCXJldHVybiB0aGlzLl9idWZmZXI7CgkJfQoKCQljb3B5RnJvbShidWZmZXIpIHsKCQkJbGV0IHRhcmdldEluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwOwoJCQlsZXQgc291cmNlSW5kZXggPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IDA7CgkJCWxldCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoID4gMyAmJiBhcmd1bWVudHNbM10gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1szXSA6IGJ1ZmZlci5ieXRlTGVuZ3RoOwoJCQljb25zdCBzb3VyY2VWaWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTsKCQkJY29uc3QgaXNPdmVyZmxvdyA9IHRoaXMuYnVmZmVyLmJ5dGVMZW5ndGggPCBsZW5ndGggKyB0YXJnZXRJbmRleDsKCQkJbGV0IHRhcmdldEJ1ZmZlciA9IHRoaXMuYnVmZmVyOwoJCQlsZXQgdGFyZ2V0VmlldyA9IHRoaXMuX2RhdGFWaWV3OwoKCQkJaWYgKGlzT3ZlcmZsb3cpIHsKCQkJCXRhcmdldEJ1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcih0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoICsgKGxlbmd0aCArIHRhcmdldEluZGV4IC0gdGhpcy5idWZmZXIuYnl0ZUxlbmd0aCkpOwoJCQkJdGFyZ2V0VmlldyA9IG5ldyBEYXRhVmlldyh0YXJnZXRCdWZmZXIpOwoKCQkJCWZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5idWZmZXIuYnl0ZUxlbmd0aDsgaSsrKSB7CgkJCQkJdGFyZ2V0Vmlldy5zZXRVaW50OChpLCB0aGlzLl9kYXRhVmlldy5nZXRVaW50OChpKSk7CgkJCQl9CgkJCX0KCgkJCWZvciAobGV0IGkgPSBzb3VyY2VJbmRleCwgaiA9IHRhcmdldEluZGV4OyBpIDwgbGVuZ3RoOyBpKyssIGorKykgewoJCQkJdGFyZ2V0Vmlldy5zZXRVaW50OChqLCBzb3VyY2VWaWV3W2ldKTsKCQkJfQoKCQkJaWYgKGlzT3ZlcmZsb3cpIHsKCQkJCXRoaXMuX2J1ZmZlciA9IHRhcmdldEJ1ZmZlcjsKCQkJCXRoaXMuX2RhdGFWaWV3ID0gdGFyZ2V0VmlldzsKCQkJfQoJCX0KCgkJcmVhZChjb3VudCkgewoJCQljb25zdCBidWZmZXIgPSB0aGlzLmJ1ZmZlci5zbGljZSh0aGlzLl9vZmZzZXQsIHRoaXMuX29mZnNldCArIGNvdW50KTsKCQkJdGhpcy5zZWVrKGNvdW50KTsKCQkJcmV0dXJuIGJ1ZmZlcjsKCQl9CgoJCXJlYWRCeXRlKCkgewoJCQlyZXR1cm4gdGhpcy5yZWFkVUludCgpOwoJCX0KCgkJcmVhZEludCgpIHsKCQkJY29uc3QgdmFsdWUgPSB0aGlzLl9kYXRhVmlldy5nZXRJbnQ4KHRoaXMuX29mZnNldCk7CgoJCQl0aGlzLnNlZWsoMSk7CgkJCXJldHVybiB2YWx1ZTsKCQl9CgoJCXJlYWRVSW50KCkgewoJCQljb25zdCB2YWx1ZSA9IHRoaXMuX2RhdGFWaWV3LmdldFVpbnQ4KHRoaXMuX29mZnNldCk7CgoJCQl0aGlzLnNlZWsoMSk7CgkJCXJldHVybiB2YWx1ZTsKCQl9CgoJCXJlYWRVSW50MTYoKSB7CgkJCWNvbnN0IHZhbHVlID0gdGhpcy5fZGF0YVZpZXcuZ2V0VWludDE2KHRoaXMuX29mZnNldCwgdGhpcy5fZW5kaWFudXMpOwoKCQkJdGhpcy5zZWVrKDIpOwoJCQlyZXR1cm4gdmFsdWU7CgkJfQoKCQlyZWFkVUludDMyKCkgewoJCQljb25zdCB2YWx1ZSA9IHRoaXMuX2RhdGFWaWV3LmdldFVpbnQzMih0aGlzLl9vZmZzZXQsIHRoaXMuX2VuZGlhbnVzKTsKCgkJCXRoaXMuc2Vlayg0KTsKCQkJcmV0dXJuIHZhbHVlOwoJCX0KCgkJcmVhZEludDE2KCkgewoJCQljb25zdCB2YWx1ZSA9IHRoaXMuX2RhdGFWaWV3LmdldEludDE2KHRoaXMuX29mZnNldCwgdGhpcy5fZW5kaWFudXMpOwoKCQkJdGhpcy5zZWVrKDIpOwoJCQlyZXR1cm4gdmFsdWU7CgkJfQoKCQlyZWFkSW50MzIoKSB7CgkJCWNvbnN0IHZhbHVlID0gdGhpcy5fZGF0YVZpZXcuZ2V0SW50MzIodGhpcy5fb2Zmc2V0LCB0aGlzLl9lbmRpYW51cyk7CgoJCQl0aGlzLnNlZWsoNCk7CgkJCXJldHVybiB2YWx1ZTsKCQl9CgoJCXJlYWRTaW5nbGUoKSB7CgkJCWNvbnN0IHZhbHVlID0gdGhpcy5fZGF0YVZpZXcuZ2V0RmxvYXQzMih0aGlzLl9vZmZzZXQsIHRoaXMuX2VuZGlhbnVzKTsKCgkJCXRoaXMuc2Vlayg0KTsKCQkJcmV0dXJuIHZhbHVlOwoJCX0KCgkJcmVhZERvdWJsZSgpIHsKCQkJY29uc3QgdmFsdWUgPSB0aGlzLl9kYXRhVmlldy5nZXRGbG9hdDMyKHRoaXMuX29mZnNldCwgdGhpcy5fZW5kaWFudXMpOwoKCQkJdGhpcy5zZWVrKDgpOwoJCQlyZXR1cm4gdmFsdWU7CgkJfQoKCQlyZWFkU3RyaW5nKCkgewoJCQlsZXQgY291bnQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IC0xOwoJCQljb25zdCBjaGFycyA9IFtdOwoJCQl0aGlzLl9vZmZzZXQ7CgoJCQlpZiAoY291bnQgPT09IC0xKSB7CgkJCQl3aGlsZSAodGhpcy5wZWVrQnl0ZSgxKSAhPSAweDApIGNoYXJzLnB1c2godGhpcy5yZWFkQnl0ZSgpKTsKCQkJfSBlbHNlIHsKCQkJCWZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykgewoJCQkJCWNoYXJzLnB1c2godGhpcy5yZWFkQnl0ZSgpKTsKCQkJCX0KCQkJfQoKCQkJcmV0dXJuIFVURjhUb1N0cmluZyhjaGFycyk7CgkJfQoKCQlwZWVrKGNvdW50KSB7CgkJCWNvbnN0IGJ1ZmZlciA9IHRoaXMucmVhZChjb3VudCk7CgkJCXRoaXMuc2VlaygtY291bnQpOwoJCQlyZXR1cm4gYnVmZmVyOwoJCX0KCgkJcGVla0J5dGUoKSB7CgkJCXJldHVybiB0aGlzLnBlZWtVSW50KCk7CgkJfQoKCQlwZWVrSW50KCkgewoJCQljb25zdCB2YWx1ZSA9IHRoaXMuX2RhdGFWaWV3LmdldEludDgodGhpcy5fb2Zmc2V0KTsKCgkJCXJldHVybiB2YWx1ZTsKCQl9CgoJCXBlZWtVSW50KCkgewoJCQljb25zdCB2YWx1ZSA9IHRoaXMuX2RhdGFWaWV3LmdldFVpbnQ4KHRoaXMuX29mZnNldCk7CgoJCQlyZXR1cm4gdmFsdWU7CgkJfQoKCQlwZWVrVUludDE2KCkgewoJCQljb25zdCB2YWx1ZSA9IHRoaXMuX2RhdGFWaWV3LmdldFVpbnQxNih0aGlzLl9vZmZzZXQsIHRoaXMuX2VuZGlhbnVzKTsKCgkJCXJldHVybiB2YWx1ZTsKCQl9CgoJCXBlZWtVSW50MzIoKSB7CgkJCWNvbnN0IHZhbHVlID0gdGhpcy5fZGF0YVZpZXcuZ2V0VWludDMyKHRoaXMuX29mZnNldCwgdGhpcy5fZW5kaWFudXMpOwoKCQkJcmV0dXJuIHZhbHVlOwoJCX0KCgkJcGVla0ludDE2KCkgewoJCQljb25zdCB2YWx1ZSA9IHRoaXMuX2RhdGFWaWV3LmdldEludDE2KHRoaXMuX29mZnNldCwgdGhpcy5fZW5kaWFudXMpOwoKCQkJcmV0dXJuIHZhbHVlOwoJCX0KCgkJcGVla0ludDMyKCkgewoJCQljb25zdCB2YWx1ZSA9IHRoaXMuX2RhdGFWaWV3LmdldEludDMyKHRoaXMuX29mZnNldCwgdGhpcy5fZW5kaWFudXMpOwoKCQkJcmV0dXJuIHZhbHVlOwoJCX0KCgkJcGVla1NpbmdsZSgpIHsKCQkJY29uc3QgdmFsdWUgPSB0aGlzLl9kYXRhVmlldy5nZXRGbG9hdDMyKHRoaXMuX29mZnNldCwgdGhpcy5fZW5kaWFudXMpOwoKCQkJcmV0dXJuIHZhbHVlOwoJCX0KCgkJcGVla0RvdWJsZSgpIHsKCQkJY29uc3QgdmFsdWUgPSB0aGlzLl9kYXRhVmlldy5nZXRGbG9hdDY0KHRoaXMuX29mZnNldCwgdGhpcy5fZW5kaWFudXMpOwoKCQkJcmV0dXJuIHZhbHVlOwoJCX0KCgkJcGVla1N0cmluZygpIHsKCQkJbGV0IGNvdW50ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAwOwoJCQljb25zdCBjaGFycyA9IFtdOwoJCQljb25zdCBzdGFydE9mZnNldCA9IHRoaXMuX29mZnNldDsKCgkJCWlmIChjb3VudCA9PT0gMCkgewoJCQkJd2hpbGUgKHRoaXMucGVla0J5dGUoMSkgIT0gMHgwKSBjaGFycy5wdXNoKHRoaXMucmVhZEJ5dGUoKSk7CgkJCX0gZWxzZSB7CgkJCQlmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKCQkJCQljaGFycy5wdXNoKHRoaXMucmVhZEJ5dGUoKSk7CgkJCQl9CgkJCX0KCgkJCXRoaXMuYnl0ZVBvc2l0aW9uID0gc3RhcnRPZmZzZXQ7CgkJCXJldHVybiBVVEY4VG9TdHJpbmcoY2hhcnMpOwoJCX0KCgkJcmVhZDdCaXROdW1iZXIoKSB7CgkJCWxldCByZXN1bHQgPSAwOwoJCQlsZXQgYml0c1JlYWQgPSAwOwoJCQlsZXQgdmFsdWU7CgoJCQlkbyB7CgkJCQl2YWx1ZSA9IHRoaXMucmVhZEJ5dGUoKTsKCQkJCXJlc3VsdCB8PSAodmFsdWUgJiAweDdGKSA8PCBiaXRzUmVhZDsKCQkJCWJpdHNSZWFkICs9IDc7CgkJCX0gd2hpbGUgKHZhbHVlICYgMHg4MCk7CgoJCQlyZXR1cm4gcmVzdWx0OwoJCX0KCgkJcmVhZExaWEJpdHMoYml0cykgewoJCQlsZXQgYml0c0xlZnQgPSBiaXRzOwoJCQlsZXQgcmVhZCA9IDA7CgoJCQl3aGlsZSAoYml0c0xlZnQgPiAwKSB7CgkJCQljb25zdCBwZWVrID0gdGhpcy5fZGF0YVZpZXcuZ2V0VWludDE2KHRoaXMuX29mZnNldCwgdHJ1ZSk7CgoJCQkJY29uc3QgYml0c0luRnJhbWUgPSBNYXRoLm1pbihNYXRoLm1heChiaXRzTGVmdCwgMCksIDE2IC0gdGhpcy5iaXRQb3NpdGlvbik7CgkJCQljb25zdCBvZmZzZXQgPSAxNiAtIHRoaXMuYml0UG9zaXRpb24gLSBiaXRzSW5GcmFtZTsKCQkJCWNvbnN0IHZhbHVlID0gKHBlZWsgJiAyICoqIGJpdHNJbkZyYW1lIC0gMSA8PCBvZmZzZXQpID4+IG9mZnNldDsKCQkJCWJpdHNMZWZ0IC09IGJpdHNJbkZyYW1lOwoJCQkJdGhpcy5iaXRQb3NpdGlvbiArPSBiaXRzSW5GcmFtZTsKCQkJCXJlYWQgfD0gdmFsdWUgPDwgYml0c0xlZnQ7CgkJCX0KCgkJCXJldHVybiByZWFkOwoJCX0KCgkJcGVla0xaWEJpdHMoYml0cykgewoJCQlsZXQgYml0UG9zaXRpb24gPSB0aGlzLmJpdFBvc2l0aW9uOwoJCQlsZXQgYnl0ZVBvc2l0aW9uID0gdGhpcy5ieXRlUG9zaXRpb247CgkJCWNvbnN0IHJlYWQgPSB0aGlzLnJlYWRMWlhCaXRzKGJpdHMpOwoJCQl0aGlzLmJpdFBvc2l0aW9uID0gYml0UG9zaXRpb247CgkJCXRoaXMuYnl0ZVBvc2l0aW9uID0gYnl0ZVBvc2l0aW9uOwoJCQlyZXR1cm4gcmVhZDsKCQl9CgoJCXJlYWRMWlhJbnQxNigpIHsKCQkJbGV0IHNlZWsgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRydWU7CgkJCWNvbnN0IGxzQiA9IHRoaXMucmVhZEJ5dGUoKTsKCQkJY29uc3QgbXNCID0gdGhpcy5yZWFkQnl0ZSgpOwoJCQlpZiAoIXNlZWspIHRoaXMuc2VlaygtMik7CgkJCXJldHVybiBsc0IgPDwgOCB8IG1zQjsKCQl9CgoJCWFsaWduKCkgewoJCQlpZiAodGhpcy5iaXRQb3NpdGlvbiA+IDApIHRoaXMuYml0UG9zaXRpb24gKz0gMTYgLSB0aGlzLmJpdFBvc2l0aW9uOwoJCX0KCgl9CgoJY2xhc3MgQnVmZmVyV3JpdGVyIHsKCQljb25zdHJ1Y3RvcigpIHsKCQkJbGV0IHNpemUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDIwNDg7CgkJCXRoaXMuX2J1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihzaXplKTsKCQkJdGhpcy5fZGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcodGhpcy5fYnVmZmVyKTsKCQkJdGhpcy5ieXRlUG9zaXRpb24gPSAwOwoJCX0KCgkJZ2V0IGJ1ZmZlcigpIHsKCQkJcmV0dXJuIHRoaXMuX2J1ZmZlcjsKCQl9CgoJCXJlY29ubmVjdERhdGFWaWV3KCkgewoJCQl0aGlzLl9kYXRhVmlldyA9IG5ldyBEYXRhVmlldyh0aGlzLl9idWZmZXIpOwoJCX0KCgkJdHJpbSgpIHsKCQkJbGV0IHBlbmRpbmcgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IGZhbHNlOwoJCQl0aGlzLl9idWZmZXIgPSB0aGlzLmJ1ZmZlci5zbGljZSgwLCB0aGlzLmJ5dGVQb3NpdGlvbik7CgkJCWlmICghcGVuZGluZykgdGhpcy5yZWNvbm5lY3REYXRhVmlldygpOwoJCX0KCgkJYWxsb2MoYnl0ZXMpIHsKCQkJaWYgKHRoaXMuX2J1ZmZlci5ieXRlTGVuZ3RoIDw9IHRoaXMuYnl0ZVBvc2l0aW9uICsgYnl0ZXMpIHsKCQkJCWNvbnN0IHRCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5fYnVmZmVyLmJ5dGVMZW5ndGggKyBieXRlcyk7CgkJCQljb25zdCB0RGF0YVZpZXcgPSBuZXcgRGF0YVZpZXcodEJ1ZmZlcik7CgoJCQkJZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmJ1ZmZlci5ieXRlTGVuZ3RoOyBpKyspIHsKCQkJCQl0RGF0YVZpZXcuc2V0VWludDgoaSwgdGhpcy5fZGF0YVZpZXcuZ2V0VWludDgoaSkpOwoJCQkJfQoKCQkJCXRoaXMuX2J1ZmZlciA9IHRCdWZmZXI7CgkJCQl0aGlzLl9kYXRhVmlldyA9IHREYXRhVmlldzsKCQkJfQoKCQkJcmV0dXJuIHRoaXM7CgkJfQoKCQljb25jYXQoYnVmZmVyKSB7CgkJCWNvbnN0IHRhcmdldEJ1ZmZlclZpZXcgPSBuZXcgVWludDhBcnJheShidWZmZXIpOwoJCQljb25zdCBuZXdQb3NpdGlvbiA9IHRoaXMuYnl0ZVBvc2l0aW9uICsgdGFyZ2V0QnVmZmVyVmlldy5sZW5ndGg7CgkJCXRoaXMuYWxsb2ModGFyZ2V0QnVmZmVyVmlldy5sZW5ndGgpOwoKCQkJZm9yIChsZXQgaSA9IHRoaXMuYnl0ZVBvc2l0aW9uOyBpIDwgbmV3UG9zaXRpb247IGkrKykgewoJCQkJdGhpcy5fZGF0YVZpZXcuc2V0VWludDgoaSwgdGFyZ2V0QnVmZmVyVmlld1tpIC0gdGhpcy5ieXRlUG9zaXRpb25dKTsKCQkJfQoKCQkJdGhpcy5ieXRlUG9zaXRpb24gPSBuZXdQb3NpdGlvbjsKCQkJdGhpcy50cmltKCk7CgkJfQoKCQl3cml0ZShieXRlcykgewoJCQljb25zdCB0YXJnZXRCdWZmZXJWaWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnl0ZXMpOwoJCQljb25zdCBuZXdQb3NpdGlvbiA9IHRoaXMuYnl0ZVBvc2l0aW9uICsgdGFyZ2V0QnVmZmVyVmlldy5sZW5ndGg7CgkJCXRoaXMuYWxsb2ModGFyZ2V0QnVmZmVyVmlldy5sZW5ndGgpOwoKCQkJZm9yIChsZXQgaSA9IHRoaXMuYnl0ZVBvc2l0aW9uOyBpIDwgbmV3UG9zaXRpb247IGkrKykgewoJCQkJdGhpcy5fZGF0YVZpZXcuc2V0VWludDgoaSwgdGFyZ2V0QnVmZmVyVmlld1tpIC0gdGhpcy5ieXRlUG9zaXRpb25dKTsKCQkJfQoKCQkJdGhpcy5ieXRlUG9zaXRpb24gPSBuZXdQb3NpdGlvbjsKCQl9CgoJCXdyaXRlU3RyaW5nKHN0cikgewoJCQlsZXQgdXRmOERhdGEgPSBzdHJpbmdUb1VURjgoc3RyKTsKCQkJdGhpcy53cml0ZSh1dGY4RGF0YSk7CgkJfQoKCQl3cml0ZUJ5dGUoYnl0ZSkgewoJCQl0aGlzLmFsbG9jKDEpLl9kYXRhVmlldy5zZXRVaW50OCh0aGlzLmJ5dGVQb3NpdGlvbiwgYnl0ZSk7CgoJCQl0aGlzLmJ5dGVQb3NpdGlvbisrOwoJCX0KCgkJd3JpdGVJbnQobnVtYmVyKSB7CgkJCXRoaXMuYWxsb2MoMSkuX2RhdGFWaWV3LnNldEludDgodGhpcy5ieXRlUG9zaXRpb24sIG51bWJlcik7CgoJCQl0aGlzLmJ5dGVQb3NpdGlvbisrOwoJCX0KCgkJd3JpdGVVSW50KG51bWJlcikgewoJCQl0aGlzLmFsbG9jKDEpLl9kYXRhVmlldy5zZXRVaW50OCh0aGlzLmJ5dGVQb3NpdGlvbiwgbnVtYmVyKTsKCgkJCXRoaXMuYnl0ZVBvc2l0aW9uKys7CgkJfQoKCQl3cml0ZUludDE2KG51bWJlcikgewoJCQl0aGlzLmFsbG9jKDIpLl9kYXRhVmlldy5zZXRJbnQxNih0aGlzLmJ5dGVQb3NpdGlvbiwgbnVtYmVyLCB0cnVlKTsKCgkJCXRoaXMuYnl0ZVBvc2l0aW9uICs9IDI7CgkJfQoKCQl3cml0ZVVJbnQxNihudW1iZXIpIHsKCQkJdGhpcy5hbGxvYygyKS5fZGF0YVZpZXcuc2V0VWludDE2KHRoaXMuYnl0ZVBvc2l0aW9uLCBudW1iZXIsIHRydWUpOwoKCQkJdGhpcy5ieXRlUG9zaXRpb24gKz0gMjsKCQl9CgoJCXdyaXRlSW50MzIobnVtYmVyKSB7CgkJCXRoaXMuYWxsb2MoNCkuX2RhdGFWaWV3LnNldEludDMyKHRoaXMuYnl0ZVBvc2l0aW9uLCBudW1iZXIsIHRydWUpOwoKCQkJdGhpcy5ieXRlUG9zaXRpb24gKz0gNDsKCQl9CgoJCXdyaXRlVUludDMyKG51bWJlcikgewoJCQl0aGlzLmFsbG9jKDQpLl9kYXRhVmlldy5zZXRVaW50MzIodGhpcy5ieXRlUG9zaXRpb24sIG51bWJlciwgdHJ1ZSk7CgoJCQl0aGlzLmJ5dGVQb3NpdGlvbiArPSA0OwoJCX0KCgkJd3JpdGVTaW5nbGUobnVtYmVyKSB7CgkJCXRoaXMuYWxsb2MoNCkuX2RhdGFWaWV3LnNldEZsb2F0MzIodGhpcy5ieXRlUG9zaXRpb24sIG51bWJlciwgdHJ1ZSk7CgoJCQl0aGlzLmJ5dGVQb3NpdGlvbiArPSA0OwoJCX0KCgkJd3JpdGVEb3VibGUobnVtYmVyKSB7CgkJCXRoaXMuYWxsb2MoOCkuX2RhdGFWaWV3LnNldEZsb2F0NjQodGhpcy5ieXRlUG9zaXRpb24sIG51bWJlciwgdHJ1ZSk7CgoJCQl0aGlzLmJ5dGVQb3NpdGlvbiArPSA4OwoJCX0KCgkJd3JpdGU3Qml0TnVtYmVyKG51bWJlcikgewoJCQl0aGlzLmFsbG9jKDIpOwoKCQkJZG8gewoJCQkJbGV0IGJ5dGUgPSBudW1iZXIgJiAweDdGOwoJCQkJbnVtYmVyID0gbnVtYmVyID4+IDc7CgkJCQlpZiAobnVtYmVyKSBieXRlIHw9IDB4ODA7CgoJCQkJdGhpcy5fZGF0YVZpZXcuc2V0VWludDgodGhpcy5ieXRlUG9zaXRpb24sIGJ5dGUpOwoKCQkJCXRoaXMuYnl0ZVBvc2l0aW9uKys7CgkJCX0gd2hpbGUgKG51bWJlcik7CgkJfQoKCX0KCgkvKiogQGxpY2Vuc2UKCSAqCgkgKiBUaGlzIGZpbGUgaXMgaGVhdmlseSBiYXNlZCBvbiBNb25vR2FtZSdzIGltcGxlbWVudGF0aW9uIG9mIHRoZWlyIEx6eERlY29kZXIgYXR0cmlidXRlZCB0byBBbGkgU2Npc3NvbnMKCSAqIHdoaWNoIGlzIGRlcml2ZWQgZnJvbSBsaWJtc3BhY2sgYnkgU3R1YXJ0IENvbGUuCgkgKgoJICogKEMpIDIwMDMtMjAwNCBTdHVhcnQgQ2FpZS4KCSAqIChDKSAyMDExIEFsaSBTY2lzc29ucy4KCSAqIChDKSAyMDE3IEphbWVzIFN0aW5lLgoJICoKCSAqIFRoZSBMWlggbWV0aG9kIHdhcyBjcmVhdGVkIGJ5IEpvaG5hdGhhbiBGb3JiZXMgYW5kIFRvbWkgUG91dGFuZW4sIGFkYXB0ZWQgYnkgTWljcm9zb2Z0IENvcnBvcmF0aW9uLgoJICoKCSAqIAoJICogR05VIExFU1NFUiBHRU5FUkFMIFBVQkxJQyBMSUNFTlNFIHZlcnNpb24gMi4xCgkgKiBMenhEZWNvZGVyIGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkgaXQgdW5kZXIKCSAqIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1YmxpYyBMaWNlbnNlIChMR1BMKSB2ZXJzaW9uIDIuMSAKCSAqCgkgKiBNSUNST1NPRlQgUFVCTElDIExJQ0VOU0UKCSAqIFRoaXMgc291cmNlIGNvZGUgYSBkZXJpdmF0aXZlIG9uIEx6eERlY29kZXIgYW5kIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIG9mIHRoZSBNaWNyb3NvZnQgUHVibGljIExpY2Vuc2UgKE1zLVBMKS4gCgkgKgkKCSAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sIAoJICogaXMgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgcmVkaXN0cmlidXRpb25zIG9mIHRoZSBzb3VyY2UgY29kZSByZXRhaW4gdGhlIGFib3ZlIAoJICogY29weXJpZ2h0IG5vdGljZXMgYW5kIHRoaXMgZmlsZSBoZWFkZXIuIAoJICoJCgkgKiBBZGRpdGlvbmFsIGNvcHlyaWdodCBub3RpY2VzIHNob3VsZCBiZSBhcHBlbmRlZCB0byB0aGUgbGlzdCBhYm92ZS4gCgkgKiAKCSAqIEZvciBkZXRhaWxzLCBzZWUgPGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbXMtcGwuaHRtbD4uCgkgKgoJICoKCSAqIEkgbWFkZSB0aGUgbWlzdGFrZSBvZiBub3QgaW5jbHVkaW5nIHRoaXMgbGljZW5zZSB5ZWFycyBhZ28uIEJpZyB0aGFua3MgdG8gZXZlcnlvbmUgaW52b2x2ZWQgYW5kIGxpY2Vuc2UgaGFzIG5vdyBiZWVuCgkgKiBhY2tub3dsZWRlZCBwcm9wZXJseSBhcyBpdCBzaG91bGQgaGF2ZSBiZWVuIGJhY2sgaW4gMjAxNy4KCSAqCgkgKiBSZXNvdXJjZXM6CgkgKgoJICogY2FiZXh0cmFjdC9saWJtc3BhY2sgLSBodHRwOi8vaHR0cDovL3d3dy5jYWJleHRyYWN0Lm9yZy51ay8KCSAqIE1vbm9HYW1lIEx6eERlY29kZXIuY3MgLSBodHRwczovL2dpdGh1Yi5jb20vTW9ub0dhbWUvTW9ub0dhbWUvYmxvYi9tYXN0ZXIvTW9ub0dhbWUuRnJhbWV3b3JrL0NvbnRlbnQvTHp4RGVjb2Rlci5jcwoJICoKCSAqLwoJY29uc3QgTUlOX01BVENIID0gMjsKCWNvbnN0IE5VTV9DSEFSUyA9IDI1NjsKCWNvbnN0IEJMT0NLVFlQRSA9IHsKCQlJTlZBTElEOiAwLAoJCVZFUkJBVElNOiAxLAoJCUFMSUdORUQ6IDIsCgkJVU5DT01QUkVTU0VEOiAzCgl9OwoJY29uc3QgUFJFVFJFRV9OVU1fRUxFTUVOVFMgPSAyMDsKCWNvbnN0IEFMSUdORURfTlVNX0VMRU1FTlRTID0gODsKCWNvbnN0IE5VTV9QUklNQVJZX0xFTkdUSFMgPSA3OwoJY29uc3QgTlVNX1NFQ09OREFSWV9MRU5HVEhTID0gMjQ5OwoJY29uc3QgUFJFVFJFRV9NQVhTWU1CT0xTID0gUFJFVFJFRV9OVU1fRUxFTUVOVFM7Cgljb25zdCBQUkVUUkVFX1RBQkxFQklUUyA9IDY7Cgljb25zdCBNQUlOVFJFRV9NQVhTWU1CT0xTID0gTlVNX0NIQVJTICsgNTAgKiA4OwoJY29uc3QgTUFJTlRSRUVfVEFCTEVCSVRTID0gMTI7Cgljb25zdCBMRU5HVEhfTUFYU1lNQk9MUyA9IE5VTV9TRUNPTkRBUllfTEVOR1RIUyArIDE7Cgljb25zdCBMRU5HVEhfVEFCTEVCSVRTID0gMTI7Cgljb25zdCBBTElHTkVEX01BWFNZTUJPTFMgPSBBTElHTkVEX05VTV9FTEVNRU5UUzsKCWNvbnN0IEFMSUdORURfVEFCTEVCSVRTID0gNzsKCgljbGFzcyBMenggewoJCWNvbnN0cnVjdG9yKHdpbmRvd19iaXRzKSB7CgkJCXRoaXMud2luZG93X3NpemUgPSAxIDw8IHdpbmRvd19iaXRzOwoJCQlpZiAod2luZG93X2JpdHMgPCAxNSB8fCB3aW5kb3dfYml0cyA+IDIxKSB0aHJvdyBuZXcgWG5iRXJyb3IoJ1dpbmRvdyBzaXplIG91dCBvZiByYW5nZSEnKTsKCgkJCWlmICghTHp4LmV4dHJhX2JpdHMubGVuZ3RoKSB7CgkJCQlmb3IgKGxldCBpID0gMCwgaiA9IDA7IGkgPD0gNTA7IGkgKz0gMikgewoJCQkJCUx6eC5leHRyYV9iaXRzW2ldID0gTHp4LmV4dHJhX2JpdHNbaSArIDFdID0gajsKCQkJCQlpZiAoaSAhPSAwICYmIGogPCAxNykgaisrOwoJCQkJfQoJCQl9CgoJCQlpZiAoIUx6eC5wb3NpdGlvbl9iYXNlLmxlbmd0aCkgewoJCQkJZm9yIChsZXQgaSA9IDAsIGogPSAwOyBpIDw9IDUwOyBpKyspIHsKCQkJCQlMengucG9zaXRpb25fYmFzZVtpXSA9IGo7CgkJCQkJaiArPSAxIDw8IEx6eC5leHRyYV9iaXRzW2ldOwoJCQkJfQoJCQl9CgoJCQljb25zdCBwb3NuX3Nsb3RzID0gd2luZG93X2JpdHMgPT0gMjEgPyA1MCA6IHdpbmRvd19iaXRzID09IDIwID8gNDIgOiB3aW5kb3dfYml0cyA8PCAxOwoJCQl0aGlzLlIwID0gdGhpcy5SMSA9IHRoaXMuUjIgPSAxOwoJCQl0aGlzLm1haW5fZWxlbWVudHMgPSBOVU1fQ0hBUlMgKyAocG9zbl9zbG90cyA8PCAzKTsKCQkJdGhpcy5oZWFkZXJfcmVhZCA9IGZhbHNlOwoJCQl0aGlzLmJsb2NrX3JlbWFpbmluZyA9IDA7CgkJCXRoaXMuYmxvY2tfdHlwZSA9IEJMT0NLVFlQRS5JTlZBTElEOwoJCQl0aGlzLndpbmRvd19wb3NuID0gMDsKCQkJdGhpcy5wcmV0cmVlX3RhYmxlID0gW107CgkJCXRoaXMucHJldHJlZV9sZW4gPSBbXTsKCQkJdGhpcy5hbGlnbmVkX3RhYmxlID0gW107CgkJCXRoaXMuYWxpZ25lZF9sZW4gPSBbXTsKCQkJdGhpcy5sZW5ndGhfdGFibGUgPSBbXTsKCQkJdGhpcy5sZW5ndGhfbGVuID0gW107CgkJCXRoaXMubWFpbnRyZWVfdGFibGUgPSBbXTsKCQkJdGhpcy5tYWludHJlZV9sZW4gPSBbXTsKCgkJCWZvciAobGV0IGkgPSAwOyBpIDwgTUFJTlRSRUVfTUFYU1lNQk9MUzsgaSsrKSB0aGlzLm1haW50cmVlX2xlbltpXSA9IDA7CgoJCQlmb3IgKGxldCBpID0gMDsgaSA8IE5VTV9TRUNPTkRBUllfTEVOR1RIUzsgaSsrKSB0aGlzLmxlbmd0aF9sZW5baV0gPSAwOwoKCQkJdGhpcy53aW4gPSBbXTsKCQl9CgoJCWRlY29tcHJlc3MoYnVmZmVyLCBmcmFtZV9zaXplLCBibG9ja19zaXplKSB7CgkJCWlmICghdGhpcy5oZWFkZXJfcmVhZCkgewoJCQkJY29uc3QgaW50ZWwgPSBidWZmZXIucmVhZExaWEJpdHMoMSk7CgkJCQlpZiAoaW50ZWwgIT0gMCkgdGhyb3cgbmV3IFhuYkVycm9yKCJJbnRlbCBFOCBDYWxsIGZvdW5kLCBpbnZhbGlkIGZvciBYTkIgZmlsZXMuIik7CgkJCQl0aGlzLmhlYWRlcl9yZWFkID0gdHJ1ZTsKCQkJfQoKCQkJbGV0IHRvZ28gPSBmcmFtZV9zaXplOwoKCQkJd2hpbGUgKHRvZ28gPiAwKSB7CgkJCQlpZiAodGhpcy5ibG9ja19yZW1haW5pbmcgPT0gMCkgewoJCQkJCXRoaXMuYmxvY2tfdHlwZSA9IGJ1ZmZlci5yZWFkTFpYQml0cygzKTsKCQkJCQljb25zdCBoaSA9IGJ1ZmZlci5yZWFkTFpYQml0cygxNik7CgkJCQkJY29uc3QgbG8gPSBidWZmZXIucmVhZExaWEJpdHMoOCk7CgkJCQkJdGhpcy5ibG9ja19yZW1haW5pbmcgPSBoaSA8PCA4IHwgbG87CgoJCQkJCXN3aXRjaCAodGhpcy5ibG9ja190eXBlKSB7CgkJCQkJCWNhc2UgQkxPQ0tUWVBFLkFMSUdORUQ6CgkJCQkJCQlmb3IgKGxldCBpID0gMDsgaSA8IDg7IGkrKykgdGhpcy5hbGlnbmVkX2xlbltpXSA9IGJ1ZmZlci5yZWFkTFpYQml0cygzKTsKCgkJCQkJCQl0aGlzLmFsaWduZWRfdGFibGUgPSB0aGlzLmRlY29kZVRhYmxlKEFMSUdORURfTUFYU1lNQk9MUywgQUxJR05FRF9UQUJMRUJJVFMsIHRoaXMuYWxpZ25lZF9sZW4pOwoKCQkJCQkJY2FzZSBCTE9DS1RZUEUuVkVSQkFUSU06CgkJCQkJCQl0aGlzLnJlYWRMZW5ndGhzKGJ1ZmZlciwgdGhpcy5tYWludHJlZV9sZW4sIDAsIDI1Nik7CgkJCQkJCQl0aGlzLnJlYWRMZW5ndGhzKGJ1ZmZlciwgdGhpcy5tYWludHJlZV9sZW4sIDI1NiwgdGhpcy5tYWluX2VsZW1lbnRzKTsKCQkJCQkJCXRoaXMubWFpbnRyZWVfdGFibGUgPSB0aGlzLmRlY29kZVRhYmxlKE1BSU5UUkVFX01BWFNZTUJPTFMsIE1BSU5UUkVFX1RBQkxFQklUUywgdGhpcy5tYWludHJlZV9sZW4pOwoJCQkJCQkJdGhpcy5yZWFkTGVuZ3RocyhidWZmZXIsIHRoaXMubGVuZ3RoX2xlbiwgMCwgTlVNX1NFQ09OREFSWV9MRU5HVEhTKTsKCQkJCQkJCXRoaXMubGVuZ3RoX3RhYmxlID0gdGhpcy5kZWNvZGVUYWJsZShMRU5HVEhfTUFYU1lNQk9MUywgTEVOR1RIX1RBQkxFQklUUywgdGhpcy5sZW5ndGhfbGVuKTsKCQkJCQkJCWJyZWFrOwoKCQkJCQkJY2FzZSBCTE9DS1RZUEUuVU5DT01QUkVTU0VEOgoJCQkJCQkJYnVmZmVyLmFsaWduKCk7CgkJCQkJCQl0aGlzLlIwID0gYnVmZmVyLnJlYWRJbnQzMigpOwoJCQkJCQkJdGhpcy5SMSA9IGJ1ZmZlci5yZWFkSW50MzIoKTsKCQkJCQkJCXRoaXMuUjIgPSBidWZmZXIucmVhZEludDMyKCk7CgkJCQkJCQlicmVhazsKCgkJCQkJCWRlZmF1bHQ6CgkJCQkJCQl0aHJvdyBuZXcgWG5iRXJyb3IoIkludmFsaWQgQmxvY2t0eXBlIEZvdW5kOiAiLmNvbmNhdCh0aGlzLmJsb2NrX3R5cGUpKTsKCQkJCQl9CgkJCQl9CgoJCQkJbGV0IHRoaXNfcnVuID0gdGhpcy5ibG9ja19yZW1haW5pbmc7CgoJCQkJd2hpbGUgKCh0aGlzX3J1biA9IHRoaXMuYmxvY2tfcmVtYWluaW5nKSA+IDAgJiYgdG9nbyA+IDApIHsKCQkJCQlpZiAodGhpc19ydW4gPiB0b2dvKSB0aGlzX3J1biA9IHRvZ287CgkJCQkJdG9nbyAtPSB0aGlzX3J1bjsKCQkJCQl0aGlzLmJsb2NrX3JlbWFpbmluZyAtPSB0aGlzX3J1bjsKCQkJCQl0aGlzLndpbmRvd19wb3NuICY9IHRoaXMud2luZG93X3NpemUgLSAxOwoJCQkJCWlmICh0aGlzLndpbmRvd19wb3NuICsgdGhpc19ydW4gPiB0aGlzLndpbmRvd19zaXplKSB0aHJvdyBuZXcgWG5iRXJyb3IoJ0Nhbm5vdCBydW4gb3V0c2lkZSBvZiB3aW5kb3cgZnJhbWUuJyk7CgoJCQkJCXN3aXRjaCAodGhpcy5ibG9ja190eXBlKSB7CgkJCQkJCWNhc2UgQkxPQ0tUWVBFLkFMSUdORUQ6CgkJCQkJCQl3aGlsZSAodGhpc19ydW4gPiAwKSB7CgkJCQkJCQkJbGV0IG1haW5fZWxlbWVudCA9IHRoaXMucmVhZEh1ZmZTeW1ib2woYnVmZmVyLCB0aGlzLm1haW50cmVlX3RhYmxlLCB0aGlzLm1haW50cmVlX2xlbiwgTUFJTlRSRUVfTUFYU1lNQk9MUywgTUFJTlRSRUVfVEFCTEVCSVRTKTsKCgkJCQkJCQkJaWYgKG1haW5fZWxlbWVudCA8IE5VTV9DSEFSUykgewoJCQkJCQkJCQl0aGlzLndpblt0aGlzLndpbmRvd19wb3NuKytdID0gbWFpbl9lbGVtZW50OwoJCQkJCQkJCQl0aGlzX3J1bi0tOwoJCQkJCQkJCQljb250aW51ZTsKCQkJCQkJCQl9CgoJCQkJCQkJCW1haW5fZWxlbWVudCAtPSBOVU1fQ0hBUlM7CgkJCQkJCQkJbGV0IGxlbmd0aF9mb290ZXI7CgkJCQkJCQkJbGV0IG1hdGNoX2xlbmd0aCA9IG1haW5fZWxlbWVudCAmIE5VTV9QUklNQVJZX0xFTkdUSFM7CgoJCQkJCQkJCWlmIChtYXRjaF9sZW5ndGggPT0gTlVNX1BSSU1BUllfTEVOR1RIUykgewoJCQkJCQkJCQlsZW5ndGhfZm9vdGVyID0gdGhpcy5yZWFkSHVmZlN5bWJvbChidWZmZXIsIHRoaXMubGVuZ3RoX3RhYmxlLCB0aGlzLmxlbmd0aF9sZW4sIExFTkdUSF9NQVhTWU1CT0xTLCBMRU5HVEhfVEFCTEVCSVRTKTsKCQkJCQkJCQkJbWF0Y2hfbGVuZ3RoICs9IGxlbmd0aF9mb290ZXI7CgkJCQkJCQkJfQoKCQkJCQkJCQltYXRjaF9sZW5ndGggKz0gTUlOX01BVENIOwoJCQkJCQkJCWxldCBtYXRjaF9vZmZzZXQgPSBtYWluX2VsZW1lbnQgPj4gMzsKCgkJCQkJCQkJaWYgKG1hdGNoX29mZnNldCA+IDIpIHsKCQkJCQkJCQkJbGV0IGV4dHJhID0gTHp4LmV4dHJhX2JpdHNbbWF0Y2hfb2Zmc2V0XTsKCQkJCQkJCQkJbWF0Y2hfb2Zmc2V0ID0gTHp4LnBvc2l0aW9uX2Jhc2VbbWF0Y2hfb2Zmc2V0XSAtIDI7CgoJCQkJCQkJCQlpZiAoZXh0cmEgPiAzKSB7CgkJCQkJCQkJCQlleHRyYSAtPSAzOwoJCQkJCQkJCQkJbGV0IHZlcmJhdGltX2JpdHMgPSBidWZmZXIucmVhZExaWEJpdHMoZXh0cmEpOwoJCQkJCQkJCQkJbWF0Y2hfb2Zmc2V0ICs9IHZlcmJhdGltX2JpdHMgPDwgMzsKCQkJCQkJCQkJCWxldCBhbGlnbmVkX2JpdHMgPSB0aGlzLnJlYWRIdWZmU3ltYm9sKGJ1ZmZlciwgdGhpcy5hbGlnbmVkX3RhYmxlLCB0aGlzLmFsaWduZWRfbGVuLCBBTElHTkVEX01BWFNZTUJPTFMsIEFMSUdORURfVEFCTEVCSVRTKTsKCQkJCQkJCQkJCW1hdGNoX29mZnNldCArPSBhbGlnbmVkX2JpdHM7CgkJCQkJCQkJCX0gZWxzZSBpZiAoZXh0cmEgPT0gMykgewoJCQkJCQkJCQkJbWF0Y2hfb2Zmc2V0ICs9IHRoaXMucmVhZEh1ZmZTeW1ib2woYnVmZmVyLCB0aGlzLmFsaWduZWRfdGFibGUsIHRoaXMuYWxpZ25lZF9sZW4sIEFMSUdORURfTUFYU1lNQk9MUywgQUxJR05FRF9UQUJMRUJJVFMpOwoJCQkJCQkJCQl9IGVsc2UgaWYgKGV4dHJhID4gMCkgbWF0Y2hfb2Zmc2V0ICs9IGJ1ZmZlci5yZWFkTFpYQml0cyhleHRyYSk7ZWxzZSBtYXRjaF9vZmZzZXQgPSAxOwoKCQkJCQkJCQkJdGhpcy5SMiA9IHRoaXMuUjE7CgkJCQkJCQkJCXRoaXMuUjEgPSB0aGlzLlIwOwoJCQkJCQkJCQl0aGlzLlIwID0gbWF0Y2hfb2Zmc2V0OwoJCQkJCQkJCX0gZWxzZSBpZiAobWF0Y2hfb2Zmc2V0ID09PSAwKSB7CgkJCQkJCQkJCW1hdGNoX29mZnNldCA9IHRoaXMuUjA7CgkJCQkJCQkJfSBlbHNlIGlmIChtYXRjaF9vZmZzZXQgPT0gMSkgewoJCQkJCQkJCQltYXRjaF9vZmZzZXQgPSB0aGlzLlIxOwoJCQkJCQkJCQl0aGlzLlIxID0gdGhpcy5SMDsKCQkJCQkJCQkJdGhpcy5SMCA9IG1hdGNoX29mZnNldDsKCQkJCQkJCQl9IGVsc2UgewoJCQkJCQkJCQltYXRjaF9vZmZzZXQgPSB0aGlzLlIyOwoJCQkJCQkJCQl0aGlzLlIyID0gdGhpcy5SMDsKCQkJCQkJCQkJdGhpcy5SMCA9IG1hdGNoX29mZnNldDsKCQkJCQkJCQl9CgoJCQkJCQkJCWxldCBydW5kZXN0ID0gdGhpcy53aW5kb3dfcG9zbjsKCQkJCQkJCQlsZXQgcnVuc3JjOwoJCQkJCQkJCXRoaXNfcnVuIC09IG1hdGNoX2xlbmd0aDsKCQkJCQkJCQlpZiAodGhpcy53aW5kb3dfcG9zbiA+PSBtYXRjaF9vZmZzZXQpIHJ1bnNyYyA9IHJ1bmRlc3QgLSBtYXRjaF9vZmZzZXQ7ZWxzZSB7CgkJCQkJCQkJCXJ1bnNyYyA9IHJ1bmRlc3QgKyAodGhpcy53aW5kb3dfc2l6ZSAtIG1hdGNoX29mZnNldCk7CgkJCQkJCQkJCWxldCBjb3B5X2xlbmd0aCA9IG1hdGNoX29mZnNldCAtIHRoaXMud2luZG93X3Bvc247CgoJCQkJCQkJCQlpZiAoY29weV9sZW5ndGggPCBtYXRjaF9sZW5ndGgpIHsKCQkJCQkJCQkJCW1hdGNoX2xlbmd0aCAtPSBjb3B5X2xlbmd0aDsKCQkJCQkJCQkJCXRoaXMud2luZG93X3Bvc24gKz0gY29weV9sZW5ndGg7CgoJCQkJCQkJCQkJd2hpbGUgKGNvcHlfbGVuZ3RoLS0gPiAwKSB0aGlzLndpbltydW5kZXN0KytdID0gdGhpcy53aW5bcnVuc3JjKytdOwoKCQkJCQkJCQkJCXJ1bnNyYyA9IDA7CgkJCQkJCQkJCX0KCQkJCQkJCQl9CgkJCQkJCQkJdGhpcy53aW5kb3dfcG9zbiArPSBtYXRjaF9sZW5ndGg7CgoJCQkJCQkJCXdoaWxlIChtYXRjaF9sZW5ndGgtLSA+IDApIHRoaXMud2luW3J1bmRlc3QrK10gPSB0aGlzLndpbltydW5zcmMrK107CgkJCQkJCQl9CgoJCQkJCQkJYnJlYWs7CgoJCQkJCQljYXNlIEJMT0NLVFlQRS5WRVJCQVRJTToKCQkJCQkJCXdoaWxlICh0aGlzX3J1biA+IDApIHsKCQkJCQkJCQlsZXQgbWFpbl9lbGVtZW50ID0gdGhpcy5yZWFkSHVmZlN5bWJvbChidWZmZXIsIHRoaXMubWFpbnRyZWVfdGFibGUsIHRoaXMubWFpbnRyZWVfbGVuLCBNQUlOVFJFRV9NQVhTWU1CT0xTLCBNQUlOVFJFRV9UQUJMRUJJVFMpOwoKCQkJCQkJCQlpZiAobWFpbl9lbGVtZW50IDwgTlVNX0NIQVJTKSB7CgkJCQkJCQkJCXRoaXMud2luW3RoaXMud2luZG93X3Bvc24rK10gPSBtYWluX2VsZW1lbnQ7CgkJCQkJCQkJCXRoaXNfcnVuLS07CgkJCQkJCQkJCWNvbnRpbnVlOwoJCQkJCQkJCX0KCgkJCQkJCQkJbWFpbl9lbGVtZW50IC09IE5VTV9DSEFSUzsKCQkJCQkJCQlsZXQgbGVuZ3RoX2Zvb3RlcjsKCQkJCQkJCQlsZXQgbWF0Y2hfbGVuZ3RoID0gbWFpbl9lbGVtZW50ICYgTlVNX1BSSU1BUllfTEVOR1RIUzsKCgkJCQkJCQkJaWYgKG1hdGNoX2xlbmd0aCA9PSBOVU1fUFJJTUFSWV9MRU5HVEhTKSB7CgkJCQkJCQkJCWxlbmd0aF9mb290ZXIgPSB0aGlzLnJlYWRIdWZmU3ltYm9sKGJ1ZmZlciwgdGhpcy5sZW5ndGhfdGFibGUsIHRoaXMubGVuZ3RoX2xlbiwgTEVOR1RIX01BWFNZTUJPTFMsIExFTkdUSF9UQUJMRUJJVFMpOwoJCQkJCQkJCQltYXRjaF9sZW5ndGggKz0gbGVuZ3RoX2Zvb3RlcjsKCQkJCQkJCQl9CgoJCQkJCQkJCW1hdGNoX2xlbmd0aCArPSBNSU5fTUFUQ0g7CgkJCQkJCQkJbGV0IG1hdGNoX29mZnNldCA9IG1haW5fZWxlbWVudCA+PiAzOwoKCQkJCQkJCQlpZiAobWF0Y2hfb2Zmc2V0ID4gMikgewoJCQkJCQkJCQlpZiAobWF0Y2hfb2Zmc2V0ICE9IDMpIHsKCQkJCQkJCQkJCWxldCBleHRyYSA9IEx6eC5leHRyYV9iaXRzW21hdGNoX29mZnNldF07CgkJCQkJCQkJCQlsZXQgdmVyYmF0aW1fYml0cyA9IGJ1ZmZlci5yZWFkTFpYQml0cyhleHRyYSk7CgkJCQkJCQkJCQltYXRjaF9vZmZzZXQgPSBMengucG9zaXRpb25fYmFzZVttYXRjaF9vZmZzZXRdIC0gMiArIHZlcmJhdGltX2JpdHM7CgkJCQkJCQkJCX0gZWxzZSBtYXRjaF9vZmZzZXQgPSAxOwoKCQkJCQkJCQkJdGhpcy5SMiA9IHRoaXMuUjE7CgkJCQkJCQkJCXRoaXMuUjEgPSB0aGlzLlIwOwoJCQkJCQkJCQl0aGlzLlIwID0gbWF0Y2hfb2Zmc2V0OwoJCQkJCQkJCX0gZWxzZSBpZiAobWF0Y2hfb2Zmc2V0ID09PSAwKSB7CgkJCQkJCQkJCW1hdGNoX29mZnNldCA9IHRoaXMuUjA7CgkJCQkJCQkJfSBlbHNlIGlmIChtYXRjaF9vZmZzZXQgPT0gMSkgewoJCQkJCQkJCQltYXRjaF9vZmZzZXQgPSB0aGlzLlIxOwoJCQkJCQkJCQl0aGlzLlIxID0gdGhpcy5SMDsKCQkJCQkJCQkJdGhpcy5SMCA9IG1hdGNoX29mZnNldDsKCQkJCQkJCQl9IGVsc2UgewoJCQkJCQkJCQltYXRjaF9vZmZzZXQgPSB0aGlzLlIyOwoJCQkJCQkJCQl0aGlzLlIyID0gdGhpcy5SMDsKCQkJCQkJCQkJdGhpcy5SMCA9IG1hdGNoX29mZnNldDsKCQkJCQkJCQl9CgoJCQkJCQkJCWxldCBydW5kZXN0ID0gdGhpcy53aW5kb3dfcG9zbjsKCQkJCQkJCQlsZXQgcnVuc3JjOwoJCQkJCQkJCXRoaXNfcnVuIC09IG1hdGNoX2xlbmd0aDsKCQkJCQkJCQlpZiAodGhpcy53aW5kb3dfcG9zbiA+PSBtYXRjaF9vZmZzZXQpIHJ1bnNyYyA9IHJ1bmRlc3QgLSBtYXRjaF9vZmZzZXQ7ZWxzZSB7CgkJCQkJCQkJCXJ1bnNyYyA9IHJ1bmRlc3QgKyAodGhpcy53aW5kb3dfc2l6ZSAtIG1hdGNoX29mZnNldCk7CgkJCQkJCQkJCWxldCBjb3B5X2xlbmd0aCA9IG1hdGNoX29mZnNldCAtIHRoaXMud2luZG93X3Bvc247CgoJCQkJCQkJCQlpZiAoY29weV9sZW5ndGggPCBtYXRjaF9sZW5ndGgpIHsKCQkJCQkJCQkJCW1hdGNoX2xlbmd0aCAtPSBjb3B5X2xlbmd0aDsKCQkJCQkJCQkJCXRoaXMud2luZG93X3Bvc24gKz0gY29weV9sZW5ndGg7CgoJCQkJCQkJCQkJd2hpbGUgKGNvcHlfbGVuZ3RoLS0gPiAwKSB0aGlzLndpbltydW5kZXN0KytdID0gdGhpcy53aW5bcnVuc3JjKytdOwoKCQkJCQkJCQkJCXJ1bnNyYyA9IDA7CgkJCQkJCQkJCX0KCQkJCQkJCQl9CgkJCQkJCQkJdGhpcy53aW5kb3dfcG9zbiArPSBtYXRjaF9sZW5ndGg7CgoJCQkJCQkJCXdoaWxlIChtYXRjaF9sZW5ndGgtLSA+IDApIHRoaXMud2luW3J1bmRlc3QrK10gPSB0aGlzLndpbltydW5zcmMrK107CgkJCQkJCQl9CgoJCQkJCQkJYnJlYWs7CgoJCQkJCQljYXNlIEJMT0NLVFlQRS5VTkNPTVBSRVNTRUQ6CgkJCQkJCQlpZiAoYnVmZmVyLmJ5dGVQb3NpdGlvbiArIHRoaXNfcnVuID4gYmxvY2tfc2l6ZSkgdGhyb3cgbmV3IFhuYkVycm9yKCdPdmVycnVuIScgKyBibG9ja19zaXplICsgJyAnICsgYnVmZmVyLmJ5dGVQb3NpdGlvbiArICcgJyArIHRoaXNfcnVuKTsKCgkJCQkJCQlmb3IgKGxldCBpID0gMDsgaSA8IHRoaXNfcnVuOyBpKyspIHRoaXMud2luW3dpbmRvd19wb3NuICsgaV0gPSBidWZmZXIuYnVmZmVyW2J1ZmZlci5ieXRlUG9zaXRpb24gKyBpXTsKCgkJCQkJCQlidWZmZXIuYnl0ZVBvc2l0aW9uICs9IHRoaXNfcnVuOwoJCQkJCQkJdGhpcy53aW5kb3dfcG9zbiArPSB0aGlzX3J1bjsKCQkJCQkJCWJyZWFrOwoKCQkJCQkJZGVmYXVsdDoKCQkJCQkJCXRocm93IG5ldyBYbmJFcnJvcignSW52YWxpZCBibG9ja3R5cGUgc3BlY2lmaWVkIScpOwoJCQkJCX0KCQkJCX0KCQkJfQoKCQkJaWYgKHRvZ28gIT0gMCkgdGhyb3cgbmV3IFhuYkVycm9yKCdFT0YgcmVhY2hlZCB3aXRoIGRhdGEgbGVmdCB0byBnby4nKTsKCQkJYnVmZmVyLmFsaWduKCk7CgkJCWNvbnN0IHN0YXJ0X3dpbmRvd19wb3MgPSAodGhpcy53aW5kb3dfcG9zbiA9PSAwID8gdGhpcy53aW5kb3dfc2l6ZSA6IHRoaXMud2luZG93X3Bvc24pIC0gZnJhbWVfc2l6ZTsKCQkJcmV0dXJuIHRoaXMud2luLnNsaWNlKHN0YXJ0X3dpbmRvd19wb3MsIHN0YXJ0X3dpbmRvd19wb3MgKyBmcmFtZV9zaXplKTsKCQl9CgoJCXJlYWRMZW5ndGhzKGJ1ZmZlciwgdGFibGUsIGZpcnN0LCBsYXN0KSB7CgkJCWZvciAobGV0IGkgPSAwOyBpIDwgMjA7IGkrKykgdGhpcy5wcmV0cmVlX2xlbltpXSA9IGJ1ZmZlci5yZWFkTFpYQml0cyg0KTsKCgkJCXRoaXMucHJldHJlZV90YWJsZSA9IHRoaXMuZGVjb2RlVGFibGUoUFJFVFJFRV9NQVhTWU1CT0xTLCBQUkVUUkVFX1RBQkxFQklUUywgdGhpcy5wcmV0cmVlX2xlbik7CgoJCQlmb3IgKGxldCBpID0gZmlyc3Q7IGkgPCBsYXN0OykgewoJCQkJbGV0IHN5bWJvbCA9IHRoaXMucmVhZEh1ZmZTeW1ib2woYnVmZmVyLCB0aGlzLnByZXRyZWVfdGFibGUsIHRoaXMucHJldHJlZV9sZW4sIFBSRVRSRUVfTUFYU1lNQk9MUywgUFJFVFJFRV9UQUJMRUJJVFMpOwoKCQkJCWlmIChzeW1ib2wgPT0gMTcpIHsKCQkJCQlsZXQgemVyb3MgPSBidWZmZXIucmVhZExaWEJpdHMoNCkgKyA0OwoKCQkJCQl3aGlsZSAoemVyb3MtLSAhPSAwKSB0YWJsZVtpKytdID0gMDsKCQkJCX0gZWxzZSBpZiAoc3ltYm9sID09IDE4KSB7CgkJCQkJbGV0IHplcm9zID0gYnVmZmVyLnJlYWRMWlhCaXRzKDUpICsgMjA7CgoJCQkJCXdoaWxlICh6ZXJvcy0tICE9IDApIHRhYmxlW2krK10gPSAwOwoJCQkJfSBlbHNlIGlmIChzeW1ib2wgPT0gMTkpIHsKCQkJCQlsZXQgc2FtZSA9IGJ1ZmZlci5yZWFkTFpYQml0cygxKSArIDQ7CgkJCQkJc3ltYm9sID0gdGhpcy5yZWFkSHVmZlN5bWJvbChidWZmZXIsIHRoaXMucHJldHJlZV90YWJsZSwgdGhpcy5wcmV0cmVlX2xlbiwgUFJFVFJFRV9NQVhTWU1CT0xTLCBQUkVUUkVFX1RBQkxFQklUUyk7CgkJCQkJc3ltYm9sID0gdGFibGVbaV0gLSBzeW1ib2w7CgkJCQkJaWYgKHN5bWJvbCA8IDApIHN5bWJvbCArPSAxNzsKCgkJCQkJd2hpbGUgKHNhbWUtLSAhPSAwKSB0YWJsZVtpKytdID0gc3ltYm9sOwoJCQkJfSBlbHNlIHsKCQkJCQlzeW1ib2wgPSB0YWJsZVtpXSAtIHN5bWJvbDsKCQkJCQlpZiAoc3ltYm9sIDwgMCkgc3ltYm9sICs9IDE3OwoJCQkJCXRhYmxlW2krK10gPSBzeW1ib2w7CgkJCQl9CgkJCX0KCgkJCXJldHVybiB0YWJsZTsKCQl9CgoJCWRlY29kZVRhYmxlKHN5bWJvbHMsIGJpdHMsIGxlbmd0aCkgewoJCQlsZXQgdGFibGUgPSBbXTsKCQkJbGV0IHBvcyA9IDA7CgkJCWxldCB0YWJsZV9tYXNrID0gMSA8PCBiaXRzOwoJCQlsZXQgYml0X21hc2sgPSB0YWJsZV9tYXNrID4+IDE7CgoJCQlmb3IgKGxldCBiaXRfbnVtID0gMTsgYml0X251bSA8PSBiaXRzOyBiaXRfbnVtKyspIHsKCQkJCWZvciAobGV0IHN5bWJvbCA9IDA7IHN5bWJvbCA8IHN5bWJvbHM7IHN5bWJvbCsrKSB7CgkJCQkJaWYgKGxlbmd0aFtzeW1ib2xdID09IGJpdF9udW0pIHsKCQkJCQkJbGV0IGxlYWYgPSBwb3M7CgoJCQkJCQlpZiAoKHBvcyArPSBiaXRfbWFzaykgPiB0YWJsZV9tYXNrKSB7CgkJCQkJCQl0aHJvdyBuZXcgWG5iRXJyb3IoJ092ZXJydW4gdGFibGUhJyk7CgkJCQkJCX0KCgkJCQkJCWxldCBmaWxsID0gYml0X21hc2s7CgoJCQkJCQl3aGlsZSAoZmlsbC0tID4gMCkgdGFibGVbbGVhZisrXSA9IHN5bWJvbDsKCQkJCQl9CgkJCQl9CgoJCQkJYml0X21hc2sgPj49IDE7CgkJCX0KCgkJCWlmIChwb3MgPT0gdGFibGVfbWFzaykgcmV0dXJuIHRhYmxlOwoKCQkJZm9yIChsZXQgc3ltYm9sID0gcG9zOyBzeW1ib2wgPCB0YWJsZV9tYXNrOyBzeW1ib2wrKykgdGFibGVbc3ltYm9sXSA9IDB4RkZGRjsKCgkJCWxldCBuZXh0X3N5bWJvbCA9IHRhYmxlX21hc2sgPj4gMSA8IHN5bWJvbHMgPyBzeW1ib2xzIDogdGFibGVfbWFzayA+PiAxOwoJCQlwb3MgPDw9IDE2OwoJCQl0YWJsZV9tYXNrIDw8PSAxNjsKCQkJYml0X21hc2sgPSAxIDw8IDE1OwoKCQkJZm9yIChsZXQgYml0X251bSA9IGJpdHMgKyAxOyBiaXRfbnVtIDw9IDE2OyBiaXRfbnVtKyspIHsKCQkJCWZvciAobGV0IHN5bWJvbCA9IDA7IHN5bWJvbCA8IHN5bWJvbHM7IHN5bWJvbCsrKSB7CgkJCQkJaWYgKGxlbmd0aFtzeW1ib2xdICE9IGJpdF9udW0pIGNvbnRpbnVlOwoJCQkJCWxldCBsZWFmID0gcG9zID4+IDE2OwoKCQkJCQlmb3IgKGxldCBmaWxsID0gMDsgZmlsbCA8IGJpdF9udW0gLSBiaXRzOyBmaWxsKyspIHsKCQkJCQkJaWYgKHRhYmxlW2xlYWZdID09IDB4RkZGRikgewoJCQkJCQkJdGFibGVbbmV4dF9zeW1ib2wgPDwgMV0gPSAweEZGRkY7CgkJCQkJCQl0YWJsZVsobmV4dF9zeW1ib2wgPDwgMSkgKyAxXSA9IDB4RkZGRjsKCQkJCQkJCXRhYmxlW2xlYWZdID0gbmV4dF9zeW1ib2wrKzsKCQkJCQkJfQoKCQkJCQkJbGVhZiA9IHRhYmxlW2xlYWZdIDw8IDE7CgkJCQkJCWlmIChwb3MgPj4gMTUgLSBmaWxsICYgMSkgbGVhZisrOwoJCQkJCX0KCgkJCQkJdGFibGVbbGVhZl0gPSBzeW1ib2w7CgkJCQkJaWYgKChwb3MgKz0gYml0X21hc2spID4gdGFibGVfbWFzaykgdGhyb3cgbmV3IFhuYkVycm9yKCdPdmVycnVuIHRhYmxlIGR1cmluZyBkZWNvZGluZy4nKTsKCQkJCX0KCgkJCQliaXRfbWFzayA+Pj0gMTsKCQkJfQoKCQkJaWYgKHBvcyA9PSB0YWJsZV9tYXNrKSByZXR1cm4gdGFibGU7CgkJCXRocm93IG5ldyBYbmJFcnJvcignRGVjb2RlIHRhYmxlIGRpZCBub3QgcmVhY2ggdGFibGUgbWFzay4nKTsKCQl9CgoJCXJlYWRIdWZmU3ltYm9sKGJ1ZmZlciwgdGFibGUsIGxlbmd0aCwgc3ltYm9scywgYml0cykgewoJCQlsZXQgYml0ID0gYnVmZmVyLnBlZWtMWlhCaXRzKDMyKSA+Pj4gMDsKCQkJbGV0IGkgPSB0YWJsZVtidWZmZXIucGVla0xaWEJpdHMoYml0cyldOwoKCQkJaWYgKGkgPj0gc3ltYm9scykgewoJCQkJbGV0IGogPSAxIDw8IDMyIC0gYml0czsKCgkJCQlkbyB7CgkJCQkJaiA+Pj0gMTsKCQkJCQlpIDw8PSAxOwoJCQkJCWkgfD0gKGJpdCAmIGopICE9IDAgPyAxIDogMDsKCQkJCQlpZiAoaiA9PSAwKSByZXR1cm4gMDsKCQkJCX0gd2hpbGUgKChpID0gdGFibGVbaV0pID49IHN5bWJvbHMpOwoJCQl9CgoJCQlidWZmZXIuYml0UG9zaXRpb24gKz0gbGVuZ3RoW2ldOwoJCQlyZXR1cm4gaTsKCQl9CgoJCXNldCBSUlIoWCkgewoJCQlpZiAodGhpcy5SMCAhPSBYICYmIHRoaXMuUjEgIT0gWCAmJiB0aGlzLlIyICE9IFgpIHsKCQkJCXRoaXMuUjIgPSB0aGlzLlIxOwoJCQkJdGhpcy5SMSA9IHRoaXMuUjA7CgkJCQl0aGlzLlIwID0gWDsKCQkJfSBlbHNlIGlmICh0aGlzLlIxID09IFgpIHsKCQkJCWxldCBSMSA9IHRoaXMuUjE7CgkJCQl0aGlzLlIxID0gdGhpcy5SMDsKCQkJCXRoaXMuUjAgPSBSMTsKCQkJfSBlbHNlIGlmICh0aGlzLlIyID09IFgpIHsKCQkJCWxldCBSMiA9IHRoaXMuUjI7CgkJCQl0aGlzLlIyID0gdGhpcy5SMDsKCQkJCXRoaXMuUjAgPSBSMjsKCQkJfQoJCX0KCgl9CgoJTHp4LnBvc2l0aW9uX2Jhc2UgPSBbXTsKCUx6eC5leHRyYV9iaXRzID0gW107CgoJY2xhc3MgUHJlc3NlciB7CgkJc3RhdGljIGRlY29tcHJlc3MoYnVmZmVyLCBjb21wcmVzc2VkVG9kbywgZGVjb21wcmVzc2VkVG9kbykgewoJCQlsZXQgcG9zID0gMDsKCQkJbGV0IGJsb2NrX3NpemU7CgkJCWxldCBmcmFtZV9zaXplOwoJCQljb25zdCBsenggPSBuZXcgTHp4KDE2KTsKCQkJbGV0IGRlY29tcHJlc3NlZCA9IG5ldyBCdWZmZXJXcml0ZXIoZGVjb21wcmVzc2VkVG9kbyk7CgoJCQl3aGlsZSAocG9zIDwgY29tcHJlc3NlZFRvZG8pIHsKCQkJCWNvbnN0IGZsYWcgPSBidWZmZXIucmVhZEJ5dGUoKTsKCgkJCQlpZiAoZmxhZyA9PSAweEZGKSB7CgkJCQkJZnJhbWVfc2l6ZSA9IGJ1ZmZlci5yZWFkTFpYSW50MTYoKTsKCQkJCQlibG9ja19zaXplID0gYnVmZmVyLnJlYWRMWlhJbnQxNigpOwoJCQkJCXBvcyArPSA1OwoJCQkJfSBlbHNlIHsKCQkJCQlidWZmZXIuc2VlaygtMSk7CgkJCQkJYmxvY2tfc2l6ZSA9IGJ1ZmZlci5yZWFkTFpYSW50MTYodGhpcy5idWZmZXIpOwoJCQkJCWZyYW1lX3NpemUgPSAweDgwMDA7CgkJCQkJcG9zICs9IDI7CgkJCQl9CgoJCQkJaWYgKGJsb2NrX3NpemUgPT0gMCB8fCBmcmFtZV9zaXplID09IDApIGJyZWFrOwoJCQkJaWYgKGJsb2NrX3NpemUgPiAweDEwMDAwIHx8IGZyYW1lX3NpemUgPiAweDEwMDAwKSB0aHJvdyBuZXcgWG5iRXJyb3IoJ0ludmFsaWQgc2l6ZSByZWFkIGluIGNvbXByZXNzaW9uIGNvbnRlbnQuJyk7CgkJCQlkZWNvbXByZXNzZWQud3JpdGUobHp4LmRlY29tcHJlc3MoYnVmZmVyLCBmcmFtZV9zaXplLCBibG9ja19zaXplKSk7CgkJCQlwb3MgKz0gYmxvY2tfc2l6ZTsKCQkJfQoKCQkJY29uc29sZS5sb2coJ0ZpbGUgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGRlY29tcHJlc3NlZCEnKTsKCQkJZGVjb21wcmVzc2VkLnRyaW0oKTsKCQkJcmV0dXJuIGRlY29tcHJlc3NlZC5idWZmZXI7CgkJfQoKCX0KCgljbGFzcyBMWjRVdGlscyB7CgkJc3RhdGljIGhhc2hVMzIoYSkgewoJCQlhID0gYSB8IDA7CgkJCWEgPSBhICsgMjEyNzkxMjIxNCArIChhIDw8IDEyKSB8IDA7CgkJCWEgPSBhIF4gLTk0OTg5NDU5NiBeIGEgPj4+IDE5OwoJCQlhID0gYSArIDM3NDc2MTM5MyArIChhIDw8IDUpIHwgMDsKCQkJYSA9IGEgKyAtNzQ0MzMyMTgwIF4gYSA8PCA5OwoJCQlhID0gYSArIC00Mjk3MzQ5OSArIChhIDw8IDMpIHwgMDsKCQkJcmV0dXJuIGEgXiAtMTI1MjM3MjcyNyBeIGEgPj4+IDE2IHwgMDsKCQl9CgoJCXN0YXRpYyByZWFkVTY0KGIsIG4pIHsKCQkJdmFyIHggPSAwOwoJCQl4IHw9IGJbbisrXSA8PCAwOwoJCQl4IHw9IGJbbisrXSA8PCA4OwoJCQl4IHw9IGJbbisrXSA8PCAxNjsKCQkJeCB8PSBiW24rK10gPDwgMjQ7CgkJCXggfD0gYltuKytdIDw8IDMyOwoJCQl4IHw9IGJbbisrXSA8PCA0MDsKCQkJeCB8PSBiW24rK10gPDwgNDg7CgkJCXggfD0gYltuKytdIDw8IDU2OwoJCQlyZXR1cm4geDsKCQl9CgoJCXN0YXRpYyByZWFkVTMyKGIsIG4pIHsKCQkJdmFyIHggPSAwOwoJCQl4IHw9IGJbbisrXSA8PCAwOwoJCQl4IHw9IGJbbisrXSA8PCA4OwoJCQl4IHw9IGJbbisrXSA8PCAxNjsKCQkJeCB8PSBiW24rK10gPDwgMjQ7CgkJCXJldHVybiB4OwoJCX0KCgkJc3RhdGljIHdyaXRlVTMyKGIsIG4sIHgpIHsKCQkJYltuKytdID0geCA+PiAwICYgMHhmZjsKCQkJYltuKytdID0geCA+PiA4ICYgMHhmZjsKCQkJYltuKytdID0geCA+PiAxNiAmIDB4ZmY7CgkJCWJbbisrXSA9IHggPj4gMjQgJiAweGZmOwoJCX0KCgkJc3RhdGljIGltdWwoYSwgYikgewoJCQl2YXIgYWggPSBhID4+PiAxNjsKCQkJdmFyIGFsID0gYSAmIDY1NTM1OwoJCQl2YXIgYmggPSBiID4+PiAxNjsKCQkJdmFyIGJsID0gYiAmIDY1NTM1OwoJCQlyZXR1cm4gYWwgKiBibCArIChhaCAqIGJsICsgYWwgKiBiaCA8PCAxNikgfCAwOwoJCX0KCgl9CgoJLyoqIEBsaWNlbnNlCgkgKiBPcmlnaW5hbCBDb2RlIGJ5OiBodHRwczovL2dpdGh1Yi5jb20vQmVuemluZ2EvbHo0anMvCgkgKi8KCWNvbnN0IG1pbk1hdGNoID0gNDsKCWNvbnN0IG1pbkxlbmd0aCA9IDEzOwoJY29uc3Qgc2VhcmNoTGltaXQgPSA1OwoJY29uc3Qgc2tpcFRyaWdnZXIgPSA2OwoJY29uc3QgaGFzaFNpemUgPSAxIDw8IDE2OwoJY29uc3QgbWxCaXRzID0gNDsKCWNvbnN0IG1sTWFzayA9ICgxIDw8IG1sQml0cykgLSAxOwoJY29uc3QgcnVuQml0cyA9IDQ7Cgljb25zdCBydW5NYXNrID0gKDEgPDwgcnVuQml0cykgLSAxOwoJbWFrZUJ1ZmZlcig1IDw8IDIwKTsKCWNvbnN0IGhhc2hUYWJsZSA9IG1ha2VIYXNoVGFibGUoKTsKCglmdW5jdGlvbiBtYWtlSGFzaFRhYmxlKCkgewoJCXRyeSB7CgkJCXJldHVybiBuZXcgVWludDMyQXJyYXkoaGFzaFNpemUpOwoJCX0gY2F0Y2ggKGVycm9yKSB7CgkJCWNvbnN0IGhhc2hUYWJsZSA9IG5ldyBBcnJheShoYXNoU2l6ZSk7CgoJCQlmb3IgKHZhciBpID0gMDsgaSA8IGhhc2hTaXplOyBpKyspIHsKCQkJCWhhc2hUYWJsZVtpXSA9IDA7CgkJCX0KCgkJCXJldHVybiBoYXNoVGFibGU7CgkJfQoJfQoKCWZ1bmN0aW9uIGNsZWFySGFzaFRhYmxlKHRhYmxlKSB7CgkJZm9yICh2YXIgaSA9IDA7IGkgPCBoYXNoU2l6ZTsgaSsrKSB7CgkJCWhhc2hUYWJsZVtpXSA9IDA7CgkJfQoJfQoKCWZ1bmN0aW9uIG1ha2VCdWZmZXIoc2l6ZSkgewoJCXRyeSB7CgkJCXJldHVybiBuZXcgVWludDhBcnJheShzaXplKTsKCQl9IGNhdGNoIChlcnJvcikgewoJCQl2YXIgYnVmID0gbmV3IEFycmF5KHNpemUpOwoKCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCQkJCWJ1ZltpXSA9IDA7CgkJCX0KCgkJCXJldHVybiBidWY7CgkJfQoJfQoKCWZ1bmN0aW9uIGNvbXByZXNzQm91bmQobikgewoJCXJldHVybiBuICsgbiAvIDI1NSArIDE2IHwgMDsKCX0KCglmdW5jdGlvbiBkZWNvbXByZXNzQmxvY2soc3JjLCBkc3QpIHsKCQlsZXQgc0luZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAwOwoJCWxldCBzTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiBzcmMubGVuZ3RoIC0gMiAqIHNJbmRleDsKCQlsZXQgZEluZGV4ID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiAwOwoJCXZhciBtTGVuZ3RoLCBtT2Zmc2V0LCBzRW5kLCBuLCBpOwoJCXZhciBoYXNDb3B5V2l0aGluID0gZHN0LmNvcHlXaXRoaW4gIT09IHVuZGVmaW5lZCAmJiBkc3QuZmlsbCAhPT0gdW5kZWZpbmVkOwoJCXNFbmQgPSBzSW5kZXggKyBzTGVuZ3RoOwoKCQl3aGlsZSAoc0luZGV4IDwgc0VuZCkgewoJCQl2YXIgdG9rZW4gPSBzcmNbc0luZGV4KytdOwoJCQl2YXIgbGl0ZXJhbENvdW50ID0gdG9rZW4gPj4gNDsKCgkJCWlmIChsaXRlcmFsQ291bnQgPiAwKSB7CgkJCQlpZiAobGl0ZXJhbENvdW50ID09PSAweGYpIHsKCQkJCQl3aGlsZSAodHJ1ZSkgewoJCQkJCQlsaXRlcmFsQ291bnQgKz0gc3JjW3NJbmRleF07CgoJCQkJCQlpZiAoc3JjW3NJbmRleCsrXSAhPT0gMHhmZikgewoJCQkJCQkJYnJlYWs7CgkJCQkJCX0KCQkJCQl9CgkJCQl9CgoJCQkJZm9yIChuID0gc0luZGV4ICsgbGl0ZXJhbENvdW50OyBzSW5kZXggPCBuOykgewoJCQkJCWRzdFtkSW5kZXgrK10gPSBzcmNbc0luZGV4KytdOwoJCQkJfQoJCQl9CgoJCQlpZiAoc0luZGV4ID49IHNFbmQpIHsKCQkJCWJyZWFrOwoJCQl9CgoJCQltTGVuZ3RoID0gdG9rZW4gJiAweGY7CgkJCW1PZmZzZXQgPSBzcmNbc0luZGV4KytdIHwgc3JjW3NJbmRleCsrXSA8PCA4OwoKCQkJaWYgKG1MZW5ndGggPT09IDB4ZikgewoJCQkJd2hpbGUgKHRydWUpIHsKCQkJCQltTGVuZ3RoICs9IHNyY1tzSW5kZXhdOwoKCQkJCQlpZiAoc3JjW3NJbmRleCsrXSAhPT0gMHhmZikgewoJCQkJCQlicmVhazsKCQkJCQl9CgkJCQl9CgkJCX0KCgkJCW1MZW5ndGggKz0gbWluTWF0Y2g7CgoJCQlpZiAoaGFzQ29weVdpdGhpbiAmJiBtT2Zmc2V0ID09PSAxKSB7CgkJCQlkc3QuZmlsbChkc3RbZEluZGV4IC0gMV0gfCAwLCBkSW5kZXgsIGRJbmRleCArIG1MZW5ndGgpOwoJCQkJZEluZGV4ICs9IG1MZW5ndGg7CgkJCX0gZWxzZSBpZiAoaGFzQ29weVdpdGhpbiAmJiBtT2Zmc2V0ID4gbUxlbmd0aCAmJiBtTGVuZ3RoID4gMzEpIHsKCQkJCWRzdC5jb3B5V2l0aGluKGRJbmRleCwgZEluZGV4IC0gbU9mZnNldCwgZEluZGV4IC0gbU9mZnNldCArIG1MZW5ndGgpOwoJCQkJZEluZGV4ICs9IG1MZW5ndGg7CgkJCX0gZWxzZSB7CgkJCQlmb3IgKGkgPSBkSW5kZXggLSBtT2Zmc2V0LCBuID0gaSArIG1MZW5ndGg7IGkgPCBuOykgewoJCQkJCWRzdFtkSW5kZXgrK10gPSBkc3RbaSsrXSB8IDA7CgkJCQl9CgkJCX0KCQl9CgoJCXJldHVybiBkSW5kZXg7Cgl9CgoJZnVuY3Rpb24gY29tcHJlc3NCbG9jayhzcmMsIGRzdCwgc0luZGV4LCBzTGVuZ3RoLCBoYXNoVGFibGUpIHsKCQl2YXIgbUluZGV4LCBtQW5jaG9yLCBtTGVuZ3RoLCBtT2Zmc2V0LCBtU3RlcDsKCQl2YXIgbGl0ZXJhbENvdW50LCBkSW5kZXgsIHNFbmQsIG47CgkJZEluZGV4ID0gMDsKCQlzRW5kID0gc0xlbmd0aCArIHNJbmRleDsKCQltQW5jaG9yID0gc0luZGV4OwoKCQlpZiAoc0xlbmd0aCA+PSBtaW5MZW5ndGgpIHsKCQkJdmFyIHNlYXJjaE1hdGNoQ291bnQgPSAoMSA8PCBza2lwVHJpZ2dlcikgKyAzOwoKCQkJd2hpbGUgKHNJbmRleCArIG1pbk1hdGNoIDwgc0VuZCAtIHNlYXJjaExpbWl0KSB7CgkJCQl2YXIgc2VxID0gTFo0VXRpbHMucmVhZFUzMihzcmMsIHNJbmRleCk7CgkJCQl2YXIgaGFzaCA9IExaNFV0aWxzLmhhc2hVMzIoc2VxKSA+Pj4gMDsKCQkJCWhhc2ggPSAoaGFzaCA+PiAxNiBeIGhhc2gpID4+PiAwICYgMHhmZmZmOwoJCQkJbUluZGV4ID0gaGFzaFRhYmxlW2hhc2hdIC0gMTsKCQkJCWhhc2hUYWJsZVtoYXNoXSA9IHNJbmRleCArIDE7CgoJCQkJaWYgKG1JbmRleCA8IDAgfHwgc0luZGV4IC0gbUluZGV4ID4+PiAxNiA+IDAgfHwgTFo0VXRpbHMucmVhZFUzMihzcmMsIG1JbmRleCkgIT09IHNlcSkgewoJCQkJCW1TdGVwID0gc2VhcmNoTWF0Y2hDb3VudCsrID4+IHNraXBUcmlnZ2VyOwoJCQkJCXNJbmRleCArPSBtU3RlcDsKCQkJCQljb250aW51ZTsKCQkJCX0KCgkJCQlzZWFyY2hNYXRjaENvdW50ID0gKDEgPDwgc2tpcFRyaWdnZXIpICsgMzsKCQkJCWxpdGVyYWxDb3VudCA9IHNJbmRleCAtIG1BbmNob3I7CgkJCQltT2Zmc2V0ID0gc0luZGV4IC0gbUluZGV4OwoJCQkJc0luZGV4ICs9IG1pbk1hdGNoOwoJCQkJbUluZGV4ICs9IG1pbk1hdGNoOwoJCQkJbUxlbmd0aCA9IHNJbmRleDsKCgkJCQl3aGlsZSAoc0luZGV4IDwgc0VuZCAtIHNlYXJjaExpbWl0ICYmIHNyY1tzSW5kZXhdID09PSBzcmNbbUluZGV4XSkgewoJCQkJCXNJbmRleCsrOwoJCQkJCW1JbmRleCsrOwoJCQkJfQoKCQkJCW1MZW5ndGggPSBzSW5kZXggLSBtTGVuZ3RoOwoJCQkJdmFyIHRva2VuID0gbUxlbmd0aCA8IG1sTWFzayA/IG1MZW5ndGggOiBtbE1hc2s7CgoJCQkJaWYgKGxpdGVyYWxDb3VudCA+PSBydW5NYXNrKSB7CgkJCQkJZHN0W2RJbmRleCsrXSA9IChydW5NYXNrIDw8IG1sQml0cykgKyB0b2tlbjsKCgkJCQkJZm9yIChuID0gbGl0ZXJhbENvdW50IC0gcnVuTWFzazsgbiA+PSAweGZmOyBuIC09IDB4ZmYpIHsKCQkJCQkJZHN0W2RJbmRleCsrXSA9IDB4ZmY7CgkJCQkJfQoKCQkJCQlkc3RbZEluZGV4KytdID0gbjsKCQkJCX0gZWxzZSB7CgkJCQkJZHN0W2RJbmRleCsrXSA9IChsaXRlcmFsQ291bnQgPDwgbWxCaXRzKSArIHRva2VuOwoJCQkJfQoKCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgbGl0ZXJhbENvdW50OyBpKyspIHsKCQkJCQlkc3RbZEluZGV4KytdID0gc3JjW21BbmNob3IgKyBpXTsKCQkJCX0KCgkJCQlkc3RbZEluZGV4KytdID0gbU9mZnNldDsKCQkJCWRzdFtkSW5kZXgrK10gPSBtT2Zmc2V0ID4+IDg7CgoJCQkJaWYgKG1MZW5ndGggPj0gbWxNYXNrKSB7CgkJCQkJZm9yIChuID0gbUxlbmd0aCAtIG1sTWFzazsgbiA+PSAweGZmOyBuIC09IDB4ZmYpIHsKCQkJCQkJZHN0W2RJbmRleCsrXSA9IDB4ZmY7CgkJCQkJfQoKCQkJCQlkc3RbZEluZGV4KytdID0gbjsKCQkJCX0KCgkJCQltQW5jaG9yID0gc0luZGV4OwoJCQl9CgkJfQoKCQlpZiAobUFuY2hvciA9PT0gMCkgewoJCQlyZXR1cm4gMDsKCQl9CgoJCWxpdGVyYWxDb3VudCA9IHNFbmQgLSBtQW5jaG9yOwoKCQlpZiAobGl0ZXJhbENvdW50ID49IHJ1bk1hc2spIHsKCQkJZHN0W2RJbmRleCsrXSA9IHJ1bk1hc2sgPDwgbWxCaXRzOwoKCQkJZm9yIChuID0gbGl0ZXJhbENvdW50IC0gcnVuTWFzazsgbiA+PSAweGZmOyBuIC09IDB4ZmYpIHsKCQkJCWRzdFtkSW5kZXgrK10gPSAweGZmOwoJCQl9CgoJCQlkc3RbZEluZGV4KytdID0gbjsKCQl9IGVsc2UgewoJCQlkc3RbZEluZGV4KytdID0gbGl0ZXJhbENvdW50IDw8IG1sQml0czsKCQl9CgoJCXNJbmRleCA9IG1BbmNob3I7CgoJCXdoaWxlIChzSW5kZXggPCBzRW5kKSB7CgkJCWRzdFtkSW5kZXgrK10gPSBzcmNbc0luZGV4KytdOwoJCX0KCgkJcmV0dXJuIGRJbmRleDsKCX0KCglmdW5jdGlvbiBjb21wcmVzc1NpbmdsZUJsb2NrKHNyYywgZHN0KSB7CgkJY2xlYXJIYXNoVGFibGUoKTsKCQlyZXR1cm4gY29tcHJlc3NCbG9jayhzcmMsIGRzdCwgMCwgc3JjLmxlbmd0aCwgaGFzaFRhYmxlKTsKCX0KCgljbGFzcyBTdHJpbmdSZWFkZXJDb3JlIHsKCQlyZWFkKGJ1ZmZlcikgewoJCQlsZXQgbGVuZ3RoID0gYnVmZmVyLnJlYWQ3Qml0TnVtYmVyKCk7CgkJCXJldHVybiBidWZmZXIucmVhZFN0cmluZyhsZW5ndGgpOwoJCX0KCgkJd3JpdGUoYnVmZmVyLCBzdHJpbmcpIHsKCQkJY29uc3Qgc2l6ZSA9IFVURjhMZW5ndGgkMShzdHJpbmcpOwoJCQlidWZmZXIud3JpdGU3Qml0TnVtYmVyKHNpemUpOwoJCQlidWZmZXIud3JpdGVTdHJpbmcoc3RyaW5nKTsKCQl9CgoJfQoKCWNsYXNzIFJlYWRlclJlc29sdmVyIHsKCQljb25zdHJ1Y3RvcihyZWFkZXJzKSB7CgkJCXRoaXMucmVhZGVycyA9IHJlYWRlcnM7CgkJfQoKCQlyZWFkKGJ1ZmZlcikgewoJCQlsZXQgaW5kZXggPSBidWZmZXIucmVhZDdCaXROdW1iZXIoKSAtIDE7CgkJCWlmICh0aGlzLnJlYWRlcnNbaW5kZXhdID09IG51bGwpIHRocm93IG5ldyBYbmJFcnJvcigiSW52YWxpZCByZWFkZXIgaW5kZXggIi5jb25jYXQoaW5kZXgpKTsKCQkJcmV0dXJuIHRoaXMucmVhZGVyc1tpbmRleF0ucmVhZChidWZmZXIsIHRoaXMpOwoJCX0KCgkJd3JpdGUoYnVmZmVyLCBjb250ZW50KSB7CgkJCXRoaXMucmVhZGVyc1swXS53cml0ZShidWZmZXIsIGNvbnRlbnQsIHRoaXMpOwoJCX0KCgkJZ2V0SW5kZXgocmVhZGVyKSB7CgkJCWZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLnJlYWRlcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKCQkJCWlmIChyZWFkZXIudG9TdHJpbmcoKSA9PT0gdGhpcy5yZWFkZXJzW2ldLnRvU3RyaW5nKCkpIHJldHVybiBpOwoJCQl9CgkJfQoKCX0KCgljbGFzcyBYbmJEYXRhIHsKCQljb25zdHJ1Y3RvcihoZWFkZXIsIHJlYWRlcnMsIGNvbnRlbnQpIHsKCQkJbGV0IHsKCQkJCXRhcmdldCwKCQkJCWZvcm1hdFZlcnNpb24sCgkJCQloaWRlZiwKCQkJCWNvbXByZXNzZWQKCQkJfSA9IGhlYWRlcjsKCQkJdGhpcy5oZWFkZXIgPSB7CgkJCQl0YXJnZXQsCgkJCQlmb3JtYXRWZXJzaW9uLAoJCQkJaGlkZWYsCgkJCQljb21wcmVzc2VkCgkJCX07CgkJCXRoaXMucmVhZGVycyA9IHJlYWRlcnM7CgkJCXRoaXMuY29udGVudCA9IGNvbnRlbnQ7CgkJfQoKCQlnZXQgdGFyZ2V0KCkgewoJCQl2YXIgX3RoaXMkaGVhZGVyOwoKCQkJc3dpdGNoICgoX3RoaXMkaGVhZGVyID0gdGhpcy5oZWFkZXIpID09PSBudWxsIHx8IF90aGlzJGhlYWRlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkaGVhZGVyLnRhcmdldCkgewoJCQkJY2FzZSAndyc6CgkJCQkJcmV0dXJuICJNaWNyb3NvZnQgV2luZG93cyI7CgoJCQkJY2FzZSAnbSc6CgkJCQkJcmV0dXJuICJXaW5kb3dzIFBob25lIDciOwoKCQkJCWNhc2UgJ3gnOgoJCQkJCXJldHVybiAiWGJveCAzNjAiOwoKCQkJCWNhc2UgJ2EnOgoJCQkJCXJldHVybiAiQW5kcm9pZCI7CgoJCQkJY2FzZSAnaSc6CgkJCQkJcmV0dXJuICJpT1MiOwoKCQkJCWRlZmF1bHQ6CgkJCQkJcmV0dXJuICJVbmtub3duIjsKCQkJfQoJCX0KCgkJZ2V0IGZvcm1hdFZlcnNpb24oKSB7CgkJCXZhciBfdGhpcyRoZWFkZXIyOwoKCQkJc3dpdGNoICgoX3RoaXMkaGVhZGVyMiA9IHRoaXMuaGVhZGVyKSA9PT0gbnVsbCB8fCBfdGhpcyRoZWFkZXIyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRoZWFkZXIyLmZvcm1hdFZlcnNpb24pIHsKCQkJCWNhc2UgMHgzOgoJCQkJCXJldHVybiAiWE5BIEdhbWUgU3R1ZGlvIDMuMCI7CgoJCQkJY2FzZSAweDQ6CgkJCQkJcmV0dXJuICJYTkEgR2FtZSBTdHVkaW8gMy4xIjsKCgkJCQljYXNlIDB4NToKCQkJCQlyZXR1cm4gIlhOQSBHYW1lIFN0dWRpbyA0LjAiOwoKCQkJCWRlZmF1bHQ6CgkJCQkJcmV0dXJuICJVbmtub3duIjsKCQkJfQoJCX0KCgkJZ2V0IGhpZGVmKCkgewoJCQl2YXIgX3RoaXMkaGVhZGVyMzsKCgkJCXJldHVybiAhISgoX3RoaXMkaGVhZGVyMyA9IHRoaXMuaGVhZGVyKSAhPT0gbnVsbCAmJiBfdGhpcyRoZWFkZXIzICE9PSB2b2lkIDAgJiYgX3RoaXMkaGVhZGVyMy5oaWRlZik7CgkJfQoKCQlnZXQgY29tcHJlc3NlZCgpIHsKCQkJdmFyIF90aGlzJGhlYWRlcjQ7CgoJCQlyZXR1cm4gISEoKF90aGlzJGhlYWRlcjQgPSB0aGlzLmhlYWRlcikgIT09IG51bGwgJiYgX3RoaXMkaGVhZGVyNCAhPT0gdm9pZCAwICYmIF90aGlzJGhlYWRlcjQuY29tcHJlc3NlZCk7CgkJfQoKCQlnZXQgY29udGVudFR5cGUoKSB7CgkJCWxldCB7CgkJCQlleHBvcnQ6IHJhdwoJCQl9ID0gdGhpcy5jb250ZW50OwoJCQlpZiAocmF3ICE9PSB1bmRlZmluZWQpIHJldHVybiByYXcudHlwZTsKCQkJcmV0dXJuICJKU09OIjsKCQl9CgoJCWdldCByYXdDb250ZW50KCkgewoJCQlsZXQgewoJCQkJZXhwb3J0OiByYXcKCQkJfSA9IHRoaXMuY29udGVudDsKCQkJaWYgKHJhdyAhPT0gdW5kZWZpbmVkKSByZXR1cm4gcmF3LmRhdGE7CgkJCXJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLmNvbnRlbnQsIChrZXksIHZhbHVlKSA9PiB7CgkJCQlpZiAoa2V5ID09PSAiZXhwb3J0IikgcmV0dXJuIHZhbHVlLnR5cGU7CgkJCQlyZXR1cm4gdmFsdWU7CgkJCX0sIDQpOwoJCX0KCgkJc3RyaW5naWZ5KCkgewoJCQlyZXR1cm4gSlNPTi5zdHJpbmdpZnkoewoJCQkJaGVhZGVyOiB0aGlzLmhlYWRlciwKCQkJCXJlYWRlcnM6IHRoaXMucmVhZGVycywKCQkJCWNvbnRlbnQ6IHRoaXMuY29udGVudAoJCQl9LCBudWxsLCA0KTsKCQl9CgoJCXRvU3RyaW5nKCkgewoJCQlyZXR1cm4gdGhpcy5zdHJpbmdpZnkoKTsKCQl9CgoJfQoKCWZ1bmN0aW9uIGV4dGVuc2lvblRvRGF0YXR5cGUoZXh0ZW5zaW9uKSB7CgkJc3dpdGNoIChleHRlbnNpb24pIHsKCQkJY2FzZSAianNvbiI6CgkJCQlyZXR1cm4gIkpTT04iOwoKCQkJY2FzZSAieWFtbCI6CgkJCQlyZXR1cm4gInlhbWwiOwoKCQkJY2FzZSAicG5nIjoKCQkJCXJldHVybiAiVGV4dHVyZTJEIjsKCgkJCWNhc2UgImNzbyI6CgkJCQlyZXR1cm4gIkVmZmVjdCI7CgoJCQljYXNlICd0YmluJzoKCQkJCXJldHVybiAiVEJpbiI7CgoJCQljYXNlICd4bWwnOgoJCQkJcmV0dXJuICJCbUZvbnQiOwoJCX0KCgkJcmV0dXJuICJPdGhlcnMiOwoJfQoKCWNsYXNzIFhuYkNvbnRlbnQgewoJCWNvbnN0cnVjdG9yKGRhdGEsIGV4dCkgewoJCQl0aGlzLnR5cGUgPSBleHRlbnNpb25Ub0RhdGF0eXBlKGV4dCk7CgkJCXRoaXMuY29udGVudCA9IGRhdGE7CgkJfQoKCX0KCgljb25zdCBISURFRl9NQVNLID0gMHgxOwoJY29uc3QgQ09NUFJFU1NFRF9MWjRfTUFTSyA9IDB4NDA7Cgljb25zdCBDT01QUkVTU0VEX0xaWF9NQVNLID0gMHg4MDsKCWNvbnN0IFhOQl9DT01QUkVTU0VEX1BST0xPR1VFX1NJWkUgPSAxNDsKCgljbGFzcyBYbmJDb252ZXJ0ZXIgewoJCWNvbnN0cnVjdG9yKCkgewoJCQl0aGlzLnRhcmdldCA9ICcnOwoJCQl0aGlzLmZvcm1hdFZlcnNpb24gPSAwOwoJCQl0aGlzLmhpZGVmID0gZmFsc2U7CgkJCXRoaXMuY29tcHJlc3NlZCA9IGZhbHNlOwoJCQl0aGlzLmNvbXByZXNzaW9uVHlwZSA9IDA7CgkJCXRoaXMuYnVmZmVyID0gbnVsbDsKCQkJdGhpcy5maWxlU2l6ZSA9IDA7CgkJCXRoaXMucmVhZGVycyA9IFtdOwoJCQl0aGlzLnNoYXJlZFJlc291cmNlcyA9IFtdOwoJCX0KCgkJbG9hZChhcnJheUJ1ZmZlcikgewoJCQl0aGlzLmJ1ZmZlciA9IG5ldyBCdWZmZXJSZWFkZXIoYXJyYXlCdWZmZXIpOwoKCQkJdGhpcy5fdmFsaWRhdGVIZWFkZXIoKTsKCgkJCWNvbnNvbGUuaW5mbygnWE5CIGZpbGUgdmFsaWRhdGVkIHN1Y2Nlc3NmdWxseSEnKTsKCQkJdGhpcy5maWxlU2l6ZSA9IHRoaXMuYnVmZmVyLnJlYWRVSW50MzIoKTsKCQkJaWYgKHRoaXMuYnVmZmVyLnNpemUgIT0gdGhpcy5maWxlU2l6ZSkgdGhyb3cgbmV3IFhuYkVycm9yKCdYTkIgZmlsZSBoYXMgYmVlbiB0cnVuY2F0ZWQhJyk7CgoJCQlpZiAodGhpcy5jb21wcmVzc2VkKSB7CgkJCQljb25zdCBkZWNvbXByZXNzZWRTaXplID0gdGhpcy5idWZmZXIucmVhZFVJbnQzMigpOwoKCQkJCWlmICh0aGlzLmNvbXByZXNzaW9uVHlwZSA9PSBDT01QUkVTU0VEX0xaWF9NQVNLKSB7CgkJCQkJY29uc3QgY29tcHJlc3NlZFRvZG8gPSB0aGlzLmZpbGVTaXplIC0gWE5CX0NPTVBSRVNTRURfUFJPTE9HVUVfU0laRTsKCQkJCQljb25zdCBkZWNvbXByZXNzZWQgPSBQcmVzc2VyLmRlY29tcHJlc3ModGhpcy5idWZmZXIsIGNvbXByZXNzZWRUb2RvLCBkZWNvbXByZXNzZWRTaXplKTsKCQkJCQl0aGlzLmJ1ZmZlci5jb3B5RnJvbShkZWNvbXByZXNzZWQsIFhOQl9DT01QUkVTU0VEX1BST0xPR1VFX1NJWkUsIDAsIGRlY29tcHJlc3NlZFNpemUpOwoJCQkJCXRoaXMuYnVmZmVyLmJ5dGVQb3NpdGlvbiA9IFhOQl9DT01QUkVTU0VEX1BST0xPR1VFX1NJWkU7CgkJCQl9IGVsc2UgaWYgKHRoaXMuY29tcHJlc3Npb25UeXBlID09IENPTVBSRVNTRURfTFo0X01BU0spIHsKCQkJCQljb25zdCB0cmltbWVkID0gdGhpcy5idWZmZXIuYnVmZmVyLnNsaWNlKFhOQl9DT01QUkVTU0VEX1BST0xPR1VFX1NJWkUpOwoJCQkJCWNvbnN0IHRyaW1tZWRBcnJheSA9IG5ldyBVaW50OEFycmF5KHRyaW1tZWQpOwoJCQkJCWNvbnN0IGRlY29tcHJlc3NlZCA9IG5ldyBVaW50OEFycmF5KGRlY29tcHJlc3NlZFNpemUpOwoJCQkJCWRlY29tcHJlc3NCbG9jayh0cmltbWVkQXJyYXksIGRlY29tcHJlc3NlZCk7CgkJCQkJdGhpcy5idWZmZXIuY29weUZyb20oZGVjb21wcmVzc2VkLCBYTkJfQ09NUFJFU1NFRF9QUk9MT0dVRV9TSVpFLCAwLCBkZWNvbXByZXNzZWRTaXplKTsKCQkJCQl0aGlzLmJ1ZmZlci5ieXRlUG9zaXRpb24gPSBYTkJfQ09NUFJFU1NFRF9QUk9MT0dVRV9TSVpFOwoJCQkJfQoJCQl9CgoJCQlsZXQgY291bnQgPSB0aGlzLmJ1ZmZlci5yZWFkN0JpdE51bWJlcigpOwoJCQljb25zdCBzdHJpbmdSZWFkZXIgPSBuZXcgU3RyaW5nUmVhZGVyQ29yZSgpOwoJCQljb25zdCByZWFkZXJzID0gW107CgoJCQlmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKCQkJCWNvbnN0IHR5cGUgPSBzdHJpbmdSZWFkZXIucmVhZCh0aGlzLmJ1ZmZlcik7CgkJCQljb25zdCB2ZXJzaW9uID0gdGhpcy5idWZmZXIucmVhZEludDMyKCk7CgkJCQljb25zdCByZWFkZXIgPSBUeXBlUmVhZGVyLmdldFJlYWRlckZyb21SYXcodHlwZSk7CgkJCQl0aGlzLnJlYWRlcnMucHVzaChyZWFkZXIpOwoJCQkJcmVhZGVycy5wdXNoKHsKCQkJCQl0eXBlLAoJCQkJCXZlcnNpb24KCQkJCX0pOwoJCQl9CgoJCQljb25zdCBzaGFyZWQgPSB0aGlzLmJ1ZmZlci5yZWFkN0JpdE51bWJlcigpOwoJCQlpZiAoc2hhcmVkICE9IDApIHRocm93IG5ldyBYbmJFcnJvcigiVW5leHBlY3RlZCAoIi5jb25jYXQoc2hhcmVkLCAiKSBzaGFyZWQgcmVzb3VyY2VzLiIpKTsKCQkJY29uc3QgY29udGVudCA9IG5ldyBSZWFkZXJSZXNvbHZlcih0aGlzLnJlYWRlcnMpOwoJCQljb25zdCByZXN1bHQgPSBjb250ZW50LnJlYWQodGhpcy5idWZmZXIpOwoJCQljb25zb2xlLmxvZygnU3VjY2Vzc2Z1bHkgcmVhZCBYTkIgZmlsZSEnKTsKCQkJcmV0dXJuIG5ldyBYbmJEYXRhKHsKCQkJCXRhcmdldDogdGhpcy50YXJnZXQsCgkJCQlmb3JtYXRWZXJzaW9uOiB0aGlzLmZvcm1hdFZlcnNpb24sCgkJCQloaWRlZjogdGhpcy5oaWRlZiwKCQkJCWNvbXByZXNzZWQ6IHRoaXMuY29tcHJlc3NlZAoJCQl9LCByZWFkZXJzLCByZXN1bHQpOwoJCX0KCgkJY29udmVydChqc29uKSB7CgkJCWNvbnN0IGJ1ZmZlciA9IG5ldyBCdWZmZXJXcml0ZXIoKTsKCQkJY29uc3Qgc3RyaW5nUmVhZGVyID0gbmV3IFN0cmluZ1JlYWRlckNvcmUoKTsKCQkJbGV0IHsKCQkJCXRhcmdldCwKCQkJCWZvcm1hdFZlcnNpb24sCgkJCQloaWRlZiwKCQkJCWNvbXByZXNzZWQKCQkJfSA9IGpzb24uaGVhZGVyOwoJCQl0aGlzLnRhcmdldCA9IHRhcmdldDsKCQkJdGhpcy5mb3JtYXRWZXJzaW9uID0gZm9ybWF0VmVyc2lvbjsKCQkJdGhpcy5oaWRlZiA9IGhpZGVmOwoJCQljb25zdCBsejRDb21wcmVzc2lvbiA9IHRoaXMudGFyZ2V0ID09ICdhJyB8fCB0aGlzLnRhcmdldCA9PSAnaScgfHwgKGNvbXByZXNzZWQgJiBDT01QUkVTU0VEX0xaNF9NQVNLKSAhPSAwOwoJCQl0aGlzLmNvbXByZXNzZWQgPSBsejRDb21wcmVzc2lvbiA/IHRydWUgOiBmYWxzZTsKCQkJYnVmZmVyLndyaXRlU3RyaW5nKCJYTkIiKTsKCQkJYnVmZmVyLndyaXRlU3RyaW5nKHRoaXMudGFyZ2V0KTsKCQkJYnVmZmVyLndyaXRlQnl0ZSh0aGlzLmZvcm1hdFZlcnNpb24pOwoJCQlidWZmZXIud3JpdGVCeXRlKHRoaXMuaGlkZWYgfCAodGhpcy5jb21wcmVzc2VkICYmIGx6NENvbXByZXNzaW9uID8gQ09NUFJFU1NFRF9MWjRfTUFTSyA6IDApKTsKCQkJYnVmZmVyLndyaXRlVUludDMyKDApOwoJCQlpZiAobHo0Q29tcHJlc3Npb24pIGJ1ZmZlci53cml0ZVVJbnQzMigwKTsKCQkJYnVmZmVyLndyaXRlN0JpdE51bWJlcihqc29uLnJlYWRlcnMubGVuZ3RoKTsKCgkJCWZvciAobGV0IHJlYWRlciBvZiBqc29uLnJlYWRlcnMpIHsKCQkJCXRoaXMucmVhZGVycy5wdXNoKFR5cGVSZWFkZXIuZ2V0UmVhZGVyRnJvbVJhdyhyZWFkZXIudHlwZSkpOwoJCQkJc3RyaW5nUmVhZGVyLndyaXRlKGJ1ZmZlciwgcmVhZGVyLnR5cGUpOwoJCQkJYnVmZmVyLndyaXRlVUludDMyKHJlYWRlci52ZXJzaW9uKTsKCQkJfQoKCQkJYnVmZmVyLndyaXRlN0JpdE51bWJlcigwKTsKCQkJY29uc3QgY29udGVudCA9IG5ldyBSZWFkZXJSZXNvbHZlcih0aGlzLnJlYWRlcnMpOwoJCQljb250ZW50LndyaXRlKGJ1ZmZlciwganNvbi5jb250ZW50KTsKCQkJYnVmZmVyLnRyaW0oKTsKCgkJCWlmIChsejRDb21wcmVzc2lvbikgewoJCQkJY29uc3QgdHJpbW1lZCA9IGJ1ZmZlci5idWZmZXIuc2xpY2UoWE5CX0NPTVBSRVNTRURfUFJPTE9HVUVfU0laRSk7CgkJCQljb25zdCB0cmltbWVkQXJyYXkgPSBuZXcgVWludDhBcnJheSh0cmltbWVkKTsKCQkJCWxldCBjb21wcmVzc2VkU2l6ZSA9IGNvbXByZXNzQm91bmQodHJpbW1lZEFycmF5Lmxlbmd0aCk7CgkJCQlsZXQgY29tcHJlc3NlZCA9IG5ldyBVaW50OEFycmF5KGNvbXByZXNzZWRTaXplKTsKCQkJCWNvbXByZXNzZWRTaXplID0gY29tcHJlc3NTaW5nbGVCbG9jayh0cmltbWVkQXJyYXksIGNvbXByZXNzZWQpOwoJCQkJY29tcHJlc3NlZCA9IGNvbXByZXNzZWQuc2xpY2UoMCwgY29tcHJlc3NlZFNpemUpOwoJCQkJYnVmZmVyLmJ5dGVQb3NpdGlvbiA9IDY7CgkJCQlidWZmZXIud3JpdGVVSW50MzIoWE5CX0NPTVBSRVNTRURfUFJPTE9HVUVfU0laRSArIGNvbXByZXNzZWRTaXplKTsKCQkJCWJ1ZmZlci53cml0ZVVJbnQzMih0cmltbWVkQXJyYXkubGVuZ3RoKTsKCQkJCWJ1ZmZlci5jb25jYXQoY29tcHJlc3NlZCk7CgkJCQlsZXQgcmV0dXJuQnVmZmVyID0gYnVmZmVyLmJ1ZmZlci5zbGljZSgwLCBYTkJfQ09NUFJFU1NFRF9QUk9MT0dVRV9TSVpFICsgY29tcHJlc3NlZFNpemUpOwoJCQkJcmV0dXJuIHJldHVybkJ1ZmZlcjsKCQkJfQoKCQkJbGV0IGZpbGVTaXplID0gYnVmZmVyLmJ5dGVQb3NpdGlvbjsKCQkJYnVmZmVyLmJ5dGVQb3NpdGlvbiA9IDY7CgkJCWJ1ZmZlci53cml0ZVVJbnQzMihmaWxlU2l6ZSwgNik7CgkJCXJldHVybiBidWZmZXIuYnVmZmVyOwoJCX0KCgkJX3ZhbGlkYXRlSGVhZGVyKCkgewoJCQlpZiAodGhpcy5idWZmZXIgPT0gbnVsbCkgdGhyb3cgbmV3IFhuYkVycm9yKCdCdWZmZXIgaXMgbnVsbCcpOwoJCQljb25zdCBtYWdpYyA9IHRoaXMuYnVmZmVyLnJlYWRTdHJpbmcoMyk7CgkJCWlmIChtYWdpYyAhPSAnWE5CJykgdGhyb3cgbmV3IFhuYkVycm9yKCJJbnZhbGlkIGZpbGUgbWFnaWMgZm91bmQsIGV4cGVjdGluZyBcIlhOQlwiLCBmb3VuZCBcIiIuY29uY2F0KG1hZ2ljLCAiXCIiKSk7CgkJCXRoaXMudGFyZ2V0ID0gdGhpcy5idWZmZXIucmVhZFN0cmluZygxKS50b0xvd2VyQ2FzZSgpOwoJCQl0aGlzLmZvcm1hdFZlcnNpb24gPSB0aGlzLmJ1ZmZlci5yZWFkQnl0ZSgpOwoJCQljb25zdCBmbGFncyA9IHRoaXMuYnVmZmVyLnJlYWRCeXRlKDEpOwoJCQl0aGlzLmhpZGVmID0gKGZsYWdzICYgSElERUZfTUFTSykgIT0gMDsKCQkJdGhpcy5jb21wcmVzc2VkID0gZmxhZ3MgJiBDT01QUkVTU0VEX0xaWF9NQVNLIHx8IChmbGFncyAmIENPTVBSRVNTRURfTFo0X01BU0spICE9IDA7CgkJCXRoaXMuY29tcHJlc3Npb25UeXBlID0gKGZsYWdzICYgQ09NUFJFU1NFRF9MWlhfTUFTSykgIT0gMCA/IENPTVBSRVNTRURfTFpYX01BU0sgOiBmbGFncyAmIENPTVBSRVNTRURfTFo0X01BU0sgPyBDT01QUkVTU0VEX0xaNF9NQVNLIDogMDsKCQl9CgoJfQoKCXZhciB0ID0gewoJCTM5NjogZnVuY3Rpb24gXygpIHsKCQkJIWZ1bmN0aW9uICh0KSB7CgkJCQlpZiAodC5UZXh0RW5jb2RlciAmJiB0LlRleHREZWNvZGVyKSByZXR1cm4gITE7CgoJCQkJZnVuY3Rpb24gZSgpIHsKCQkJCQlsZXQgdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogInV0Zi04IjsKCQkJCQlpZiAoInV0Zi04IiAhPT0gdCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1RleHRFbmNvZGVyJzogVGhlIGVuY29kaW5nIGxhYmVsIHByb3ZpZGVkICgnIi5jb25jYXQodCwgIicpIGlzIGludmFsaWQuIikpOwoJCQkJfQoKCQkJCWZ1bmN0aW9uIGkoKSB7CgkJCQkJbGV0IHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICJ1dGYtOCI7CgkJCQkJbGV0IGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHsKCQkJCQkJZmF0YWw6ICExCgkJCQkJfTsKCQkJCQlpZiAoInV0Zi04IiAhPT0gdCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1RleHREZWNvZGVyJzogVGhlIGVuY29kaW5nIGxhYmVsIHByb3ZpZGVkICgnIi5jb25jYXQodCwgIicpIGlzIGludmFsaWQuIikpOwoJCQkJCWlmIChlLmZhdGFsKSB0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1RleHREZWNvZGVyJzogdGhlICdmYXRhbCcgb3B0aW9uIGlzIHVuc3VwcG9ydGVkLiIpOwoJCQkJfQoKCQkJCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSwgImVuY29kaW5nIiwgewoJCQkJCXZhbHVlOiAidXRmLTgiCgkJCQl9KSwgZS5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gKHQpIHsKCQkJCQlsZXQgZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogewoJCQkJCQlzdHJlYW06ICExCgkJCQkJfTsKCQkJCQlpZiAoZS5zdHJlYW0pIHRocm93IG5ldyBFcnJvcigiRmFpbGVkIHRvIGVuY29kZTogdGhlICdzdHJlYW0nIG9wdGlvbiBpcyB1bnN1cHBvcnRlZC4iKTsKCQkJCQlsZXQgaSA9IDA7CgkJCQkJY29uc3QgbiA9IHQubGVuZ3RoOwoJCQkJCWxldCByID0gMCwKCQkJCQkJCXMgPSBNYXRoLm1heCgzMiwgbiArIChuID4+IDEpICsgNyksCgkJCQkJCQlhID0gbmV3IFVpbnQ4QXJyYXkocyA+PiAzIDw8IDMpOwoKCQkJCQlmb3IgKDsgaSA8IG47KSB7CgkJCQkJCWxldCBlID0gdC5jaGFyQ29kZUF0KGkrKyk7CgoJCQkJCQlpZiAoZSA+PSA1NTI5NiAmJiBlIDw9IDU2MzE5KSB7CgkJCQkJCQlpZiAoaSA8IG4pIHsKCQkJCQkJCQljb25zdCBuID0gdC5jaGFyQ29kZUF0KGkpOwoJCQkJCQkJCTU2MzIwID09ICg2NDUxMiAmIG4pICYmICgrK2ksIGUgPSAoKDEwMjMgJiBlKSA8PCAxMCkgKyAoMTAyMyAmIG4pICsgNjU1MzYpOwoJCQkJCQkJfQoKCQkJCQkJCWlmIChlID49IDU1Mjk2ICYmIGUgPD0gNTYzMTkpIGNvbnRpbnVlOwoJCQkJCQl9CgoJCQkJCQlpZiAociArIDQgPiBhLmxlbmd0aCkgewoJCQkJCQkJcyArPSA4LCBzICo9IDEgKyBpIC8gdC5sZW5ndGggKiAyLCBzID0gcyA+PiAzIDw8IDM7CgkJCQkJCQljb25zdCBlID0gbmV3IFVpbnQ4QXJyYXkocyk7CgkJCQkJCQllLnNldChhKSwgYSA9IGU7CgkJCQkJCX0KCgkJCQkJCWlmICgwICE9ICg0Mjk0OTY3MTY4ICYgZSkpIHsKCQkJCQkJCWlmICgwID09ICg0Mjk0OTY1MjQ4ICYgZSkpIGFbcisrXSA9IGUgPj4gNiAmIDMxIHwgMTkyO2Vsc2UgaWYgKDAgPT0gKDQyOTQ5MDE3NjAgJiBlKSkgYVtyKytdID0gZSA+PiAxMiAmIDE1IHwgMjI0LCBhW3IrK10gPSBlID4+IDYgJiA2MyB8IDEyODtlbHNlIHsKCQkJCQkJCQlpZiAoMCAhPSAoNDI5Mjg3MDE0NCAmIGUpKSBjb250aW51ZTsKCQkJCQkJCQlhW3IrK10gPSBlID4+IDE4ICYgNyB8IDI0MCwgYVtyKytdID0gZSA+PiAxMiAmIDYzIHwgMTI4LCBhW3IrK10gPSBlID4+IDYgJiA2MyB8IDEyODsKCQkJCQkJCX0KCQkJCQkJCWFbcisrXSA9IDYzICYgZSB8IDEyODsKCQkJCQkJfSBlbHNlIGFbcisrXSA9IGU7CgkJCQkJfQoKCQkJCQlyZXR1cm4gYS5zbGljZSgwLCByKTsKCQkJCX0sIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpLnByb3RvdHlwZSwgImVuY29kaW5nIiwgewoJCQkJCXZhbHVlOiAidXRmLTgiCgkJCQl9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCAiZmF0YWwiLCB7CgkJCQkJdmFsdWU6ICExCgkJCQl9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGkucHJvdG90eXBlLCAiaWdub3JlQk9NIiwgewoJCQkJCXZhbHVlOiAhMQoJCQkJfSksIGkucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uICh0KSB7CgkJCQkJbGV0IGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHsKCQkJCQkJc3RyZWFtOiAhMQoJCQkJCX07CgkJCQkJaWYgKGUuc3RyZWFtKSB0aHJvdyBuZXcgRXJyb3IoIkZhaWxlZCB0byBkZWNvZGU6IHRoZSAnc3RyZWFtJyBvcHRpb24gaXMgdW5zdXBwb3J0ZWQuIik7CgkJCQkJY29uc3QgaSA9IG5ldyBVaW50OEFycmF5KHQpOwoJCQkJCWxldCBuID0gMDsKCQkJCQljb25zdCByID0gaS5sZW5ndGgsCgkJCQkJCQkJcyA9IFtdOwoKCQkJCQlmb3IgKDsgbiA8IHI7KSB7CgkJCQkJCWNvbnN0IHQgPSBpW24rK107CgkJCQkJCWlmICgwID09PSB0KSBicmVhazsKCQkJCQkJaWYgKDAgPT0gKDEyOCAmIHQpKSBzLnB1c2godCk7ZWxzZSBpZiAoMTkyID09ICgyMjQgJiB0KSkgewoJCQkJCQkJY29uc3QgZSA9IDYzICYgaVtuKytdOwoJCQkJCQkJcy5wdXNoKCgzMSAmIHQpIDw8IDYgfCBlKTsKCQkJCQkJfSBlbHNlIGlmICgyMjQgPT0gKDI0MCAmIHQpKSB7CgkJCQkJCQljb25zdCBlID0gNjMgJiBpW24rK10sCgkJCQkJCQkJCQlyID0gNjMgJiBpW24rK107CgkJCQkJCQlzLnB1c2goKDMxICYgdCkgPDwgMTIgfCBlIDw8IDYgfCByKTsKCQkJCQkJfSBlbHNlIGlmICgyNDAgPT0gKDI0OCAmIHQpKSB7CgkJCQkJCQlsZXQgZSA9ICg3ICYgdCkgPDwgMTggfCAoNjMgJiBpW24rK10pIDw8IDEyIHwgKDYzICYgaVtuKytdKSA8PCA2IHwgNjMgJiBpW24rK107CgkJCQkJCQllID4gNjU1MzUgJiYgKGUgLT0gNjU1MzYsIHMucHVzaChlID4+PiAxMCAmIDEwMjMgfCA1NTI5NiksIGUgPSA1NjMyMCB8IDEwMjMgJiBlKSwgcy5wdXNoKGUpOwoJCQkJCQl9CgkJCQkJfQoKCQkJCQlyZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBzKTsKCQkJCX0sIHQuVGV4dEVuY29kZXIgPSBlLCB0LlRleHREZWNvZGVyID0gaTsKCQkJfSgidW5kZWZpbmVkIiAhPSB0eXBlb2Ygd2luZG93ID8gd2luZG93IDogInVuZGVmaW5lZCIgIT0gdHlwZW9mIHNlbGYgPyBzZWxmIDogdGhpcyk7CgkJfQoJfSwKCQkJZSA9IHt9OwoKCWZ1bmN0aW9uIGkobikgewoJCXZhciByID0gZVtuXTsKCQlpZiAodm9pZCAwICE9PSByKSByZXR1cm4gci5leHBvcnRzOwoJCXZhciBzID0gZVtuXSA9IHsKCQkJZXhwb3J0czoge30KCQl9OwoJCXJldHVybiB0W25dLmNhbGwocy5leHBvcnRzLCBzLCBzLmV4cG9ydHMsIGkpLCBzLmV4cG9ydHM7Cgl9CgoJaS5kID0gKHQsIGUpID0+IHsKCQlmb3IgKHZhciBuIGluIGUpIGkubyhlLCBuKSAmJiAhaS5vKHQsIG4pICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCBuLCB7CgkJCWVudW1lcmFibGU6ICEwLAoJCQlnZXQ6IGVbbl0KCQl9KTsKCX0sIGkubyA9ICh0LCBlKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCwgZSk7Cgl2YXIgbiA9IHt9OwoKCSgoKSA9PiB7CgkJaS5kKG4sIHsKCQkJUDogKCkgPT4gTWksCgkJCW06ICgpID0+IEZpCgkJfSksIGkoMzk2KTsKCQljb25zdCB0ID0gbmV3IFRleHREZWNvZGVyKCJ1dGYtOCIpLAoJCQkJCWUgPSBuZXcgVGV4dEVuY29kZXIoKTsKCgkJY2xhc3MgciB7CgkJCWNvbnN0cnVjdG9yKCkgewoJCQkJbGV0IHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDgxOTI7CgkJCQlsZXQgZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CgkJCQlsZXQgaSA9ICExOwoJCQkJIm51bWJlciIgPT0gdHlwZW9mIHQgPyB0ID0gbmV3IEFycmF5QnVmZmVyKHQpIDogKGkgPSAhMCwgdGhpcy5sYXN0V3JpdHRlbkJ5dGUgPSB0LmJ5dGVMZW5ndGgpOwoJCQkJY29uc3QgbiA9IGUub2Zmc2V0ID8gZS5vZmZzZXQgPj4+IDAgOiAwLAoJCQkJCQkJcyA9IHQuYnl0ZUxlbmd0aCAtIG47CgkJCQlsZXQgYSA9IG47CgkJCQkoQXJyYXlCdWZmZXIuaXNWaWV3KHQpIHx8IHQgaW5zdGFuY2VvZiByKSAmJiAodC5ieXRlTGVuZ3RoICE9PSB0LmJ1ZmZlci5ieXRlTGVuZ3RoICYmIChhID0gdC5ieXRlT2Zmc2V0ICsgbiksIHQgPSB0LmJ1ZmZlciksIHRoaXMubGFzdFdyaXR0ZW5CeXRlID0gaSA/IHMgOiAwLCB0aGlzLmJ1ZmZlciA9IHQsIHRoaXMubGVuZ3RoID0gcywgdGhpcy5ieXRlTGVuZ3RoID0gcywgdGhpcy5ieXRlT2Zmc2V0ID0gYSwgdGhpcy5vZmZzZXQgPSAwLCB0aGlzLmxpdHRsZUVuZGlhbiA9ICEwLCB0aGlzLl9kYXRhID0gbmV3IERhdGFWaWV3KHRoaXMuYnVmZmVyLCBhLCBzKSwgdGhpcy5fbWFyayA9IDAsIHRoaXMuX21hcmtzID0gW107CgkJCX0KCgkJCWF2YWlsYWJsZSgpIHsKCQkJCWxldCB0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxOwoJCQkJcmV0dXJuIHRoaXMub2Zmc2V0ICsgdCA8PSB0aGlzLmxlbmd0aDsKCQkJfQoKCQkJaXNMaXR0bGVFbmRpYW4oKSB7CgkJCQlyZXR1cm4gdGhpcy5saXR0bGVFbmRpYW47CgkJCX0KCgkJCXNldExpdHRsZUVuZGlhbigpIHsKCQkJCXJldHVybiB0aGlzLmxpdHRsZUVuZGlhbiA9ICEwLCB0aGlzOwoJCQl9CgoJCQlpc0JpZ0VuZGlhbigpIHsKCQkJCXJldHVybiAhdGhpcy5saXR0bGVFbmRpYW47CgkJCX0KCgkJCXNldEJpZ0VuZGlhbigpIHsKCQkJCXJldHVybiB0aGlzLmxpdHRsZUVuZGlhbiA9ICExLCB0aGlzOwoJCQl9CgoJCQlza2lwKCkgewoJCQkJbGV0IHQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDE7CgkJCQlyZXR1cm4gdGhpcy5vZmZzZXQgKz0gdCwgdGhpczsKCQkJfQoKCQkJc2Vlayh0KSB7CgkJCQlyZXR1cm4gdGhpcy5vZmZzZXQgPSB0LCB0aGlzOwoJCQl9CgoJCQltYXJrKCkgewoJCQkJcmV0dXJuIHRoaXMuX21hcmsgPSB0aGlzLm9mZnNldCwgdGhpczsKCQkJfQoKCQkJcmVzZXQoKSB7CgkJCQlyZXR1cm4gdGhpcy5vZmZzZXQgPSB0aGlzLl9tYXJrLCB0aGlzOwoJCQl9CgoJCQlwdXNoTWFyaygpIHsKCQkJCXJldHVybiB0aGlzLl9tYXJrcy5wdXNoKHRoaXMub2Zmc2V0KSwgdGhpczsKCQkJfQoKCQkJcG9wTWFyaygpIHsKCQkJCWNvbnN0IHQgPSB0aGlzLl9tYXJrcy5wb3AoKTsKCgkJCQlpZiAodm9pZCAwID09PSB0KSB0aHJvdyBuZXcgRXJyb3IoIk1hcmsgc3RhY2sgZW1wdHkiKTsKCQkJCXJldHVybiB0aGlzLnNlZWsodCksIHRoaXM7CgkJCX0KCgkJCXJld2luZCgpIHsKCQkJCXJldHVybiB0aGlzLm9mZnNldCA9IDAsIHRoaXM7CgkJCX0KCgkJCWVuc3VyZUF2YWlsYWJsZSgpIHsKCQkJCWxldCB0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxOwoKCQkJCWlmICghdGhpcy5hdmFpbGFibGUodCkpIHsKCQkJCQljb25zdCBlID0gMiAqICh0aGlzLm9mZnNldCArIHQpLAoJCQkJCQkJCWkgPSBuZXcgVWludDhBcnJheShlKTsKCQkJCQlpLnNldChuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlcikpLCB0aGlzLmJ1ZmZlciA9IGkuYnVmZmVyLCB0aGlzLmxlbmd0aCA9IHRoaXMuYnl0ZUxlbmd0aCA9IGUsIHRoaXMuX2RhdGEgPSBuZXcgRGF0YVZpZXcodGhpcy5idWZmZXIpOwoJCQkJfQoKCQkJCXJldHVybiB0aGlzOwoJCQl9CgoJCQlyZWFkQm9vbGVhbigpIHsKCQkJCXJldHVybiAwICE9PSB0aGlzLnJlYWRVaW50OCgpOwoJCQl9CgoJCQlyZWFkSW50OCgpIHsKCQkJCXJldHVybiB0aGlzLl9kYXRhLmdldEludDgodGhpcy5vZmZzZXQrKyk7CgkJCX0KCgkJCXJlYWRVaW50OCgpIHsKCQkJCXJldHVybiB0aGlzLl9kYXRhLmdldFVpbnQ4KHRoaXMub2Zmc2V0KyspOwoJCQl9CgoJCQlyZWFkQnl0ZSgpIHsKCQkJCXJldHVybiB0aGlzLnJlYWRVaW50OCgpOwoJCQl9CgoJCQlyZWFkQnl0ZXMoKSB7CgkJCQlsZXQgdCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMTsKCQkJCWNvbnN0IGUgPSBuZXcgVWludDhBcnJheSh0KTsKCgkJCQlmb3IgKGxldCBpID0gMDsgaSA8IHQ7IGkrKykgZVtpXSA9IHRoaXMucmVhZEJ5dGUoKTsKCgkJCQlyZXR1cm4gZTsKCQkJfQoKCQkJcmVhZEludDE2KCkgewoJCQkJY29uc3QgdCA9IHRoaXMuX2RhdGEuZ2V0SW50MTYodGhpcy5vZmZzZXQsIHRoaXMubGl0dGxlRW5kaWFuKTsKCgkJCQlyZXR1cm4gdGhpcy5vZmZzZXQgKz0gMiwgdDsKCQkJfQoKCQkJcmVhZFVpbnQxNigpIHsKCQkJCWNvbnN0IHQgPSB0aGlzLl9kYXRhLmdldFVpbnQxNih0aGlzLm9mZnNldCwgdGhpcy5saXR0bGVFbmRpYW4pOwoKCQkJCXJldHVybiB0aGlzLm9mZnNldCArPSAyLCB0OwoJCQl9CgoJCQlyZWFkSW50MzIoKSB7CgkJCQljb25zdCB0ID0gdGhpcy5fZGF0YS5nZXRJbnQzMih0aGlzLm9mZnNldCwgdGhpcy5saXR0bGVFbmRpYW4pOwoKCQkJCXJldHVybiB0aGlzLm9mZnNldCArPSA0LCB0OwoJCQl9CgoJCQlyZWFkVWludDMyKCkgewoJCQkJY29uc3QgdCA9IHRoaXMuX2RhdGEuZ2V0VWludDMyKHRoaXMub2Zmc2V0LCB0aGlzLmxpdHRsZUVuZGlhbik7CgoJCQkJcmV0dXJuIHRoaXMub2Zmc2V0ICs9IDQsIHQ7CgkJCX0KCgkJCXJlYWRGbG9hdDMyKCkgewoJCQkJY29uc3QgdCA9IHRoaXMuX2RhdGEuZ2V0RmxvYXQzMih0aGlzLm9mZnNldCwgdGhpcy5saXR0bGVFbmRpYW4pOwoKCQkJCXJldHVybiB0aGlzLm9mZnNldCArPSA0LCB0OwoJCQl9CgoJCQlyZWFkRmxvYXQ2NCgpIHsKCQkJCWNvbnN0IHQgPSB0aGlzLl9kYXRhLmdldEZsb2F0NjQodGhpcy5vZmZzZXQsIHRoaXMubGl0dGxlRW5kaWFuKTsKCgkJCQlyZXR1cm4gdGhpcy5vZmZzZXQgKz0gOCwgdDsKCQkJfQoKCQkJcmVhZEJpZ0ludDY0KCkgewoJCQkJY29uc3QgdCA9IHRoaXMuX2RhdGEuZ2V0QmlnSW50NjQodGhpcy5vZmZzZXQsIHRoaXMubGl0dGxlRW5kaWFuKTsKCgkJCQlyZXR1cm4gdGhpcy5vZmZzZXQgKz0gOCwgdDsKCQkJfQoKCQkJcmVhZEJpZ1VpbnQ2NCgpIHsKCQkJCWNvbnN0IHQgPSB0aGlzLl9kYXRhLmdldEJpZ1VpbnQ2NCh0aGlzLm9mZnNldCwgdGhpcy5saXR0bGVFbmRpYW4pOwoKCQkJCXJldHVybiB0aGlzLm9mZnNldCArPSA4LCB0OwoJCQl9CgoJCQlyZWFkQ2hhcigpIHsKCQkJCXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoaXMucmVhZEludDgoKSk7CgkJCX0KCgkJCXJlYWRDaGFycygpIHsKCQkJCWxldCB0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxOwoJCQkJbGV0IGUgPSAiIjsKCgkJCQlmb3IgKGxldCBpID0gMDsgaSA8IHQ7IGkrKykgZSArPSB0aGlzLnJlYWRDaGFyKCk7CgoJCQkJcmV0dXJuIGU7CgkJCX0KCgkJCXJlYWRVdGY4KCkgewoJCQkJbGV0IGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IDE7CgkJCQlyZXR1cm4gaSA9IHRoaXMucmVhZEJ5dGVzKGUpLCB0LmRlY29kZShpKTsKCQkJCXZhciBpOwoJCQl9CgoJCQl3cml0ZUJvb2xlYW4odCkgewoJCQkJcmV0dXJuIHRoaXMud3JpdGVVaW50OCh0ID8gMjU1IDogMCksIHRoaXM7CgkJCX0KCgkJCXdyaXRlSW50OCh0KSB7CgkJCQlyZXR1cm4gdGhpcy5lbnN1cmVBdmFpbGFibGUoMSksIHRoaXMuX2RhdGEuc2V0SW50OCh0aGlzLm9mZnNldCsrLCB0KSwgdGhpcy5fdXBkYXRlTGFzdFdyaXR0ZW5CeXRlKCksIHRoaXM7CgkJCX0KCgkJCXdyaXRlVWludDgodCkgewoJCQkJcmV0dXJuIHRoaXMuZW5zdXJlQXZhaWxhYmxlKDEpLCB0aGlzLl9kYXRhLnNldFVpbnQ4KHRoaXMub2Zmc2V0KyssIHQpLCB0aGlzLl91cGRhdGVMYXN0V3JpdHRlbkJ5dGUoKSwgdGhpczsKCQkJfQoKCQkJd3JpdGVCeXRlKHQpIHsKCQkJCXJldHVybiB0aGlzLndyaXRlVWludDgodCk7CgkJCX0KCgkJCXdyaXRlQnl0ZXModCkgewoJCQkJdGhpcy5lbnN1cmVBdmFpbGFibGUodC5sZW5ndGgpOwoKCQkJCWZvciAobGV0IGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUrKykgdGhpcy5fZGF0YS5zZXRVaW50OCh0aGlzLm9mZnNldCsrLCB0W2VdKTsKCgkJCQlyZXR1cm4gdGhpcy5fdXBkYXRlTGFzdFdyaXR0ZW5CeXRlKCksIHRoaXM7CgkJCX0KCgkJCXdyaXRlSW50MTYodCkgewoJCQkJcmV0dXJuIHRoaXMuZW5zdXJlQXZhaWxhYmxlKDIpLCB0aGlzLl9kYXRhLnNldEludDE2KHRoaXMub2Zmc2V0LCB0LCB0aGlzLmxpdHRsZUVuZGlhbiksIHRoaXMub2Zmc2V0ICs9IDIsIHRoaXMuX3VwZGF0ZUxhc3RXcml0dGVuQnl0ZSgpLCB0aGlzOwoJCQl9CgoJCQl3cml0ZVVpbnQxNih0KSB7CgkJCQlyZXR1cm4gdGhpcy5lbnN1cmVBdmFpbGFibGUoMiksIHRoaXMuX2RhdGEuc2V0VWludDE2KHRoaXMub2Zmc2V0LCB0LCB0aGlzLmxpdHRsZUVuZGlhbiksIHRoaXMub2Zmc2V0ICs9IDIsIHRoaXMuX3VwZGF0ZUxhc3RXcml0dGVuQnl0ZSgpLCB0aGlzOwoJCQl9CgoJCQl3cml0ZUludDMyKHQpIHsKCQkJCXJldHVybiB0aGlzLmVuc3VyZUF2YWlsYWJsZSg0KSwgdGhpcy5fZGF0YS5zZXRJbnQzMih0aGlzLm9mZnNldCwgdCwgdGhpcy5saXR0bGVFbmRpYW4pLCB0aGlzLm9mZnNldCArPSA0LCB0aGlzLl91cGRhdGVMYXN0V3JpdHRlbkJ5dGUoKSwgdGhpczsKCQkJfQoKCQkJd3JpdGVVaW50MzIodCkgewoJCQkJcmV0dXJuIHRoaXMuZW5zdXJlQXZhaWxhYmxlKDQpLCB0aGlzLl9kYXRhLnNldFVpbnQzMih0aGlzLm9mZnNldCwgdCwgdGhpcy5saXR0bGVFbmRpYW4pLCB0aGlzLm9mZnNldCArPSA0LCB0aGlzLl91cGRhdGVMYXN0V3JpdHRlbkJ5dGUoKSwgdGhpczsKCQkJfQoKCQkJd3JpdGVGbG9hdDMyKHQpIHsKCQkJCXJldHVybiB0aGlzLmVuc3VyZUF2YWlsYWJsZSg0KSwgdGhpcy5fZGF0YS5zZXRGbG9hdDMyKHRoaXMub2Zmc2V0LCB0LCB0aGlzLmxpdHRsZUVuZGlhbiksIHRoaXMub2Zmc2V0ICs9IDQsIHRoaXMuX3VwZGF0ZUxhc3RXcml0dGVuQnl0ZSgpLCB0aGlzOwoJCQl9CgoJCQl3cml0ZUZsb2F0NjQodCkgewoJCQkJcmV0dXJuIHRoaXMuZW5zdXJlQXZhaWxhYmxlKDgpLCB0aGlzLl9kYXRhLnNldEZsb2F0NjQodGhpcy5vZmZzZXQsIHQsIHRoaXMubGl0dGxlRW5kaWFuKSwgdGhpcy5vZmZzZXQgKz0gOCwgdGhpcy5fdXBkYXRlTGFzdFdyaXR0ZW5CeXRlKCksIHRoaXM7CgkJCX0KCgkJCXdyaXRlQmlnSW50NjQodCkgewoJCQkJcmV0dXJuIHRoaXMuZW5zdXJlQXZhaWxhYmxlKDgpLCB0aGlzLl9kYXRhLnNldEJpZ0ludDY0KHRoaXMub2Zmc2V0LCB0LCB0aGlzLmxpdHRsZUVuZGlhbiksIHRoaXMub2Zmc2V0ICs9IDgsIHRoaXMuX3VwZGF0ZUxhc3RXcml0dGVuQnl0ZSgpLCB0aGlzOwoJCQl9CgoJCQl3cml0ZUJpZ1VpbnQ2NCh0KSB7CgkJCQlyZXR1cm4gdGhpcy5lbnN1cmVBdmFpbGFibGUoOCksIHRoaXMuX2RhdGEuc2V0QmlnVWludDY0KHRoaXMub2Zmc2V0LCB0LCB0aGlzLmxpdHRsZUVuZGlhbiksIHRoaXMub2Zmc2V0ICs9IDgsIHRoaXMuX3VwZGF0ZUxhc3RXcml0dGVuQnl0ZSgpLCB0aGlzOwoJCQl9CgoJCQl3cml0ZUNoYXIodCkgewoJCQkJcmV0dXJuIHRoaXMud3JpdGVVaW50OCh0LmNoYXJDb2RlQXQoMCkpOwoJCQl9CgoJCQl3cml0ZUNoYXJzKHQpIHsKCQkJCWZvciAobGV0IGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUrKykgdGhpcy53cml0ZVVpbnQ4KHQuY2hhckNvZGVBdChlKSk7CgoJCQkJcmV0dXJuIHRoaXM7CgkJCX0KCgkJCXdyaXRlVXRmOCh0KSB7CgkJCQlyZXR1cm4gdGhpcy53cml0ZUJ5dGVzKGZ1bmN0aW9uICh0KSB7CgkJCQkJcmV0dXJuIGUuZW5jb2RlKHQpOwoJCQkJfSh0KSk7CgkJCX0KCgkJCXRvQXJyYXkoKSB7CgkJCQlyZXR1cm4gbmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIsIHRoaXMuYnl0ZU9mZnNldCwgdGhpcy5sYXN0V3JpdHRlbkJ5dGUpOwoJCQl9CgoJCQlfdXBkYXRlTGFzdFdyaXR0ZW5CeXRlKCkgewoJCQkJdGhpcy5vZmZzZXQgPiB0aGlzLmxhc3RXcml0dGVuQnl0ZSAmJiAodGhpcy5sYXN0V3JpdHRlbkJ5dGUgPSB0aGlzLm9mZnNldCk7CgkJCX0KCgkJfQoKCQlmdW5jdGlvbiBzKHQpIHsKCQkJbGV0IGUgPSB0Lmxlbmd0aDsKCgkJCWZvciAoOyAtLWUgPj0gMDspIHRbZV0gPSAwOwoJCX0KCgkJY29uc3QgYSA9IG5ldyBVaW50OEFycmF5KFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAyLCAyLCAyLCAyLCAzLCAzLCAzLCAzLCA0LCA0LCA0LCA0LCA1LCA1LCA1LCA1LCAwXSksCgkJCQkJbyA9IG5ldyBVaW50OEFycmF5KFswLCAwLCAwLCAwLCAxLCAxLCAyLCAyLCAzLCAzLCA0LCA0LCA1LCA1LCA2LCA2LCA3LCA3LCA4LCA4LCA5LCA5LCAxMCwgMTAsIDExLCAxMSwgMTIsIDEyLCAxMywgMTNdKSwKCQkJCQloID0gbmV3IFVpbnQ4QXJyYXkoWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDIsIDMsIDddKSwKCQkJCQlsID0gbmV3IFVpbnQ4QXJyYXkoWzE2LCAxNywgMTgsIDAsIDgsIDcsIDksIDYsIDEwLCA1LCAxMSwgNCwgMTIsIDMsIDEzLCAyLCAxNCwgMSwgMTVdKSwKCQkJCQlkID0gbmV3IEFycmF5KDU3Nik7CgkJcyhkKTsKCgkJY29uc3QgXyA9IG5ldyBBcnJheSg2MCk7CgoJCXMoXyk7CgkJY29uc3QgZiA9IG5ldyBBcnJheSg1MTIpOwoJCXMoZik7CgkJY29uc3QgYyA9IG5ldyBBcnJheSgyNTYpOwoJCXMoYyk7CgkJY29uc3QgdSA9IG5ldyBBcnJheSgyOSk7CgkJcyh1KTsKCQljb25zdCB3ID0gbmV3IEFycmF5KDMwKTsKCgkJZnVuY3Rpb24gcCh0LCBlLCBpLCBuLCByKSB7CgkJCXRoaXMuc3RhdGljX3RyZWUgPSB0LCB0aGlzLmV4dHJhX2JpdHMgPSBlLCB0aGlzLmV4dHJhX2Jhc2UgPSBpLCB0aGlzLmVsZW1zID0gbiwgdGhpcy5tYXhfbGVuZ3RoID0gciwgdGhpcy5oYXNfc3RyZWUgPSB0ICYmIHQubGVuZ3RoOwoJCX0KCgkJbGV0IGcsIGIsIG07CgoJCWZ1bmN0aW9uIGsodCwgZSkgewoJCQl0aGlzLmR5bl90cmVlID0gdCwgdGhpcy5tYXhfY29kZSA9IDAsIHRoaXMuc3RhdF9kZXNjID0gZTsKCQl9CgoJCXModyk7CgoJCWNvbnN0IHkgPSB0ID0+IHQgPCAyNTYgPyBmW3RdIDogZlsyNTYgKyAodCA+Pj4gNyldLAoJCQkJCXYgPSAodCwgZSkgPT4gewoJCQl0LnBlbmRpbmdfYnVmW3QucGVuZGluZysrXSA9IDI1NSAmIGUsIHQucGVuZGluZ19idWZbdC5wZW5kaW5nKytdID0gZSA+Pj4gOCAmIDI1NTsKCQl9LAoJCQkJCUUgPSAodCwgZSwgaSkgPT4gewoJCQl0LmJpX3ZhbGlkID4gMTYgLSBpID8gKHQuYmlfYnVmIHw9IGUgPDwgdC5iaV92YWxpZCAmIDY1NTM1LCB2KHQsIHQuYmlfYnVmKSwgdC5iaV9idWYgPSBlID4+IDE2IC0gdC5iaV92YWxpZCwgdC5iaV92YWxpZCArPSBpIC0gMTYpIDogKHQuYmlfYnVmIHw9IGUgPDwgdC5iaV92YWxpZCAmIDY1NTM1LCB0LmJpX3ZhbGlkICs9IGkpOwoJCX0sCgkJCQkJQSA9ICh0LCBlLCBpKSA9PiB7CgkJCUUodCwgaVsyICogZV0sIGlbMiAqIGUgKyAxXSk7CgkJfSwKCQkJCQl4ID0gKHQsIGUpID0+IHsKCQkJbGV0IGkgPSAwOwoKCQkJZG8gewoJCQkJaSB8PSAxICYgdCwgdCA+Pj49IDEsIGkgPDw9IDE7CgkJCX0gd2hpbGUgKC0tZSA+IDApOwoKCQkJcmV0dXJuIGkgPj4+IDE7CgkJfSwKCQkJCQlVID0gKHQsIGUsIGkpID0+IHsKCQkJY29uc3QgbiA9IG5ldyBBcnJheSgxNik7CgkJCWxldCByLAoJCQkJCXMsCgkJCQkJYSA9IDA7CgoJCQlmb3IgKHIgPSAxOyByIDw9IDE1OyByKyspIG5bcl0gPSBhID0gYSArIGlbciAtIDFdIDw8IDE7CgoJCQlmb3IgKHMgPSAwOyBzIDw9IGU7IHMrKykgewoJCQkJbGV0IGUgPSB0WzIgKiBzICsgMV07CgkJCQkwICE9PSBlICYmICh0WzIgKiBzXSA9IHgobltlXSsrLCBlKSk7CgkJCX0KCQl9LAoJCQkJCXogPSB0ID0+IHsKCQkJbGV0IGU7CgoJCQlmb3IgKGUgPSAwOyBlIDwgMjg2OyBlKyspIHQuZHluX2x0cmVlWzIgKiBlXSA9IDA7CgoJCQlmb3IgKGUgPSAwOyBlIDwgMzA7IGUrKykgdC5keW5fZHRyZWVbMiAqIGVdID0gMDsKCgkJCWZvciAoZSA9IDA7IGUgPCAxOTsgZSsrKSB0LmJsX3RyZWVbMiAqIGVdID0gMDsKCgkJCXQuZHluX2x0cmVlWzUxMl0gPSAxLCB0Lm9wdF9sZW4gPSB0LnN0YXRpY19sZW4gPSAwLCB0Lmxhc3RfbGl0ID0gdC5tYXRjaGVzID0gMDsKCQl9LAoJCQkJCVIgPSB0ID0+IHsKCQkJdC5iaV92YWxpZCA+IDggPyB2KHQsIHQuYmlfYnVmKSA6IHQuYmlfdmFsaWQgPiAwICYmICh0LnBlbmRpbmdfYnVmW3QucGVuZGluZysrXSA9IHQuYmlfYnVmKSwgdC5iaV9idWYgPSAwLCB0LmJpX3ZhbGlkID0gMDsKCQl9LAoJCQkJCU4gPSAodCwgZSwgaSwgbikgPT4gewoJCQljb25zdCByID0gMiAqIGUsCgkJCQkJCXMgPSAyICogaTsKCQkJcmV0dXJuIHRbcl0gPCB0W3NdIHx8IHRbcl0gPT09IHRbc10gJiYgbltlXSA8PSBuW2ldOwoJCX0sCgkJCQkJVCA9ICh0LCBlLCBpKSA9PiB7CgkJCWNvbnN0IG4gPSB0LmhlYXBbaV07CgkJCWxldCByID0gaSA8PCAxOwoKCQkJZm9yICg7IHIgPD0gdC5oZWFwX2xlbiAmJiAociA8IHQuaGVhcF9sZW4gJiYgTihlLCB0LmhlYXBbciArIDFdLCB0LmhlYXBbcl0sIHQuZGVwdGgpICYmIHIrKywgIU4oZSwgbiwgdC5oZWFwW3JdLCB0LmRlcHRoKSk7KSB0LmhlYXBbaV0gPSB0LmhlYXBbcl0sIGkgPSByLCByIDw8PSAxOwoKCQkJdC5oZWFwW2ldID0gbjsKCQl9LAoJCQkJCU8gPSAodCwgZSwgaSkgPT4gewoJCQlsZXQgbiwKCQkJCQlyLAoJCQkJCXMsCgkJCQkJaCwKCQkJCQlsID0gMDsKCQkJaWYgKDAgIT09IHQubGFzdF9saXQpIGRvIHsKCQkJCW4gPSB0LnBlbmRpbmdfYnVmW3QuZF9idWYgKyAyICogbF0gPDwgOCB8IHQucGVuZGluZ19idWZbdC5kX2J1ZiArIDIgKiBsICsgMV0sIHIgPSB0LnBlbmRpbmdfYnVmW3QubF9idWYgKyBsXSwgbCsrLCAwID09PSBuID8gQSh0LCByLCBlKSA6IChzID0gY1tyXSwgQSh0LCBzICsgMjU2ICsgMSwgZSksIGggPSBhW3NdLCAwICE9PSBoICYmIChyIC09IHVbc10sIEUodCwgciwgaCkpLCBuLS0sIHMgPSB5KG4pLCBBKHQsIHMsIGkpLCBoID0gb1tzXSwgMCAhPT0gaCAmJiAobiAtPSB3W3NdLCBFKHQsIG4sIGgpKSk7CgkJCX0gd2hpbGUgKGwgPCB0Lmxhc3RfbGl0KTsKCQkJQSh0LCAyNTYsIGUpOwoJCX0sCgkJCQkJTCA9ICh0LCBlKSA9PiB7CgkJCWNvbnN0IGkgPSBlLmR5bl90cmVlLAoJCQkJCQluID0gZS5zdGF0X2Rlc2Muc3RhdGljX3RyZWUsCgkJCQkJCXIgPSBlLnN0YXRfZGVzYy5oYXNfc3RyZWUsCgkJCQkJCXMgPSBlLnN0YXRfZGVzYy5lbGVtczsKCQkJbGV0IGEsCgkJCQkJbywKCQkJCQloLAoJCQkJCWwgPSAtMTsKCgkJCWZvciAodC5oZWFwX2xlbiA9IDAsIHQuaGVhcF9tYXggPSA1NzMsIGEgPSAwOyBhIDwgczsgYSsrKSAwICE9PSBpWzIgKiBhXSA/ICh0LmhlYXBbKyt0LmhlYXBfbGVuXSA9IGwgPSBhLCB0LmRlcHRoW2FdID0gMCkgOiBpWzIgKiBhICsgMV0gPSAwOwoKCQkJZm9yICg7IHQuaGVhcF9sZW4gPCAyOykgaCA9IHQuaGVhcFsrK3QuaGVhcF9sZW5dID0gbCA8IDIgPyArK2wgOiAwLCBpWzIgKiBoXSA9IDEsIHQuZGVwdGhbaF0gPSAwLCB0Lm9wdF9sZW4tLSwgciAmJiAodC5zdGF0aWNfbGVuIC09IG5bMiAqIGggKyAxXSk7CgoJCQlmb3IgKGUubWF4X2NvZGUgPSBsLCBhID0gdC5oZWFwX2xlbiA+PiAxOyBhID49IDE7IGEtLSkgVCh0LCBpLCBhKTsKCgkJCWggPSBzOwoKCQkJZG8gewoJCQkJYSA9IHQuaGVhcFsxXSwgdC5oZWFwWzFdID0gdC5oZWFwW3QuaGVhcF9sZW4tLV0sIFQodCwgaSwgMSksIG8gPSB0LmhlYXBbMV0sIHQuaGVhcFstLXQuaGVhcF9tYXhdID0gYSwgdC5oZWFwWy0tdC5oZWFwX21heF0gPSBvLCBpWzIgKiBoXSA9IGlbMiAqIGFdICsgaVsyICogb10sIHQuZGVwdGhbaF0gPSAodC5kZXB0aFthXSA+PSB0LmRlcHRoW29dID8gdC5kZXB0aFthXSA6IHQuZGVwdGhbb10pICsgMSwgaVsyICogYSArIDFdID0gaVsyICogbyArIDFdID0gaCwgdC5oZWFwWzFdID0gaCsrLCBUKHQsIGksIDEpOwoJCQl9IHdoaWxlICh0LmhlYXBfbGVuID49IDIpOwoKCQkJdC5oZWFwWy0tdC5oZWFwX21heF0gPSB0LmhlYXBbMV0sICgodCwgZSkgPT4gewoJCQkJY29uc3QgaSA9IGUuZHluX3RyZWUsCgkJCQkJCQluID0gZS5tYXhfY29kZSwKCQkJCQkJCXIgPSBlLnN0YXRfZGVzYy5zdGF0aWNfdHJlZSwKCQkJCQkJCXMgPSBlLnN0YXRfZGVzYy5oYXNfc3RyZWUsCgkJCQkJCQlhID0gZS5zdGF0X2Rlc2MuZXh0cmFfYml0cywKCQkJCQkJCW8gPSBlLnN0YXRfZGVzYy5leHRyYV9iYXNlLAoJCQkJCQkJaCA9IGUuc3RhdF9kZXNjLm1heF9sZW5ndGg7CgoJCQkJbGV0IGwsCgkJCQkJCWQsCgkJCQkJCV8sCgkJCQkJCWYsCgkJCQkJCWMsCgkJCQkJCXUsCgkJCQkJCXcgPSAwOwoKCQkJCWZvciAoZiA9IDA7IGYgPD0gMTU7IGYrKykgdC5ibF9jb3VudFtmXSA9IDA7CgoJCQkJZm9yIChpWzIgKiB0LmhlYXBbdC5oZWFwX21heF0gKyAxXSA9IDAsIGwgPSB0LmhlYXBfbWF4ICsgMTsgbCA8IDU3MzsgbCsrKSBkID0gdC5oZWFwW2xdLCBmID0gaVsyICogaVsyICogZCArIDFdICsgMV0gKyAxLCBmID4gaCAmJiAoZiA9IGgsIHcrKyksIGlbMiAqIGQgKyAxXSA9IGYsIGQgPiBuIHx8ICh0LmJsX2NvdW50W2ZdKyssIGMgPSAwLCBkID49IG8gJiYgKGMgPSBhW2QgLSBvXSksIHUgPSBpWzIgKiBkXSwgdC5vcHRfbGVuICs9IHUgKiAoZiArIGMpLCBzICYmICh0LnN0YXRpY19sZW4gKz0gdSAqIChyWzIgKiBkICsgMV0gKyBjKSkpOwoKCQkJCWlmICgwICE9PSB3KSB7CgkJCQkJZG8gewoJCQkJCQlmb3IgKGYgPSBoIC0gMTsgMCA9PT0gdC5ibF9jb3VudFtmXTspIGYtLTsKCgkJCQkJCXQuYmxfY291bnRbZl0tLSwgdC5ibF9jb3VudFtmICsgMV0gKz0gMiwgdC5ibF9jb3VudFtoXS0tLCB3IC09IDI7CgkJCQkJfSB3aGlsZSAodyA+IDApOwoKCQkJCQlmb3IgKGYgPSBoOyAwICE9PSBmOyBmLS0pIGZvciAoZCA9IHQuYmxfY291bnRbZl07IDAgIT09IGQ7KSBfID0gdC5oZWFwWy0tbF0sIF8gPiBuIHx8IChpWzIgKiBfICsgMV0gIT09IGYgJiYgKHQub3B0X2xlbiArPSAoZiAtIGlbMiAqIF8gKyAxXSkgKiBpWzIgKiBfXSwgaVsyICogXyArIDFdID0gZiksIGQtLSk7CgkJCQl9CgkJCX0pKHQsIGUpLCBVKGksIGwsIHQuYmxfY291bnQpOwoJCX0sCgkJCQkJQiA9ICh0LCBlLCBpKSA9PiB7CgkJCWxldCBuLAoJCQkJCXIsCgkJCQkJcyA9IC0xLAoJCQkJCWEgPSBlWzFdLAoJCQkJCW8gPSAwLAoJCQkJCWggPSA3LAoJCQkJCWwgPSA0OwoKCQkJZm9yICgwID09PSBhICYmIChoID0gMTM4LCBsID0gMyksIGVbMiAqIChpICsgMSkgKyAxXSA9IDY1NTM1LCBuID0gMDsgbiA8PSBpOyBuKyspIHIgPSBhLCBhID0gZVsyICogKG4gKyAxKSArIDFdLCArK28gPCBoICYmIHIgPT09IGEgfHwgKG8gPCBsID8gdC5ibF90cmVlWzIgKiByXSArPSBvIDogMCAhPT0gciA/IChyICE9PSBzICYmIHQuYmxfdHJlZVsyICogcl0rKywgdC5ibF90cmVlWzMyXSsrKSA6IG8gPD0gMTAgPyB0LmJsX3RyZWVbMzRdKysgOiB0LmJsX3RyZWVbMzZdKyssIG8gPSAwLCBzID0gciwgMCA9PT0gYSA/IChoID0gMTM4LCBsID0gMykgOiByID09PSBhID8gKGggPSA2LCBsID0gMykgOiAoaCA9IDcsIGwgPSA0KSk7CgkJfSwKCQkJCQlDID0gKHQsIGUsIGkpID0+IHsKCQkJbGV0IG4sCgkJCQkJciwKCQkJCQlzID0gLTEsCgkJCQkJYSA9IGVbMV0sCgkJCQkJbyA9IDAsCgkJCQkJaCA9IDcsCgkJCQkJbCA9IDQ7CgoJCQlmb3IgKDAgPT09IGEgJiYgKGggPSAxMzgsIGwgPSAzKSwgbiA9IDA7IG4gPD0gaTsgbisrKSBpZiAociA9IGEsIGEgPSBlWzIgKiAobiArIDEpICsgMV0sICEoKytvIDwgaCAmJiByID09PSBhKSkgewoJCQkJaWYgKG8gPCBsKSBkbyB7CgkJCQkJQSh0LCByLCB0LmJsX3RyZWUpOwoJCQkJfSB3aGlsZSAoMCAhPSAtLW8pO2Vsc2UgMCAhPT0gciA/IChyICE9PSBzICYmIChBKHQsIHIsIHQuYmxfdHJlZSksIG8tLSksIEEodCwgMTYsIHQuYmxfdHJlZSksIEUodCwgbyAtIDMsIDIpKSA6IG8gPD0gMTAgPyAoQSh0LCAxNywgdC5ibF90cmVlKSwgRSh0LCBvIC0gMywgMykpIDogKEEodCwgMTgsIHQuYmxfdHJlZSksIEUodCwgbyAtIDExLCA3KSk7CgkJCQlvID0gMCwgcyA9IHIsIDAgPT09IGEgPyAoaCA9IDEzOCwgbCA9IDMpIDogciA9PT0gYSA/IChoID0gNiwgbCA9IDMpIDogKGggPSA3LCBsID0gNCk7CgkJCX0KCQl9OwoKCQlsZXQgRCA9ICExOwoKCQljb25zdCBJID0gKHQsIGUsIGksIG4pID0+IHsKCQkJRSh0LCAwICsgKG4gPyAxIDogMCksIDMpLCAoKHQsIGUsIGksIG4pID0+IHsKCQkJCVIodCksIHYodCwgaSksIHYodCwgfmkpLCB0LnBlbmRpbmdfYnVmLnNldCh0LndpbmRvdy5zdWJhcnJheShlLCBlICsgaSksIHQucGVuZGluZyksIHQucGVuZGluZyArPSBpOwoJCQl9KSh0LCBlLCBpKTsKCQl9OwoKCQl2YXIgUyA9IHsKCQkJX3RyX2luaXQ6IHQgPT4gewoJCQkJRCB8fCAoKCgpID0+IHsKCQkJCQlsZXQgdCwgZSwgaSwgbiwgcjsKCQkJCQljb25zdCBzID0gbmV3IEFycmF5KDE2KTsKCgkJCQkJZm9yIChpID0gMCwgbiA9IDA7IG4gPCAyODsgbisrKSBmb3IgKHVbbl0gPSBpLCB0ID0gMDsgdCA8IDEgPDwgYVtuXTsgdCsrKSBjW2krK10gPSBuOwoKCQkJCQlmb3IgKGNbaSAtIDFdID0gbiwgciA9IDAsIG4gPSAwOyBuIDwgMTY7IG4rKykgZm9yICh3W25dID0gciwgdCA9IDA7IHQgPCAxIDw8IG9bbl07IHQrKykgZltyKytdID0gbjsKCgkJCQkJZm9yIChyID4+PSA3OyBuIDwgMzA7IG4rKykgZm9yICh3W25dID0gciA8PCA3LCB0ID0gMDsgdCA8IDEgPDwgb1tuXSAtIDc7IHQrKykgZlsyNTYgKyByKytdID0gbjsKCgkJCQkJZm9yIChlID0gMDsgZSA8PSAxNTsgZSsrKSBzW2VdID0gMDsKCgkJCQkJZm9yICh0ID0gMDsgdCA8PSAxNDM7KSBkWzIgKiB0ICsgMV0gPSA4LCB0KyssIHNbOF0rKzsKCgkJCQkJZm9yICg7IHQgPD0gMjU1OykgZFsyICogdCArIDFdID0gOSwgdCsrLCBzWzldKys7CgoJCQkJCWZvciAoOyB0IDw9IDI3OTspIGRbMiAqIHQgKyAxXSA9IDcsIHQrKywgc1s3XSsrOwoKCQkJCQlmb3IgKDsgdCA8PSAyODc7KSBkWzIgKiB0ICsgMV0gPSA4LCB0KyssIHNbOF0rKzsKCgkJCQkJZm9yIChVKGQsIDI4NywgcyksIHQgPSAwOyB0IDwgMzA7IHQrKykgX1syICogdCArIDFdID0gNSwgX1syICogdF0gPSB4KHQsIDUpOwoKCQkJCQlnID0gbmV3IHAoZCwgYSwgMjU3LCAyODYsIDE1KSwgYiA9IG5ldyBwKF8sIG8sIDAsIDMwLCAxNSksIG0gPSBuZXcgcChuZXcgQXJyYXkoMCksIGgsIDAsIDE5LCA3KTsKCQkJCX0pKCksIEQgPSAhMCksIHQubF9kZXNjID0gbmV3IGsodC5keW5fbHRyZWUsIGcpLCB0LmRfZGVzYyA9IG5ldyBrKHQuZHluX2R0cmVlLCBiKSwgdC5ibF9kZXNjID0gbmV3IGsodC5ibF90cmVlLCBtKSwgdC5iaV9idWYgPSAwLCB0LmJpX3ZhbGlkID0gMCwgeih0KTsKCQkJfSwKCQkJX3RyX3N0b3JlZF9ibG9jazogSSwKCQkJX3RyX2ZsdXNoX2Jsb2NrOiAodCwgZSwgaSwgbikgPT4gewoJCQkJbGV0IHIsCgkJCQkJCXMsCgkJCQkJCWEgPSAwOwoJCQkJdC5sZXZlbCA+IDAgPyAoMiA9PT0gdC5zdHJtLmRhdGFfdHlwZSAmJiAodC5zdHJtLmRhdGFfdHlwZSA9ICh0ID0+IHsKCQkJCQlsZXQgZSwKCQkJCQkJCWkgPSA0MDkzNjI0NDQ3OwoKCQkJCQlmb3IgKGUgPSAwOyBlIDw9IDMxOyBlKyssIGkgPj4+PSAxKSBpZiAoMSAmIGkgJiYgMCAhPT0gdC5keW5fbHRyZWVbMiAqIGVdKSByZXR1cm4gMDsKCgkJCQkJaWYgKDAgIT09IHQuZHluX2x0cmVlWzE4XSB8fCAwICE9PSB0LmR5bl9sdHJlZVsyMF0gfHwgMCAhPT0gdC5keW5fbHRyZWVbMjZdKSByZXR1cm4gMTsKCgkJCQkJZm9yIChlID0gMzI7IGUgPCAyNTY7IGUrKykgaWYgKDAgIT09IHQuZHluX2x0cmVlWzIgKiBlXSkgcmV0dXJuIDE7CgoJCQkJCXJldHVybiAwOwoJCQkJfSkodCkpLCBMKHQsIHQubF9kZXNjKSwgTCh0LCB0LmRfZGVzYyksIGEgPSAodCA9PiB7CgkJCQkJbGV0IGU7CgoJCQkJCWZvciAoQih0LCB0LmR5bl9sdHJlZSwgdC5sX2Rlc2MubWF4X2NvZGUpLCBCKHQsIHQuZHluX2R0cmVlLCB0LmRfZGVzYy5tYXhfY29kZSksIEwodCwgdC5ibF9kZXNjKSwgZSA9IDE4OyBlID49IDMgJiYgMCA9PT0gdC5ibF90cmVlWzIgKiBsW2VdICsgMV07IGUtLSk7CgoJCQkJCXJldHVybiB0Lm9wdF9sZW4gKz0gMyAqIChlICsgMSkgKyA1ICsgNSArIDQsIGU7CgkJCQl9KSh0KSwgciA9IHQub3B0X2xlbiArIDMgKyA3ID4+PiAzLCBzID0gdC5zdGF0aWNfbGVuICsgMyArIDcgPj4+IDMsIHMgPD0gciAmJiAociA9IHMpKSA6IHIgPSBzID0gaSArIDUsIGkgKyA0IDw9IHIgJiYgLTEgIT09IGUgPyBJKHQsIGUsIGksIG4pIDogNCA9PT0gdC5zdHJhdGVneSB8fCBzID09PSByID8gKEUodCwgMiArIChuID8gMSA6IDApLCAzKSwgTyh0LCBkLCBfKSkgOiAoRSh0LCA0ICsgKG4gPyAxIDogMCksIDMpLCAoKHQsIGUsIGksIG4pID0+IHsKCQkJCQlsZXQgcjsKCgkJCQkJZm9yIChFKHQsIGUgLSAyNTcsIDUpLCBFKHQsIGkgLSAxLCA1KSwgRSh0LCBuIC0gNCwgNCksIHIgPSAwOyByIDwgbjsgcisrKSBFKHQsIHQuYmxfdHJlZVsyICogbFtyXSArIDFdLCAzKTsKCgkJCQkJQyh0LCB0LmR5bl9sdHJlZSwgZSAtIDEpLCBDKHQsIHQuZHluX2R0cmVlLCBpIC0gMSk7CgkJCQl9KSh0LCB0LmxfZGVzYy5tYXhfY29kZSArIDEsIHQuZF9kZXNjLm1heF9jb2RlICsgMSwgYSArIDEpLCBPKHQsIHQuZHluX2x0cmVlLCB0LmR5bl9kdHJlZSkpLCB6KHQpLCBuICYmIFIodCk7CgkJCX0sCgkJCV90cl90YWxseTogKHQsIGUsIGkpID0+ICh0LnBlbmRpbmdfYnVmW3QuZF9idWYgKyAyICogdC5sYXN0X2xpdF0gPSBlID4+PiA4ICYgMjU1LCB0LnBlbmRpbmdfYnVmW3QuZF9idWYgKyAyICogdC5sYXN0X2xpdCArIDFdID0gMjU1ICYgZSwgdC5wZW5kaW5nX2J1Zlt0LmxfYnVmICsgdC5sYXN0X2xpdF0gPSAyNTUgJiBpLCB0Lmxhc3RfbGl0KyssIDAgPT09IGUgPyB0LmR5bl9sdHJlZVsyICogaV0rKyA6ICh0Lm1hdGNoZXMrKywgZS0tLCB0LmR5bl9sdHJlZVsyICogKGNbaV0gKyAyNTYgKyAxKV0rKywgdC5keW5fZHRyZWVbMiAqIHkoZSldKyspLCB0Lmxhc3RfbGl0ID09PSB0LmxpdF9idWZzaXplIC0gMSksCgkJCV90cl9hbGlnbjogdCA9PiB7CgkJCQlFKHQsIDIsIDMpLCBBKHQsIDI1NiwgZCksICh0ID0+IHsKCQkJCQkxNiA9PT0gdC5iaV92YWxpZCA/ICh2KHQsIHQuYmlfYnVmKSwgdC5iaV9idWYgPSAwLCB0LmJpX3ZhbGlkID0gMCkgOiB0LmJpX3ZhbGlkID49IDggJiYgKHQucGVuZGluZ19idWZbdC5wZW5kaW5nKytdID0gMjU1ICYgdC5iaV9idWYsIHQuYmlfYnVmID4+PSA4LCB0LmJpX3ZhbGlkIC09IDgpOwoJCQkJfSkodCk7CgkJCX0KCQl9LAoJCQkJWiA9ICh0LCBlLCBpLCBuKSA9PiB7CgkJCWxldCByID0gNjU1MzUgJiB0IHwgMCwKCQkJCQlzID0gdCA+Pj4gMTYgJiA2NTUzNSB8IDAsCgkJCQkJYSA9IDA7CgoJCQlmb3IgKDsgMCAhPT0gaTspIHsKCQkJCWEgPSBpID4gMmUzID8gMmUzIDogaSwgaSAtPSBhOwoKCQkJCWRvIHsKCQkJCQlyID0gciArIGVbbisrXSB8IDAsIHMgPSBzICsgciB8IDA7CgkJCQl9IHdoaWxlICgtLWEpOwoKCQkJCXIgJT0gNjU1MjEsIHMgJT0gNjU1MjE7CgkJCX0KCgkJCXJldHVybiByIHwgcyA8PCAxNiB8IDA7CgkJfTsKCgkJY29uc3QgRiA9IG5ldyBVaW50MzJBcnJheSgoKCkgPT4gewoJCQlsZXQgdCwKCQkJCQllID0gW107CgoJCQlmb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgaSsrKSB7CgkJCQl0ID0gaTsKCgkJCQlmb3IgKHZhciBuID0gMDsgbiA8IDg7IG4rKykgdCA9IDEgJiB0ID8gMzk4ODI5MjM4NCBeIHQgPj4+IDEgOiB0ID4+PiAxOwoKCQkJCWVbaV0gPSB0OwoJCQl9CgoJCQlyZXR1cm4gZTsKCQl9KSgpKTsKCgkJdmFyIE0gPSAodCwgZSwgaSwgbikgPT4gewoJCQljb25zdCByID0gRiwKCQkJCQkJcyA9IG4gKyBpOwoJCQl0IF49IC0xOwoKCQkJZm9yIChsZXQgaSA9IG47IGkgPCBzOyBpKyspIHQgPSB0ID4+PiA4IF4gclsyNTUgJiAodCBeIGVbaV0pXTsKCgkJCXJldHVybiAtMSBeIHQ7CgkJfSwKCQkJCVAgPSB7CgkJCTI6ICJuZWVkIGRpY3Rpb25hcnkiLAoJCQkxOiAic3RyZWFtIGVuZCIsCgkJCTA6ICIiLAoJCQkiLTEiOiAiZmlsZSBlcnJvciIsCgkJCSItMiI6ICJzdHJlYW0gZXJyb3IiLAoJCQkiLTMiOiAiZGF0YSBlcnJvciIsCgkJCSItNCI6ICJpbnN1ZmZpY2llbnQgbWVtb3J5IiwKCQkJIi01IjogImJ1ZmZlciBlcnJvciIsCgkJCSItNiI6ICJpbmNvbXBhdGlibGUgdmVyc2lvbiIKCQl9LAoJCQkJSCA9IHsKCQkJWl9OT19GTFVTSDogMCwKCQkJWl9QQVJUSUFMX0ZMVVNIOiAxLAoJCQlaX1NZTkNfRkxVU0g6IDIsCgkJCVpfRlVMTF9GTFVTSDogMywKCQkJWl9GSU5JU0g6IDQsCgkJCVpfQkxPQ0s6IDUsCgkJCVpfVFJFRVM6IDYsCgkJCVpfT0s6IDAsCgkJCVpfU1RSRUFNX0VORDogMSwKCQkJWl9ORUVEX0RJQ1Q6IDIsCgkJCVpfRVJSTk86IC0xLAoJCQlaX1NUUkVBTV9FUlJPUjogLTIsCgkJCVpfREFUQV9FUlJPUjogLTMsCgkJCVpfTUVNX0VSUk9SOiAtNCwKCQkJWl9CVUZfRVJST1I6IC01LAoJCQlaX05PX0NPTVBSRVNTSU9OOiAwLAoJCQlaX0JFU1RfU1BFRUQ6IDEsCgkJCVpfQkVTVF9DT01QUkVTU0lPTjogOSwKCQkJWl9ERUZBVUxUX0NPTVBSRVNTSU9OOiAtMSwKCQkJWl9GSUxURVJFRDogMSwKCQkJWl9IVUZGTUFOX09OTFk6IDIsCgkJCVpfUkxFOiAzLAoJCQlaX0ZJWEVEOiA0LAoJCQlaX0RFRkFVTFRfU1RSQVRFR1k6IDAsCgkJCVpfQklOQVJZOiAwLAoJCQlaX1RFWFQ6IDEsCgkJCVpfVU5LTk9XTjogMiwKCQkJWl9ERUZMQVRFRDogOAoJCX07CgoJCWNvbnN0IHsKCQkJX3RyX2luaXQ6IFcsCgkJCV90cl9zdG9yZWRfYmxvY2s6IEssCgkJCV90cl9mbHVzaF9ibG9jazogJCwKCQkJX3RyX3RhbGx5OiBZLAoJCQlfdHJfYWxpZ246IGoKCQl9ID0gUywKCQkJCQl7CgkJCVpfTk9fRkxVU0g6IEcsCgkJCVpfUEFSVElBTF9GTFVTSDogWCwKCQkJWl9GVUxMX0ZMVVNIOiBWLAoJCQlaX0ZJTklTSDogcSwKCQkJWl9CTE9DSzogSiwKCQkJWl9PSzogUSwKCQkJWl9TVFJFQU1fRU5EOiB0dCwKCQkJWl9TVFJFQU1fRVJST1I6IGV0LAoJCQlaX0RBVEFfRVJST1I6IGl0LAoJCQlaX0JVRl9FUlJPUjogbnQsCgkJCVpfREVGQVVMVF9DT01QUkVTU0lPTjogcnQsCgkJCVpfRklMVEVSRUQ6IHN0LAoJCQlaX0hVRkZNQU5fT05MWTogYXQsCgkJCVpfUkxFOiBvdCwKCQkJWl9GSVhFRDogaHQsCgkJCVpfREVGQVVMVF9TVFJBVEVHWTogbHQsCgkJCVpfVU5LTk9XTjogZHQsCgkJCVpfREVGTEFURUQ6IF90CgkJfSA9IEgsCgkJCQkJZnQgPSAyNTgsCgkJCQkJY3QgPSAyNjIsCgkJCQkJdXQgPSAxMDMsCgkJCQkJd3QgPSAxMTMsCgkJCQkJcHQgPSA2NjYsCgkJCQkJZ3QgPSAodCwgZSkgPT4gKHQubXNnID0gUFtlXSwgZSksCgkJCQkJYnQgPSB0ID0+ICh0IDw8IDEpIC0gKHQgPiA0ID8gOSA6IDApLAoJCQkJCW10ID0gdCA9PiB7CgkJCWxldCBlID0gdC5sZW5ndGg7CgoJCQlmb3IgKDsgLS1lID49IDA7KSB0W2VdID0gMDsKCQl9OwoKCQlsZXQga3QgPSAodCwgZSwgaSkgPT4gKGUgPDwgdC5oYXNoX3NoaWZ0IF4gaSkgJiB0Lmhhc2hfbWFzazsKCgkJY29uc3QgeXQgPSB0ID0+IHsKCQkJY29uc3QgZSA9IHQuc3RhdGU7CgkJCWxldCBpID0gZS5wZW5kaW5nOwoJCQlpID4gdC5hdmFpbF9vdXQgJiYgKGkgPSB0LmF2YWlsX291dCksIDAgIT09IGkgJiYgKHQub3V0cHV0LnNldChlLnBlbmRpbmdfYnVmLnN1YmFycmF5KGUucGVuZGluZ19vdXQsIGUucGVuZGluZ19vdXQgKyBpKSwgdC5uZXh0X291dCksIHQubmV4dF9vdXQgKz0gaSwgZS5wZW5kaW5nX291dCArPSBpLCB0LnRvdGFsX291dCArPSBpLCB0LmF2YWlsX291dCAtPSBpLCBlLnBlbmRpbmcgLT0gaSwgMCA9PT0gZS5wZW5kaW5nICYmIChlLnBlbmRpbmdfb3V0ID0gMCkpOwoJCX0sCgkJCQkJdnQgPSAodCwgZSkgPT4gewoJCQkkKHQsIHQuYmxvY2tfc3RhcnQgPj0gMCA/IHQuYmxvY2tfc3RhcnQgOiAtMSwgdC5zdHJzdGFydCAtIHQuYmxvY2tfc3RhcnQsIGUpLCB0LmJsb2NrX3N0YXJ0ID0gdC5zdHJzdGFydCwgeXQodC5zdHJtKTsKCQl9LAoJCQkJCUV0ID0gKHQsIGUpID0+IHsKCQkJdC5wZW5kaW5nX2J1Zlt0LnBlbmRpbmcrK10gPSBlOwoJCX0sCgkJCQkJQXQgPSAodCwgZSkgPT4gewoJCQl0LnBlbmRpbmdfYnVmW3QucGVuZGluZysrXSA9IGUgPj4+IDggJiAyNTUsIHQucGVuZGluZ19idWZbdC5wZW5kaW5nKytdID0gMjU1ICYgZTsKCQl9LAoJCQkJCXh0ID0gKHQsIGUsIGksIG4pID0+IHsKCQkJbGV0IHIgPSB0LmF2YWlsX2luOwoJCQlyZXR1cm4gciA+IG4gJiYgKHIgPSBuKSwgMCA9PT0gciA/IDAgOiAodC5hdmFpbF9pbiAtPSByLCBlLnNldCh0LmlucHV0LnN1YmFycmF5KHQubmV4dF9pbiwgdC5uZXh0X2luICsgciksIGkpLCAxID09PSB0LnN0YXRlLndyYXAgPyB0LmFkbGVyID0gWih0LmFkbGVyLCBlLCByLCBpKSA6IDIgPT09IHQuc3RhdGUud3JhcCAmJiAodC5hZGxlciA9IE0odC5hZGxlciwgZSwgciwgaSkpLCB0Lm5leHRfaW4gKz0gciwgdC50b3RhbF9pbiArPSByLCByKTsKCQl9LAoJCQkJCVV0ID0gKHQsIGUpID0+IHsKCQkJbGV0IGksCgkJCQkJbiwKCQkJCQlyID0gdC5tYXhfY2hhaW5fbGVuZ3RoLAoJCQkJCXMgPSB0LnN0cnN0YXJ0LAoJCQkJCWEgPSB0LnByZXZfbGVuZ3RoLAoJCQkJCW8gPSB0Lm5pY2VfbWF0Y2g7CgkJCWNvbnN0IGggPSB0LnN0cnN0YXJ0ID4gdC53X3NpemUgLSBjdCA/IHQuc3Ryc3RhcnQgLSAodC53X3NpemUgLSBjdCkgOiAwLAoJCQkJCQlsID0gdC53aW5kb3csCgkJCQkJCWQgPSB0LndfbWFzaywKCQkJCQkJXyA9IHQucHJldiwKCQkJCQkJZiA9IHQuc3Ryc3RhcnQgKyBmdDsKCQkJbGV0IGMgPSBsW3MgKyBhIC0gMV0sCgkJCQkJdSA9IGxbcyArIGFdOwoJCQl0LnByZXZfbGVuZ3RoID49IHQuZ29vZF9tYXRjaCAmJiAociA+Pj0gMiksIG8gPiB0Lmxvb2thaGVhZCAmJiAobyA9IHQubG9va2FoZWFkKTsKCgkJCWRvIHsKCQkJCWlmIChpID0gZSwgbFtpICsgYV0gPT09IHUgJiYgbFtpICsgYSAtIDFdID09PSBjICYmIGxbaV0gPT09IGxbc10gJiYgbFsrK2ldID09PSBsW3MgKyAxXSkgewoJCQkJCXMgKz0gMiwgaSsrOwoKCQkJCQlkbyB7fSB3aGlsZSAobFsrK3NdID09PSBsWysraV0gJiYgbFsrK3NdID09PSBsWysraV0gJiYgbFsrK3NdID09PSBsWysraV0gJiYgbFsrK3NdID09PSBsWysraV0gJiYgbFsrK3NdID09PSBsWysraV0gJiYgbFsrK3NdID09PSBsWysraV0gJiYgbFsrK3NdID09PSBsWysraV0gJiYgbFsrK3NdID09PSBsWysraV0gJiYgcyA8IGYpOwoKCQkJCQlpZiAobiA9IGZ0IC0gKGYgLSBzKSwgcyA9IGYgLSBmdCwgbiA+IGEpIHsKCQkJCQkJaWYgKHQubWF0Y2hfc3RhcnQgPSBlLCBhID0gbiwgbiA+PSBvKSBicmVhazsKCQkJCQkJYyA9IGxbcyArIGEgLSAxXSwgdSA9IGxbcyArIGFdOwoJCQkJCX0KCQkJCX0KCQkJfSB3aGlsZSAoKGUgPSBfW2UgJiBkXSkgPiBoICYmIDAgIT0gLS1yKTsKCgkJCXJldHVybiBhIDw9IHQubG9va2FoZWFkID8gYSA6IHQubG9va2FoZWFkOwoJCX0sCgkJCQkJenQgPSB0ID0+IHsKCQkJY29uc3QgZSA9IHQud19zaXplOwoJCQlsZXQgaSwgbiwgciwgcywgYTsKCgkJCWRvIHsKCQkJCWlmIChzID0gdC53aW5kb3dfc2l6ZSAtIHQubG9va2FoZWFkIC0gdC5zdHJzdGFydCwgdC5zdHJzdGFydCA+PSBlICsgKGUgLSBjdCkpIHsKCQkJCQl0LndpbmRvdy5zZXQodC53aW5kb3cuc3ViYXJyYXkoZSwgZSArIGUpLCAwKSwgdC5tYXRjaF9zdGFydCAtPSBlLCB0LnN0cnN0YXJ0IC09IGUsIHQuYmxvY2tfc3RhcnQgLT0gZSwgbiA9IHQuaGFzaF9zaXplLCBpID0gbjsKCgkJCQkJZG8gewoJCQkJCQlyID0gdC5oZWFkWy0taV0sIHQuaGVhZFtpXSA9IHIgPj0gZSA/IHIgLSBlIDogMDsKCQkJCQl9IHdoaWxlICgtLW4pOwoKCQkJCQluID0gZSwgaSA9IG47CgoJCQkJCWRvIHsKCQkJCQkJciA9IHQucHJldlstLWldLCB0LnByZXZbaV0gPSByID49IGUgPyByIC0gZSA6IDA7CgkJCQkJfSB3aGlsZSAoLS1uKTsKCgkJCQkJcyArPSBlOwoJCQkJfQoKCQkJCWlmICgwID09PSB0LnN0cm0uYXZhaWxfaW4pIGJyZWFrOwoJCQkJaWYgKG4gPSB4dCh0LnN0cm0sIHQud2luZG93LCB0LnN0cnN0YXJ0ICsgdC5sb29rYWhlYWQsIHMpLCB0Lmxvb2thaGVhZCArPSBuLCB0Lmxvb2thaGVhZCArIHQuaW5zZXJ0ID49IDMpIGZvciAoYSA9IHQuc3Ryc3RhcnQgLSB0Lmluc2VydCwgdC5pbnNfaCA9IHQud2luZG93W2FdLCB0Lmluc19oID0ga3QodCwgdC5pbnNfaCwgdC53aW5kb3dbYSArIDFdKTsgdC5pbnNlcnQgJiYgKHQuaW5zX2ggPSBrdCh0LCB0Lmluc19oLCB0LndpbmRvd1thICsgMyAtIDFdKSwgdC5wcmV2W2EgJiB0LndfbWFza10gPSB0LmhlYWRbdC5pbnNfaF0sIHQuaGVhZFt0Lmluc19oXSA9IGEsIGErKywgdC5pbnNlcnQtLSwgISh0Lmxvb2thaGVhZCArIHQuaW5zZXJ0IDwgMykpOyk7CgkJCX0gd2hpbGUgKHQubG9va2FoZWFkIDwgY3QgJiYgMCAhPT0gdC5zdHJtLmF2YWlsX2luKTsKCQl9LAoJCQkJCVJ0ID0gKHQsIGUpID0+IHsKCQkJbGV0IGksIG47CgoJCQlmb3IgKDs7KSB7CgkJCQlpZiAodC5sb29rYWhlYWQgPCBjdCkgewoJCQkJCWlmICh6dCh0KSwgdC5sb29rYWhlYWQgPCBjdCAmJiBlID09PSBHKSByZXR1cm4gMTsKCQkJCQlpZiAoMCA9PT0gdC5sb29rYWhlYWQpIGJyZWFrOwoJCQkJfQoKCQkJCWlmIChpID0gMCwgdC5sb29rYWhlYWQgPj0gMyAmJiAodC5pbnNfaCA9IGt0KHQsIHQuaW5zX2gsIHQud2luZG93W3Quc3Ryc3RhcnQgKyAzIC0gMV0pLCBpID0gdC5wcmV2W3Quc3Ryc3RhcnQgJiB0LndfbWFza10gPSB0LmhlYWRbdC5pbnNfaF0sIHQuaGVhZFt0Lmluc19oXSA9IHQuc3Ryc3RhcnQpLCAwICE9PSBpICYmIHQuc3Ryc3RhcnQgLSBpIDw9IHQud19zaXplIC0gY3QgJiYgKHQubWF0Y2hfbGVuZ3RoID0gVXQodCwgaSkpLCB0Lm1hdGNoX2xlbmd0aCA+PSAzKSB7CgkJCQkJaWYgKG4gPSBZKHQsIHQuc3Ryc3RhcnQgLSB0Lm1hdGNoX3N0YXJ0LCB0Lm1hdGNoX2xlbmd0aCAtIDMpLCB0Lmxvb2thaGVhZCAtPSB0Lm1hdGNoX2xlbmd0aCwgdC5tYXRjaF9sZW5ndGggPD0gdC5tYXhfbGF6eV9tYXRjaCAmJiB0Lmxvb2thaGVhZCA+PSAzKSB7CgkJCQkJCXQubWF0Y2hfbGVuZ3RoLS07CgoJCQkJCQlkbyB7CgkJCQkJCQl0LnN0cnN0YXJ0KyssIHQuaW5zX2ggPSBrdCh0LCB0Lmluc19oLCB0LndpbmRvd1t0LnN0cnN0YXJ0ICsgMyAtIDFdKSwgaSA9IHQucHJldlt0LnN0cnN0YXJ0ICYgdC53X21hc2tdID0gdC5oZWFkW3QuaW5zX2hdLCB0LmhlYWRbdC5pbnNfaF0gPSB0LnN0cnN0YXJ0OwoJCQkJCQl9IHdoaWxlICgwICE9IC0tdC5tYXRjaF9sZW5ndGgpOwoKCQkJCQkJdC5zdHJzdGFydCsrOwoJCQkJCX0gZWxzZSB0LnN0cnN0YXJ0ICs9IHQubWF0Y2hfbGVuZ3RoLCB0Lm1hdGNoX2xlbmd0aCA9IDAsIHQuaW5zX2ggPSB0LndpbmRvd1t0LnN0cnN0YXJ0XSwgdC5pbnNfaCA9IGt0KHQsIHQuaW5zX2gsIHQud2luZG93W3Quc3Ryc3RhcnQgKyAxXSk7CgkJCQl9IGVsc2UgbiA9IFkodCwgMCwgdC53aW5kb3dbdC5zdHJzdGFydF0pLCB0Lmxvb2thaGVhZC0tLCB0LnN0cnN0YXJ0Kys7CgkJCQlpZiAobiAmJiAodnQodCwgITEpLCAwID09PSB0LnN0cm0uYXZhaWxfb3V0KSkgcmV0dXJuIDE7CgkJCX0KCgkJCXJldHVybiB0Lmluc2VydCA9IHQuc3Ryc3RhcnQgPCAyID8gdC5zdHJzdGFydCA6IDIsIGUgPT09IHEgPyAodnQodCwgITApLCAwID09PSB0LnN0cm0uYXZhaWxfb3V0ID8gMyA6IDQpIDogdC5sYXN0X2xpdCAmJiAodnQodCwgITEpLCAwID09PSB0LnN0cm0uYXZhaWxfb3V0KSA/IDEgOiAyOwoJCX0sCgkJCQkJTnQgPSAodCwgZSkgPT4gewoJCQlsZXQgaSwgbiwgcjsKCgkJCWZvciAoOzspIHsKCQkJCWlmICh0Lmxvb2thaGVhZCA8IGN0KSB7CgkJCQkJaWYgKHp0KHQpLCB0Lmxvb2thaGVhZCA8IGN0ICYmIGUgPT09IEcpIHJldHVybiAxOwoJCQkJCWlmICgwID09PSB0Lmxvb2thaGVhZCkgYnJlYWs7CgkJCQl9CgoJCQkJaWYgKGkgPSAwLCB0Lmxvb2thaGVhZCA+PSAzICYmICh0Lmluc19oID0ga3QodCwgdC5pbnNfaCwgdC53aW5kb3dbdC5zdHJzdGFydCArIDMgLSAxXSksIGkgPSB0LnByZXZbdC5zdHJzdGFydCAmIHQud19tYXNrXSA9IHQuaGVhZFt0Lmluc19oXSwgdC5oZWFkW3QuaW5zX2hdID0gdC5zdHJzdGFydCksIHQucHJldl9sZW5ndGggPSB0Lm1hdGNoX2xlbmd0aCwgdC5wcmV2X21hdGNoID0gdC5tYXRjaF9zdGFydCwgdC5tYXRjaF9sZW5ndGggPSAyLCAwICE9PSBpICYmIHQucHJldl9sZW5ndGggPCB0Lm1heF9sYXp5X21hdGNoICYmIHQuc3Ryc3RhcnQgLSBpIDw9IHQud19zaXplIC0gY3QgJiYgKHQubWF0Y2hfbGVuZ3RoID0gVXQodCwgaSksIHQubWF0Y2hfbGVuZ3RoIDw9IDUgJiYgKHQuc3RyYXRlZ3kgPT09IHN0IHx8IDMgPT09IHQubWF0Y2hfbGVuZ3RoICYmIHQuc3Ryc3RhcnQgLSB0Lm1hdGNoX3N0YXJ0ID4gNDA5NikgJiYgKHQubWF0Y2hfbGVuZ3RoID0gMikpLCB0LnByZXZfbGVuZ3RoID49IDMgJiYgdC5tYXRjaF9sZW5ndGggPD0gdC5wcmV2X2xlbmd0aCkgewoJCQkJCXIgPSB0LnN0cnN0YXJ0ICsgdC5sb29rYWhlYWQgLSAzLCBuID0gWSh0LCB0LnN0cnN0YXJ0IC0gMSAtIHQucHJldl9tYXRjaCwgdC5wcmV2X2xlbmd0aCAtIDMpLCB0Lmxvb2thaGVhZCAtPSB0LnByZXZfbGVuZ3RoIC0gMSwgdC5wcmV2X2xlbmd0aCAtPSAyOwoKCQkJCQlkbyB7CgkJCQkJCSsrdC5zdHJzdGFydCA8PSByICYmICh0Lmluc19oID0ga3QodCwgdC5pbnNfaCwgdC53aW5kb3dbdC5zdHJzdGFydCArIDMgLSAxXSksIGkgPSB0LnByZXZbdC5zdHJzdGFydCAmIHQud19tYXNrXSA9IHQuaGVhZFt0Lmluc19oXSwgdC5oZWFkW3QuaW5zX2hdID0gdC5zdHJzdGFydCk7CgkJCQkJfSB3aGlsZSAoMCAhPSAtLXQucHJldl9sZW5ndGgpOwoKCQkJCQlpZiAodC5tYXRjaF9hdmFpbGFibGUgPSAwLCB0Lm1hdGNoX2xlbmd0aCA9IDIsIHQuc3Ryc3RhcnQrKywgbiAmJiAodnQodCwgITEpLCAwID09PSB0LnN0cm0uYXZhaWxfb3V0KSkgcmV0dXJuIDE7CgkJCQl9IGVsc2UgaWYgKHQubWF0Y2hfYXZhaWxhYmxlKSB7CgkJCQkJaWYgKG4gPSBZKHQsIDAsIHQud2luZG93W3Quc3Ryc3RhcnQgLSAxXSksIG4gJiYgdnQodCwgITEpLCB0LnN0cnN0YXJ0KyssIHQubG9va2FoZWFkLS0sIDAgPT09IHQuc3RybS5hdmFpbF9vdXQpIHJldHVybiAxOwoJCQkJfSBlbHNlIHQubWF0Y2hfYXZhaWxhYmxlID0gMSwgdC5zdHJzdGFydCsrLCB0Lmxvb2thaGVhZC0tOwoJCQl9CgoJCQlyZXR1cm4gdC5tYXRjaF9hdmFpbGFibGUgJiYgKG4gPSBZKHQsIDAsIHQud2luZG93W3Quc3Ryc3RhcnQgLSAxXSksIHQubWF0Y2hfYXZhaWxhYmxlID0gMCksIHQuaW5zZXJ0ID0gdC5zdHJzdGFydCA8IDIgPyB0LnN0cnN0YXJ0IDogMiwgZSA9PT0gcSA/ICh2dCh0LCAhMCksIDAgPT09IHQuc3RybS5hdmFpbF9vdXQgPyAzIDogNCkgOiB0Lmxhc3RfbGl0ICYmICh2dCh0LCAhMSksIDAgPT09IHQuc3RybS5hdmFpbF9vdXQpID8gMSA6IDI7CgkJfTsKCgkJZnVuY3Rpb24gVHQodCwgZSwgaSwgbiwgcikgewoJCQl0aGlzLmdvb2RfbGVuZ3RoID0gdCwgdGhpcy5tYXhfbGF6eSA9IGUsIHRoaXMubmljZV9sZW5ndGggPSBpLCB0aGlzLm1heF9jaGFpbiA9IG4sIHRoaXMuZnVuYyA9IHI7CgkJfQoKCQljb25zdCBPdCA9IFtuZXcgVHQoMCwgMCwgMCwgMCwgKHQsIGUpID0+IHsKCQkJbGV0IGkgPSA2NTUzNTsKCgkJCWZvciAoaSA+IHQucGVuZGluZ19idWZfc2l6ZSAtIDUgJiYgKGkgPSB0LnBlbmRpbmdfYnVmX3NpemUgLSA1KTs7KSB7CgkJCQlpZiAodC5sb29rYWhlYWQgPD0gMSkgewoJCQkJCWlmICh6dCh0KSwgMCA9PT0gdC5sb29rYWhlYWQgJiYgZSA9PT0gRykgcmV0dXJuIDE7CgkJCQkJaWYgKDAgPT09IHQubG9va2FoZWFkKSBicmVhazsKCQkJCX0KCgkJCQl0LnN0cnN0YXJ0ICs9IHQubG9va2FoZWFkLCB0Lmxvb2thaGVhZCA9IDA7CgkJCQljb25zdCBuID0gdC5ibG9ja19zdGFydCArIGk7CgkJCQlpZiAoKDAgPT09IHQuc3Ryc3RhcnQgfHwgdC5zdHJzdGFydCA+PSBuKSAmJiAodC5sb29rYWhlYWQgPSB0LnN0cnN0YXJ0IC0gbiwgdC5zdHJzdGFydCA9IG4sIHZ0KHQsICExKSwgMCA9PT0gdC5zdHJtLmF2YWlsX291dCkpIHJldHVybiAxOwoJCQkJaWYgKHQuc3Ryc3RhcnQgLSB0LmJsb2NrX3N0YXJ0ID49IHQud19zaXplIC0gY3QgJiYgKHZ0KHQsICExKSwgMCA9PT0gdC5zdHJtLmF2YWlsX291dCkpIHJldHVybiAxOwoJCQl9CgoJCQlyZXR1cm4gdC5pbnNlcnQgPSAwLCBlID09PSBxID8gKHZ0KHQsICEwKSwgMCA9PT0gdC5zdHJtLmF2YWlsX291dCA/IDMgOiA0KSA6ICh0LnN0cnN0YXJ0ID4gdC5ibG9ja19zdGFydCAmJiAodnQodCwgITEpLCB0LnN0cm0uYXZhaWxfb3V0KSwgMSk7CgkJfSksIG5ldyBUdCg0LCA0LCA4LCA0LCBSdCksIG5ldyBUdCg0LCA1LCAxNiwgOCwgUnQpLCBuZXcgVHQoNCwgNiwgMzIsIDMyLCBSdCksIG5ldyBUdCg0LCA0LCAxNiwgMTYsIE50KSwgbmV3IFR0KDgsIDE2LCAzMiwgMzIsIE50KSwgbmV3IFR0KDgsIDE2LCAxMjgsIDEyOCwgTnQpLCBuZXcgVHQoOCwgMzIsIDEyOCwgMjU2LCBOdCksIG5ldyBUdCgzMiwgMTI4LCAyNTgsIDEwMjQsIE50KSwgbmV3IFR0KDMyLCAyNTgsIDI1OCwgNDA5NiwgTnQpXTsKCgkJZnVuY3Rpb24gTHQoKSB7CgkJCXRoaXMuc3RybSA9IG51bGwsIHRoaXMuc3RhdHVzID0gMCwgdGhpcy5wZW5kaW5nX2J1ZiA9IG51bGwsIHRoaXMucGVuZGluZ19idWZfc2l6ZSA9IDAsIHRoaXMucGVuZGluZ19vdXQgPSAwLCB0aGlzLnBlbmRpbmcgPSAwLCB0aGlzLndyYXAgPSAwLCB0aGlzLmd6aGVhZCA9IG51bGwsIHRoaXMuZ3ppbmRleCA9IDAsIHRoaXMubWV0aG9kID0gX3QsIHRoaXMubGFzdF9mbHVzaCA9IC0xLCB0aGlzLndfc2l6ZSA9IDAsIHRoaXMud19iaXRzID0gMCwgdGhpcy53X21hc2sgPSAwLCB0aGlzLndpbmRvdyA9IG51bGwsIHRoaXMud2luZG93X3NpemUgPSAwLCB0aGlzLnByZXYgPSBudWxsLCB0aGlzLmhlYWQgPSBudWxsLCB0aGlzLmluc19oID0gMCwgdGhpcy5oYXNoX3NpemUgPSAwLCB0aGlzLmhhc2hfYml0cyA9IDAsIHRoaXMuaGFzaF9tYXNrID0gMCwgdGhpcy5oYXNoX3NoaWZ0ID0gMCwgdGhpcy5ibG9ja19zdGFydCA9IDAsIHRoaXMubWF0Y2hfbGVuZ3RoID0gMCwgdGhpcy5wcmV2X21hdGNoID0gMCwgdGhpcy5tYXRjaF9hdmFpbGFibGUgPSAwLCB0aGlzLnN0cnN0YXJ0ID0gMCwgdGhpcy5tYXRjaF9zdGFydCA9IDAsIHRoaXMubG9va2FoZWFkID0gMCwgdGhpcy5wcmV2X2xlbmd0aCA9IDAsIHRoaXMubWF4X2NoYWluX2xlbmd0aCA9IDAsIHRoaXMubWF4X2xhenlfbWF0Y2ggPSAwLCB0aGlzLmxldmVsID0gMCwgdGhpcy5zdHJhdGVneSA9IDAsIHRoaXMuZ29vZF9tYXRjaCA9IDAsIHRoaXMubmljZV9tYXRjaCA9IDAsIHRoaXMuZHluX2x0cmVlID0gbmV3IFVpbnQxNkFycmF5KDExNDYpLCB0aGlzLmR5bl9kdHJlZSA9IG5ldyBVaW50MTZBcnJheSgxMjIpLCB0aGlzLmJsX3RyZWUgPSBuZXcgVWludDE2QXJyYXkoNzgpLCBtdCh0aGlzLmR5bl9sdHJlZSksIG10KHRoaXMuZHluX2R0cmVlKSwgbXQodGhpcy5ibF90cmVlKSwgdGhpcy5sX2Rlc2MgPSBudWxsLCB0aGlzLmRfZGVzYyA9IG51bGwsIHRoaXMuYmxfZGVzYyA9IG51bGwsIHRoaXMuYmxfY291bnQgPSBuZXcgVWludDE2QXJyYXkoMTYpLCB0aGlzLmhlYXAgPSBuZXcgVWludDE2QXJyYXkoNTczKSwgbXQodGhpcy5oZWFwKSwgdGhpcy5oZWFwX2xlbiA9IDAsIHRoaXMuaGVhcF9tYXggPSAwLCB0aGlzLmRlcHRoID0gbmV3IFVpbnQxNkFycmF5KDU3MyksIG10KHRoaXMuZGVwdGgpLCB0aGlzLmxfYnVmID0gMCwgdGhpcy5saXRfYnVmc2l6ZSA9IDAsIHRoaXMubGFzdF9saXQgPSAwLCB0aGlzLmRfYnVmID0gMCwgdGhpcy5vcHRfbGVuID0gMCwgdGhpcy5zdGF0aWNfbGVuID0gMCwgdGhpcy5tYXRjaGVzID0gMCwgdGhpcy5pbnNlcnQgPSAwLCB0aGlzLmJpX2J1ZiA9IDAsIHRoaXMuYmlfdmFsaWQgPSAwOwoJCX0KCgkJY29uc3QgQnQgPSB0ID0+IHsKCQkJaWYgKCF0IHx8ICF0LnN0YXRlKSByZXR1cm4gZ3QodCwgZXQpOwoJCQl0LnRvdGFsX2luID0gdC50b3RhbF9vdXQgPSAwLCB0LmRhdGFfdHlwZSA9IGR0OwoJCQljb25zdCBlID0gdC5zdGF0ZTsKCQkJcmV0dXJuIGUucGVuZGluZyA9IDAsIGUucGVuZGluZ19vdXQgPSAwLCBlLndyYXAgPCAwICYmIChlLndyYXAgPSAtZS53cmFwKSwgZS5zdGF0dXMgPSBlLndyYXAgPyA0MiA6IHd0LCB0LmFkbGVyID0gMiA9PT0gZS53cmFwID8gMCA6IDEsIGUubGFzdF9mbHVzaCA9IEcsIFcoZSksIFE7CgkJfSwKCQkJCQlDdCA9IHQgPT4gewoJCQljb25zdCBlID0gQnQodCk7CgkJCXZhciBpOwoJCQlyZXR1cm4gZSA9PT0gUSAmJiAoKGkgPSB0LnN0YXRlKS53aW5kb3dfc2l6ZSA9IDIgKiBpLndfc2l6ZSwgbXQoaS5oZWFkKSwgaS5tYXhfbGF6eV9tYXRjaCA9IE90W2kubGV2ZWxdLm1heF9sYXp5LCBpLmdvb2RfbWF0Y2ggPSBPdFtpLmxldmVsXS5nb29kX2xlbmd0aCwgaS5uaWNlX21hdGNoID0gT3RbaS5sZXZlbF0ubmljZV9sZW5ndGgsIGkubWF4X2NoYWluX2xlbmd0aCA9IE90W2kubGV2ZWxdLm1heF9jaGFpbiwgaS5zdHJzdGFydCA9IDAsIGkuYmxvY2tfc3RhcnQgPSAwLCBpLmxvb2thaGVhZCA9IDAsIGkuaW5zZXJ0ID0gMCwgaS5tYXRjaF9sZW5ndGggPSBpLnByZXZfbGVuZ3RoID0gMiwgaS5tYXRjaF9hdmFpbGFibGUgPSAwLCBpLmluc19oID0gMCksIGU7CgkJfSwKCQkJCQlEdCA9ICh0LCBlLCBpLCBuLCByLCBzKSA9PiB7CgkJCWlmICghdCkgcmV0dXJuIGV0OwoJCQlsZXQgYSA9IDE7CgkJCWlmIChlID09PSBydCAmJiAoZSA9IDYpLCBuIDwgMCA/IChhID0gMCwgbiA9IC1uKSA6IG4gPiAxNSAmJiAoYSA9IDIsIG4gLT0gMTYpLCByIDwgMSB8fCByID4gOSB8fCBpICE9PSBfdCB8fCBuIDwgOCB8fCBuID4gMTUgfHwgZSA8IDAgfHwgZSA+IDkgfHwgcyA8IDAgfHwgcyA+IGh0KSByZXR1cm4gZ3QodCwgZXQpOwoJCQk4ID09PSBuICYmIChuID0gOSk7CgkJCWNvbnN0IG8gPSBuZXcgTHQoKTsKCQkJcmV0dXJuIHQuc3RhdGUgPSBvLCBvLnN0cm0gPSB0LCBvLndyYXAgPSBhLCBvLmd6aGVhZCA9IG51bGwsIG8ud19iaXRzID0gbiwgby53X3NpemUgPSAxIDw8IG8ud19iaXRzLCBvLndfbWFzayA9IG8ud19zaXplIC0gMSwgby5oYXNoX2JpdHMgPSByICsgNywgby5oYXNoX3NpemUgPSAxIDw8IG8uaGFzaF9iaXRzLCBvLmhhc2hfbWFzayA9IG8uaGFzaF9zaXplIC0gMSwgby5oYXNoX3NoaWZ0ID0gfn4oKG8uaGFzaF9iaXRzICsgMyAtIDEpIC8gMyksIG8ud2luZG93ID0gbmV3IFVpbnQ4QXJyYXkoMiAqIG8ud19zaXplKSwgby5oZWFkID0gbmV3IFVpbnQxNkFycmF5KG8uaGFzaF9zaXplKSwgby5wcmV2ID0gbmV3IFVpbnQxNkFycmF5KG8ud19zaXplKSwgby5saXRfYnVmc2l6ZSA9IDEgPDwgciArIDYsIG8ucGVuZGluZ19idWZfc2l6ZSA9IDQgKiBvLmxpdF9idWZzaXplLCBvLnBlbmRpbmdfYnVmID0gbmV3IFVpbnQ4QXJyYXkoby5wZW5kaW5nX2J1Zl9zaXplKSwgby5kX2J1ZiA9IDEgKiBvLmxpdF9idWZzaXplLCBvLmxfYnVmID0gMyAqIG8ubGl0X2J1ZnNpemUsIG8ubGV2ZWwgPSBlLCBvLnN0cmF0ZWd5ID0gcywgby5tZXRob2QgPSBpLCBDdCh0KTsKCQl9OwoKCQl2YXIgSXQgPSBEdCwKCQkJCVN0ID0gKHQsIGUpID0+IHQgJiYgdC5zdGF0ZSA/IDIgIT09IHQuc3RhdGUud3JhcCA/IGV0IDogKHQuc3RhdGUuZ3poZWFkID0gZSwgUSkgOiBldCwKCQkJCVp0ID0gKHQsIGUpID0+IHsKCQkJbGV0IGksIG47CgkJCWlmICghdCB8fCAhdC5zdGF0ZSB8fCBlID4gSiB8fCBlIDwgMCkgcmV0dXJuIHQgPyBndCh0LCBldCkgOiBldDsKCQkJY29uc3QgciA9IHQuc3RhdGU7CgkJCWlmICghdC5vdXRwdXQgfHwgIXQuaW5wdXQgJiYgMCAhPT0gdC5hdmFpbF9pbiB8fCByLnN0YXR1cyA9PT0gcHQgJiYgZSAhPT0gcSkgcmV0dXJuIGd0KHQsIDAgPT09IHQuYXZhaWxfb3V0ID8gbnQgOiBldCk7CgkJCXIuc3RybSA9IHQ7CgkJCWNvbnN0IHMgPSByLmxhc3RfZmx1c2g7CgkJCWlmIChyLmxhc3RfZmx1c2ggPSBlLCA0MiA9PT0gci5zdGF0dXMpIGlmICgyID09PSByLndyYXApIHQuYWRsZXIgPSAwLCBFdChyLCAzMSksIEV0KHIsIDEzOSksIEV0KHIsIDgpLCByLmd6aGVhZCA/IChFdChyLCAoci5nemhlYWQudGV4dCA/IDEgOiAwKSArIChyLmd6aGVhZC5oY3JjID8gMiA6IDApICsgKHIuZ3poZWFkLmV4dHJhID8gNCA6IDApICsgKHIuZ3poZWFkLm5hbWUgPyA4IDogMCkgKyAoci5nemhlYWQuY29tbWVudCA/IDE2IDogMCkpLCBFdChyLCAyNTUgJiByLmd6aGVhZC50aW1lKSwgRXQociwgci5nemhlYWQudGltZSA+PiA4ICYgMjU1KSwgRXQociwgci5nemhlYWQudGltZSA+PiAxNiAmIDI1NSksIEV0KHIsIHIuZ3poZWFkLnRpbWUgPj4gMjQgJiAyNTUpLCBFdChyLCA5ID09PSByLmxldmVsID8gMiA6IHIuc3RyYXRlZ3kgPj0gYXQgfHwgci5sZXZlbCA8IDIgPyA0IDogMCksIEV0KHIsIDI1NSAmIHIuZ3poZWFkLm9zKSwgci5nemhlYWQuZXh0cmEgJiYgci5nemhlYWQuZXh0cmEubGVuZ3RoICYmIChFdChyLCAyNTUgJiByLmd6aGVhZC5leHRyYS5sZW5ndGgpLCBFdChyLCByLmd6aGVhZC5leHRyYS5sZW5ndGggPj4gOCAmIDI1NSkpLCByLmd6aGVhZC5oY3JjICYmICh0LmFkbGVyID0gTSh0LmFkbGVyLCByLnBlbmRpbmdfYnVmLCByLnBlbmRpbmcsIDApKSwgci5nemluZGV4ID0gMCwgci5zdGF0dXMgPSA2OSkgOiAoRXQociwgMCksIEV0KHIsIDApLCBFdChyLCAwKSwgRXQociwgMCksIEV0KHIsIDApLCBFdChyLCA5ID09PSByLmxldmVsID8gMiA6IHIuc3RyYXRlZ3kgPj0gYXQgfHwgci5sZXZlbCA8IDIgPyA0IDogMCksIEV0KHIsIDMpLCByLnN0YXR1cyA9IHd0KTtlbHNlIHsKCQkJCWxldCBlID0gX3QgKyAoci53X2JpdHMgLSA4IDw8IDQpIDw8IDgsCgkJCQkJCWkgPSAtMTsKCQkJCWkgPSByLnN0cmF0ZWd5ID49IGF0IHx8IHIubGV2ZWwgPCAyID8gMCA6IHIubGV2ZWwgPCA2ID8gMSA6IDYgPT09IHIubGV2ZWwgPyAyIDogMywgZSB8PSBpIDw8IDYsIDAgIT09IHIuc3Ryc3RhcnQgJiYgKGUgfD0gMzIpLCBlICs9IDMxIC0gZSAlIDMxLCByLnN0YXR1cyA9IHd0LCBBdChyLCBlKSwgMCAhPT0gci5zdHJzdGFydCAmJiAoQXQociwgdC5hZGxlciA+Pj4gMTYpLCBBdChyLCA2NTUzNSAmIHQuYWRsZXIpKSwgdC5hZGxlciA9IDE7CgkJCX0KCQkJaWYgKDY5ID09PSByLnN0YXR1cykgaWYgKHIuZ3poZWFkLmV4dHJhKSB7CgkJCQlmb3IgKGkgPSByLnBlbmRpbmc7IHIuZ3ppbmRleCA8ICg2NTUzNSAmIHIuZ3poZWFkLmV4dHJhLmxlbmd0aCkgJiYgKHIucGVuZGluZyAhPT0gci5wZW5kaW5nX2J1Zl9zaXplIHx8IChyLmd6aGVhZC5oY3JjICYmIHIucGVuZGluZyA+IGkgJiYgKHQuYWRsZXIgPSBNKHQuYWRsZXIsIHIucGVuZGluZ19idWYsIHIucGVuZGluZyAtIGksIGkpKSwgeXQodCksIGkgPSByLnBlbmRpbmcsIHIucGVuZGluZyAhPT0gci5wZW5kaW5nX2J1Zl9zaXplKSk7KSBFdChyLCAyNTUgJiByLmd6aGVhZC5leHRyYVtyLmd6aW5kZXhdKSwgci5nemluZGV4Kys7CgoJCQkJci5nemhlYWQuaGNyYyAmJiByLnBlbmRpbmcgPiBpICYmICh0LmFkbGVyID0gTSh0LmFkbGVyLCByLnBlbmRpbmdfYnVmLCByLnBlbmRpbmcgLSBpLCBpKSksIHIuZ3ppbmRleCA9PT0gci5nemhlYWQuZXh0cmEubGVuZ3RoICYmIChyLmd6aW5kZXggPSAwLCByLnN0YXR1cyA9IDczKTsKCQkJfSBlbHNlIHIuc3RhdHVzID0gNzM7CgkJCWlmICg3MyA9PT0gci5zdGF0dXMpIGlmIChyLmd6aGVhZC5uYW1lKSB7CgkJCQlpID0gci5wZW5kaW5nOwoKCQkJCWRvIHsKCQkJCQlpZiAoci5wZW5kaW5nID09PSByLnBlbmRpbmdfYnVmX3NpemUgJiYgKHIuZ3poZWFkLmhjcmMgJiYgci5wZW5kaW5nID4gaSAmJiAodC5hZGxlciA9IE0odC5hZGxlciwgci5wZW5kaW5nX2J1Ziwgci5wZW5kaW5nIC0gaSwgaSkpLCB5dCh0KSwgaSA9IHIucGVuZGluZywgci5wZW5kaW5nID09PSByLnBlbmRpbmdfYnVmX3NpemUpKSB7CgkJCQkJCW4gPSAxOwoJCQkJCQlicmVhazsKCQkJCQl9CgoJCQkJCW4gPSByLmd6aW5kZXggPCByLmd6aGVhZC5uYW1lLmxlbmd0aCA/IDI1NSAmIHIuZ3poZWFkLm5hbWUuY2hhckNvZGVBdChyLmd6aW5kZXgrKykgOiAwLCBFdChyLCBuKTsKCQkJCX0gd2hpbGUgKDAgIT09IG4pOwoKCQkJCXIuZ3poZWFkLmhjcmMgJiYgci5wZW5kaW5nID4gaSAmJiAodC5hZGxlciA9IE0odC5hZGxlciwgci5wZW5kaW5nX2J1Ziwgci5wZW5kaW5nIC0gaSwgaSkpLCAwID09PSBuICYmIChyLmd6aW5kZXggPSAwLCByLnN0YXR1cyA9IDkxKTsKCQkJfSBlbHNlIHIuc3RhdHVzID0gOTE7CgkJCWlmICg5MSA9PT0gci5zdGF0dXMpIGlmIChyLmd6aGVhZC5jb21tZW50KSB7CgkJCQlpID0gci5wZW5kaW5nOwoKCQkJCWRvIHsKCQkJCQlpZiAoci5wZW5kaW5nID09PSByLnBlbmRpbmdfYnVmX3NpemUgJiYgKHIuZ3poZWFkLmhjcmMgJiYgci5wZW5kaW5nID4gaSAmJiAodC5hZGxlciA9IE0odC5hZGxlciwgci5wZW5kaW5nX2J1Ziwgci5wZW5kaW5nIC0gaSwgaSkpLCB5dCh0KSwgaSA9IHIucGVuZGluZywgci5wZW5kaW5nID09PSByLnBlbmRpbmdfYnVmX3NpemUpKSB7CgkJCQkJCW4gPSAxOwoJCQkJCQlicmVhazsKCQkJCQl9CgoJCQkJCW4gPSByLmd6aW5kZXggPCByLmd6aGVhZC5jb21tZW50Lmxlbmd0aCA/IDI1NSAmIHIuZ3poZWFkLmNvbW1lbnQuY2hhckNvZGVBdChyLmd6aW5kZXgrKykgOiAwLCBFdChyLCBuKTsKCQkJCX0gd2hpbGUgKDAgIT09IG4pOwoKCQkJCXIuZ3poZWFkLmhjcmMgJiYgci5wZW5kaW5nID4gaSAmJiAodC5hZGxlciA9IE0odC5hZGxlciwgci5wZW5kaW5nX2J1Ziwgci5wZW5kaW5nIC0gaSwgaSkpLCAwID09PSBuICYmIChyLnN0YXR1cyA9IHV0KTsKCQkJfSBlbHNlIHIuc3RhdHVzID0gdXQ7CgoJCQlpZiAoci5zdGF0dXMgPT09IHV0ICYmIChyLmd6aGVhZC5oY3JjID8gKHIucGVuZGluZyArIDIgPiByLnBlbmRpbmdfYnVmX3NpemUgJiYgeXQodCksIHIucGVuZGluZyArIDIgPD0gci5wZW5kaW5nX2J1Zl9zaXplICYmIChFdChyLCAyNTUgJiB0LmFkbGVyKSwgRXQociwgdC5hZGxlciA+PiA4ICYgMjU1KSwgdC5hZGxlciA9IDAsIHIuc3RhdHVzID0gd3QpKSA6IHIuc3RhdHVzID0gd3QpLCAwICE9PSByLnBlbmRpbmcpIHsKCQkJCWlmICh5dCh0KSwgMCA9PT0gdC5hdmFpbF9vdXQpIHJldHVybiByLmxhc3RfZmx1c2ggPSAtMSwgUTsKCQkJfSBlbHNlIGlmICgwID09PSB0LmF2YWlsX2luICYmIGJ0KGUpIDw9IGJ0KHMpICYmIGUgIT09IHEpIHJldHVybiBndCh0LCBudCk7CgoJCQlpZiAoci5zdGF0dXMgPT09IHB0ICYmIDAgIT09IHQuYXZhaWxfaW4pIHJldHVybiBndCh0LCBudCk7CgoJCQlpZiAoMCAhPT0gdC5hdmFpbF9pbiB8fCAwICE9PSByLmxvb2thaGVhZCB8fCBlICE9PSBHICYmIHIuc3RhdHVzICE9PSBwdCkgewoJCQkJbGV0IGkgPSByLnN0cmF0ZWd5ID09PSBhdCA/ICgodCwgZSkgPT4gewoJCQkJCWxldCBpOwoKCQkJCQlmb3IgKDs7KSB7CgkJCQkJCWlmICgwID09PSB0Lmxvb2thaGVhZCAmJiAoenQodCksIDAgPT09IHQubG9va2FoZWFkKSkgewoJCQkJCQkJaWYgKGUgPT09IEcpIHJldHVybiAxOwoJCQkJCQkJYnJlYWs7CgkJCQkJCX0KCgkJCQkJCWlmICh0Lm1hdGNoX2xlbmd0aCA9IDAsIGkgPSBZKHQsIDAsIHQud2luZG93W3Quc3Ryc3RhcnRdKSwgdC5sb29rYWhlYWQtLSwgdC5zdHJzdGFydCsrLCBpICYmICh2dCh0LCAhMSksIDAgPT09IHQuc3RybS5hdmFpbF9vdXQpKSByZXR1cm4gMTsKCQkJCQl9CgoJCQkJCXJldHVybiB0Lmluc2VydCA9IDAsIGUgPT09IHEgPyAodnQodCwgITApLCAwID09PSB0LnN0cm0uYXZhaWxfb3V0ID8gMyA6IDQpIDogdC5sYXN0X2xpdCAmJiAodnQodCwgITEpLCAwID09PSB0LnN0cm0uYXZhaWxfb3V0KSA/IDEgOiAyOwoJCQkJfSkociwgZSkgOiByLnN0cmF0ZWd5ID09PSBvdCA/ICgodCwgZSkgPT4gewoJCQkJCWxldCBpLCBuLCByLCBzOwoJCQkJCWNvbnN0IGEgPSB0LndpbmRvdzsKCgkJCQkJZm9yICg7OykgewoJCQkJCQlpZiAodC5sb29rYWhlYWQgPD0gZnQpIHsKCQkJCQkJCWlmICh6dCh0KSwgdC5sb29rYWhlYWQgPD0gZnQgJiYgZSA9PT0gRykgcmV0dXJuIDE7CgkJCQkJCQlpZiAoMCA9PT0gdC5sb29rYWhlYWQpIGJyZWFrOwoJCQkJCQl9CgoJCQkJCQlpZiAodC5tYXRjaF9sZW5ndGggPSAwLCB0Lmxvb2thaGVhZCA+PSAzICYmIHQuc3Ryc3RhcnQgPiAwICYmIChyID0gdC5zdHJzdGFydCAtIDEsIG4gPSBhW3JdLCBuID09PSBhWysrcl0gJiYgbiA9PT0gYVsrK3JdICYmIG4gPT09IGFbKytyXSkpIHsKCQkJCQkJCXMgPSB0LnN0cnN0YXJ0ICsgZnQ7CgoJCQkJCQkJZG8ge30gd2hpbGUgKG4gPT09IGFbKytyXSAmJiBuID09PSBhWysrcl0gJiYgbiA9PT0gYVsrK3JdICYmIG4gPT09IGFbKytyXSAmJiBuID09PSBhWysrcl0gJiYgbiA9PT0gYVsrK3JdICYmIG4gPT09IGFbKytyXSAmJiBuID09PSBhWysrcl0gJiYgciA8IHMpOwoKCQkJCQkJCXQubWF0Y2hfbGVuZ3RoID0gZnQgLSAocyAtIHIpLCB0Lm1hdGNoX2xlbmd0aCA+IHQubG9va2FoZWFkICYmICh0Lm1hdGNoX2xlbmd0aCA9IHQubG9va2FoZWFkKTsKCQkJCQkJfQoKCQkJCQkJaWYgKHQubWF0Y2hfbGVuZ3RoID49IDMgPyAoaSA9IFkodCwgMSwgdC5tYXRjaF9sZW5ndGggLSAzKSwgdC5sb29rYWhlYWQgLT0gdC5tYXRjaF9sZW5ndGgsIHQuc3Ryc3RhcnQgKz0gdC5tYXRjaF9sZW5ndGgsIHQubWF0Y2hfbGVuZ3RoID0gMCkgOiAoaSA9IFkodCwgMCwgdC53aW5kb3dbdC5zdHJzdGFydF0pLCB0Lmxvb2thaGVhZC0tLCB0LnN0cnN0YXJ0KyspLCBpICYmICh2dCh0LCAhMSksIDAgPT09IHQuc3RybS5hdmFpbF9vdXQpKSByZXR1cm4gMTsKCQkJCQl9CgoJCQkJCXJldHVybiB0Lmluc2VydCA9IDAsIGUgPT09IHEgPyAodnQodCwgITApLCAwID09PSB0LnN0cm0uYXZhaWxfb3V0ID8gMyA6IDQpIDogdC5sYXN0X2xpdCAmJiAodnQodCwgITEpLCAwID09PSB0LnN0cm0uYXZhaWxfb3V0KSA/IDEgOiAyOwoJCQkJfSkociwgZSkgOiBPdFtyLmxldmVsXS5mdW5jKHIsIGUpOwoJCQkJaWYgKDMgIT09IGkgJiYgNCAhPT0gaSB8fCAoci5zdGF0dXMgPSBwdCksIDEgPT09IGkgfHwgMyA9PT0gaSkgcmV0dXJuIDAgPT09IHQuYXZhaWxfb3V0ICYmIChyLmxhc3RfZmx1c2ggPSAtMSksIFE7CgkJCQlpZiAoMiA9PT0gaSAmJiAoZSA9PT0gWCA/IGoocikgOiBlICE9PSBKICYmIChLKHIsIDAsIDAsICExKSwgZSA9PT0gViAmJiAobXQoci5oZWFkKSwgMCA9PT0gci5sb29rYWhlYWQgJiYgKHIuc3Ryc3RhcnQgPSAwLCByLmJsb2NrX3N0YXJ0ID0gMCwgci5pbnNlcnQgPSAwKSkpLCB5dCh0KSwgMCA9PT0gdC5hdmFpbF9vdXQpKSByZXR1cm4gci5sYXN0X2ZsdXNoID0gLTEsIFE7CgkJCX0KCgkJCXJldHVybiBlICE9PSBxID8gUSA6IHIud3JhcCA8PSAwID8gdHQgOiAoMiA9PT0gci53cmFwID8gKEV0KHIsIDI1NSAmIHQuYWRsZXIpLCBFdChyLCB0LmFkbGVyID4+IDggJiAyNTUpLCBFdChyLCB0LmFkbGVyID4+IDE2ICYgMjU1KSwgRXQociwgdC5hZGxlciA+PiAyNCAmIDI1NSksIEV0KHIsIDI1NSAmIHQudG90YWxfaW4pLCBFdChyLCB0LnRvdGFsX2luID4+IDggJiAyNTUpLCBFdChyLCB0LnRvdGFsX2luID4+IDE2ICYgMjU1KSwgRXQociwgdC50b3RhbF9pbiA+PiAyNCAmIDI1NSkpIDogKEF0KHIsIHQuYWRsZXIgPj4+IDE2KSwgQXQociwgNjU1MzUgJiB0LmFkbGVyKSksIHl0KHQpLCByLndyYXAgPiAwICYmIChyLndyYXAgPSAtci53cmFwKSwgMCAhPT0gci5wZW5kaW5nID8gUSA6IHR0KTsKCQl9LAoJCQkJRnQgPSB0ID0+IHsKCQkJaWYgKCF0IHx8ICF0LnN0YXRlKSByZXR1cm4gZXQ7CgkJCWNvbnN0IGUgPSB0LnN0YXRlLnN0YXR1czsKCQkJcmV0dXJuIDQyICE9PSBlICYmIDY5ICE9PSBlICYmIDczICE9PSBlICYmIDkxICE9PSBlICYmIGUgIT09IHV0ICYmIGUgIT09IHd0ICYmIGUgIT09IHB0ID8gZ3QodCwgZXQpIDogKHQuc3RhdGUgPSBudWxsLCBlID09PSB3dCA/IGd0KHQsIGl0KSA6IFEpOwoJCX0sCgkJCQlNdCA9ICh0LCBlKSA9PiB7CgkJCWxldCBpID0gZS5sZW5ndGg7CgkJCWlmICghdCB8fCAhdC5zdGF0ZSkgcmV0dXJuIGV0OwoJCQljb25zdCBuID0gdC5zdGF0ZSwKCQkJCQkJciA9IG4ud3JhcDsKCQkJaWYgKDIgPT09IHIgfHwgMSA9PT0gciAmJiA0MiAhPT0gbi5zdGF0dXMgfHwgbi5sb29rYWhlYWQpIHJldHVybiBldDsKCgkJCWlmICgxID09PSByICYmICh0LmFkbGVyID0gWih0LmFkbGVyLCBlLCBpLCAwKSksIG4ud3JhcCA9IDAsIGkgPj0gbi53X3NpemUpIHsKCQkJCTAgPT09IHIgJiYgKG10KG4uaGVhZCksIG4uc3Ryc3RhcnQgPSAwLCBuLmJsb2NrX3N0YXJ0ID0gMCwgbi5pbnNlcnQgPSAwKTsKCQkJCWxldCB0ID0gbmV3IFVpbnQ4QXJyYXkobi53X3NpemUpOwoJCQkJdC5zZXQoZS5zdWJhcnJheShpIC0gbi53X3NpemUsIGkpLCAwKSwgZSA9IHQsIGkgPSBuLndfc2l6ZTsKCQkJfQoKCQkJY29uc3QgcyA9IHQuYXZhaWxfaW4sCgkJCQkJCWEgPSB0Lm5leHRfaW4sCgkJCQkJCW8gPSB0LmlucHV0OwoKCQkJZm9yICh0LmF2YWlsX2luID0gaSwgdC5uZXh0X2luID0gMCwgdC5pbnB1dCA9IGUsIHp0KG4pOyBuLmxvb2thaGVhZCA+PSAzOykgewoJCQkJbGV0IHQgPSBuLnN0cnN0YXJ0LAoJCQkJCQllID0gbi5sb29rYWhlYWQgLSAyOwoKCQkJCWRvIHsKCQkJCQluLmluc19oID0ga3Qobiwgbi5pbnNfaCwgbi53aW5kb3dbdCArIDMgLSAxXSksIG4ucHJldlt0ICYgbi53X21hc2tdID0gbi5oZWFkW24uaW5zX2hdLCBuLmhlYWRbbi5pbnNfaF0gPSB0LCB0Kys7CgkJCQl9IHdoaWxlICgtLWUpOwoKCQkJCW4uc3Ryc3RhcnQgPSB0LCBuLmxvb2thaGVhZCA9IDIsIHp0KG4pOwoJCQl9CgoJCQlyZXR1cm4gbi5zdHJzdGFydCArPSBuLmxvb2thaGVhZCwgbi5ibG9ja19zdGFydCA9IG4uc3Ryc3RhcnQsIG4uaW5zZXJ0ID0gbi5sb29rYWhlYWQsIG4ubG9va2FoZWFkID0gMCwgbi5tYXRjaF9sZW5ndGggPSBuLnByZXZfbGVuZ3RoID0gMiwgbi5tYXRjaF9hdmFpbGFibGUgPSAwLCB0Lm5leHRfaW4gPSBhLCB0LmlucHV0ID0gbywgdC5hdmFpbF9pbiA9IHMsIG4ud3JhcCA9IHIsIFE7CgkJfTsKCgkJY29uc3QgUHQgPSAodCwgZSkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIGUpOwoKCQl2YXIgSHQgPSBmdW5jdGlvbiBIdCh0KSB7CgkJCWNvbnN0IGUgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOwoKCQkJZm9yICg7IGUubGVuZ3RoOykgewoJCQkJY29uc3QgaSA9IGUuc2hpZnQoKTsKCgkJCQlpZiAoaSkgewoJCQkJCWlmICgib2JqZWN0IiAhPSB0eXBlb2YgaSkgdGhyb3cgbmV3IFR5cGVFcnJvcihpICsgIm11c3QgYmUgbm9uLW9iamVjdCIpOwoKCQkJCQlmb3IgKGNvbnN0IGUgaW4gaSkgUHQoaSwgZSkgJiYgKHRbZV0gPSBpW2VdKTsKCQkJCX0KCQkJfQoKCQkJcmV0dXJuIHQ7CgkJfSwKCQkJCVd0ID0gdCA9PiB7CgkJCWxldCBlID0gMDsKCgkJCWZvciAobGV0IGkgPSAwLCBuID0gdC5sZW5ndGg7IGkgPCBuOyBpKyspIGUgKz0gdFtpXS5sZW5ndGg7CgoJCQljb25zdCBpID0gbmV3IFVpbnQ4QXJyYXkoZSk7CgoJCQlmb3IgKGxldCBlID0gMCwgbiA9IDAsIHIgPSB0Lmxlbmd0aDsgZSA8IHI7IGUrKykgewoJCQkJbGV0IHIgPSB0W2VdOwoJCQkJaS5zZXQociwgbiksIG4gKz0gci5sZW5ndGg7CgkJCX0KCgkJCXJldHVybiBpOwoJCX07CgoJCWxldCBLdCA9ICEwOwoKCQl0cnkgewoJCQlTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KDEpKTsKCQl9IGNhdGNoICh0KSB7CgkJCUt0ID0gITE7CgkJfQoKCQljb25zdCAkdCA9IG5ldyBVaW50OEFycmF5KDI1Nik7CgoJCWZvciAobGV0IHQgPSAwOyB0IDwgMjU2OyB0KyspICR0W3RdID0gdCA+PSAyNTIgPyA2IDogdCA+PSAyNDggPyA1IDogdCA+PSAyNDAgPyA0IDogdCA+PSAyMjQgPyAzIDogdCA+PSAxOTIgPyAyIDogMTsKCgkJJHRbMjU0XSA9ICR0WzI1NF0gPSAxOwoKCQl2YXIgWXQgPSB0ID0+IHsKCQkJaWYgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIFRleHRFbmNvZGVyICYmIFRleHRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGUpIHJldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodCk7CgkJCWxldCBlLAoJCQkJCWksCgkJCQkJbiwKCQkJCQlyLAoJCQkJCXMsCgkJCQkJYSA9IHQubGVuZ3RoLAoJCQkJCW8gPSAwOwoKCQkJZm9yIChyID0gMDsgciA8IGE7IHIrKykgaSA9IHQuY2hhckNvZGVBdChyKSwgNTUyOTYgPT0gKDY0NTEyICYgaSkgJiYgciArIDEgPCBhICYmIChuID0gdC5jaGFyQ29kZUF0KHIgKyAxKSwgNTYzMjAgPT0gKDY0NTEyICYgbikgJiYgKGkgPSA2NTUzNiArIChpIC0gNTUyOTYgPDwgMTApICsgKG4gLSA1NjMyMCksIHIrKykpLCBvICs9IGkgPCAxMjggPyAxIDogaSA8IDIwNDggPyAyIDogaSA8IDY1NTM2ID8gMyA6IDQ7CgoJCQlmb3IgKGUgPSBuZXcgVWludDhBcnJheShvKSwgcyA9IDAsIHIgPSAwOyBzIDwgbzsgcisrKSBpID0gdC5jaGFyQ29kZUF0KHIpLCA1NTI5NiA9PSAoNjQ1MTIgJiBpKSAmJiByICsgMSA8IGEgJiYgKG4gPSB0LmNoYXJDb2RlQXQociArIDEpLCA1NjMyMCA9PSAoNjQ1MTIgJiBuKSAmJiAoaSA9IDY1NTM2ICsgKGkgLSA1NTI5NiA8PCAxMCkgKyAobiAtIDU2MzIwKSwgcisrKSksIGkgPCAxMjggPyBlW3MrK10gPSBpIDogaSA8IDIwNDggPyAoZVtzKytdID0gMTkyIHwgaSA+Pj4gNiwgZVtzKytdID0gMTI4IHwgNjMgJiBpKSA6IGkgPCA2NTUzNiA/IChlW3MrK10gPSAyMjQgfCBpID4+PiAxMiwgZVtzKytdID0gMTI4IHwgaSA+Pj4gNiAmIDYzLCBlW3MrK10gPSAxMjggfCA2MyAmIGkpIDogKGVbcysrXSA9IDI0MCB8IGkgPj4+IDE4LCBlW3MrK10gPSAxMjggfCBpID4+PiAxMiAmIDYzLCBlW3MrK10gPSAxMjggfCBpID4+PiA2ICYgNjMsIGVbcysrXSA9IDEyOCB8IDYzICYgaSk7CgoJCQlyZXR1cm4gZTsKCQl9LAoJCQkJanQgPSAodCwgZSkgPT4gewoJCQljb25zdCBpID0gZSB8fCB0Lmxlbmd0aDsKCQkJaWYgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIFRleHREZWNvZGVyICYmIFRleHREZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUpIHJldHVybiBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUodC5zdWJhcnJheSgwLCBlKSk7CgkJCWxldCBuLCByOwoJCQljb25zdCBzID0gbmV3IEFycmF5KDIgKiBpKTsKCgkJCWZvciAociA9IDAsIG4gPSAwOyBuIDwgaTspIHsKCQkJCWxldCBlID0gdFtuKytdOwoKCQkJCWlmIChlIDwgMTI4KSB7CgkJCQkJc1tyKytdID0gZTsKCQkJCQljb250aW51ZTsKCQkJCX0KCgkJCQlsZXQgYSA9ICR0W2VdOwoJCQkJaWYgKGEgPiA0KSBzW3IrK10gPSA2NTUzMywgbiArPSBhIC0gMTtlbHNlIHsKCQkJCQlmb3IgKGUgJj0gMiA9PT0gYSA/IDMxIDogMyA9PT0gYSA/IDE1IDogNzsgYSA+IDEgJiYgbiA8IGk7KSBlID0gZSA8PCA2IHwgNjMgJiB0W24rK10sIGEtLTsKCgkJCQkJYSA+IDEgPyBzW3IrK10gPSA2NTUzMyA6IGUgPCA2NTUzNiA/IHNbcisrXSA9IGUgOiAoZSAtPSA2NTUzNiwgc1tyKytdID0gNTUyOTYgfCBlID4+IDEwICYgMTAyMywgc1tyKytdID0gNTYzMjAgfCAxMDIzICYgZSk7CgkJCQl9CgkJCX0KCgkJCXJldHVybiAoKHQsIGUpID0+IHsKCQkJCWlmIChlIDwgNjU1MzQgJiYgdC5zdWJhcnJheSAmJiBLdCkgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgdC5sZW5ndGggPT09IGUgPyB0IDogdC5zdWJhcnJheSgwLCBlKSk7CgkJCQlsZXQgaSA9ICIiOwoKCQkJCWZvciAobGV0IG4gPSAwOyBuIDwgZTsgbisrKSBpICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodFtuXSk7CgoJCQkJcmV0dXJuIGk7CgkJCX0pKHMsIHIpOwoJCX0sCgkJCQlHdCA9ICh0LCBlKSA9PiB7CgkJCShlID0gZSB8fCB0Lmxlbmd0aCkgPiB0Lmxlbmd0aCAmJiAoZSA9IHQubGVuZ3RoKTsKCQkJbGV0IGkgPSBlIC0gMTsKCgkJCWZvciAoOyBpID49IDAgJiYgMTI4ID09ICgxOTIgJiB0W2ldKTspIGktLTsKCgkJCXJldHVybiBpIDwgMCB8fCAwID09PSBpID8gZSA6IGkgKyAkdFt0W2ldXSA+IGUgPyBpIDogZTsKCQl9LAoJCQkJWHQgPSBmdW5jdGlvbiBYdCgpIHsKCQkJdGhpcy5pbnB1dCA9IG51bGwsIHRoaXMubmV4dF9pbiA9IDAsIHRoaXMuYXZhaWxfaW4gPSAwLCB0aGlzLnRvdGFsX2luID0gMCwgdGhpcy5vdXRwdXQgPSBudWxsLCB0aGlzLm5leHRfb3V0ID0gMCwgdGhpcy5hdmFpbF9vdXQgPSAwLCB0aGlzLnRvdGFsX291dCA9IDAsIHRoaXMubXNnID0gIiIsIHRoaXMuc3RhdGUgPSBudWxsLCB0aGlzLmRhdGFfdHlwZSA9IDIsIHRoaXMuYWRsZXIgPSAwOwoJCX07CgoJCWNvbnN0IFZ0ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZywKCQkJCQl7CgkJCVpfTk9fRkxVU0g6IHF0LAoJCQlaX1NZTkNfRkxVU0g6IEp0LAoJCQlaX0ZVTExfRkxVU0g6IFF0LAoJCQlaX0ZJTklTSDogdGUsCgkJCVpfT0s6IGVlLAoJCQlaX1NUUkVBTV9FTkQ6IGllLAoJCQlaX0RFRkFVTFRfQ09NUFJFU1NJT046IG5lLAoJCQlaX0RFRkFVTFRfU1RSQVRFR1k6IHJlLAoJCQlaX0RFRkxBVEVEOiBzZQoJCX0gPSBIOwoKCQlmdW5jdGlvbiBhZSh0KSB7CgkJCXRoaXMub3B0aW9ucyA9IEh0KHsKCQkJCWxldmVsOiBuZSwKCQkJCW1ldGhvZDogc2UsCgkJCQljaHVua1NpemU6IDE2Mzg0LAoJCQkJd2luZG93Qml0czogMTUsCgkJCQltZW1MZXZlbDogOCwKCQkJCXN0cmF0ZWd5OiByZQoJCQl9LCB0IHx8IHt9KTsKCQkJbGV0IGUgPSB0aGlzLm9wdGlvbnM7CgkJCWUucmF3ICYmIGUud2luZG93Qml0cyA+IDAgPyBlLndpbmRvd0JpdHMgPSAtZS53aW5kb3dCaXRzIDogZS5nemlwICYmIGUud2luZG93Qml0cyA+IDAgJiYgZS53aW5kb3dCaXRzIDwgMTYgJiYgKGUud2luZG93Qml0cyArPSAxNiksIHRoaXMuZXJyID0gMCwgdGhpcy5tc2cgPSAiIiwgdGhpcy5lbmRlZCA9ICExLCB0aGlzLmNodW5rcyA9IFtdLCB0aGlzLnN0cm0gPSBuZXcgWHQoKSwgdGhpcy5zdHJtLmF2YWlsX291dCA9IDA7CgkJCWxldCBpID0gSXQodGhpcy5zdHJtLCBlLmxldmVsLCBlLm1ldGhvZCwgZS53aW5kb3dCaXRzLCBlLm1lbUxldmVsLCBlLnN0cmF0ZWd5KTsKCQkJaWYgKGkgIT09IGVlKSB0aHJvdyBuZXcgRXJyb3IoUFtpXSk7CgoJCQlpZiAoZS5oZWFkZXIgJiYgU3QodGhpcy5zdHJtLCBlLmhlYWRlciksIGUuZGljdGlvbmFyeSkgewoJCQkJbGV0IHQ7CgkJCQlpZiAodCA9ICJzdHJpbmciID09IHR5cGVvZiBlLmRpY3Rpb25hcnkgPyBZdChlLmRpY3Rpb25hcnkpIDogIltvYmplY3QgQXJyYXlCdWZmZXJdIiA9PT0gVnQuY2FsbChlLmRpY3Rpb25hcnkpID8gbmV3IFVpbnQ4QXJyYXkoZS5kaWN0aW9uYXJ5KSA6IGUuZGljdGlvbmFyeSwgaSA9IE10KHRoaXMuc3RybSwgdCksIGkgIT09IGVlKSB0aHJvdyBuZXcgRXJyb3IoUFtpXSk7CgkJCQl0aGlzLl9kaWN0X3NldCA9ICEwOwoJCQl9CgkJfQoKCQlmdW5jdGlvbiBvZSh0LCBlKSB7CgkJCWNvbnN0IGkgPSBuZXcgYWUoZSk7CgkJCWlmIChpLnB1c2godCwgITApLCBpLmVycikgdGhyb3cgaS5tc2cgfHwgUFtpLmVycl07CgkJCXJldHVybiBpLnJlc3VsdDsKCQl9CgoJCWFlLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKHQsIGUpIHsKCQkJY29uc3QgaSA9IHRoaXMuc3RybSwKCQkJCQkJbiA9IHRoaXMub3B0aW9ucy5jaHVua1NpemU7CgkJCWxldCByLCBzOwoJCQlpZiAodGhpcy5lbmRlZCkgcmV0dXJuICExOwoKCQkJZm9yIChzID0gZSA9PT0gfn5lID8gZSA6ICEwID09PSBlID8gdGUgOiBxdCwgInN0cmluZyIgPT0gdHlwZW9mIHQgPyBpLmlucHV0ID0gWXQodCkgOiAiW29iamVjdCBBcnJheUJ1ZmZlcl0iID09PSBWdC5jYWxsKHQpID8gaS5pbnB1dCA9IG5ldyBVaW50OEFycmF5KHQpIDogaS5pbnB1dCA9IHQsIGkubmV4dF9pbiA9IDAsIGkuYXZhaWxfaW4gPSBpLmlucHV0Lmxlbmd0aDs7KSBpZiAoMCA9PT0gaS5hdmFpbF9vdXQgJiYgKGkub3V0cHV0ID0gbmV3IFVpbnQ4QXJyYXkobiksIGkubmV4dF9vdXQgPSAwLCBpLmF2YWlsX291dCA9IG4pLCAocyA9PT0gSnQgfHwgcyA9PT0gUXQpICYmIGkuYXZhaWxfb3V0IDw9IDYpIHRoaXMub25EYXRhKGkub3V0cHV0LnN1YmFycmF5KDAsIGkubmV4dF9vdXQpKSwgaS5hdmFpbF9vdXQgPSAwO2Vsc2UgewoJCQkJaWYgKHIgPSBadChpLCBzKSwgciA9PT0gaWUpIHJldHVybiBpLm5leHRfb3V0ID4gMCAmJiB0aGlzLm9uRGF0YShpLm91dHB1dC5zdWJhcnJheSgwLCBpLm5leHRfb3V0KSksIHIgPSBGdCh0aGlzLnN0cm0pLCB0aGlzLm9uRW5kKHIpLCB0aGlzLmVuZGVkID0gITAsIHIgPT09IGVlOwoKCQkJCWlmICgwICE9PSBpLmF2YWlsX291dCkgewoJCQkJCWlmIChzID4gMCAmJiBpLm5leHRfb3V0ID4gMCkgdGhpcy5vbkRhdGEoaS5vdXRwdXQuc3ViYXJyYXkoMCwgaS5uZXh0X291dCkpLCBpLmF2YWlsX291dCA9IDA7ZWxzZSBpZiAoMCA9PT0gaS5hdmFpbF9pbikgYnJlYWs7CgkJCQl9IGVsc2UgdGhpcy5vbkRhdGEoaS5vdXRwdXQpOwoJCQl9CgoJCQlyZXR1cm4gITA7CgkJfSwgYWUucHJvdG90eXBlLm9uRGF0YSA9IGZ1bmN0aW9uICh0KSB7CgkJCXRoaXMuY2h1bmtzLnB1c2godCk7CgkJfSwgYWUucHJvdG90eXBlLm9uRW5kID0gZnVuY3Rpb24gKHQpIHsKCQkJdCA9PT0gZWUgJiYgKHRoaXMucmVzdWx0ID0gV3QodGhpcy5jaHVua3MpKSwgdGhpcy5jaHVua3MgPSBbXSwgdGhpcy5lcnIgPSB0LCB0aGlzLm1zZyA9IHRoaXMuc3RybS5tc2c7CgkJfTsKCgkJdmFyIGhlID0gewoJCQlEZWZsYXRlOiBhZSwKCQkJZGVmbGF0ZTogb2UsCgkJCWRlZmxhdGVSYXc6IGZ1bmN0aW9uIGRlZmxhdGVSYXcodCwgZSkgewoJCQkJcmV0dXJuIChlID0gZSB8fCB7fSkucmF3ID0gITAsIG9lKHQsIGUpOwoJCQl9LAoJCQlnemlwOiBmdW5jdGlvbiBnemlwKHQsIGUpIHsKCQkJCXJldHVybiAoZSA9IGUgfHwge30pLmd6aXAgPSAhMCwgb2UodCwgZSk7CgkJCX0sCgkJCWNvbnN0YW50czogSAoJCX0sCgkJCQlsZSA9IGZ1bmN0aW9uIGxlKHQsIGUpIHsKCQkJbGV0IGksIG4sIHIsIHMsIGEsIG8sIGgsIGwsIGQsIF8sIGYsIGMsIHUsIHcsIHAsIGcsIGIsIG0sIGssIHksIHYsIEUsIEEsIHg7CgoJCQljb25zdCBVID0gdC5zdGF0ZTsKCQkJaSA9IHQubmV4dF9pbiwgQSA9IHQuaW5wdXQsIG4gPSBpICsgKHQuYXZhaWxfaW4gLSA1KSwgciA9IHQubmV4dF9vdXQsIHggPSB0Lm91dHB1dCwgcyA9IHIgLSAoZSAtIHQuYXZhaWxfb3V0KSwgYSA9IHIgKyAodC5hdmFpbF9vdXQgLSAyNTcpLCBvID0gVS5kbWF4LCBoID0gVS53c2l6ZSwgbCA9IFUud2hhdmUsIGQgPSBVLnduZXh0LCBfID0gVS53aW5kb3csIGYgPSBVLmhvbGQsIGMgPSBVLmJpdHMsIHUgPSBVLmxlbmNvZGUsIHcgPSBVLmRpc3Rjb2RlLCBwID0gKDEgPDwgVS5sZW5iaXRzKSAtIDEsIGcgPSAoMSA8PCBVLmRpc3RiaXRzKSAtIDE7CgoJCQl0OiBkbyB7CgkJCQljIDwgMTUgJiYgKGYgKz0gQVtpKytdIDw8IGMsIGMgKz0gOCwgZiArPSBBW2krK10gPDwgYywgYyArPSA4KSwgYiA9IHVbZiAmIHBdOwoKCQkJCWU6IGZvciAoOzspIHsKCQkJCQlpZiAobSA9IGIgPj4+IDI0LCBmID4+Pj0gbSwgYyAtPSBtLCBtID0gYiA+Pj4gMTYgJiAyNTUsIDAgPT09IG0pIHhbcisrXSA9IDY1NTM1ICYgYjtlbHNlIHsKCQkJCQkJaWYgKCEoMTYgJiBtKSkgewoJCQkJCQkJaWYgKDAgPT0gKDY0ICYgbSkpIHsKCQkJCQkJCQliID0gdVsoNjU1MzUgJiBiKSArIChmICYgKDEgPDwgbSkgLSAxKV07CgkJCQkJCQkJY29udGludWUgZTsKCQkJCQkJCX0KCgkJCQkJCQlpZiAoMzIgJiBtKSB7CgkJCQkJCQkJVS5tb2RlID0gMTI7CgkJCQkJCQkJYnJlYWsgdDsKCQkJCQkJCX0KCgkJCQkJCQl0Lm1zZyA9ICJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RoIGNvZGUiLCBVLm1vZGUgPSAzMDsKCQkJCQkJCWJyZWFrIHQ7CgkJCQkJCX0KCgkJCQkJCWsgPSA2NTUzNSAmIGIsIG0gJj0gMTUsIG0gJiYgKGMgPCBtICYmIChmICs9IEFbaSsrXSA8PCBjLCBjICs9IDgpLCBrICs9IGYgJiAoMSA8PCBtKSAtIDEsIGYgPj4+PSBtLCBjIC09IG0pLCBjIDwgMTUgJiYgKGYgKz0gQVtpKytdIDw8IGMsIGMgKz0gOCwgZiArPSBBW2krK10gPDwgYywgYyArPSA4KSwgYiA9IHdbZiAmIGddOwoKCQkJCQkJaTogZm9yICg7OykgewoJCQkJCQkJaWYgKG0gPSBiID4+PiAyNCwgZiA+Pj49IG0sIGMgLT0gbSwgbSA9IGIgPj4+IDE2ICYgMjU1LCAhKDE2ICYgbSkpIHsKCQkJCQkJCQlpZiAoMCA9PSAoNjQgJiBtKSkgewoJCQkJCQkJCQliID0gd1soNjU1MzUgJiBiKSArIChmICYgKDEgPDwgbSkgLSAxKV07CgkJCQkJCQkJCWNvbnRpbnVlIGk7CgkJCQkJCQkJfQoKCQkJCQkJCQl0Lm1zZyA9ICJpbnZhbGlkIGRpc3RhbmNlIGNvZGUiLCBVLm1vZGUgPSAzMDsKCQkJCQkJCQlicmVhayB0OwoJCQkJCQkJfQoKCQkJCQkJCWlmICh5ID0gNjU1MzUgJiBiLCBtICY9IDE1LCBjIDwgbSAmJiAoZiArPSBBW2krK10gPDwgYywgYyArPSA4LCBjIDwgbSAmJiAoZiArPSBBW2krK10gPDwgYywgYyArPSA4KSksIHkgKz0gZiAmICgxIDw8IG0pIC0gMSwgeSA+IG8pIHsKCQkJCQkJCQl0Lm1zZyA9ICJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFjayIsIFUubW9kZSA9IDMwOwoJCQkJCQkJCWJyZWFrIHQ7CgkJCQkJCQl9CgoJCQkJCQkJaWYgKGYgPj4+PSBtLCBjIC09IG0sIG0gPSByIC0gcywgeSA+IG0pIHsKCQkJCQkJCQlpZiAobSA9IHkgLSBtLCBtID4gbCAmJiBVLnNhbmUpIHsKCQkJCQkJCQkJdC5tc2cgPSAiaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2siLCBVLm1vZGUgPSAzMDsKCQkJCQkJCQkJYnJlYWsgdDsKCQkJCQkJCQl9CgoJCQkJCQkJCWlmICh2ID0gMCwgRSA9IF8sIDAgPT09IGQpIHsKCQkJCQkJCQkJaWYgKHYgKz0gaCAtIG0sIG0gPCBrKSB7CgkJCQkJCQkJCQlrIC09IG07CgoJCQkJCQkJCQkJZG8gewoJCQkJCQkJCQkJCXhbcisrXSA9IF9bdisrXTsKCQkJCQkJCQkJCX0gd2hpbGUgKC0tbSk7CgoJCQkJCQkJCQkJdiA9IHIgLSB5LCBFID0geDsKCQkJCQkJCQkJfQoJCQkJCQkJCX0gZWxzZSBpZiAoZCA8IG0pIHsKCQkJCQkJCQkJaWYgKHYgKz0gaCArIGQgLSBtLCBtIC09IGQsIG0gPCBrKSB7CgkJCQkJCQkJCQlrIC09IG07CgoJCQkJCQkJCQkJZG8gewoJCQkJCQkJCQkJCXhbcisrXSA9IF9bdisrXTsKCQkJCQkJCQkJCX0gd2hpbGUgKC0tbSk7CgoJCQkJCQkJCQkJaWYgKHYgPSAwLCBkIDwgaykgewoJCQkJCQkJCQkJCW0gPSBkLCBrIC09IG07CgoJCQkJCQkJCQkJCWRvIHsKCQkJCQkJCQkJCQkJeFtyKytdID0gX1t2KytdOwoJCQkJCQkJCQkJCX0gd2hpbGUgKC0tbSk7CgoJCQkJCQkJCQkJCXYgPSByIC0geSwgRSA9IHg7CgkJCQkJCQkJCQl9CgkJCQkJCQkJCX0KCQkJCQkJCQl9IGVsc2UgaWYgKHYgKz0gZCAtIG0sIG0gPCBrKSB7CgkJCQkJCQkJCWsgLT0gbTsKCgkJCQkJCQkJCWRvIHsKCQkJCQkJCQkJCXhbcisrXSA9IF9bdisrXTsKCQkJCQkJCQkJfSB3aGlsZSAoLS1tKTsKCgkJCQkJCQkJCXYgPSByIC0geSwgRSA9IHg7CgkJCQkJCQkJfQoKCQkJCQkJCQlmb3IgKDsgayA+IDI7KSB4W3IrK10gPSBFW3YrK10sIHhbcisrXSA9IEVbdisrXSwgeFtyKytdID0gRVt2KytdLCBrIC09IDM7CgoJCQkJCQkJCWsgJiYgKHhbcisrXSA9IEVbdisrXSwgayA+IDEgJiYgKHhbcisrXSA9IEVbdisrXSkpOwoJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQl2ID0gciAtIHk7CgoJCQkJCQkJCWRvIHsKCQkJCQkJCQkJeFtyKytdID0geFt2KytdLCB4W3IrK10gPSB4W3YrK10sIHhbcisrXSA9IHhbdisrXSwgayAtPSAzOwoJCQkJCQkJCX0gd2hpbGUgKGsgPiAyKTsKCgkJCQkJCQkJayAmJiAoeFtyKytdID0geFt2KytdLCBrID4gMSAmJiAoeFtyKytdID0geFt2KytdKSk7CgkJCQkJCQl9CgoJCQkJCQkJYnJlYWs7CgkJCQkJCX0KCQkJCQl9CgkJCQkJYnJlYWs7CgkJCQl9CgkJCX0gd2hpbGUgKGkgPCBuICYmIHIgPCBhKTsKCgkJCWsgPSBjID4+IDMsIGkgLT0gaywgYyAtPSBrIDw8IDMsIGYgJj0gKDEgPDwgYykgLSAxLCB0Lm5leHRfaW4gPSBpLCB0Lm5leHRfb3V0ID0gciwgdC5hdmFpbF9pbiA9IGkgPCBuID8gbiAtIGkgKyA1IDogNSAtIChpIC0gbiksIHQuYXZhaWxfb3V0ID0gciA8IGEgPyBhIC0gciArIDI1NyA6IDI1NyAtIChyIC0gYSksIFUuaG9sZCA9IGYsIFUuYml0cyA9IGM7CgkJfTsKCgkJY29uc3QgZGUgPSBuZXcgVWludDE2QXJyYXkoWzMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTMsIDE1LCAxNywgMTksIDIzLCAyNywgMzEsIDM1LCA0MywgNTEsIDU5LCA2NywgODMsIDk5LCAxMTUsIDEzMSwgMTYzLCAxOTUsIDIyNywgMjU4LCAwLCAwXSksCgkJCQkJX2UgPSBuZXcgVWludDhBcnJheShbMTYsIDE2LCAxNiwgMTYsIDE2LCAxNiwgMTYsIDE2LCAxNywgMTcsIDE3LCAxNywgMTgsIDE4LCAxOCwgMTgsIDE5LCAxOSwgMTksIDE5LCAyMCwgMjAsIDIwLCAyMCwgMjEsIDIxLCAyMSwgMjEsIDE2LCA3MiwgNzhdKSwKCQkJCQlmZSA9IG5ldyBVaW50MTZBcnJheShbMSwgMiwgMywgNCwgNSwgNywgOSwgMTMsIDE3LCAyNSwgMzMsIDQ5LCA2NSwgOTcsIDEyOSwgMTkzLCAyNTcsIDM4NSwgNTEzLCA3NjksIDEwMjUsIDE1MzcsIDIwNDksIDMwNzMsIDQwOTcsIDYxNDUsIDgxOTMsIDEyMjg5LCAxNjM4NSwgMjQ1NzcsIDAsIDBdKSwKCQkJCQljZSA9IG5ldyBVaW50OEFycmF5KFsxNiwgMTYsIDE2LCAxNiwgMTcsIDE3LCAxOCwgMTgsIDE5LCAxOSwgMjAsIDIwLCAyMSwgMjEsIDIyLCAyMiwgMjMsIDIzLCAyNCwgMjQsIDI1LCAyNSwgMjYsIDI2LCAyNywgMjcsIDI4LCAyOCwgMjksIDI5LCA2NCwgNjRdKTsKCgkJdmFyIHVlID0gKHQsIGUsIGksIG4sIHIsIHMsIGEsIG8pID0+IHsKCQkJY29uc3QgaCA9IG8uYml0czsKCgkJCWxldCBsLAoJCQkJCWQsCgkJCQkJXywKCQkJCQlmLAoJCQkJCWMsCgkJCQkJdSwKCQkJCQl3ID0gMCwKCQkJCQlwID0gMCwKCQkJCQlnID0gMCwKCQkJCQliID0gMCwKCQkJCQltID0gMCwKCQkJCQlrID0gMCwKCQkJCQl5ID0gMCwKCQkJCQl2ID0gMCwKCQkJCQlFID0gMCwKCQkJCQlBID0gMCwKCQkJCQl4ID0gbnVsbCwKCQkJCQlVID0gMDsKCgkJCWNvbnN0IHogPSBuZXcgVWludDE2QXJyYXkoMTYpLAoJCQkJCQlSID0gbmV3IFVpbnQxNkFycmF5KDE2KTsKCQkJbGV0IE4sCgkJCQkJVCwKCQkJCQlPLAoJCQkJCUwgPSBudWxsLAoJCQkJCUIgPSAwOwoKCQkJZm9yICh3ID0gMDsgdyA8PSAxNTsgdysrKSB6W3ddID0gMDsKCgkJCWZvciAocCA9IDA7IHAgPCBuOyBwKyspIHpbZVtpICsgcF1dKys7CgoJCQlmb3IgKG0gPSBoLCBiID0gMTU7IGIgPj0gMSAmJiAwID09PSB6W2JdOyBiLS0pOwoKCQkJaWYgKG0gPiBiICYmIChtID0gYiksIDAgPT09IGIpIHJldHVybiByW3MrK10gPSAyMDk3MTUyMCwgcltzKytdID0gMjA5NzE1MjAsIG8uYml0cyA9IDEsIDA7CgoJCQlmb3IgKGcgPSAxOyBnIDwgYiAmJiAwID09PSB6W2ddOyBnKyspOwoKCQkJZm9yIChtIDwgZyAmJiAobSA9IGcpLCB2ID0gMSwgdyA9IDE7IHcgPD0gMTU7IHcrKykgaWYgKHYgPDw9IDEsIHYgLT0gelt3XSwgdiA8IDApIHJldHVybiAtMTsKCgkJCWlmICh2ID4gMCAmJiAoMCA9PT0gdCB8fCAxICE9PSBiKSkgcmV0dXJuIC0xOwoKCQkJZm9yIChSWzFdID0gMCwgdyA9IDE7IHcgPCAxNTsgdysrKSBSW3cgKyAxXSA9IFJbd10gKyB6W3ddOwoKCQkJZm9yIChwID0gMDsgcCA8IG47IHArKykgMCAhPT0gZVtpICsgcF0gJiYgKGFbUltlW2kgKyBwXV0rK10gPSBwKTsKCgkJCWlmICgwID09PSB0ID8gKHggPSBMID0gYSwgdSA9IDE5KSA6IDEgPT09IHQgPyAoeCA9IGRlLCBVIC09IDI1NywgTCA9IF9lLCBCIC09IDI1NywgdSA9IDI1NikgOiAoeCA9IGZlLCBMID0gY2UsIHUgPSAtMSksIEEgPSAwLCBwID0gMCwgdyA9IGcsIGMgPSBzLCBrID0gbSwgeSA9IDAsIF8gPSAtMSwgRSA9IDEgPDwgbSwgZiA9IEUgLSAxLCAxID09PSB0ICYmIEUgPiA4NTIgfHwgMiA9PT0gdCAmJiBFID4gNTkyKSByZXR1cm4gMTsKCgkJCWZvciAoOzspIHsKCQkJCU4gPSB3IC0geSwgYVtwXSA8IHUgPyAoVCA9IDAsIE8gPSBhW3BdKSA6IGFbcF0gPiB1ID8gKFQgPSBMW0IgKyBhW3BdXSwgTyA9IHhbVSArIGFbcF1dKSA6IChUID0gOTYsIE8gPSAwKSwgbCA9IDEgPDwgdyAtIHksIGQgPSAxIDw8IGssIGcgPSBkOwoKCQkJCWRvIHsKCQkJCQlkIC09IGwsIHJbYyArIChBID4+IHkpICsgZF0gPSBOIDw8IDI0IHwgVCA8PCAxNiB8IE8gfCAwOwoJCQkJfSB3aGlsZSAoMCAhPT0gZCk7CgoJCQkJZm9yIChsID0gMSA8PCB3IC0gMTsgQSAmIGw7KSBsID4+PSAxOwoKCQkJCWlmICgwICE9PSBsID8gKEEgJj0gbCAtIDEsIEEgKz0gbCkgOiBBID0gMCwgcCsrLCAwID09IC0telt3XSkgewoJCQkJCWlmICh3ID09PSBiKSBicmVhazsKCQkJCQl3ID0gZVtpICsgYVtwXV07CgkJCQl9CgoJCQkJaWYgKHcgPiBtICYmIChBICYgZikgIT09IF8pIHsKCQkJCQlmb3IgKDAgPT09IHkgJiYgKHkgPSBtKSwgYyArPSBnLCBrID0gdyAtIHksIHYgPSAxIDw8IGs7IGsgKyB5IDwgYiAmJiAodiAtPSB6W2sgKyB5XSwgISh2IDw9IDApKTspIGsrKywgdiA8PD0gMTsKCgkJCQkJaWYgKEUgKz0gMSA8PCBrLCAxID09PSB0ICYmIEUgPiA4NTIgfHwgMiA9PT0gdCAmJiBFID4gNTkyKSByZXR1cm4gMTsKCQkJCQlfID0gQSAmIGYsIHJbX10gPSBtIDw8IDI0IHwgayA8PCAxNiB8IGMgLSBzIHwgMDsKCQkJCX0KCQkJfQoKCQkJcmV0dXJuIDAgIT09IEEgJiYgKHJbYyArIEFdID0gdyAtIHkgPDwgMjQgfCA2NCA8PCAxNiB8IDApLCBvLmJpdHMgPSBtLCAwOwoJCX07CgoJCWNvbnN0IHsKCQkJWl9GSU5JU0g6IHdlLAoJCQlaX0JMT0NLOiBwZSwKCQkJWl9UUkVFUzogZ2UsCgkJCVpfT0s6IGJlLAoJCQlaX1NUUkVBTV9FTkQ6IG1lLAoJCQlaX05FRURfRElDVDoga2UsCgkJCVpfU1RSRUFNX0VSUk9SOiB5ZSwKCQkJWl9EQVRBX0VSUk9SOiB2ZSwKCQkJWl9NRU1fRVJST1I6IEVlLAoJCQlaX0JVRl9FUlJPUjogQWUsCgkJCVpfREVGTEFURUQ6IHhlCgkJfSA9IEgsCgkJCQkJVWUgPSAxMiwKCQkJCQl6ZSA9IDMwLAoJCQkJCVJlID0gdCA9PiAodCA+Pj4gMjQgJiAyNTUpICsgKHQgPj4+IDggJiA2NTI4MCkgKyAoKDY1MjgwICYgdCkgPDwgOCkgKyAoKDI1NSAmIHQpIDw8IDI0KTsKCgkJZnVuY3Rpb24gTmUoKSB7CgkJCXRoaXMubW9kZSA9IDAsIHRoaXMubGFzdCA9ICExLCB0aGlzLndyYXAgPSAwLCB0aGlzLmhhdmVkaWN0ID0gITEsIHRoaXMuZmxhZ3MgPSAwLCB0aGlzLmRtYXggPSAwLCB0aGlzLmNoZWNrID0gMCwgdGhpcy50b3RhbCA9IDAsIHRoaXMuaGVhZCA9IG51bGwsIHRoaXMud2JpdHMgPSAwLCB0aGlzLndzaXplID0gMCwgdGhpcy53aGF2ZSA9IDAsIHRoaXMud25leHQgPSAwLCB0aGlzLndpbmRvdyA9IG51bGwsIHRoaXMuaG9sZCA9IDAsIHRoaXMuYml0cyA9IDAsIHRoaXMubGVuZ3RoID0gMCwgdGhpcy5vZmZzZXQgPSAwLCB0aGlzLmV4dHJhID0gMCwgdGhpcy5sZW5jb2RlID0gbnVsbCwgdGhpcy5kaXN0Y29kZSA9IG51bGwsIHRoaXMubGVuYml0cyA9IDAsIHRoaXMuZGlzdGJpdHMgPSAwLCB0aGlzLm5jb2RlID0gMCwgdGhpcy5ubGVuID0gMCwgdGhpcy5uZGlzdCA9IDAsIHRoaXMuaGF2ZSA9IDAsIHRoaXMubmV4dCA9IG51bGwsIHRoaXMubGVucyA9IG5ldyBVaW50MTZBcnJheSgzMjApLCB0aGlzLndvcmsgPSBuZXcgVWludDE2QXJyYXkoMjg4KSwgdGhpcy5sZW5keW4gPSBudWxsLCB0aGlzLmRpc3RkeW4gPSBudWxsLCB0aGlzLnNhbmUgPSAwLCB0aGlzLmJhY2sgPSAwLCB0aGlzLndhcyA9IDA7CgkJfQoKCQljb25zdCBUZSA9IHQgPT4gewoJCQlpZiAoIXQgfHwgIXQuc3RhdGUpIHJldHVybiB5ZTsKCQkJY29uc3QgZSA9IHQuc3RhdGU7CgkJCXJldHVybiB0LnRvdGFsX2luID0gdC50b3RhbF9vdXQgPSBlLnRvdGFsID0gMCwgdC5tc2cgPSAiIiwgZS53cmFwICYmICh0LmFkbGVyID0gMSAmIGUud3JhcCksIGUubW9kZSA9IDEsIGUubGFzdCA9IDAsIGUuaGF2ZWRpY3QgPSAwLCBlLmRtYXggPSAzMjc2OCwgZS5oZWFkID0gbnVsbCwgZS5ob2xkID0gMCwgZS5iaXRzID0gMCwgZS5sZW5jb2RlID0gZS5sZW5keW4gPSBuZXcgSW50MzJBcnJheSg4NTIpLCBlLmRpc3Rjb2RlID0gZS5kaXN0ZHluID0gbmV3IEludDMyQXJyYXkoNTkyKSwgZS5zYW5lID0gMSwgZS5iYWNrID0gLTEsIGJlOwoJCX0sCgkJCQkJT2UgPSB0ID0+IHsKCQkJaWYgKCF0IHx8ICF0LnN0YXRlKSByZXR1cm4geWU7CgkJCWNvbnN0IGUgPSB0LnN0YXRlOwoJCQlyZXR1cm4gZS53c2l6ZSA9IDAsIGUud2hhdmUgPSAwLCBlLnduZXh0ID0gMCwgVGUodCk7CgkJfSwKCQkJCQlMZSA9ICh0LCBlKSA9PiB7CgkJCWxldCBpOwoJCQlpZiAoIXQgfHwgIXQuc3RhdGUpIHJldHVybiB5ZTsKCQkJY29uc3QgbiA9IHQuc3RhdGU7CgkJCXJldHVybiBlIDwgMCA/IChpID0gMCwgZSA9IC1lKSA6IChpID0gMSArIChlID4+IDQpLCBlIDwgNDggJiYgKGUgJj0gMTUpKSwgZSAmJiAoZSA8IDggfHwgZSA+IDE1KSA/IHllIDogKG51bGwgIT09IG4ud2luZG93ICYmIG4ud2JpdHMgIT09IGUgJiYgKG4ud2luZG93ID0gbnVsbCksIG4ud3JhcCA9IGksIG4ud2JpdHMgPSBlLCBPZSh0KSk7CgkJfSwKCQkJCQlCZSA9ICh0LCBlKSA9PiB7CgkJCWlmICghdCkgcmV0dXJuIHllOwoJCQljb25zdCBpID0gbmV3IE5lKCk7CgkJCXQuc3RhdGUgPSBpLCBpLndpbmRvdyA9IG51bGw7CgkJCWNvbnN0IG4gPSBMZSh0LCBlKTsKCQkJcmV0dXJuIG4gIT09IGJlICYmICh0LnN0YXRlID0gbnVsbCksIG47CgkJfTsKCgkJbGV0IENlLAoJCQkJRGUsCgkJCQlJZSA9ICEwOwoKCQljb25zdCBTZSA9IHQgPT4gewoJCQlpZiAoSWUpIHsKCQkJCUNlID0gbmV3IEludDMyQXJyYXkoNTEyKSwgRGUgPSBuZXcgSW50MzJBcnJheSgzMik7CgkJCQlsZXQgZSA9IDA7CgoJCQkJZm9yICg7IGUgPCAxNDQ7KSB0LmxlbnNbZSsrXSA9IDg7CgoJCQkJZm9yICg7IGUgPCAyNTY7KSB0LmxlbnNbZSsrXSA9IDk7CgoJCQkJZm9yICg7IGUgPCAyODA7KSB0LmxlbnNbZSsrXSA9IDc7CgoJCQkJZm9yICg7IGUgPCAyODg7KSB0LmxlbnNbZSsrXSA9IDg7CgoJCQkJZm9yICh1ZSgxLCB0LmxlbnMsIDAsIDI4OCwgQ2UsIDAsIHQud29yaywgewoJCQkJCWJpdHM6IDkKCQkJCX0pLCBlID0gMDsgZSA8IDMyOykgdC5sZW5zW2UrK10gPSA1OwoKCQkJCXVlKDIsIHQubGVucywgMCwgMzIsIERlLCAwLCB0LndvcmssIHsKCQkJCQliaXRzOiA1CgkJCQl9KSwgSWUgPSAhMTsKCQkJfQoKCQkJdC5sZW5jb2RlID0gQ2UsIHQubGVuYml0cyA9IDksIHQuZGlzdGNvZGUgPSBEZSwgdC5kaXN0Yml0cyA9IDU7CgkJfSwKCQkJCQlaZSA9ICh0LCBlLCBpLCBuKSA9PiB7CgkJCWxldCByOwoJCQljb25zdCBzID0gdC5zdGF0ZTsKCQkJcmV0dXJuIG51bGwgPT09IHMud2luZG93ICYmIChzLndzaXplID0gMSA8PCBzLndiaXRzLCBzLnduZXh0ID0gMCwgcy53aGF2ZSA9IDAsIHMud2luZG93ID0gbmV3IFVpbnQ4QXJyYXkocy53c2l6ZSkpLCBuID49IHMud3NpemUgPyAocy53aW5kb3cuc2V0KGUuc3ViYXJyYXkoaSAtIHMud3NpemUsIGkpLCAwKSwgcy53bmV4dCA9IDAsIHMud2hhdmUgPSBzLndzaXplKSA6IChyID0gcy53c2l6ZSAtIHMud25leHQsIHIgPiBuICYmIChyID0gbiksIHMud2luZG93LnNldChlLnN1YmFycmF5KGkgLSBuLCBpIC0gbiArIHIpLCBzLnduZXh0KSwgKG4gLT0gcikgPyAocy53aW5kb3cuc2V0KGUuc3ViYXJyYXkoaSAtIG4sIGkpLCAwKSwgcy53bmV4dCA9IG4sIHMud2hhdmUgPSBzLndzaXplKSA6IChzLnduZXh0ICs9IHIsIHMud25leHQgPT09IHMud3NpemUgJiYgKHMud25leHQgPSAwKSwgcy53aGF2ZSA8IHMud3NpemUgJiYgKHMud2hhdmUgKz0gcikpKSwgMDsKCQl9OwoKCQl2YXIgRmUgPSBPZSwKCQkJCU1lID0gQmUsCgkJCQlQZSA9ICh0LCBlKSA9PiB7CgkJCWxldCBpLAoJCQkJCW4sCgkJCQkJciwKCQkJCQlzLAoJCQkJCWEsCgkJCQkJbywKCQkJCQloLAoJCQkJCWwsCgkJCQkJZCwKCQkJCQlfLAoJCQkJCWYsCgkJCQkJYywKCQkJCQl1LAoJCQkJCXcsCgkJCQkJcCwKCQkJCQlnLAoJCQkJCWIsCgkJCQkJbSwKCQkJCQlrLAoJCQkJCXksCgkJCQkJdiwKCQkJCQlFLAoJCQkJCUEgPSAwOwoKCQkJY29uc3QgeCA9IG5ldyBVaW50OEFycmF5KDQpOwoJCQlsZXQgVSwgejsKCQkJY29uc3QgUiA9IG5ldyBVaW50OEFycmF5KFsxNiwgMTcsIDE4LCAwLCA4LCA3LCA5LCA2LCAxMCwgNSwgMTEsIDQsIDEyLCAzLCAxMywgMiwgMTQsIDEsIDE1XSk7CgkJCWlmICghdCB8fCAhdC5zdGF0ZSB8fCAhdC5vdXRwdXQgfHwgIXQuaW5wdXQgJiYgMCAhPT0gdC5hdmFpbF9pbikgcmV0dXJuIHllOwoJCQlpID0gdC5zdGF0ZSwgaS5tb2RlID09PSBVZSAmJiAoaS5tb2RlID0gMTMpLCBhID0gdC5uZXh0X291dCwgciA9IHQub3V0cHV0LCBoID0gdC5hdmFpbF9vdXQsIHMgPSB0Lm5leHRfaW4sIG4gPSB0LmlucHV0LCBvID0gdC5hdmFpbF9pbiwgbCA9IGkuaG9sZCwgZCA9IGkuYml0cywgXyA9IG8sIGYgPSBoLCBFID0gYmU7CgoJCQl0OiBmb3IgKDs7KSBzd2l0Y2ggKGkubW9kZSkgewoJCQkJY2FzZSAxOgoJCQkJCWlmICgwID09PSBpLndyYXApIHsKCQkJCQkJaS5tb2RlID0gMTM7CgkJCQkJCWJyZWFrOwoJCQkJCX0KCgkJCQkJZm9yICg7IGQgPCAxNjspIHsKCQkJCQkJaWYgKDAgPT09IG8pIGJyZWFrIHQ7CgkJCQkJCW8tLSwgbCArPSBuW3MrK10gPDwgZCwgZCArPSA4OwoJCQkJCX0KCgkJCQkJaWYgKDIgJiBpLndyYXAgJiYgMzU2MTUgPT09IGwpIHsKCQkJCQkJaS5jaGVjayA9IDAsIHhbMF0gPSAyNTUgJiBsLCB4WzFdID0gbCA+Pj4gOCAmIDI1NSwgaS5jaGVjayA9IE0oaS5jaGVjaywgeCwgMiwgMCksIGwgPSAwLCBkID0gMCwgaS5tb2RlID0gMjsKCQkJCQkJYnJlYWs7CgkJCQkJfQoKCQkJCQlpZiAoaS5mbGFncyA9IDAsIGkuaGVhZCAmJiAoaS5oZWFkLmRvbmUgPSAhMSksICEoMSAmIGkud3JhcCkgfHwgKCgoMjU1ICYgbCkgPDwgOCkgKyAobCA+PiA4KSkgJSAzMSkgewoJCQkJCQl0Lm1zZyA9ICJpbmNvcnJlY3QgaGVhZGVyIGNoZWNrIiwgaS5tb2RlID0gemU7CgkJCQkJCWJyZWFrOwoJCQkJCX0KCgkJCQkJaWYgKCgxNSAmIGwpICE9PSB4ZSkgewoJCQkJCQl0Lm1zZyA9ICJ1bmtub3duIGNvbXByZXNzaW9uIG1ldGhvZCIsIGkubW9kZSA9IHplOwoJCQkJCQlicmVhazsKCQkJCQl9CgoJCQkJCWlmIChsID4+Pj0gNCwgZCAtPSA0LCB2ID0gOCArICgxNSAmIGwpLCAwID09PSBpLndiaXRzKSBpLndiaXRzID0gdjtlbHNlIGlmICh2ID4gaS53Yml0cykgewoJCQkJCQl0Lm1zZyA9ICJpbnZhbGlkIHdpbmRvdyBzaXplIiwgaS5tb2RlID0gemU7CgkJCQkJCWJyZWFrOwoJCQkJCX0KCQkJCQlpLmRtYXggPSAxIDw8IGkud2JpdHMsIHQuYWRsZXIgPSBpLmNoZWNrID0gMSwgaS5tb2RlID0gNTEyICYgbCA/IDEwIDogVWUsIGwgPSAwLCBkID0gMDsKCQkJCQlicmVhazsKCgkJCQljYXNlIDI6CgkJCQkJZm9yICg7IGQgPCAxNjspIHsKCQkJCQkJaWYgKDAgPT09IG8pIGJyZWFrIHQ7CgkJCQkJCW8tLSwgbCArPSBuW3MrK10gPDwgZCwgZCArPSA4OwoJCQkJCX0KCgkJCQkJaWYgKGkuZmxhZ3MgPSBsLCAoMjU1ICYgaS5mbGFncykgIT09IHhlKSB7CgkJCQkJCXQubXNnID0gInVua25vd24gY29tcHJlc3Npb24gbWV0aG9kIiwgaS5tb2RlID0gemU7CgkJCQkJCWJyZWFrOwoJCQkJCX0KCgkJCQkJaWYgKDU3MzQ0ICYgaS5mbGFncykgewoJCQkJCQl0Lm1zZyA9ICJ1bmtub3duIGhlYWRlciBmbGFncyBzZXQiLCBpLm1vZGUgPSB6ZTsKCQkJCQkJYnJlYWs7CgkJCQkJfQoKCQkJCQlpLmhlYWQgJiYgKGkuaGVhZC50ZXh0ID0gbCA+PiA4ICYgMSksIDUxMiAmIGkuZmxhZ3MgJiYgKHhbMF0gPSAyNTUgJiBsLCB4WzFdID0gbCA+Pj4gOCAmIDI1NSwgaS5jaGVjayA9IE0oaS5jaGVjaywgeCwgMiwgMCkpLCBsID0gMCwgZCA9IDAsIGkubW9kZSA9IDM7CgoJCQkJY2FzZSAzOgoJCQkJCWZvciAoOyBkIDwgMzI7KSB7CgkJCQkJCWlmICgwID09PSBvKSBicmVhayB0OwoJCQkJCQlvLS0sIGwgKz0gbltzKytdIDw8IGQsIGQgKz0gODsKCQkJCQl9CgoJCQkJCWkuaGVhZCAmJiAoaS5oZWFkLnRpbWUgPSBsKSwgNTEyICYgaS5mbGFncyAmJiAoeFswXSA9IDI1NSAmIGwsIHhbMV0gPSBsID4+PiA4ICYgMjU1LCB4WzJdID0gbCA+Pj4gMTYgJiAyNTUsIHhbM10gPSBsID4+PiAyNCAmIDI1NSwgaS5jaGVjayA9IE0oaS5jaGVjaywgeCwgNCwgMCkpLCBsID0gMCwgZCA9IDAsIGkubW9kZSA9IDQ7CgoJCQkJY2FzZSA0OgoJCQkJCWZvciAoOyBkIDwgMTY7KSB7CgkJCQkJCWlmICgwID09PSBvKSBicmVhayB0OwoJCQkJCQlvLS0sIGwgKz0gbltzKytdIDw8IGQsIGQgKz0gODsKCQkJCQl9CgoJCQkJCWkuaGVhZCAmJiAoaS5oZWFkLnhmbGFncyA9IDI1NSAmIGwsIGkuaGVhZC5vcyA9IGwgPj4gOCksIDUxMiAmIGkuZmxhZ3MgJiYgKHhbMF0gPSAyNTUgJiBsLCB4WzFdID0gbCA+Pj4gOCAmIDI1NSwgaS5jaGVjayA9IE0oaS5jaGVjaywgeCwgMiwgMCkpLCBsID0gMCwgZCA9IDAsIGkubW9kZSA9IDU7CgoJCQkJY2FzZSA1OgoJCQkJCWlmICgxMDI0ICYgaS5mbGFncykgewoJCQkJCQlmb3IgKDsgZCA8IDE2OykgewoJCQkJCQkJaWYgKDAgPT09IG8pIGJyZWFrIHQ7CgkJCQkJCQlvLS0sIGwgKz0gbltzKytdIDw8IGQsIGQgKz0gODsKCQkJCQkJfQoKCQkJCQkJaS5sZW5ndGggPSBsLCBpLmhlYWQgJiYgKGkuaGVhZC5leHRyYV9sZW4gPSBsKSwgNTEyICYgaS5mbGFncyAmJiAoeFswXSA9IDI1NSAmIGwsIHhbMV0gPSBsID4+PiA4ICYgMjU1LCBpLmNoZWNrID0gTShpLmNoZWNrLCB4LCAyLCAwKSksIGwgPSAwLCBkID0gMDsKCQkJCQl9IGVsc2UgaS5oZWFkICYmIChpLmhlYWQuZXh0cmEgPSBudWxsKTsKCgkJCQkJaS5tb2RlID0gNjsKCgkJCQljYXNlIDY6CgkJCQkJaWYgKDEwMjQgJiBpLmZsYWdzICYmIChjID0gaS5sZW5ndGgsIGMgPiBvICYmIChjID0gbyksIGMgJiYgKGkuaGVhZCAmJiAodiA9IGkuaGVhZC5leHRyYV9sZW4gLSBpLmxlbmd0aCwgaS5oZWFkLmV4dHJhIHx8IChpLmhlYWQuZXh0cmEgPSBuZXcgVWludDhBcnJheShpLmhlYWQuZXh0cmFfbGVuKSksIGkuaGVhZC5leHRyYS5zZXQobi5zdWJhcnJheShzLCBzICsgYyksIHYpKSwgNTEyICYgaS5mbGFncyAmJiAoaS5jaGVjayA9IE0oaS5jaGVjaywgbiwgYywgcykpLCBvIC09IGMsIHMgKz0gYywgaS5sZW5ndGggLT0gYyksIGkubGVuZ3RoKSkgYnJlYWsgdDsKCQkJCQlpLmxlbmd0aCA9IDAsIGkubW9kZSA9IDc7CgoJCQkJY2FzZSA3OgoJCQkJCWlmICgyMDQ4ICYgaS5mbGFncykgewoJCQkJCQlpZiAoMCA9PT0gbykgYnJlYWsgdDsKCQkJCQkJYyA9IDA7CgoJCQkJCQlkbyB7CgkJCQkJCQl2ID0gbltzICsgYysrXSwgaS5oZWFkICYmIHYgJiYgaS5sZW5ndGggPCA2NTUzNiAmJiAoaS5oZWFkLm5hbWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh2KSk7CgkJCQkJCX0gd2hpbGUgKHYgJiYgYyA8IG8pOwoKCQkJCQkJaWYgKDUxMiAmIGkuZmxhZ3MgJiYgKGkuY2hlY2sgPSBNKGkuY2hlY2ssIG4sIGMsIHMpKSwgbyAtPSBjLCBzICs9IGMsIHYpIGJyZWFrIHQ7CgkJCQkJfSBlbHNlIGkuaGVhZCAmJiAoaS5oZWFkLm5hbWUgPSBudWxsKTsKCgkJCQkJaS5sZW5ndGggPSAwLCBpLm1vZGUgPSA4OwoKCQkJCWNhc2UgODoKCQkJCQlpZiAoNDA5NiAmIGkuZmxhZ3MpIHsKCQkJCQkJaWYgKDAgPT09IG8pIGJyZWFrIHQ7CgkJCQkJCWMgPSAwOwoKCQkJCQkJZG8gewoJCQkJCQkJdiA9IG5bcyArIGMrK10sIGkuaGVhZCAmJiB2ICYmIGkubGVuZ3RoIDwgNjU1MzYgJiYgKGkuaGVhZC5jb21tZW50ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodikpOwoJCQkJCQl9IHdoaWxlICh2ICYmIGMgPCBvKTsKCgkJCQkJCWlmICg1MTIgJiBpLmZsYWdzICYmIChpLmNoZWNrID0gTShpLmNoZWNrLCBuLCBjLCBzKSksIG8gLT0gYywgcyArPSBjLCB2KSBicmVhayB0OwoJCQkJCX0gZWxzZSBpLmhlYWQgJiYgKGkuaGVhZC5jb21tZW50ID0gbnVsbCk7CgoJCQkJCWkubW9kZSA9IDk7CgoJCQkJY2FzZSA5OgoJCQkJCWlmICg1MTIgJiBpLmZsYWdzKSB7CgkJCQkJCWZvciAoOyBkIDwgMTY7KSB7CgkJCQkJCQlpZiAoMCA9PT0gbykgYnJlYWsgdDsKCQkJCQkJCW8tLSwgbCArPSBuW3MrK10gPDwgZCwgZCArPSA4OwoJCQkJCQl9CgoJCQkJCQlpZiAobCAhPT0gKDY1NTM1ICYgaS5jaGVjaykpIHsKCQkJCQkJCXQubXNnID0gImhlYWRlciBjcmMgbWlzbWF0Y2giLCBpLm1vZGUgPSB6ZTsKCQkJCQkJCWJyZWFrOwoJCQkJCQl9CgoJCQkJCQlsID0gMCwgZCA9IDA7CgkJCQkJfQoKCQkJCQlpLmhlYWQgJiYgKGkuaGVhZC5oY3JjID0gaS5mbGFncyA+PiA5ICYgMSwgaS5oZWFkLmRvbmUgPSAhMCksIHQuYWRsZXIgPSBpLmNoZWNrID0gMCwgaS5tb2RlID0gVWU7CgkJCQkJYnJlYWs7CgoJCQkJY2FzZSAxMDoKCQkJCQlmb3IgKDsgZCA8IDMyOykgewoJCQkJCQlpZiAoMCA9PT0gbykgYnJlYWsgdDsKCQkJCQkJby0tLCBsICs9IG5bcysrXSA8PCBkLCBkICs9IDg7CgkJCQkJfQoKCQkJCQl0LmFkbGVyID0gaS5jaGVjayA9IFJlKGwpLCBsID0gMCwgZCA9IDAsIGkubW9kZSA9IDExOwoKCQkJCWNhc2UgMTE6CgkJCQkJaWYgKDAgPT09IGkuaGF2ZWRpY3QpIHJldHVybiB0Lm5leHRfb3V0ID0gYSwgdC5hdmFpbF9vdXQgPSBoLCB0Lm5leHRfaW4gPSBzLCB0LmF2YWlsX2luID0gbywgaS5ob2xkID0gbCwgaS5iaXRzID0gZCwga2U7CgkJCQkJdC5hZGxlciA9IGkuY2hlY2sgPSAxLCBpLm1vZGUgPSBVZTsKCgkJCQljYXNlIFVlOgoJCQkJCWlmIChlID09PSBwZSB8fCBlID09PSBnZSkgYnJlYWsgdDsKCgkJCQljYXNlIDEzOgoJCQkJCWlmIChpLmxhc3QpIHsKCQkJCQkJbCA+Pj49IDcgJiBkLCBkIC09IDcgJiBkLCBpLm1vZGUgPSAyNzsKCQkJCQkJYnJlYWs7CgkJCQkJfQoKCQkJCQlmb3IgKDsgZCA8IDM7KSB7CgkJCQkJCWlmICgwID09PSBvKSBicmVhayB0OwoJCQkJCQlvLS0sIGwgKz0gbltzKytdIDw8IGQsIGQgKz0gODsKCQkJCQl9CgoJCQkJCXN3aXRjaCAoaS5sYXN0ID0gMSAmIGwsIGwgPj4+PSAxLCBkIC09IDEsIDMgJiBsKSB7CgkJCQkJCWNhc2UgMDoKCQkJCQkJCWkubW9kZSA9IDE0OwoJCQkJCQkJYnJlYWs7CgoJCQkJCQljYXNlIDE6CgkJCQkJCQlpZiAoU2UoaSksIGkubW9kZSA9IDIwLCBlID09PSBnZSkgewoJCQkJCQkJCWwgPj4+PSAyLCBkIC09IDI7CgkJCQkJCQkJYnJlYWsgdDsKCQkJCQkJCX0KCgkJCQkJCQlicmVhazsKCgkJCQkJCWNhc2UgMjoKCQkJCQkJCWkubW9kZSA9IDE3OwoJCQkJCQkJYnJlYWs7CgoJCQkJCQljYXNlIDM6CgkJCQkJCQl0Lm1zZyA9ICJpbnZhbGlkIGJsb2NrIHR5cGUiLCBpLm1vZGUgPSB6ZTsKCQkJCQl9CgoJCQkJCWwgPj4+PSAyLCBkIC09IDI7CgkJCQkJYnJlYWs7CgoJCQkJY2FzZSAxNDoKCQkJCQlmb3IgKGwgPj4+PSA3ICYgZCwgZCAtPSA3ICYgZDsgZCA8IDMyOykgewoJCQkJCQlpZiAoMCA9PT0gbykgYnJlYWsgdDsKCQkJCQkJby0tLCBsICs9IG5bcysrXSA8PCBkLCBkICs9IDg7CgkJCQkJfQoKCQkJCQlpZiAoKDY1NTM1ICYgbCkgIT0gKGwgPj4+IDE2IF4gNjU1MzUpKSB7CgkJCQkJCXQubXNnID0gImludmFsaWQgc3RvcmVkIGJsb2NrIGxlbmd0aHMiLCBpLm1vZGUgPSB6ZTsKCQkJCQkJYnJlYWs7CgkJCQkJfQoKCQkJCQlpZiAoaS5sZW5ndGggPSA2NTUzNSAmIGwsIGwgPSAwLCBkID0gMCwgaS5tb2RlID0gMTUsIGUgPT09IGdlKSBicmVhayB0OwoKCQkJCWNhc2UgMTU6CgkJCQkJaS5tb2RlID0gMTY7CgoJCQkJY2FzZSAxNjoKCQkJCQlpZiAoYyA9IGkubGVuZ3RoLCBjKSB7CgkJCQkJCWlmIChjID4gbyAmJiAoYyA9IG8pLCBjID4gaCAmJiAoYyA9IGgpLCAwID09PSBjKSBicmVhayB0OwoJCQkJCQlyLnNldChuLnN1YmFycmF5KHMsIHMgKyBjKSwgYSksIG8gLT0gYywgcyArPSBjLCBoIC09IGMsIGEgKz0gYywgaS5sZW5ndGggLT0gYzsKCQkJCQkJYnJlYWs7CgkJCQkJfQoKCQkJCQlpLm1vZGUgPSBVZTsKCQkJCQlicmVhazsKCgkJCQljYXNlIDE3OgoJCQkJCWZvciAoOyBkIDwgMTQ7KSB7CgkJCQkJCWlmICgwID09PSBvKSBicmVhayB0OwoJCQkJCQlvLS0sIGwgKz0gbltzKytdIDw8IGQsIGQgKz0gODsKCQkJCQl9CgoJCQkJCWlmIChpLm5sZW4gPSAyNTcgKyAoMzEgJiBsKSwgbCA+Pj49IDUsIGQgLT0gNSwgaS5uZGlzdCA9IDEgKyAoMzEgJiBsKSwgbCA+Pj49IDUsIGQgLT0gNSwgaS5uY29kZSA9IDQgKyAoMTUgJiBsKSwgbCA+Pj49IDQsIGQgLT0gNCwgaS5ubGVuID4gMjg2IHx8IGkubmRpc3QgPiAzMCkgewoJCQkJCQl0Lm1zZyA9ICJ0b28gbWFueSBsZW5ndGggb3IgZGlzdGFuY2Ugc3ltYm9scyIsIGkubW9kZSA9IHplOwoJCQkJCQlicmVhazsKCQkJCQl9CgoJCQkJCWkuaGF2ZSA9IDAsIGkubW9kZSA9IDE4OwoKCQkJCWNhc2UgMTg6CgkJCQkJZm9yICg7IGkuaGF2ZSA8IGkubmNvZGU7KSB7CgkJCQkJCWZvciAoOyBkIDwgMzspIHsKCQkJCQkJCWlmICgwID09PSBvKSBicmVhayB0OwoJCQkJCQkJby0tLCBsICs9IG5bcysrXSA8PCBkLCBkICs9IDg7CgkJCQkJCX0KCgkJCQkJCWkubGVuc1tSW2kuaGF2ZSsrXV0gPSA3ICYgbCwgbCA+Pj49IDMsIGQgLT0gMzsKCQkJCQl9CgoJCQkJCWZvciAoOyBpLmhhdmUgPCAxOTspIGkubGVuc1tSW2kuaGF2ZSsrXV0gPSAwOwoKCQkJCQlpZiAoaS5sZW5jb2RlID0gaS5sZW5keW4sIGkubGVuYml0cyA9IDcsIFUgPSB7CgkJCQkJCWJpdHM6IGkubGVuYml0cwoJCQkJCX0sIEUgPSB1ZSgwLCBpLmxlbnMsIDAsIDE5LCBpLmxlbmNvZGUsIDAsIGkud29yaywgVSksIGkubGVuYml0cyA9IFUuYml0cywgRSkgewoJCQkJCQl0Lm1zZyA9ICJpbnZhbGlkIGNvZGUgbGVuZ3RocyBzZXQiLCBpLm1vZGUgPSB6ZTsKCQkJCQkJYnJlYWs7CgkJCQkJfQoKCQkJCQlpLmhhdmUgPSAwLCBpLm1vZGUgPSAxOTsKCgkJCQljYXNlIDE5OgoJCQkJCWZvciAoOyBpLmhhdmUgPCBpLm5sZW4gKyBpLm5kaXN0OykgewoJCQkJCQlmb3IgKDsgQSA9IGkubGVuY29kZVtsICYgKDEgPDwgaS5sZW5iaXRzKSAtIDFdLCBwID0gQSA+Pj4gMjQsIGcgPSBBID4+PiAxNiAmIDI1NSwgYiA9IDY1NTM1ICYgQSwgIShwIDw9IGQpOykgewoJCQkJCQkJaWYgKDAgPT09IG8pIGJyZWFrIHQ7CgkJCQkJCQlvLS0sIGwgKz0gbltzKytdIDw8IGQsIGQgKz0gODsKCQkJCQkJfQoKCQkJCQkJaWYgKGIgPCAxNikgbCA+Pj49IHAsIGQgLT0gcCwgaS5sZW5zW2kuaGF2ZSsrXSA9IGI7ZWxzZSB7CgkJCQkJCQlpZiAoMTYgPT09IGIpIHsKCQkJCQkJCQlmb3IgKHogPSBwICsgMjsgZCA8IHo7KSB7CgkJCQkJCQkJCWlmICgwID09PSBvKSBicmVhayB0OwoJCQkJCQkJCQlvLS0sIGwgKz0gbltzKytdIDw8IGQsIGQgKz0gODsKCQkJCQkJCQl9CgoJCQkJCQkJCWlmIChsID4+Pj0gcCwgZCAtPSBwLCAwID09PSBpLmhhdmUpIHsKCQkJCQkJCQkJdC5tc2cgPSAiaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdCIsIGkubW9kZSA9IHplOwoJCQkJCQkJCQlicmVhazsKCQkJCQkJCQl9CgoJCQkJCQkJCXYgPSBpLmxlbnNbaS5oYXZlIC0gMV0sIGMgPSAzICsgKDMgJiBsKSwgbCA+Pj49IDIsIGQgLT0gMjsKCQkJCQkJCX0gZWxzZSBpZiAoMTcgPT09IGIpIHsKCQkJCQkJCQlmb3IgKHogPSBwICsgMzsgZCA8IHo7KSB7CgkJCQkJCQkJCWlmICgwID09PSBvKSBicmVhayB0OwoJCQkJCQkJCQlvLS0sIGwgKz0gbltzKytdIDw8IGQsIGQgKz0gODsKCQkJCQkJCQl9CgoJCQkJCQkJCWwgPj4+PSBwLCBkIC09IHAsIHYgPSAwLCBjID0gMyArICg3ICYgbCksIGwgPj4+PSAzLCBkIC09IDM7CgkJCQkJCQl9IGVsc2UgewoJCQkJCQkJCWZvciAoeiA9IHAgKyA3OyBkIDwgejspIHsKCQkJCQkJCQkJaWYgKDAgPT09IG8pIGJyZWFrIHQ7CgkJCQkJCQkJCW8tLSwgbCArPSBuW3MrK10gPDwgZCwgZCArPSA4OwoJCQkJCQkJCX0KCgkJCQkJCQkJbCA+Pj49IHAsIGQgLT0gcCwgdiA9IDAsIGMgPSAxMSArICgxMjcgJiBsKSwgbCA+Pj49IDcsIGQgLT0gNzsKCQkJCQkJCX0KCgkJCQkJCQlpZiAoaS5oYXZlICsgYyA+IGkubmxlbiArIGkubmRpc3QpIHsKCQkJCQkJCQl0Lm1zZyA9ICJpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0IiwgaS5tb2RlID0gemU7CgkJCQkJCQkJYnJlYWs7CgkJCQkJCQl9CgoJCQkJCQkJZm9yICg7IGMtLTspIGkubGVuc1tpLmhhdmUrK10gPSB2OwoJCQkJCQl9CgkJCQkJfQoKCQkJCQlpZiAoaS5tb2RlID09PSB6ZSkgYnJlYWs7CgoJCQkJCWlmICgwID09PSBpLmxlbnNbMjU2XSkgewoJCQkJCQl0Lm1zZyA9ICJpbnZhbGlkIGNvZGUgLS0gbWlzc2luZyBlbmQtb2YtYmxvY2siLCBpLm1vZGUgPSB6ZTsKCQkJCQkJYnJlYWs7CgkJCQkJfQoKCQkJCQlpZiAoaS5sZW5iaXRzID0gOSwgVSA9IHsKCQkJCQkJYml0czogaS5sZW5iaXRzCgkJCQkJfSwgRSA9IHVlKDEsIGkubGVucywgMCwgaS5ubGVuLCBpLmxlbmNvZGUsIDAsIGkud29yaywgVSksIGkubGVuYml0cyA9IFUuYml0cywgRSkgewoJCQkJCQl0Lm1zZyA9ICJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RocyBzZXQiLCBpLm1vZGUgPSB6ZTsKCQkJCQkJYnJlYWs7CgkJCQkJfQoKCQkJCQlpZiAoaS5kaXN0Yml0cyA9IDYsIGkuZGlzdGNvZGUgPSBpLmRpc3RkeW4sIFUgPSB7CgkJCQkJCWJpdHM6IGkuZGlzdGJpdHMKCQkJCQl9LCBFID0gdWUoMiwgaS5sZW5zLCBpLm5sZW4sIGkubmRpc3QsIGkuZGlzdGNvZGUsIDAsIGkud29yaywgVSksIGkuZGlzdGJpdHMgPSBVLmJpdHMsIEUpIHsKCQkJCQkJdC5tc2cgPSAiaW52YWxpZCBkaXN0YW5jZXMgc2V0IiwgaS5tb2RlID0gemU7CgkJCQkJCWJyZWFrOwoJCQkJCX0KCgkJCQkJaWYgKGkubW9kZSA9IDIwLCBlID09PSBnZSkgYnJlYWsgdDsKCgkJCQljYXNlIDIwOgoJCQkJCWkubW9kZSA9IDIxOwoKCQkJCWNhc2UgMjE6CgkJCQkJaWYgKG8gPj0gNiAmJiBoID49IDI1OCkgewoJCQkJCQl0Lm5leHRfb3V0ID0gYSwgdC5hdmFpbF9vdXQgPSBoLCB0Lm5leHRfaW4gPSBzLCB0LmF2YWlsX2luID0gbywgaS5ob2xkID0gbCwgaS5iaXRzID0gZCwgbGUodCwgZiksIGEgPSB0Lm5leHRfb3V0LCByID0gdC5vdXRwdXQsIGggPSB0LmF2YWlsX291dCwgcyA9IHQubmV4dF9pbiwgbiA9IHQuaW5wdXQsIG8gPSB0LmF2YWlsX2luLCBsID0gaS5ob2xkLCBkID0gaS5iaXRzLCBpLm1vZGUgPT09IFVlICYmIChpLmJhY2sgPSAtMSk7CgkJCQkJCWJyZWFrOwoJCQkJCX0KCgkJCQkJZm9yIChpLmJhY2sgPSAwOyBBID0gaS5sZW5jb2RlW2wgJiAoMSA8PCBpLmxlbmJpdHMpIC0gMV0sIHAgPSBBID4+PiAyNCwgZyA9IEEgPj4+IDE2ICYgMjU1LCBiID0gNjU1MzUgJiBBLCAhKHAgPD0gZCk7KSB7CgkJCQkJCWlmICgwID09PSBvKSBicmVhayB0OwoJCQkJCQlvLS0sIGwgKz0gbltzKytdIDw8IGQsIGQgKz0gODsKCQkJCQl9CgoJCQkJCWlmIChnICYmIDAgPT0gKDI0MCAmIGcpKSB7CgkJCQkJCWZvciAobSA9IHAsIGsgPSBnLCB5ID0gYjsgQSA9IGkubGVuY29kZVt5ICsgKChsICYgKDEgPDwgbSArIGspIC0gMSkgPj4gbSldLCBwID0gQSA+Pj4gMjQsIGcgPSBBID4+PiAxNiAmIDI1NSwgYiA9IDY1NTM1ICYgQSwgIShtICsgcCA8PSBkKTspIHsKCQkJCQkJCWlmICgwID09PSBvKSBicmVhayB0OwoJCQkJCQkJby0tLCBsICs9IG5bcysrXSA8PCBkLCBkICs9IDg7CgkJCQkJCX0KCgkJCQkJCWwgPj4+PSBtLCBkIC09IG0sIGkuYmFjayArPSBtOwoJCQkJCX0KCgkJCQkJaWYgKGwgPj4+PSBwLCBkIC09IHAsIGkuYmFjayArPSBwLCBpLmxlbmd0aCA9IGIsIDAgPT09IGcpIHsKCQkJCQkJaS5tb2RlID0gMjY7CgkJCQkJCWJyZWFrOwoJCQkJCX0KCgkJCQkJaWYgKDMyICYgZykgewoJCQkJCQlpLmJhY2sgPSAtMSwgaS5tb2RlID0gVWU7CgkJCQkJCWJyZWFrOwoJCQkJCX0KCgkJCQkJaWYgKDY0ICYgZykgewoJCQkJCQl0Lm1zZyA9ICJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RoIGNvZGUiLCBpLm1vZGUgPSB6ZTsKCQkJCQkJYnJlYWs7CgkJCQkJfQoKCQkJCQlpLmV4dHJhID0gMTUgJiBnLCBpLm1vZGUgPSAyMjsKCgkJCQljYXNlIDIyOgoJCQkJCWlmIChpLmV4dHJhKSB7CgkJCQkJCWZvciAoeiA9IGkuZXh0cmE7IGQgPCB6OykgewoJCQkJCQkJaWYgKDAgPT09IG8pIGJyZWFrIHQ7CgkJCQkJCQlvLS0sIGwgKz0gbltzKytdIDw8IGQsIGQgKz0gODsKCQkJCQkJfQoKCQkJCQkJaS5sZW5ndGggKz0gbCAmICgxIDw8IGkuZXh0cmEpIC0gMSwgbCA+Pj49IGkuZXh0cmEsIGQgLT0gaS5leHRyYSwgaS5iYWNrICs9IGkuZXh0cmE7CgkJCQkJfQoKCQkJCQlpLndhcyA9IGkubGVuZ3RoLCBpLm1vZGUgPSAyMzsKCgkJCQljYXNlIDIzOgoJCQkJCWZvciAoOyBBID0gaS5kaXN0Y29kZVtsICYgKDEgPDwgaS5kaXN0Yml0cykgLSAxXSwgcCA9IEEgPj4+IDI0LCBnID0gQSA+Pj4gMTYgJiAyNTUsIGIgPSA2NTUzNSAmIEEsICEocCA8PSBkKTspIHsKCQkJCQkJaWYgKDAgPT09IG8pIGJyZWFrIHQ7CgkJCQkJCW8tLSwgbCArPSBuW3MrK10gPDwgZCwgZCArPSA4OwoJCQkJCX0KCgkJCQkJaWYgKDAgPT0gKDI0MCAmIGcpKSB7CgkJCQkJCWZvciAobSA9IHAsIGsgPSBnLCB5ID0gYjsgQSA9IGkuZGlzdGNvZGVbeSArICgobCAmICgxIDw8IG0gKyBrKSAtIDEpID4+IG0pXSwgcCA9IEEgPj4+IDI0LCBnID0gQSA+Pj4gMTYgJiAyNTUsIGIgPSA2NTUzNSAmIEEsICEobSArIHAgPD0gZCk7KSB7CgkJCQkJCQlpZiAoMCA9PT0gbykgYnJlYWsgdDsKCQkJCQkJCW8tLSwgbCArPSBuW3MrK10gPDwgZCwgZCArPSA4OwoJCQkJCQl9CgoJCQkJCQlsID4+Pj0gbSwgZCAtPSBtLCBpLmJhY2sgKz0gbTsKCQkJCQl9CgoJCQkJCWlmIChsID4+Pj0gcCwgZCAtPSBwLCBpLmJhY2sgKz0gcCwgNjQgJiBnKSB7CgkJCQkJCXQubXNnID0gImludmFsaWQgZGlzdGFuY2UgY29kZSIsIGkubW9kZSA9IHplOwoJCQkJCQlicmVhazsKCQkJCQl9CgoJCQkJCWkub2Zmc2V0ID0gYiwgaS5leHRyYSA9IDE1ICYgZywgaS5tb2RlID0gMjQ7CgoJCQkJY2FzZSAyNDoKCQkJCQlpZiAoaS5leHRyYSkgewoJCQkJCQlmb3IgKHogPSBpLmV4dHJhOyBkIDwgejspIHsKCQkJCQkJCWlmICgwID09PSBvKSBicmVhayB0OwoJCQkJCQkJby0tLCBsICs9IG5bcysrXSA8PCBkLCBkICs9IDg7CgkJCQkJCX0KCgkJCQkJCWkub2Zmc2V0ICs9IGwgJiAoMSA8PCBpLmV4dHJhKSAtIDEsIGwgPj4+PSBpLmV4dHJhLCBkIC09IGkuZXh0cmEsIGkuYmFjayArPSBpLmV4dHJhOwoJCQkJCX0KCgkJCQkJaWYgKGkub2Zmc2V0ID4gaS5kbWF4KSB7CgkJCQkJCXQubXNnID0gImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrIiwgaS5tb2RlID0gemU7CgkJCQkJCWJyZWFrOwoJCQkJCX0KCgkJCQkJaS5tb2RlID0gMjU7CgoJCQkJY2FzZSAyNToKCQkJCQlpZiAoMCA9PT0gaCkgYnJlYWsgdDsKCgkJCQkJaWYgKGMgPSBmIC0gaCwgaS5vZmZzZXQgPiBjKSB7CgkJCQkJCWlmIChjID0gaS5vZmZzZXQgLSBjLCBjID4gaS53aGF2ZSAmJiBpLnNhbmUpIHsKCQkJCQkJCXQubXNnID0gImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrIiwgaS5tb2RlID0gemU7CgkJCQkJCQlicmVhazsKCQkJCQkJfQoKCQkJCQkJYyA+IGkud25leHQgPyAoYyAtPSBpLnduZXh0LCB1ID0gaS53c2l6ZSAtIGMpIDogdSA9IGkud25leHQgLSBjLCBjID4gaS5sZW5ndGggJiYgKGMgPSBpLmxlbmd0aCksIHcgPSBpLndpbmRvdzsKCQkJCQl9IGVsc2UgdyA9IHIsIHUgPSBhIC0gaS5vZmZzZXQsIGMgPSBpLmxlbmd0aDsKCgkJCQkJYyA+IGggJiYgKGMgPSBoKSwgaCAtPSBjLCBpLmxlbmd0aCAtPSBjOwoKCQkJCQlkbyB7CgkJCQkJCXJbYSsrXSA9IHdbdSsrXTsKCQkJCQl9IHdoaWxlICgtLWMpOwoKCQkJCQkwID09PSBpLmxlbmd0aCAmJiAoaS5tb2RlID0gMjEpOwoJCQkJCWJyZWFrOwoKCQkJCWNhc2UgMjY6CgkJCQkJaWYgKDAgPT09IGgpIGJyZWFrIHQ7CgkJCQkJclthKytdID0gaS5sZW5ndGgsIGgtLSwgaS5tb2RlID0gMjE7CgkJCQkJYnJlYWs7CgoJCQkJY2FzZSAyNzoKCQkJCQlpZiAoaS53cmFwKSB7CgkJCQkJCWZvciAoOyBkIDwgMzI7KSB7CgkJCQkJCQlpZiAoMCA9PT0gbykgYnJlYWsgdDsKCQkJCQkJCW8tLSwgbCB8PSBuW3MrK10gPDwgZCwgZCArPSA4OwoJCQkJCQl9CgoJCQkJCQlpZiAoZiAtPSBoLCB0LnRvdGFsX291dCArPSBmLCBpLnRvdGFsICs9IGYsIGYgJiYgKHQuYWRsZXIgPSBpLmNoZWNrID0gaS5mbGFncyA/IE0oaS5jaGVjaywgciwgZiwgYSAtIGYpIDogWihpLmNoZWNrLCByLCBmLCBhIC0gZikpLCBmID0gaCwgKGkuZmxhZ3MgPyBsIDogUmUobCkpICE9PSBpLmNoZWNrKSB7CgkJCQkJCQl0Lm1zZyA9ICJpbmNvcnJlY3QgZGF0YSBjaGVjayIsIGkubW9kZSA9IHplOwoJCQkJCQkJYnJlYWs7CgkJCQkJCX0KCgkJCQkJCWwgPSAwLCBkID0gMDsKCQkJCQl9CgoJCQkJCWkubW9kZSA9IDI4OwoKCQkJCWNhc2UgMjg6CgkJCQkJaWYgKGkud3JhcCAmJiBpLmZsYWdzKSB7CgkJCQkJCWZvciAoOyBkIDwgMzI7KSB7CgkJCQkJCQlpZiAoMCA9PT0gbykgYnJlYWsgdDsKCQkJCQkJCW8tLSwgbCArPSBuW3MrK10gPDwgZCwgZCArPSA4OwoJCQkJCQl9CgoJCQkJCQlpZiAobCAhPT0gKDQyOTQ5NjcyOTUgJiBpLnRvdGFsKSkgewoJCQkJCQkJdC5tc2cgPSAiaW5jb3JyZWN0IGxlbmd0aCBjaGVjayIsIGkubW9kZSA9IHplOwoJCQkJCQkJYnJlYWs7CgkJCQkJCX0KCgkJCQkJCWwgPSAwLCBkID0gMDsKCQkJCQl9CgoJCQkJCWkubW9kZSA9IDI5OwoKCQkJCWNhc2UgMjk6CgkJCQkJRSA9IG1lOwoJCQkJCWJyZWFrIHQ7CgoJCQkJY2FzZSB6ZToKCQkJCQlFID0gdmU7CgkJCQkJYnJlYWsgdDsKCgkJCQljYXNlIDMxOgoJCQkJCXJldHVybiBFZTsKCgkJCQlkZWZhdWx0OgoJCQkJCXJldHVybiB5ZTsKCQkJfQoKCQkJcmV0dXJuIHQubmV4dF9vdXQgPSBhLCB0LmF2YWlsX291dCA9IGgsIHQubmV4dF9pbiA9IHMsIHQuYXZhaWxfaW4gPSBvLCBpLmhvbGQgPSBsLCBpLmJpdHMgPSBkLCAoaS53c2l6ZSB8fCBmICE9PSB0LmF2YWlsX291dCAmJiBpLm1vZGUgPCB6ZSAmJiAoaS5tb2RlIDwgMjcgfHwgZSAhPT0gd2UpKSAmJiBaZSh0LCB0Lm91dHB1dCwgdC5uZXh0X291dCwgZiAtIHQuYXZhaWxfb3V0KSwgXyAtPSB0LmF2YWlsX2luLCBmIC09IHQuYXZhaWxfb3V0LCB0LnRvdGFsX2luICs9IF8sIHQudG90YWxfb3V0ICs9IGYsIGkudG90YWwgKz0gZiwgaS53cmFwICYmIGYgJiYgKHQuYWRsZXIgPSBpLmNoZWNrID0gaS5mbGFncyA/IE0oaS5jaGVjaywgciwgZiwgdC5uZXh0X291dCAtIGYpIDogWihpLmNoZWNrLCByLCBmLCB0Lm5leHRfb3V0IC0gZikpLCB0LmRhdGFfdHlwZSA9IGkuYml0cyArIChpLmxhc3QgPyA2NCA6IDApICsgKGkubW9kZSA9PT0gVWUgPyAxMjggOiAwKSArICgyMCA9PT0gaS5tb2RlIHx8IDE1ID09PSBpLm1vZGUgPyAyNTYgOiAwKSwgKDAgPT09IF8gJiYgMCA9PT0gZiB8fCBlID09PSB3ZSkgJiYgRSA9PT0gYmUgJiYgKEUgPSBBZSksIEU7CgkJfSwKCQkJCUhlID0gdCA9PiB7CgkJCWlmICghdCB8fCAhdC5zdGF0ZSkgcmV0dXJuIHllOwoJCQlsZXQgZSA9IHQuc3RhdGU7CgkJCXJldHVybiBlLndpbmRvdyAmJiAoZS53aW5kb3cgPSBudWxsKSwgdC5zdGF0ZSA9IG51bGwsIGJlOwoJCX0sCgkJCQlXZSA9ICh0LCBlKSA9PiB7CgkJCWlmICghdCB8fCAhdC5zdGF0ZSkgcmV0dXJuIHllOwoJCQljb25zdCBpID0gdC5zdGF0ZTsKCQkJcmV0dXJuIDAgPT0gKDIgJiBpLndyYXApID8geWUgOiAoaS5oZWFkID0gZSwgZS5kb25lID0gITEsIGJlKTsKCQl9LAoJCQkJS2UgPSAodCwgZSkgPT4gewoJCQljb25zdCBpID0gZS5sZW5ndGg7CgkJCWxldCBuLCByLCBzOwoJCQlyZXR1cm4gdCAmJiB0LnN0YXRlID8gKG4gPSB0LnN0YXRlLCAwICE9PSBuLndyYXAgJiYgMTEgIT09IG4ubW9kZSA/IHllIDogMTEgPT09IG4ubW9kZSAmJiAociA9IDEsIHIgPSBaKHIsIGUsIGksIDApLCByICE9PSBuLmNoZWNrKSA/IHZlIDogKHMgPSBaZSh0LCBlLCBpLCBpKSwgcyA/IChuLm1vZGUgPSAzMSwgRWUpIDogKG4uaGF2ZWRpY3QgPSAxLCBiZSkpKSA6IHllOwoJCX0sCgkJCQkkZSA9IGZ1bmN0aW9uICRlKCkgewoJCQl0aGlzLnRleHQgPSAwLCB0aGlzLnRpbWUgPSAwLCB0aGlzLnhmbGFncyA9IDAsIHRoaXMub3MgPSAwLCB0aGlzLmV4dHJhID0gbnVsbCwgdGhpcy5leHRyYV9sZW4gPSAwLCB0aGlzLm5hbWUgPSAiIiwgdGhpcy5jb21tZW50ID0gIiIsIHRoaXMuaGNyYyA9IDAsIHRoaXMuZG9uZSA9ICExOwoJCX07CgoJCWNvbnN0IFllID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZywKCQkJCQl7CgkJCVpfTk9fRkxVU0g6IGplLAoJCQlaX0ZJTklTSDogR2UsCgkJCVpfT0s6IFhlLAoJCQlaX1NUUkVBTV9FTkQ6IFZlLAoJCQlaX05FRURfRElDVDogcWUsCgkJCVpfU1RSRUFNX0VSUk9SOiBKZSwKCQkJWl9EQVRBX0VSUk9SOiBRZSwKCQkJWl9NRU1fRVJST1I6IHRpCgkJfSA9IEg7CgoJCWZ1bmN0aW9uIGVpKHQpIHsKCQkJdGhpcy5vcHRpb25zID0gSHQoewoJCQkJY2h1bmtTaXplOiA2NTUzNiwKCQkJCXdpbmRvd0JpdHM6IDE1LAoJCQkJdG86ICIiCgkJCX0sIHQgfHwge30pOwoJCQljb25zdCBlID0gdGhpcy5vcHRpb25zOwoJCQllLnJhdyAmJiBlLndpbmRvd0JpdHMgPj0gMCAmJiBlLndpbmRvd0JpdHMgPCAxNiAmJiAoZS53aW5kb3dCaXRzID0gLWUud2luZG93Qml0cywgMCA9PT0gZS53aW5kb3dCaXRzICYmIChlLndpbmRvd0JpdHMgPSAtMTUpKSwgIShlLndpbmRvd0JpdHMgPj0gMCAmJiBlLndpbmRvd0JpdHMgPCAxNikgfHwgdCAmJiB0LndpbmRvd0JpdHMgfHwgKGUud2luZG93Qml0cyArPSAzMiksIGUud2luZG93Qml0cyA+IDE1ICYmIGUud2luZG93Qml0cyA8IDQ4ICYmIDAgPT0gKDE1ICYgZS53aW5kb3dCaXRzKSAmJiAoZS53aW5kb3dCaXRzIHw9IDE1KSwgdGhpcy5lcnIgPSAwLCB0aGlzLm1zZyA9ICIiLCB0aGlzLmVuZGVkID0gITEsIHRoaXMuY2h1bmtzID0gW10sIHRoaXMuc3RybSA9IG5ldyBYdCgpLCB0aGlzLnN0cm0uYXZhaWxfb3V0ID0gMDsKCQkJbGV0IGkgPSBNZSh0aGlzLnN0cm0sIGUud2luZG93Qml0cyk7CgkJCWlmIChpICE9PSBYZSkgdGhyb3cgbmV3IEVycm9yKFBbaV0pOwoJCQlpZiAodGhpcy5oZWFkZXIgPSBuZXcgJGUoKSwgV2UodGhpcy5zdHJtLCB0aGlzLmhlYWRlciksIGUuZGljdGlvbmFyeSAmJiAoInN0cmluZyIgPT0gdHlwZW9mIGUuZGljdGlvbmFyeSA/IGUuZGljdGlvbmFyeSA9IFl0KGUuZGljdGlvbmFyeSkgOiAiW29iamVjdCBBcnJheUJ1ZmZlcl0iID09PSBZZS5jYWxsKGUuZGljdGlvbmFyeSkgJiYgKGUuZGljdGlvbmFyeSA9IG5ldyBVaW50OEFycmF5KGUuZGljdGlvbmFyeSkpLCBlLnJhdyAmJiAoaSA9IEtlKHRoaXMuc3RybSwgZS5kaWN0aW9uYXJ5KSwgaSAhPT0gWGUpKSkgdGhyb3cgbmV3IEVycm9yKFBbaV0pOwoJCX0KCgkJZnVuY3Rpb24gaWkodCwgZSkgewoJCQljb25zdCBpID0gbmV3IGVpKGUpOwoJCQlpZiAoaS5wdXNoKHQpLCBpLmVycikgdGhyb3cgaS5tc2cgfHwgUFtpLmVycl07CgkJCXJldHVybiBpLnJlc3VsdDsKCQl9CgoJCWVpLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKHQsIGUpIHsKCQkJY29uc3QgaSA9IHRoaXMuc3RybSwKCQkJCQkJbiA9IHRoaXMub3B0aW9ucy5jaHVua1NpemUsCgkJCQkJCXIgPSB0aGlzLm9wdGlvbnMuZGljdGlvbmFyeTsKCQkJbGV0IHMsIGEsIG87CgkJCWlmICh0aGlzLmVuZGVkKSByZXR1cm4gITE7CgoJCQlmb3IgKGEgPSBlID09PSB+fmUgPyBlIDogITAgPT09IGUgPyBHZSA6IGplLCAiW29iamVjdCBBcnJheUJ1ZmZlcl0iID09PSBZZS5jYWxsKHQpID8gaS5pbnB1dCA9IG5ldyBVaW50OEFycmF5KHQpIDogaS5pbnB1dCA9IHQsIGkubmV4dF9pbiA9IDAsIGkuYXZhaWxfaW4gPSBpLmlucHV0Lmxlbmd0aDs7KSB7CgkJCQlmb3IgKDAgPT09IGkuYXZhaWxfb3V0ICYmIChpLm91dHB1dCA9IG5ldyBVaW50OEFycmF5KG4pLCBpLm5leHRfb3V0ID0gMCwgaS5hdmFpbF9vdXQgPSBuKSwgcyA9IFBlKGksIGEpLCBzID09PSBxZSAmJiByICYmIChzID0gS2UoaSwgciksIHMgPT09IFhlID8gcyA9IFBlKGksIGEpIDogcyA9PT0gUWUgJiYgKHMgPSBxZSkpOyBpLmF2YWlsX2luID4gMCAmJiBzID09PSBWZSAmJiBpLnN0YXRlLndyYXAgPiAwICYmIDAgIT09IHRbaS5uZXh0X2luXTspIEZlKGkpLCBzID0gUGUoaSwgYSk7CgoJCQkJc3dpdGNoIChzKSB7CgkJCQkJY2FzZSBKZToKCQkJCQljYXNlIFFlOgoJCQkJCWNhc2UgcWU6CgkJCQkJY2FzZSB0aToKCQkJCQkJcmV0dXJuIHRoaXMub25FbmQocyksIHRoaXMuZW5kZWQgPSAhMCwgITE7CgkJCQl9CgoJCQkJaWYgKG8gPSBpLmF2YWlsX291dCwgaS5uZXh0X291dCAmJiAoMCA9PT0gaS5hdmFpbF9vdXQgfHwgcyA9PT0gVmUpKSBpZiAoInN0cmluZyIgPT09IHRoaXMub3B0aW9ucy50bykgewoJCQkJCWxldCB0ID0gR3QoaS5vdXRwdXQsIGkubmV4dF9vdXQpLAoJCQkJCQkJZSA9IGkubmV4dF9vdXQgLSB0LAoJCQkJCQkJciA9IGp0KGkub3V0cHV0LCB0KTsKCQkJCQlpLm5leHRfb3V0ID0gZSwgaS5hdmFpbF9vdXQgPSBuIC0gZSwgZSAmJiBpLm91dHB1dC5zZXQoaS5vdXRwdXQuc3ViYXJyYXkodCwgdCArIGUpLCAwKSwgdGhpcy5vbkRhdGEocik7CgkJCQl9IGVsc2UgdGhpcy5vbkRhdGEoaS5vdXRwdXQubGVuZ3RoID09PSBpLm5leHRfb3V0ID8gaS5vdXRwdXQgOiBpLm91dHB1dC5zdWJhcnJheSgwLCBpLm5leHRfb3V0KSk7CgoJCQkJaWYgKHMgIT09IFhlIHx8IDAgIT09IG8pIHsKCQkJCQlpZiAocyA9PT0gVmUpIHJldHVybiBzID0gSGUodGhpcy5zdHJtKSwgdGhpcy5vbkVuZChzKSwgdGhpcy5lbmRlZCA9ICEwLCAhMDsKCQkJCQlpZiAoMCA9PT0gaS5hdmFpbF9pbikgYnJlYWs7CgkJCQl9CgkJCX0KCgkJCXJldHVybiAhMDsKCQl9LCBlaS5wcm90b3R5cGUub25EYXRhID0gZnVuY3Rpb24gKHQpIHsKCQkJdGhpcy5jaHVua3MucHVzaCh0KTsKCQl9LCBlaS5wcm90b3R5cGUub25FbmQgPSBmdW5jdGlvbiAodCkgewoJCQl0ID09PSBYZSAmJiAoInN0cmluZyIgPT09IHRoaXMub3B0aW9ucy50byA/IHRoaXMucmVzdWx0ID0gdGhpcy5jaHVua3Muam9pbigiIikgOiB0aGlzLnJlc3VsdCA9IFd0KHRoaXMuY2h1bmtzKSksIHRoaXMuY2h1bmtzID0gW10sIHRoaXMuZXJyID0gdCwgdGhpcy5tc2cgPSB0aGlzLnN0cm0ubXNnOwoJCX07CgkJdmFyIG5pID0gewoJCQlJbmZsYXRlOiBlaSwKCQkJaW5mbGF0ZTogaWksCgkJCWluZmxhdGVSYXc6IGZ1bmN0aW9uIGluZmxhdGVSYXcodCwgZSkgewoJCQkJcmV0dXJuIChlID0gZSB8fCB7fSkucmF3ID0gITAsIGlpKHQsIGUpOwoJCQl9LAoJCQl1bmd6aXA6IGlpLAoJCQljb25zdGFudHM6IEgKCQl9OwoJCWNvbnN0IHsKCQkJRGVmbGF0ZTogcmksCgkJCWRlZmxhdGU6IHNpLAoJCQlkZWZsYXRlUmF3OiBhaSwKCQkJZ3ppcDogb2kKCQl9ID0gaGUsCgkJCQkJewoJCQlJbmZsYXRlOiBoaSwKCQkJaW5mbGF0ZTogbGksCgkJCWluZmxhdGVSYXc6IGRpLAoJCQl1bmd6aXA6IF9pCgkJfSA9IG5pOwoJCXZhciBmaSA9IHNpLAoJCQkJY2kgPSBoaSwKCQkJCXVpID0gbGk7CgkJY29uc3Qgd2kgPSBbMTM3LCA4MCwgNzgsIDcxLCAxMywgMTAsIDI2LCAxMF0sCgkJCQkJcGkgPSBbXTsKCgkJZm9yIChsZXQgdCA9IDA7IHQgPCAyNTY7IHQrKykgewoJCQlsZXQgZSA9IHQ7CgoJCQlmb3IgKGxldCB0ID0gMDsgdCA8IDg7IHQrKykgMSAmIGUgPyBlID0gMzk4ODI5MjM4NCBeIGUgPj4+IDEgOiBlID4+Pj0gMTsKCgkJCXBpW3RdID0gZTsKCQl9CgoJCWNvbnN0IGdpID0gNDI5NDk2NzI5NTsKCgkJZnVuY3Rpb24gYmkodCwgZSkgewoJCQlyZXR1cm4gKGZ1bmN0aW9uICh0LCBlLCBpKSB7CgkJCQlsZXQgbiA9IDQyOTQ5NjcyOTU7CgoJCQkJZm9yIChsZXQgdCA9IDA7IHQgPCBpOyB0KyspIG4gPSBwaVsyNTUgJiAobiBeIGVbdF0pXSBeIG4gPj4+IDg7CgoJCQkJcmV0dXJuIG47CgkJCX0oMCwgdCwgZSkgXiBnaSkgPj4+IDA7CgkJfQoKCQl2YXIgbWksIGtpLCB5aSwgdmk7CgkJIWZ1bmN0aW9uICh0KSB7CgkJCXRbdC5VTktOT1dOID0gLTFdID0gIlVOS05PV04iLCB0W3QuR1JFWVNDQUxFID0gMF0gPSAiR1JFWVNDQUxFIiwgdFt0LlRSVUVDT0xPVVIgPSAyXSA9ICJUUlVFQ09MT1VSIiwgdFt0LklOREVYRURfQ09MT1VSID0gM10gPSAiSU5ERVhFRF9DT0xPVVIiLCB0W3QuR1JFWVNDQUxFX0FMUEhBID0gNF0gPSAiR1JFWVNDQUxFX0FMUEhBIiwgdFt0LlRSVUVDT0xPVVJfQUxQSEEgPSA2XSA9ICJUUlVFQ09MT1VSX0FMUEhBIjsKCQl9KG1pIHx8IChtaSA9IHt9KSksIGZ1bmN0aW9uICh0KSB7CgkJCXRbdC5VTktOT1dOID0gLTFdID0gIlVOS05PV04iLCB0W3QuREVGTEFURSA9IDBdID0gIkRFRkxBVEUiOwoJCX0oa2kgfHwgKGtpID0ge30pKSwgZnVuY3Rpb24gKHQpIHsKCQkJdFt0LlVOS05PV04gPSAtMV0gPSAiVU5LTk9XTiIsIHRbdC5BREFQVElWRSA9IDBdID0gIkFEQVBUSVZFIjsKCQl9KHlpIHx8ICh5aSA9IHt9KSksIGZ1bmN0aW9uICh0KSB7CgkJCXRbdC5VTktOT1dOID0gLTFdID0gIlVOS05PV04iLCB0W3QuTk9fSU5URVJMQUNFID0gMF0gPSAiTk9fSU5URVJMQUNFIiwgdFt0LkFEQU03ID0gMV0gPSAiQURBTTciOwoJCX0odmkgfHwgKHZpID0ge30pKTsKCQljb25zdCBFaSA9IG5ldyBVaW50OEFycmF5KDApLAoJCQkJCUFpID0gbmV3IFVpbnQxNkFycmF5KFsyNTVdKSwKCQkJCQl4aSA9IDI1NSA9PT0gbmV3IFVpbnQ4QXJyYXkoQWkuYnVmZmVyKVswXTsKCgkJY2xhc3MgVWkgZXh0ZW5kcyByIHsKCQkJY29uc3RydWN0b3IodCkgewoJCQkJbGV0IGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwoJCQkJc3VwZXIodCk7CgkJCQljb25zdCB7CgkJCQkJY2hlY2tDcmM6IGkgPSAhMQoJCQkJfSA9IGU7CgkJCQl0aGlzLl9jaGVja0NyYyA9IGksIHRoaXMuX2luZmxhdG9yID0gbmV3IGNpKCksIHRoaXMuX3BuZyA9IHsKCQkJCQl3aWR0aDogLTEsCgkJCQkJaGVpZ2h0OiAtMSwKCQkJCQljaGFubmVsczogLTEsCgkJCQkJZGF0YTogbmV3IFVpbnQ4QXJyYXkoMCksCgkJCQkJZGVwdGg6IDEsCgkJCQkJdGV4dDoge30KCQkJCX0sIHRoaXMuX2VuZCA9ICExLCB0aGlzLl9oYXNQYWxldHRlID0gITEsIHRoaXMuX3BhbGV0dGUgPSBbXSwgdGhpcy5fY29tcHJlc3Npb25NZXRob2QgPSBraS5VTktOT1dOLCB0aGlzLl9maWx0ZXJNZXRob2QgPSB5aS5VTktOT1dOLCB0aGlzLl9pbnRlcmxhY2VNZXRob2QgPSB2aS5VTktOT1dOLCB0aGlzLl9jb2xvclR5cGUgPSAtMSwgdGhpcy5zZXRCaWdFbmRpYW4oKTsKCQkJfQoKCQkJZGVjb2RlKCkgewoJCQkJZm9yICh0aGlzLmRlY29kZVNpZ25hdHVyZSgpOyAhdGhpcy5fZW5kOykgdGhpcy5kZWNvZGVDaHVuaygpOwoKCQkJCXJldHVybiB0aGlzLmRlY29kZUltYWdlKCksIHRoaXMuX3BuZzsKCQkJfQoKCQkJZGVjb2RlU2lnbmF0dXJlKCkgewoJCQkJZm9yIChsZXQgdCA9IDA7IHQgPCB3aS5sZW5ndGg7IHQrKykgaWYgKHRoaXMucmVhZFVpbnQ4KCkgIT09IHdpW3RdKSB0aHJvdyBuZXcgRXJyb3IoIndyb25nIFBORyBzaWduYXR1cmUuIEJ5dGUgYXQgIi5jb25jYXQodCwgIiBzaG91bGQgYmUgIikuY29uY2F0KHdpW3RdLCAiLiIpKTsKCQkJfQoKCQkJZGVjb2RlQ2h1bmsoKSB7CgkJCQljb25zdCB0ID0gdGhpcy5yZWFkVWludDMyKCksCgkJCQkJCQllID0gdGhpcy5yZWFkQ2hhcnMoNCksCgkJCQkJCQlpID0gdGhpcy5vZmZzZXQ7CgoJCQkJc3dpdGNoIChlKSB7CgkJCQkJY2FzZSAiSUhEUiI6CgkJCQkJCXRoaXMuZGVjb2RlSUhEUigpOwoJCQkJCQlicmVhazsKCgkJCQkJY2FzZSAiUExURSI6CgkJCQkJCXRoaXMuZGVjb2RlUExURSh0KTsKCQkJCQkJYnJlYWs7CgoJCQkJCWNhc2UgIklEQVQiOgoJCQkJCQl0aGlzLmRlY29kZUlEQVQodCk7CgkJCQkJCWJyZWFrOwoKCQkJCQljYXNlICJJRU5EIjoKCQkJCQkJdGhpcy5fZW5kID0gITA7CgkJCQkJCWJyZWFrOwoKCQkJCQljYXNlICJ0Uk5TIjoKCQkJCQkJdGhpcy5kZWNvZGV0Uk5TKHQpOwoJCQkJCQlicmVhazsKCgkJCQkJY2FzZSAiaUNDUCI6CgkJCQkJCXRoaXMuZGVjb2RlaUNDUCh0KTsKCQkJCQkJYnJlYWs7CgoJCQkJCWNhc2UgInRFWHQiOgoJCQkJCQl0aGlzLmRlY29kZXRFWHQodCk7CgkJCQkJCWJyZWFrOwoKCQkJCQljYXNlICJwSFlzIjoKCQkJCQkJdGhpcy5kZWNvZGVwSFlzKCk7CgkJCQkJCWJyZWFrOwoKCQkJCQlkZWZhdWx0OgoJCQkJCQl0aGlzLnNraXAodCk7CgkJCQl9CgoJCQkJaWYgKHRoaXMub2Zmc2V0IC0gaSAhPT0gdCkgdGhyb3cgbmV3IEVycm9yKCJMZW5ndGggbWlzbWF0Y2ggd2hpbGUgZGVjb2RpbmcgY2h1bmsgIi5jb25jYXQoZSkpOwoKCQkJCWlmICh0aGlzLl9jaGVja0NyYykgewoJCQkJCWNvbnN0IGkgPSB0aGlzLnJlYWRVaW50MzIoKSwKCQkJCQkJCQluID0gdCArIDQsCgkJCQkJCQkJciA9IGJpKG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyLCB0aGlzLmJ5dGVPZmZzZXQgKyB0aGlzLm9mZnNldCAtIG4gLSA0LCBuKSwgbik7CgkJCQkJaWYgKHIgIT09IGkpIHRocm93IG5ldyBFcnJvcigiQ1JDIG1pc21hdGNoIGZvciBjaHVuayAiLmNvbmNhdChlLCAiLiBFeHBlY3RlZCAiKS5jb25jYXQoaSwgIiwgZm91bmQgIikuY29uY2F0KHIpKTsKCQkJCX0gZWxzZSB0aGlzLnNraXAoNCk7CgkJCX0KCgkJCWRlY29kZUlIRFIoKSB7CgkJCQljb25zdCB0ID0gdGhpcy5fcG5nOwoJCQkJdC53aWR0aCA9IHRoaXMucmVhZFVpbnQzMigpLCB0LmhlaWdodCA9IHRoaXMucmVhZFVpbnQzMigpLCB0LmRlcHRoID0gZnVuY3Rpb24gKHQpIHsKCQkJCQlpZiAoMSAhPT0gdCAmJiAyICE9PSB0ICYmIDQgIT09IHQgJiYgOCAhPT0gdCAmJiAxNiAhPT0gdCkgdGhyb3cgbmV3IEVycm9yKCJpbnZhbGlkIGJpdCBkZXB0aDogIi5jb25jYXQodCkpOwoJCQkJCXJldHVybiB0OwoJCQkJfSh0aGlzLnJlYWRVaW50OCgpKTsKCQkJCWNvbnN0IGUgPSB0aGlzLnJlYWRVaW50OCgpOwoJCQkJbGV0IGk7CgoJCQkJc3dpdGNoICh0aGlzLl9jb2xvclR5cGUgPSBlLCBlKSB7CgkJCQkJY2FzZSBtaS5HUkVZU0NBTEU6CgkJCQkJCWkgPSAxOwoJCQkJCQlicmVhazsKCgkJCQkJY2FzZSBtaS5UUlVFQ09MT1VSOgoJCQkJCQlpID0gMzsKCQkJCQkJYnJlYWs7CgoJCQkJCWNhc2UgbWkuSU5ERVhFRF9DT0xPVVI6CgkJCQkJCWkgPSAxOwoJCQkJCQlicmVhazsKCgkJCQkJY2FzZSBtaS5HUkVZU0NBTEVfQUxQSEE6CgkJCQkJCWkgPSAyOwoJCQkJCQlicmVhazsKCgkJCQkJY2FzZSBtaS5UUlVFQ09MT1VSX0FMUEhBOgoJCQkJCQlpID0gNDsKCQkJCQkJYnJlYWs7CgoJCQkJCWRlZmF1bHQ6CgkJCQkJCXRocm93IG5ldyBFcnJvcigiVW5rbm93biBjb2xvciB0eXBlOiAiLmNvbmNhdChlKSk7CgkJCQl9CgoJCQkJaWYgKHRoaXMuX3BuZy5jaGFubmVscyA9IGksIHRoaXMuX2NvbXByZXNzaW9uTWV0aG9kID0gdGhpcy5yZWFkVWludDgoKSwgdGhpcy5fY29tcHJlc3Npb25NZXRob2QgIT09IGtpLkRFRkxBVEUpIHRocm93IG5ldyBFcnJvcigiVW5zdXBwb3J0ZWQgY29tcHJlc3Npb24gbWV0aG9kOiAiLmNvbmNhdCh0aGlzLl9jb21wcmVzc2lvbk1ldGhvZCkpOwoJCQkJdGhpcy5fZmlsdGVyTWV0aG9kID0gdGhpcy5yZWFkVWludDgoKSwgdGhpcy5faW50ZXJsYWNlTWV0aG9kID0gdGhpcy5yZWFkVWludDgoKTsKCQkJfQoKCQkJZGVjb2RlUExURSh0KSB7CgkJCQlpZiAodCAlIDMgIT0gMCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoIlBMVEUgZmllbGQgbGVuZ3RoIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzLiBHb3QgIi5jb25jYXQodCkpOwoJCQkJY29uc3QgZSA9IHQgLyAzOwoJCQkJdGhpcy5faGFzUGFsZXR0ZSA9ICEwOwoJCQkJY29uc3QgaSA9IFtdOwoJCQkJdGhpcy5fcGFsZXR0ZSA9IGk7CgoJCQkJZm9yIChsZXQgdCA9IDA7IHQgPCBlOyB0KyspIGkucHVzaChbdGhpcy5yZWFkVWludDgoKSwgdGhpcy5yZWFkVWludDgoKSwgdGhpcy5yZWFkVWludDgoKV0pOwoJCQl9CgoJCQlkZWNvZGVJREFUKHQpIHsKCQkJCXRoaXMuX2luZmxhdG9yLnB1c2gobmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIsIHRoaXMub2Zmc2V0ICsgdGhpcy5ieXRlT2Zmc2V0LCB0KSksIHRoaXMuc2tpcCh0KTsKCQkJfQoKCQkJZGVjb2RldFJOUyh0KSB7CgkJCQlpZiAoMyA9PT0gdGhpcy5fY29sb3JUeXBlKSB7CgkJCQkJaWYgKHQgPiB0aGlzLl9wYWxldHRlLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKCJ0Uk5TIGNodW5rIGNvbnRhaW5zIG1vcmUgYWxwaGEgdmFsdWVzIHRoYW4gdGhlcmUgYXJlIHBhbGV0dGUgY29sb3JzICgiLmNvbmNhdCh0LCAiIHZzICIpLmNvbmNhdCh0aGlzLl9wYWxldHRlLmxlbmd0aCwgIikiKSk7CgkJCQkJbGV0IGUgPSAwOwoKCQkJCQlmb3IgKDsgZSA8IHQ7IGUrKykgewoJCQkJCQljb25zdCB0ID0gdGhpcy5yZWFkQnl0ZSgpOwoKCQkJCQkJdGhpcy5fcGFsZXR0ZVtlXS5wdXNoKHQpOwoJCQkJCX0KCgkJCQkJZm9yICg7IGUgPCB0aGlzLl9wYWxldHRlLmxlbmd0aDsgZSsrKSB0aGlzLl9wYWxldHRlW2VdLnB1c2goMjU1KTsKCQkJCX0KCQkJfQoKCQkJZGVjb2RlaUNDUCh0KSB7CgkJCQlsZXQgZSwKCQkJCQkJaSA9ICIiOwoKCQkJCWZvciAoOyAiXDAiICE9PSAoZSA9IHRoaXMucmVhZENoYXIoKSk7KSBpICs9IGU7CgoJCQkJY29uc3QgbiA9IHRoaXMucmVhZFVpbnQ4KCk7CgkJCQlpZiAobiAhPT0ga2kuREVGTEFURSkgdGhyb3cgbmV3IEVycm9yKCJVbnN1cHBvcnRlZCBpQ0NQIGNvbXByZXNzaW9uIG1ldGhvZDogIi5jb25jYXQobikpOwoJCQkJY29uc3QgciA9IHRoaXMucmVhZEJ5dGVzKHQgLSBpLmxlbmd0aCAtIDIpOwoJCQkJdGhpcy5fcG5nLmljY0VtYmVkZGVkUHJvZmlsZSA9IHsKCQkJCQluYW1lOiBpLAoJCQkJCXByb2ZpbGU6IHVpKHIpCgkJCQl9OwoJCQl9CgoJCQlkZWNvZGV0RVh0KHQpIHsKCQkJCWxldCBlLAoJCQkJCQlpID0gIiI7CgoJCQkJZm9yICg7ICJcMCIgIT09IChlID0gdGhpcy5yZWFkQ2hhcigpKTspIGkgKz0gZTsKCgkJCQl0aGlzLl9wbmcudGV4dFtpXSA9IHRoaXMucmVhZENoYXJzKHQgLSBpLmxlbmd0aCAtIDEpOwoJCQl9CgoJCQlkZWNvZGVwSFlzKCkgewoJCQkJY29uc3QgdCA9IHRoaXMucmVhZFVpbnQzMigpLAoJCQkJCQkJZSA9IHRoaXMucmVhZFVpbnQzMigpLAoJCQkJCQkJaSA9IHRoaXMucmVhZEJ5dGUoKTsKCQkJCXRoaXMuX3BuZy5yZXNvbHV0aW9uID0gewoJCQkJCXg6IHQsCgkJCQkJeTogZSwKCQkJCQl1bml0OiBpCgkJCQl9OwoJCQl9CgoJCQlkZWNvZGVJbWFnZSgpIHsKCQkJCWlmICh0aGlzLl9pbmZsYXRvci5lcnIpIHRocm93IG5ldyBFcnJvcigiRXJyb3Igd2hpbGUgZGVjb21wcmVzc2luZyB0aGUgZGF0YTogIi5jb25jYXQodGhpcy5faW5mbGF0b3IuZXJyKSk7CgkJCQljb25zdCB0ID0gdGhpcy5faW5mbGF0b3IucmVzdWx0OwoJCQkJaWYgKHRoaXMuX2ZpbHRlck1ldGhvZCAhPT0geWkuQURBUFRJVkUpIHRocm93IG5ldyBFcnJvcigiRmlsdGVyIG1ldGhvZCAiLmNvbmNhdCh0aGlzLl9maWx0ZXJNZXRob2QsICIgbm90IHN1cHBvcnRlZCIpKTsKCQkJCWlmICh0aGlzLl9pbnRlcmxhY2VNZXRob2QgIT09IHZpLk5PX0lOVEVSTEFDRSkgdGhyb3cgbmV3IEVycm9yKCJJbnRlcmxhY2UgbWV0aG9kICIuY29uY2F0KHRoaXMuX2ludGVybGFjZU1ldGhvZCwgIiBub3Qgc3VwcG9ydGVkIikpOwoJCQkJdGhpcy5kZWNvZGVJbnRlcmxhY2VOdWxsKHQpOwoJCQl9CgoJCQlkZWNvZGVJbnRlcmxhY2VOdWxsKHQpIHsKCQkJCWNvbnN0IGUgPSB0aGlzLl9wbmcuaGVpZ2h0LAoJCQkJCQkJaSA9IHRoaXMuX3BuZy5jaGFubmVscyAqIHRoaXMuX3BuZy5kZXB0aCAvIDgsCgkJCQkJCQluID0gdGhpcy5fcG5nLndpZHRoICogaSwKCQkJCQkJCXIgPSBuZXcgVWludDhBcnJheSh0aGlzLl9wbmcuaGVpZ2h0ICogbik7CgkJCQlsZXQgcywKCQkJCQkJYSwKCQkJCQkJbyA9IEVpLAoJCQkJCQloID0gMDsKCgkJCQlmb3IgKGxldCBsID0gMDsgbCA8IGU7IGwrKykgewoJCQkJCXN3aXRjaCAocyA9IHQuc3ViYXJyYXkoaCArIDEsIGggKyAxICsgbiksIGEgPSByLnN1YmFycmF5KGwgKiBuLCAobCArIDEpICogbiksIHRbaF0pIHsKCQkJCQkJY2FzZSAwOgoJCQkJCQkJemkocywgYSwgbik7CgkJCQkJCQlicmVhazsKCgkJCQkJCWNhc2UgMToKCQkJCQkJCVJpKHMsIGEsIG4sIGkpOwoJCQkJCQkJYnJlYWs7CgoJCQkJCQljYXNlIDI6CgkJCQkJCQlOaShzLCBhLCBvLCBuKTsKCQkJCQkJCWJyZWFrOwoKCQkJCQkJY2FzZSAzOgoJCQkJCQkJVGkocywgYSwgbywgbiwgaSk7CgkJCQkJCQlicmVhazsKCgkJCQkJCWNhc2UgNDoKCQkJCQkJCU9pKHMsIGEsIG8sIG4sIGkpOwoJCQkJCQkJYnJlYWs7CgoJCQkJCQlkZWZhdWx0OgoJCQkJCQkJdGhyb3cgbmV3IEVycm9yKCJVbnN1cHBvcnRlZCBmaWx0ZXI6ICIuY29uY2F0KHRbaF0pKTsKCQkJCQl9CgoJCQkJCW8gPSBhLCBoICs9IG4gKyAxOwoJCQkJfQoKCQkJCWlmICh0aGlzLl9oYXNQYWxldHRlICYmICh0aGlzLl9wbmcucGFsZXR0ZSA9IHRoaXMuX3BhbGV0dGUpLCAxNiA9PT0gdGhpcy5fcG5nLmRlcHRoKSB7CgkJCQkJY29uc3QgdCA9IG5ldyBVaW50MTZBcnJheShyLmJ1ZmZlcik7CgkJCQkJaWYgKHhpKSBmb3IgKGxldCBlID0gMDsgZSA8IHQubGVuZ3RoOyBlKyspIHRbZV0gPSAoMjU1ICYgKGwgPSB0W2VdKSkgPDwgOCB8IGwgPj4gOCAmIDI1NTsKCQkJCQl0aGlzLl9wbmcuZGF0YSA9IHQ7CgkJCQl9IGVsc2UgdGhpcy5fcG5nLmRhdGEgPSByOwoKCQkJCXZhciBsOwoJCQl9CgoJCX0KCgkJZnVuY3Rpb24gemkodCwgZSwgaSkgewoJCQlmb3IgKGxldCBuID0gMDsgbiA8IGk7IG4rKykgZVtuXSA9IHRbbl07CgkJfQoKCQlmdW5jdGlvbiBSaSh0LCBlLCBpLCBuKSB7CgkJCWxldCByID0gMDsKCgkJCWZvciAoOyByIDwgbjsgcisrKSBlW3JdID0gdFtyXTsKCgkJCWZvciAoOyByIDwgaTsgcisrKSBlW3JdID0gdFtyXSArIGVbciAtIG5dICYgMjU1OwoJCX0KCgkJZnVuY3Rpb24gTmkodCwgZSwgaSwgbikgewoJCQlsZXQgciA9IDA7CgkJCWlmICgwID09PSBpLmxlbmd0aCkgZm9yICg7IHIgPCBuOyByKyspIGVbcl0gPSB0W3JdO2Vsc2UgZm9yICg7IHIgPCBuOyByKyspIGVbcl0gPSB0W3JdICsgaVtyXSAmIDI1NTsKCQl9CgoJCWZ1bmN0aW9uIFRpKHQsIGUsIGksIG4sIHIpIHsKCQkJbGV0IHMgPSAwOwoKCQkJaWYgKDAgPT09IGkubGVuZ3RoKSB7CgkJCQlmb3IgKDsgcyA8IHI7IHMrKykgZVtzXSA9IHRbc107CgoJCQkJZm9yICg7IHMgPCBuOyBzKyspIGVbc10gPSB0W3NdICsgKGVbcyAtIHJdID4+IDEpICYgMjU1OwoJCQl9IGVsc2UgewoJCQkJZm9yICg7IHMgPCByOyBzKyspIGVbc10gPSB0W3NdICsgKGlbc10gPj4gMSkgJiAyNTU7CgoJCQkJZm9yICg7IHMgPCBuOyBzKyspIGVbc10gPSB0W3NdICsgKGVbcyAtIHJdICsgaVtzXSA+PiAxKSAmIDI1NTsKCQkJfQoJCX0KCgkJZnVuY3Rpb24gT2kodCwgZSwgaSwgbiwgcikgewoJCQlsZXQgcyA9IDA7CgoJCQlpZiAoMCA9PT0gaS5sZW5ndGgpIHsKCQkJCWZvciAoOyBzIDwgcjsgcysrKSBlW3NdID0gdFtzXTsKCgkJCQlmb3IgKDsgcyA8IG47IHMrKykgZVtzXSA9IHRbc10gKyBlW3MgLSByXSAmIDI1NTsKCQkJfSBlbHNlIHsKCQkJCWZvciAoOyBzIDwgcjsgcysrKSBlW3NdID0gdFtzXSArIGlbc10gJiAyNTU7CgoJCQkJZm9yICg7IHMgPCBuOyBzKyspIGVbc10gPSB0W3NdICsgTGkoZVtzIC0gcl0sIGlbc10sIGlbcyAtIHJdKSAmIDI1NTsKCQkJfQoJCX0KCgkJZnVuY3Rpb24gTGkodCwgZSwgaSkgewoJCQljb25zdCBuID0gdCArIGUgLSBpLAoJCQkJCQlyID0gTWF0aC5hYnMobiAtIHQpLAoJCQkJCQlzID0gTWF0aC5hYnMobiAtIGUpLAoJCQkJCQlhID0gTWF0aC5hYnMobiAtIGkpOwoJCQlyZXR1cm4gciA8PSBzICYmIHIgPD0gYSA/IHQgOiBzIDw9IGEgPyBlIDogaTsKCQl9CgoJCWNvbnN0IEJpID0gewoJCQlsZXZlbDogMwoJCX07CgoJCWNsYXNzIENpIGV4dGVuZHMgciB7CgkJCWNvbnN0cnVjdG9yKHQpIHsKCQkJCWxldCBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKCQkJCXN1cGVyKCksIHRoaXMuX2NvbG9yVHlwZSA9IG1pLlVOS05PV04sIHRoaXMuX3psaWJPcHRpb25zID0gX29iamVjdFNwcmVhZDIoX29iamVjdFNwcmVhZDIoe30sIEJpKSwgZS56bGliKSwgdGhpcy5fcG5nID0gdGhpcy5fY2hlY2tEYXRhKHQpLCB0aGlzLnNldEJpZ0VuZGlhbigpOwoJCQl9CgoJCQllbmNvZGUoKSB7CgkJCQlyZXR1cm4gdGhpcy5lbmNvZGVTaWduYXR1cmUoKSwgdGhpcy5lbmNvZGVJSERSKCksIHRoaXMuZW5jb2RlRGF0YSgpLCB0aGlzLmVuY29kZUlFTkQoKSwgdGhpcy50b0FycmF5KCk7CgkJCX0KCgkJCWVuY29kZVNpZ25hdHVyZSgpIHsKCQkJCXRoaXMud3JpdGVCeXRlcyh3aSk7CgkJCX0KCgkJCWVuY29kZUlIRFIoKSB7CgkJCQl0aGlzLndyaXRlVWludDMyKDEzKSwgdGhpcy53cml0ZUNoYXJzKCJJSERSIiksIHRoaXMud3JpdGVVaW50MzIodGhpcy5fcG5nLndpZHRoKSwgdGhpcy53cml0ZVVpbnQzMih0aGlzLl9wbmcuaGVpZ2h0KSwgdGhpcy53cml0ZUJ5dGUodGhpcy5fcG5nLmRlcHRoKSwgdGhpcy53cml0ZUJ5dGUodGhpcy5fY29sb3JUeXBlKSwgdGhpcy53cml0ZUJ5dGUoa2kuREVGTEFURSksIHRoaXMud3JpdGVCeXRlKHlpLkFEQVBUSVZFKSwgdGhpcy53cml0ZUJ5dGUodmkuTk9fSU5URVJMQUNFKSwgdGhpcy53cml0ZUNyYygxNyk7CgkJCX0KCgkJCWVuY29kZUlFTkQoKSB7CgkJCQl0aGlzLndyaXRlVWludDMyKDApLCB0aGlzLndyaXRlQ2hhcnMoIklFTkQiKSwgdGhpcy53cml0ZUNyYyg0KTsKCQkJfQoKCQkJZW5jb2RlSURBVCh0KSB7CgkJCQl0aGlzLndyaXRlVWludDMyKHQubGVuZ3RoKSwgdGhpcy53cml0ZUNoYXJzKCJJREFUIiksIHRoaXMud3JpdGVCeXRlcyh0KSwgdGhpcy53cml0ZUNyYyh0Lmxlbmd0aCArIDQpOwoJCQl9CgoJCQllbmNvZGVEYXRhKCkgewoJCQkJY29uc3QgewoJCQkJCXdpZHRoOiB0LAoJCQkJCWhlaWdodDogZSwKCQkJCQljaGFubmVsczogaSwKCQkJCQlkZXB0aDogbiwKCQkJCQlkYXRhOiBzCgkJCQl9ID0gdGhpcy5fcG5nLAoJCQkJCQkJYSA9IGkgKiB0LAoJCQkJCQkJbyA9IG5ldyByKCkuc2V0QmlnRW5kaWFuKCk7CgkJCQlsZXQgaCA9IDA7CgoJCQkJZm9yIChsZXQgdCA9IDA7IHQgPCBlOyB0KyspIGlmIChvLndyaXRlQnl0ZSgwKSwgOCA9PT0gbikgaCA9IElpKHMsIG8sIGEsIGgpO2Vsc2UgewoJCQkJCWlmICgxNiAhPT0gbikgdGhyb3cgbmV3IEVycm9yKCJ1bnJlYWNoYWJsZSIpOwoJCQkJCWggPSBTaShzLCBvLCBhLCBoKTsKCQkJCX0KCgkJCQljb25zdCBsID0gby50b0FycmF5KCksCgkJCQkJCQlkID0gZmkobCwgdGhpcy5femxpYk9wdGlvbnMpOwoJCQkJdGhpcy5lbmNvZGVJREFUKGQpOwoJCQl9CgoJCQlfY2hlY2tEYXRhKHQpIHsKCQkJCWNvbnN0IHsKCQkJCQljb2xvclR5cGU6IGUsCgkJCQkJY2hhbm5lbHM6IGksCgkJCQkJZGVwdGg6IG4KCQkJCX0gPSBmdW5jdGlvbiAodCkgewoJCQkJCWNvbnN0IHsKCQkJCQkJY2hhbm5lbHM6IGUgPSA0LAoJCQkJCQlkZXB0aDogaSA9IDgKCQkJCQl9ID0gdDsKCQkJCQlpZiAoNCAhPT0gZSAmJiAzICE9PSBlICYmIDIgIT09IGUgJiYgMSAhPT0gZSkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoInVuc3VwcG9ydGVkIG51bWJlciBvZiBjaGFubmVsczogIi5jb25jYXQoZSkpOwoJCQkJCWlmICg4ICE9PSBpICYmIDE2ICE9PSBpKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcigidW5zdXBwb3J0ZWQgYml0IGRlcHRoOiAiLmNvbmNhdChpKSk7CgkJCQkJY29uc3QgbiA9IHsKCQkJCQkJY2hhbm5lbHM6IGUsCgkJCQkJCWRlcHRoOiBpLAoJCQkJCQljb2xvclR5cGU6IG1pLlVOS05PV04KCQkJCQl9OwoKCQkJCQlzd2l0Y2ggKGUpIHsKCQkJCQkJY2FzZSA0OgoJCQkJCQkJbi5jb2xvclR5cGUgPSBtaS5UUlVFQ09MT1VSX0FMUEhBOwoJCQkJCQkJYnJlYWs7CgoJCQkJCQljYXNlIDM6CgkJCQkJCQluLmNvbG9yVHlwZSA9IG1pLlRSVUVDT0xPVVI7CgkJCQkJCQlicmVhazsKCgkJCQkJCWNhc2UgMToKCQkJCQkJCW4uY29sb3JUeXBlID0gbWkuR1JFWVNDQUxFOwoJCQkJCQkJYnJlYWs7CgoJCQkJCQljYXNlIDI6CgkJCQkJCQluLmNvbG9yVHlwZSA9IG1pLkdSRVlTQ0FMRV9BTFBIQTsKCQkJCQkJCWJyZWFrOwoKCQkJCQkJZGVmYXVsdDoKCQkJCQkJCXRocm93IG5ldyBFcnJvcigidW5zdXBwb3J0ZWQgbnVtYmVyIG9mIGNoYW5uZWxzIik7CgkJCQkJfQoKCQkJCQlyZXR1cm4gbjsKCQkJCX0odCksCgkJCQkJCQlyID0gewoJCQkJCXdpZHRoOiBEaSh0LndpZHRoLCAid2lkdGgiKSwKCQkJCQloZWlnaHQ6IERpKHQuaGVpZ2h0LCAiaGVpZ2h0IiksCgkJCQkJY2hhbm5lbHM6IGksCgkJCQkJZGF0YTogdC5kYXRhLAoJCQkJCWRlcHRoOiBuLAoJCQkJCXRleHQ6IHt9CgkJCQl9OwoKCQkJCXRoaXMuX2NvbG9yVHlwZSA9IGU7CgkJCQljb25zdCBzID0gci53aWR0aCAqIHIuaGVpZ2h0ICogaTsKCQkJCWlmIChyLmRhdGEubGVuZ3RoICE9PSBzKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcigid3JvbmcgZGF0YSBzaXplLiBGb3VuZCAiLmNvbmNhdChyLmRhdGEubGVuZ3RoLCAiLCBleHBlY3RlZCAiKS5jb25jYXQocykpOwoJCQkJcmV0dXJuIHI7CgkJCX0KCgkJCXdyaXRlQ3JjKHQpIHsKCQkJCXRoaXMud3JpdGVVaW50MzIoYmkobmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXIsIHRoaXMuYnl0ZU9mZnNldCArIHRoaXMub2Zmc2V0IC0gdCwgdCksIHQpKTsKCQkJfQoKCQl9CgoJCWZ1bmN0aW9uIERpKHQsIGUpIHsKCQkJaWYgKE51bWJlci5pc0ludGVnZXIodCkgJiYgdCA+IDApIHJldHVybiB0OwoJCQl0aHJvdyBuZXcgVHlwZUVycm9yKCIiLmNvbmNhdChlLCAiIG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyIikpOwoJCX0KCgkJZnVuY3Rpb24gSWkodCwgZSwgaSwgbikgewoJCQlmb3IgKGxldCByID0gMDsgciA8IGk7IHIrKykgZS53cml0ZUJ5dGUodFtuKytdKTsKCgkJCXJldHVybiBuOwoJCX0KCgkJZnVuY3Rpb24gU2kodCwgZSwgaSwgbikgewoJCQlmb3IgKGxldCByID0gMDsgciA8IGk7IHIrKykgZS53cml0ZVVpbnQxNih0W24rK10pOwoKCQkJcmV0dXJuIG47CgkJfQoKCQl2YXIgWmk7CgkJIWZ1bmN0aW9uICh0KSB7CgkJCXRbdC5VTktOT1dOID0gMF0gPSAiVU5LTk9XTiIsIHRbdC5NRVRSRSA9IDFdID0gIk1FVFJFIjsKCQl9KFppIHx8IChaaSA9IHt9KSk7CgoJCWNvbnN0IEZpID0gKHQsIGUsIGkpID0+IG5ldyBDaSh7CgkJCXdpZHRoOiB0LAoJCQloZWlnaHQ6IGUsCgkJCWRhdGE6IGkKCQl9LCB1bmRlZmluZWQpLmVuY29kZSgpLAoJCQkJCU1pID0gdCA9PiBmdW5jdGlvbiAodCwgZSkgewoJCQlyZXR1cm4gbmV3IFVpKHQsIHZvaWQgMCkuZGVjb2RlKCk7CgkJfSh0KTsKCX0pKCk7CgoJbi5QOwoJCQl2YXIgcyA9IG4ubTsKCglmdW5jdGlvbiBzZWFyY2hFbGVtZW50KHBhcmVudCwgZWxlbWVudCkgewoJCWlmICghcGFyZW50IHx8IHR5cGVvZiBwYXJlbnQgIT0gJ29iamVjdCcpIHJldHVybjsKCgkJaWYgKHBhcmVudC5oYXNPd25Qcm9wZXJ0eShlbGVtZW50KSkgewoJCQlyZXR1cm4gewoJCQkJcGFyZW50LAoJCQkJdmFsdWU6IHBhcmVudFtlbGVtZW50XQoJCQl9OwoJCX0KCgkJZm9yIChsZXQgY2hpbGQgb2YgT2JqZWN0LnZhbHVlcyhwYXJlbnQpKSB7CgkJCWlmICghIWNoaWxkIHx8IHR5cGVvZiBjaGlsZCA9PSAnb2JqZWN0JykgewoJCQkJbGV0IGZvdW5kID0gc2VhcmNoRWxlbWVudChjaGlsZCwgZWxlbWVudCk7CgkJCQlpZiAoZm91bmQpIHJldHVybiBmb3VuZDsKCQkJfQoJCX0KCgkJcmV0dXJuIG51bGw7Cgl9CgoJZnVuY3Rpb24gZ2V0RXh0ZW5zaW9uKGRhdGFUeXBlKSB7CgkJc3dpdGNoIChkYXRhVHlwZSkgewoJCQljYXNlICJKU09OIjoKCQkJCXJldHVybiAianNvbiI7CgoJCQljYXNlICJ5YW1sIjoKCQkJCXJldHVybiAieWFtbCI7CgoJCQljYXNlICJUZXh0dXJlMkQiOgoJCQkJcmV0dXJuICJwbmciOwoKCQkJY2FzZSAiRWZmZWN0IjoKCQkJCXJldHVybiAiY3NvIjsKCgkJCWNhc2UgJ1RCaW4nOgoJCQkJcmV0dXJuICJ0YmluIjsKCgkJCWNhc2UgJ0JtRm9udCc6CgkJCQlyZXR1cm4gInhtbCI7CgkJfQoKCQlyZXR1cm4gImJpbiI7Cgl9CgoJZnVuY3Rpb24gZ2V0TWltZVR5cGUoZGF0YVR5cGUpIHsKCQlzd2l0Y2ggKGRhdGFUeXBlKSB7CgkJCWNhc2UgIkpTT04iOgoJCQkJcmV0dXJuICJhcHBsaWNhdGlvbi9qc29uIjsKCgkJCWNhc2UgInlhbWwiOgoJCQkJcmV0dXJuICJ0ZXh0L3BsYWluIjsKCgkJCWNhc2UgIlRleHR1cmUyRCI6CgkJCQlyZXR1cm4gImltYWdlL3BuZyI7CgoJCQljYXNlICJFZmZlY3QiOgoJCQkJcmV0dXJuICJhcHBsaWNhdGlvbi94LWNzbyI7CgoJCQljYXNlICdCbUZvbnQnOgoJCQkJcmV0dXJuICJhcHBsaWNhdGlvbi94bWwiOwoJCX0KCgkJcmV0dXJuICJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0iOwoJfQoKCWZ1bmN0aW9uIG1ha2VCbG9iKGRhdGEsIGRhdGFUeXBlKSB7CgkJaWYgKHR5cGVvZiBCbG9iID09PSAiZnVuY3Rpb24iKSByZXR1cm4gewoJCQlkYXRhOiBuZXcgQmxvYihbZGF0YV0sIHsKCQkJCXR5cGU6IGdldE1pbWVUeXBlKGRhdGFUeXBlKQoJCQl9KSwKCQkJZXh0ZW5zaW9uOiBnZXRFeHRlbnNpb24oZGF0YVR5cGUpCgkJfTsKCQlyZXR1cm4gewoJCQlkYXRhOiBkYXRhLAoJCQlleHRlbnNpb246IGdldEV4dGVuc2lvbihkYXRhVHlwZSkKCQl9OwoJfQoKCWZ1bmN0aW9uIGV4cG9ydENvbnRlbnQoY29udGVudCkgewoJCWxldCBqc29uQ29udGVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7CgkJbGV0IGZvdW5kID0gc2VhcmNoRWxlbWVudChjb250ZW50LCAiZXhwb3J0Iik7CgoJCWlmIChmb3VuZCkgewoJCQljb25zdCB7CgkJCQl2YWx1ZQoJCQl9ID0gZm91bmQ7CgkJCWxldCB7CgkJCQl0eXBlOiBkYXRhVHlwZSwKCQkJCWRhdGEKCQkJfSA9IHZhbHVlOwoKCQkJaWYgKGRhdGFUeXBlID09PSAiVGV4dHVyZTJEIikgewoJCQkJZGF0YSA9IHModmFsdWUud2lkdGgsIHZhbHVlLmhlaWdodCwgbmV3IFVpbnQ4QXJyYXkoZGF0YSkpOwoJCQl9CgoJCQlyZXR1cm4gbWFrZUJsb2IoZGF0YSwgZGF0YVR5cGUpOwoJCX0KCgkJaWYgKGpzb25Db250ZW50KSB7CgkJCWxldCBjb250ZW50SnNvbiA9IEpTT04uc3RyaW5naWZ5KGNvbnRlbnQsIG51bGwsIDQpOwoJCQlyZXR1cm4gbWFrZUJsb2IoY29udGVudEpzb24sICJKU09OIik7CgkJfQoKCQlyZXR1cm4gbnVsbDsKCX0KCS8qKiBAYXBpCgkgKiByZWFkcyB0aGUgYnVmZmVyIGFuZCB0aGVuIHVucGFja3MuCgkgKiBhcnJheUJ1ZmZlciAtPiBYbmJEYXRhCgkgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBidWZmZXIKCSAqIEByZXR1cm4ge1huYkRhdGF9IHRoZSBsb2FkZWQgWE5CIGpzb24KCSAqLwoKCglmdW5jdGlvbiBidWZmZXJUb1huYihidWZmZXIpIHsKCQljb25zdCB4bmIgPSBuZXcgWG5iQ29udmVydGVyKCk7CgkJcmV0dXJuIHhuYi5sb2FkKGJ1ZmZlcik7Cgl9CgkvKiogQGFwaQoJICogcmVtb3ZlIGhlYWRlciBmcm9tIHRoZSBsb2FkZWQgWE5CIE9iamVjdAoJICogWG5iRGF0YSAtPiBDb250ZW50CgkgKiBAcGFyYW0ge1huYkRhdGF9IHRoZSBsb2FkZWQgWE5CIG9iamVjdCBpbmNsdWRlIGhlYWRlcnMKCSAqIEByZXR1cm4ge1huYkNvbnRlbnR9IGV4cG9ydGVkIENvbnRlbnQgT2JqZWN0CgkgKi8KCgoJZnVuY3Rpb24geG5iRGF0YVRvQ29udGVudChsb2FkZWRYbmIpIHsKCQljb25zdCB7CgkJCWNvbnRlbnQKCQl9ID0gbG9hZGVkWG5iOwoJCWNvbnN0IHsKCQkJZGF0YSwKCQkJZXh0ZW5zaW9uCgkJfSA9IGV4cG9ydENvbnRlbnQoY29udGVudCwgdHJ1ZSk7CgkJcmV0dXJuIG5ldyBYbmJDb250ZW50KGRhdGEsIGV4dGVuc2lvbik7Cgl9CgoJZnVuY3Rpb24gc2V0UmVhZGVycyhyZWFkZXJzKSB7CgkJcmV0dXJuIFR5cGVSZWFkZXIuc2V0UmVhZGVycyhyZWFkZXJzKTsKCX0KCgkvKiogCgkgKiB4bmIuanMgMS4yLjAKCSAqIG1hZGUgYnkgTHliZWxsKCBodHRwczovL2dpdGh1Yi5jb20vbHliZWxsLWFydC8gKQoJICogVGhpcyBsaWJyYXJ5IGlzIGJhc2VkIG9uIHRoZSBYbmJDbGkgbWFkZSBieSBMZW9uYmxhZGUuCgkgKiAKCSAqIHhuYi5qcyBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTEdQTCAzLjAgTGljZW5zZS4KCSAqIAoJKi8KCgljbGFzcyBCYXNlUmVhZGVyIHsKCQlzdGF0aWMgaXNUeXBlT2YodHlwZSkgewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQlzdGF0aWMgaGFzU3ViVHlwZSgpIHsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJc3RhdGljIHBhcnNlVHlwZUxpc3QoKSB7CgkJCXJldHVybiBbdGhpcy50eXBlKCldOwoJCX0KCgkJc3RhdGljIHR5cGUoKSB7CgkJCXJldHVybiB0aGlzLm5hbWUuc2xpY2UoMCwgLTYpOwoJCX0KCgkJaXNWYWx1ZVR5cGUoKSB7CgkJCXJldHVybiB0cnVlOwoJCX0KCgkJZ2V0IHR5cGUoKSB7CgkJCXJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnR5cGUoKTsKCQl9CgoJCXJlYWQoYnVmZmVyLCByZXNvbHZlcikgewoJCQl0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBpbnZva2UgbWV0aG9kcyBvbiBhYnN0cmFjdCBjbGFzcy4nKTsKCQl9CgoJCXdyaXRlKGJ1ZmZlciwgY29udGVudCwgcmVzb2x2ZXIpIHsKCQkJdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgaW52b2tlIG1ldGhvZHMgb24gYWJzdHJhY3QgY2xhc3MuJyk7CgkJfQoKCQl3cml0ZUluZGV4KGJ1ZmZlciwgcmVzb2x2ZXIpIHsKCQkJaWYgKHJlc29sdmVyICE9IG51bGwpIGJ1ZmZlci53cml0ZTdCaXROdW1iZXIoTnVtYmVyLnBhcnNlSW50KHJlc29sdmVyLmdldEluZGV4KHRoaXMpKSArIDEpOwoJCX0KCgkJdG9TdHJpbmcoKSB7CgkJCXJldHVybiB0aGlzLnR5cGU7CgkJfQoKCQlwYXJzZVR5cGVMaXN0KCkgewoJCQlyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5wYXJzZVR5cGVMaXN0KCk7CgkJfQoKCX0KCgljbGFzcyBVSW50MzJSZWFkZXIgZXh0ZW5kcyBCYXNlUmVhZGVyIHsKCQlzdGF0aWMgaXNUeXBlT2YodHlwZSkgewoJCQlzd2l0Y2ggKHR5cGUpIHsKCQkJCWNhc2UgJ01pY3Jvc29mdC5YbmEuRnJhbWV3b3JrLkNvbnRlbnQuVUludDMyUmVhZGVyJzoKCQkJCWNhc2UgJ1N5c3RlbS5VSW50MzInOgoJCQkJCXJldHVybiB0cnVlOwoKCQkJCWRlZmF1bHQ6CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQl9CgkJfQoKCQlyZWFkKGJ1ZmZlcikgewoJCQlyZXR1cm4gYnVmZmVyLnJlYWRVSW50MzIoKTsKCQl9CgoJCXdyaXRlKGJ1ZmZlciwgY29udGVudCwgcmVzb2x2ZXIpIHsKCQkJdGhpcy53cml0ZUluZGV4KGJ1ZmZlciwgcmVzb2x2ZXIpOwoJCQlidWZmZXIud3JpdGVVSW50MzIoY29udGVudCk7CgkJfQoKCX0KCgljb25zdCBVVEYxNl9CSVRFUyA9IFsweEQ4MDAsIDB4REMwMF07Cgljb25zdCBVVEYxNl9NQVNLID0gMGIxMTExMTExMTExOwoKCWZ1bmN0aW9uIFVURjE2RGVjb2RlKGNvZGVTZXQpIHsKCQl2YXIgX2NvZGVTZXQyOwoKCQlpZiAodHlwZW9mIGNvZGVTZXQgPT09ICJudW1iZXIiKSBjb2RlU2V0ID0gW2NvZGVTZXRdOwoJCWlmICghKChfY29kZVNldDIgPSBjb2RlU2V0KSAhPT0gbnVsbCAmJiBfY29kZVNldDIgIT09IHZvaWQgMCAmJiBfY29kZVNldDIubGVuZ3RoKSkgdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIGNvZGVzZXQhIik7CgkJY29uc3QgY29kZVNldFJhbmdlID0gY29kZVNldC5sZW5ndGg7CgkJaWYgKGNvZGVTZXRSYW5nZSA9PT0gMSkgcmV0dXJuIGNvZGVTZXRbMF07CgkJcmV0dXJuICgoY29kZVNldFswXSAmIFVURjE2X01BU0spIDw8IDEwKSArIChjb2RlU2V0WzFdICYgVVRGMTZfTUFTSykgKyAweDEwMDAwOwoJfQoKCWZ1bmN0aW9uIHN0cmluZ1RvVW5pY29kZShzdHIpIHsKCQljb25zdCB1dGYxNk1hcCA9IEFycmF5LmZyb20oewoJCQlsZW5ndGg6IHN0ci5sZW5ndGgKCQl9LCAoXywgaSkgPT4gc3RyLmNoYXJDb2RlQXQoaSkpOwoJCWNvbnN0IHJlc3VsdCA9IFtdOwoJCWxldCBpbmRleCA9IDA7CgoJCXdoaWxlIChpbmRleCA8IHN0ci5sZW5ndGgpIHsKCQkJbGV0IGNvZGUgPSB1dGYxNk1hcFtpbmRleF07CgoJCQlpZiAoKFVURjE2X0JJVEVTWzBdICYgY29kZSkgIT09IFVURjE2X0JJVEVTWzBdKSB7CgkJCQlyZXN1bHQucHVzaChjb2RlKTsKCQkJCWluZGV4Kys7CgkJCX0gZWxzZSB7CgkJCQlyZXN1bHQucHVzaChVVEYxNkRlY29kZSh1dGYxNk1hcC5zbGljZShpbmRleCwgaW5kZXggKyAyKSkpOwoJCQkJaW5kZXggKz0gMjsKCQkJfQoJCX0KCgkJcmV0dXJuIHJlc3VsdDsKCX0KCglmdW5jdGlvbiBVVEY4TGVuZ3RoKHN0cikgewoJCWNvbnN0IGNvZGVzID0gc3RyaW5nVG9Vbmljb2RlKHN0cik7CgkJcmV0dXJuIGNvZGVzLnJlZHVjZSgoc3VtLCB1bmljb2RlKSA9PiB7CgkJCWlmICh1bmljb2RlIDwgMHg4MCkgcmV0dXJuIHN1bSArIDE7CgkJCWlmICh1bmljb2RlIDwgMHg4MDApIHJldHVybiBzdW0gKyAyOwoJCQlpZiAodW5pY29kZSA8IDB4MTAwMDApIHJldHVybiBzdW0gKyAzOwoJCQlyZXR1cm4gc3VtICsgNDsKCQl9LCAwKTsKCX0KCgljbGFzcyBTdHJpbmdSZWFkZXIgZXh0ZW5kcyBCYXNlUmVhZGVyIHsKCQlzdGF0aWMgaXNUeXBlT2YodHlwZSkgewoJCQlzd2l0Y2ggKHR5cGUpIHsKCQkJCWNhc2UgJ01pY3Jvc29mdC5YbmEuRnJhbWV3b3JrLkNvbnRlbnQuU3RyaW5nUmVhZGVyJzoKCQkJCWNhc2UgJ1N5c3RlbS5TdHJpbmcnOgoJCQkJCXJldHVybiB0cnVlOwoKCQkJCWRlZmF1bHQ6CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQl9CgkJfQoKCQlyZWFkKGJ1ZmZlcikgewoJCQlsZXQgbGVuZ3RoID0gYnVmZmVyLnJlYWQ3Qml0TnVtYmVyKCk7CgkJCXJldHVybiBidWZmZXIucmVhZFN0cmluZyhsZW5ndGgpOwoJCX0KCgkJd3JpdGUoYnVmZmVyLCBzdHJpbmcsIHJlc29sdmVyKSB7CgkJCXRoaXMud3JpdGVJbmRleChidWZmZXIsIHJlc29sdmVyKTsKCQkJY29uc3Qgc2l6ZSA9IFVURjhMZW5ndGgoc3RyaW5nKTsKCQkJYnVmZmVyLndyaXRlN0JpdE51bWJlcihzaXplKTsKCQkJYnVmZmVyLndyaXRlU3RyaW5nKHN0cmluZyk7CgkJfQoKCQlpc1ZhbHVlVHlwZSgpIHsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgl9CgoJY2xhc3MgRGljdGlvbmFyeVJlYWRlciBleHRlbmRzIEJhc2VSZWFkZXIgewoJCXN0YXRpYyBpc1R5cGVPZih0eXBlKSB7CgkJCXN3aXRjaCAodHlwZSkgewoJCQkJY2FzZSAnTWljcm9zb2Z0LlhuYS5GcmFtZXdvcmsuQ29udGVudC5EaWN0aW9uYXJ5UmVhZGVyJzoKCQkJCQlyZXR1cm4gdHJ1ZTsKCgkJCQlkZWZhdWx0OgoJCQkJCXJldHVybiBmYWxzZTsKCQkJfQoJCX0KCgkJc3RhdGljIGhhc1N1YlR5cGUoKSB7CgkJCXJldHVybiB0cnVlOwoJCX0KCgkJY29uc3RydWN0b3Ioa2V5LCB2YWx1ZSkgewoJCQlpZiAoa2V5ID09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNyZWF0ZSBpbnN0YW5jZSBvZiBEaWN0aW9uYXJ5UmVhZGVyIHdpdGhvdXQgS2V5IGFuZCBWYWx1ZS4nKTsKCQkJc3VwZXIoKTsKCQkJdGhpcy5rZXkgPSBrZXk7CgkJCXRoaXMudmFsdWUgPSB2YWx1ZTsKCQl9CgoJCXJlYWQoYnVmZmVyLCByZXNvbHZlcikgewoJCQlsZXQgZGljdGlvbmFyeSA9IHt9OwoJCQljb25zdCB1aW50MzJSZWFkZXIgPSBuZXcgVUludDMyUmVhZGVyKCk7CgkJCWNvbnN0IHNpemUgPSB1aW50MzJSZWFkZXIucmVhZChidWZmZXIpOwoKCQkJZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCQkJCWxldCBrZXkgPSB0aGlzLmtleS5pc1ZhbHVlVHlwZSgpID8gdGhpcy5rZXkucmVhZChidWZmZXIpIDogcmVzb2x2ZXIucmVhZChidWZmZXIpOwoJCQkJbGV0IHZhbHVlID0gdGhpcy52YWx1ZS5pc1ZhbHVlVHlwZSgpID8gdGhpcy52YWx1ZS5yZWFkKGJ1ZmZlcikgOiByZXNvbHZlci5yZWFkKGJ1ZmZlcik7CgkJCQlkaWN0aW9uYXJ5W2tleV0gPSB2YWx1ZTsKCQkJfQoKCQkJcmV0dXJuIGRpY3Rpb25hcnk7CgkJfQoKCQl3cml0ZShidWZmZXIsIGNvbnRlbnQsIHJlc29sdmVyKSB7CgkJCXRoaXMud3JpdGVJbmRleChidWZmZXIsIHJlc29sdmVyKTsKCQkJYnVmZmVyLndyaXRlVUludDMyKE9iamVjdC5rZXlzKGNvbnRlbnQpLmxlbmd0aCk7CgoJCQlmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXMoY29udGVudCkpIHsKCQkJCXRoaXMua2V5LndyaXRlKGJ1ZmZlciwga2V5LCB0aGlzLmtleS5pc1ZhbHVlVHlwZSgpID8gbnVsbCA6IHJlc29sdmVyKTsKCQkJCXRoaXMudmFsdWUud3JpdGUoYnVmZmVyLCBjb250ZW50W2tleV0sIHRoaXMudmFsdWUuaXNWYWx1ZVR5cGUoKSA/IG51bGwgOiByZXNvbHZlcik7CgkJCX0KCQl9CgoJCWlzVmFsdWVUeXBlKCkgewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQlnZXQgdHlwZSgpIHsKCQkJcmV0dXJuICJEaWN0aW9uYXJ5PCIuY29uY2F0KHRoaXMua2V5LnR5cGUsICIsIikuY29uY2F0KHRoaXMudmFsdWUudHlwZSwgIj4iKTsKCQl9CgoJCXBhcnNlVHlwZUxpc3QoKSB7CgkJCXJldHVybiBbdGhpcy50eXBlLCAuLi50aGlzLmtleS5wYXJzZVR5cGVMaXN0KCksIC4uLnRoaXMudmFsdWUucGFyc2VUeXBlTGlzdCgpXTsKCQl9CgoJfQoKCWNsYXNzIEludDMyUmVhZGVyIGV4dGVuZHMgQmFzZVJlYWRlciB7CgkJc3RhdGljIGlzVHlwZU9mKHR5cGUpIHsKCQkJc3dpdGNoICh0eXBlKSB7CgkJCQljYXNlICdNaWNyb3NvZnQuWG5hLkZyYW1ld29yay5Db250ZW50LkludDMyUmVhZGVyJzoKCQkJCWNhc2UgJ1N5c3RlbS5JbnQzMic6CgkJCQkJcmV0dXJuIHRydWU7CgoJCQkJZGVmYXVsdDoKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCQl9CgoJCXJlYWQoYnVmZmVyKSB7CgkJCXJldHVybiBidWZmZXIucmVhZEludDMyKCk7CgkJfQoKCQl3cml0ZShidWZmZXIsIGNvbnRlbnQsIHJlc29sdmVyKSB7CgkJCXRoaXMud3JpdGVJbmRleChidWZmZXIsIHJlc29sdmVyKTsKCQkJYnVmZmVyLndyaXRlSW50MzIoY29udGVudCk7CgkJfQoKCX0KCgljbGFzcyBMaXN0UmVhZGVyIGV4dGVuZHMgQmFzZVJlYWRlciB7CgkJc3RhdGljIGlzVHlwZU9mKHR5cGUpIHsKCQkJc3dpdGNoICh0eXBlKSB7CgkJCQljYXNlICdNaWNyb3NvZnQuWG5hLkZyYW1ld29yay5Db250ZW50Lkxpc3RSZWFkZXInOgoJCQkJY2FzZSAnU3lzdGVtLkNvbGxlY3Rpb25zLkdlbmVyaWMuTGlzdCc6CgkJCQkJcmV0dXJuIHRydWU7CgoJCQkJZGVmYXVsdDoKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCQl9CgoJCXN0YXRpYyBoYXNTdWJUeXBlKCkgewoJCQlyZXR1cm4gdHJ1ZTsKCQl9CgoJCWNvbnN0cnVjdG9yKHJlYWRlcikgewoJCQlzdXBlcigpOwoJCQl0aGlzLnJlYWRlciA9IHJlYWRlcjsKCQl9CgoJCXJlYWQoYnVmZmVyLCByZXNvbHZlcikgewoJCQljb25zdCB1aW50MzJSZWFkZXIgPSBuZXcgVUludDMyUmVhZGVyKCk7CgkJCWNvbnN0IHNpemUgPSB1aW50MzJSZWFkZXIucmVhZChidWZmZXIpOwoJCQljb25zdCBsaXN0ID0gW107CgoJCQlmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykgewoJCQkJY29uc3QgdmFsdWUgPSB0aGlzLnJlYWRlci5pc1ZhbHVlVHlwZSgpID8gdGhpcy5yZWFkZXIucmVhZChidWZmZXIpIDogcmVzb2x2ZXIucmVhZChidWZmZXIpOwoJCQkJbGlzdC5wdXNoKHZhbHVlKTsKCQkJfQoKCQkJcmV0dXJuIGxpc3Q7CgkJfQoKCQl3cml0ZShidWZmZXIsIGNvbnRlbnQsIHJlc29sdmVyKSB7CgkJCXRoaXMud3JpdGVJbmRleChidWZmZXIsIHJlc29sdmVyKTsKCQkJY29uc3QgdWludDMyUmVhZGVyID0gbmV3IFVJbnQzMlJlYWRlcigpOwoJCQl1aW50MzJSZWFkZXIud3JpdGUoYnVmZmVyLCBjb250ZW50Lmxlbmd0aCwgbnVsbCk7CgoJCQlmb3IgKGxldCBkYXRhIG9mIE9iamVjdC52YWx1ZXMoY29udGVudCkpIHsKCQkJCXRoaXMucmVhZGVyLndyaXRlKGJ1ZmZlciwgZGF0YSwgdGhpcy5yZWFkZXIuaXNWYWx1ZVR5cGUoKSA/IG51bGwgOiByZXNvbHZlcik7CgkJCX0KCQl9CgoJCWlzVmFsdWVUeXBlKCkgewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoKCQlnZXQgdHlwZSgpIHsKCQkJcmV0dXJuICJMaXN0PCIuY29uY2F0KHRoaXMucmVhZGVyLnR5cGUsICI+Iik7CgkJfQoKCQlwYXJzZVR5cGVMaXN0KCkgewoJCQlyZXR1cm4gW3RoaXMudHlwZSwgLi4udGhpcy5yZWFkZXIucGFyc2VUeXBlTGlzdCgpXTsKCQl9CgoJfQoKCWNsYXNzIExpZ2h0d2VpZ2h0VGV4dHVyZTJEUmVhZGVyIGV4dGVuZHMgQmFzZVJlYWRlciB7CgkJc3RhdGljIGlzVHlwZU9mKHR5cGUpIHsKCQkJc3dpdGNoICh0eXBlKSB7CgkJCQljYXNlICdNaWNyb3NvZnQuWG5hLkZyYW1ld29yay5Db250ZW50LlRleHR1cmUyRFJlYWRlcic6CgkJCQkJcmV0dXJuIHRydWU7CgoJCQkJZGVmYXVsdDoKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCQl9CgoJCXN0YXRpYyB0eXBlKCkgewoJCQlyZXR1cm4gIlRleHR1cmUyRCI7CgkJfQoKCQlyZWFkKGJ1ZmZlcikgewoJCQljb25zdCBpbnQzMlJlYWRlciA9IG5ldyBJbnQzMlJlYWRlcigpOwoJCQljb25zdCB1aW50MzJSZWFkZXIgPSBuZXcgVUludDMyUmVhZGVyKCk7CgkJCWxldCBmb3JtYXQgPSBpbnQzMlJlYWRlci5yZWFkKGJ1ZmZlcik7CgkJCWxldCB3aWR0aCA9IHVpbnQzMlJlYWRlci5yZWFkKGJ1ZmZlcik7CgkJCWxldCBoZWlnaHQgPSB1aW50MzJSZWFkZXIucmVhZChidWZmZXIpOwoJCQlsZXQgbWlwQ291bnQgPSB1aW50MzJSZWFkZXIucmVhZChidWZmZXIpOwoJCQlpZiAobWlwQ291bnQgPiAxKSBjb25zb2xlLndhcm4oIkZvdW5kIG1pcGNvdW50IG9mICIuY29uY2F0KG1pcENvdW50LCAiLCBvbmx5IHRoZSBmaXJzdCB3aWxsIGJlIHVzZWQuIikpOwoJCQlsZXQgZGF0YVNpemUgPSB1aW50MzJSZWFkZXIucmVhZChidWZmZXIpOwoJCQlsZXQgZGF0YSA9IGJ1ZmZlci5yZWFkKGRhdGFTaXplKTsKCQkJZGF0YSA9IG5ldyBVaW50OEFycmF5KGRhdGEpOwoJCQlpZiAoZm9ybWF0ICE9IDApIHRocm93IG5ldyBFcnJvcigiQ29tcHJlc3NlZCB0ZXh0dXJlIGZvcm1hdCBpcyBub3Qgc3VwcG9ydGVkISIpOwoKCQkJZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSA0KSB7CgkJCQlsZXQgaW52ZXJzZUFscGhhID0gMjU1IC8gZGF0YVtpICsgM107CgkJCQlkYXRhW2ldID0gTWF0aC5taW4oTWF0aC5jZWlsKGRhdGFbaV0gKiBpbnZlcnNlQWxwaGEpLCAyNTUpOwoJCQkJZGF0YVtpICsgMV0gPSBNYXRoLm1pbihNYXRoLmNlaWwoZGF0YVtpICsgMV0gKiBpbnZlcnNlQWxwaGEpLCAyNTUpOwoJCQkJZGF0YVtpICsgMl0gPSBNYXRoLm1pbihNYXRoLmNlaWwoZGF0YVtpICsgMl0gKiBpbnZlcnNlQWxwaGEpLCAyNTUpOwoJCQl9CgoJCQlyZXR1cm4gewoJCQkJZm9ybWF0LAoJCQkJZXhwb3J0OiB7CgkJCQkJdHlwZTogdGhpcy50eXBlLAoJCQkJCWRhdGEsCgkJCQkJd2lkdGgsCgkJCQkJaGVpZ2h0CgkJCQl9CgkJCX07CgkJfQoKCQl3cml0ZShidWZmZXIsIGNvbnRlbnQsIHJlc29sdmVyKSB7CgkJCWlmIChjb250ZW50LmZvcm1hdCAhPSAwKSB0aHJvdyBuZXcgRXJyb3IoIkNvbXByZXNzZWQgdGV4dHVyZSBmb3JtYXQgaXMgbm90IHN1cHBvcnRlZCEiKTsKCQkJY29uc3QgaW50MzJSZWFkZXIgPSBuZXcgSW50MzJSZWFkZXIoKTsKCQkJY29uc3QgdWludDMyUmVhZGVyID0gbmV3IFVJbnQzMlJlYWRlcigpOwoJCQl0aGlzLndyaXRlSW5kZXgoYnVmZmVyLCByZXNvbHZlcik7CgkJCWNvbnRlbnQuZXhwb3J0LndpZHRoOwoJCQljb250ZW50LmV4cG9ydC5oZWlnaHQ7CgkJCWludDMyUmVhZGVyLndyaXRlKGJ1ZmZlciwgY29udGVudC5mb3JtYXQsIG51bGwpOwoJCQl1aW50MzJSZWFkZXIud3JpdGUoYnVmZmVyLCBjb250ZW50LmV4cG9ydC53aWR0aCwgbnVsbCk7CgkJCXVpbnQzMlJlYWRlci53cml0ZShidWZmZXIsIGNvbnRlbnQuZXhwb3J0LmhlaWdodCwgbnVsbCk7CgkJCXVpbnQzMlJlYWRlci53cml0ZShidWZmZXIsIDEsIG51bGwpOwoJCQlsZXQgZGF0YSA9IGNvbnRlbnQuZXhwb3J0LmRhdGE7CgoJCQlmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDQpIHsKCQkJCWNvbnN0IGFscGhhID0gZGF0YVtpICsgM10gLyAyNTU7CgkJCQlkYXRhW2ldID0gTWF0aC5mbG9vcihkYXRhW2ldICogYWxwaGEpOwoJCQkJZGF0YVtpICsgMV0gPSBNYXRoLmZsb29yKGRhdGFbaSArIDFdICogYWxwaGEpOwoJCQkJZGF0YVtpICsgMl0gPSBNYXRoLmZsb29yKGRhdGFbaSArIDJdICogYWxwaGEpOwoJCQl9CgoJCQl1aW50MzJSZWFkZXIud3JpdGUoYnVmZmVyLCBkYXRhLmxlbmd0aCwgbnVsbCk7CgkJCWJ1ZmZlci5jb25jYXQoZGF0YSk7CgkJfQoKCQlpc1ZhbHVlVHlwZSgpIHsKCQkJcmV0dXJuIGZhbHNlOwoJCX0KCgkJZ2V0IHR5cGUoKSB7CgkJCXJldHVybiAiVGV4dHVyZTJEIjsKCQl9CgoJfQoKCXNldFJlYWRlcnMoewoJCURpY3Rpb25hcnlSZWFkZXIsCgkJTGlzdFJlYWRlciwKCQlJbnQzMlJlYWRlciwKCQlUZXh0dXJlMkRSZWFkZXI6IExpZ2h0d2VpZ2h0VGV4dHVyZTJEUmVhZGVyLAoJCVN0cmluZ1JlYWRlcgoJfSk7CgoJbGV0IGtJc05vZGVKUyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgPyBwcm9jZXNzIDogMCkgPT09ICdbb2JqZWN0IHByb2Nlc3NdJzsNCg0KCWZ1bmN0aW9uIGlzTm9kZUpTKCkgew0KCQlyZXR1cm4ga0lzTm9kZUpTOw0KCX0NCg0KCWNvbnN0IFdvcmtlclRocmVhZHMgPQ0KCQl0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbW9kdWxlLnJlcXVpcmUgPT09ICdmdW5jdGlvbicgJiYgbW9kdWxlLnJlcXVpcmUoJ3dvcmtlcl90aHJlYWRzJykgfHwNCgkJdHlwZW9mIF9fbm9uX3dlYnBhY2tfcmVxdWlyZV9fID09PSAnZnVuY3Rpb24nICYmIF9fbm9uX3dlYnBhY2tfcmVxdWlyZV9fKCd3b3JrZXJfdGhyZWFkcycpIHx8DQoJCXR5cGVvZiByZXF1aXJlID09PSAnZnVuY3Rpb24nICYmIHJlcXVpcmUoJ3dvcmtlcl90aHJlYWRzJyk7DQoNCglmdW5jdGlvbiB3b3JrZXJNYWtlcih3b3JrZXJGdW5jKQ0KCXsNCgkJLy8gbm9kZS1qcyBlbnZpcm9ubWVudA0KCQlpZihpc05vZGVKUygpKQ0KCQl7DQoJCQljb25zdCB7cGFyZW50UG9ydH0gPSBXb3JrZXJUaHJlYWRzOw0KCQkJcGFyZW50UG9ydC5vbignbWVzc2FnZScsIChlKT0+d29ya2VyRnVuYyhlLCBwYXJlbnRQb3J0KSk7DQoJCX0NCgkJLy8gYnJvd3NlciBlbnZpcm9ubWVudA0KCQllbHNlDQoJCXsNCgkJCW9ubWVzc2FnZSA9IGZ1bmN0aW9uKGUpew0KCQkJCXdvcmtlckZ1bmMoZS5kYXRhLCB0aGlzKTsNCgkJCX07DQoJCX0NCgl9CgoJZnVuY3Rpb24gXyhlLCBwYXJlbnQpew0KCQljb25zdCB7dHlwZSwgZGF0YX0gPSBlOw0KCQlpZih0eXBlID09PSAiYnVmZmVyVG9YbmIiKSBwYXJlbnQucG9zdE1lc3NhZ2UoYnVmZmVyVG9YbmIoZGF0YSkpOw0KCQllbHNlIHBhcmVudC5wb3N0TWVzc2FnZSh4bmJEYXRhVG9Db250ZW50KGRhdGEpKTsNCgkJcGFyZW50LmNsb3NlKCk7DQoJfQ0KDQoJd29ya2VyTWFrZXIoXyk7Cgp9KSgpOwoK",null,!1);class vG{constructor(e,t,i){let{target:r,formatVersion:n,hidef:s,compressed:a}=e;this.header={target:r,formatVersion:n,hidef:s,compressed:a},this.readers=t,this.content=i}get target(){var e;switch(null===(e=this.header)||void 0===e?void 0:e.target){case"w":return"Microsoft Windows";case"m":return"Windows Phone 7";case"x":return"Xbox 360";case"a":return"Android";case"i":return"iOS";default:return"Unknown"}}get formatVersion(){var e;switch(null===(e=this.header)||void 0===e?void 0:e.formatVersion){case 3:return"XNA Game Studio 3.0";case 4:return"XNA Game Studio 3.1";case 5:return"XNA Game Studio 4.0";default:return"Unknown"}}get hidef(){var e;return!(null===(e=this.header)||void 0===e||!e.hidef)}get compressed(){var e;return!(null===(e=this.header)||void 0===e||!e.compressed)}get contentType(){let{export:e}=this.content;return void 0!==e?e.type:"JSON"}get rawContent(){let{export:e}=this.content;return void 0!==e?e.data:JSON.stringify(this.content,((e,t)=>"export"===e?t.type:t),4)}stringify(){return JSON.stringify({header:this.header,readers:this.readers,content:this.content},null,4)}toString(){return this.stringify()}}class _G{constructor(e,t){this.type=t,this.content=e}}function SG(e,t){return new Promise(((i,r)=>{e.postMessage(t),e.addEventListener("message",(e=>i(e.data))),e.addEventListener("error",(e=>r(e.message)))}))}!function(e){if(e.TextEncoder&&e.TextDecoder)return!1;function t(e="utf-8"){if("utf-8"!==e)throw new RangeError(`Failed to construct 'TextEncoder': The encoding label provided ('${e}') is invalid.`)}function i(e="utf-8",t={fatal:!1}){if("utf-8"!==e)throw new RangeError(`Failed to construct 'TextDecoder': The encoding label provided ('${e}') is invalid.`);if(t.fatal)throw new Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}Object.defineProperty(t.prototype,"encoding",{value:"utf-8"}),t.prototype.encode=function(e,t={stream:!1}){if(t.stream)throw new Error("Failed to encode: the 'stream' option is unsupported.");let i=0;const r=e.length;let n=0,s=Math.max(32,r+(r>>1)+7),a=new Uint8Array(s>>3<<3);for(;i<r;){let t=e.charCodeAt(i++);if(t>=55296&&t<=56319){if(i<r){const r=e.charCodeAt(i);56320==(64512&r)&&(++i,t=((1023&t)<<10)+(1023&r)+65536)}if(t>=55296&&t<=56319)continue}if(n+4>a.length){s+=8,s*=1+i/e.length*2,s=s>>3<<3;const t=new Uint8Array(s);t.set(a),a=t}if(0!=(4294967168&t)){if(0==(4294965248&t))a[n++]=t>>6&31|192;else if(0==(4294901760&t))a[n++]=t>>12&15|224,a[n++]=t>>6&63|128;else{if(0!=(4292870144&t))continue;a[n++]=t>>18&7|240,a[n++]=t>>12&63|128,a[n++]=t>>6&63|128}a[n++]=63&t|128}else a[n++]=t}return a.slice(0,n)},Object.defineProperty(i.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(i.prototype,"fatal",{value:!1}),Object.defineProperty(i.prototype,"ignoreBOM",{value:!1}),i.prototype.decode=function(e,t={stream:!1}){if(t.stream)throw new Error("Failed to decode: the 'stream' option is unsupported.");const i=new Uint8Array(e);let r=0;const n=i.length,s=[];for(;r<n;){const e=i[r++];if(0===e)break;if(0==(128&e))s.push(e);else if(192==(224&e)){const t=63&i[r++];s.push((31&e)<<6|t)}else if(224==(240&e)){const t=63&i[r++],n=63&i[r++];s.push((31&e)<<12|t<<6|n)}else if(240==(248&e)){let t=(7&e)<<18|(63&i[r++])<<12|(63&i[r++])<<6|63&i[r++];t>65535&&(t-=65536,s.push(t>>>10&1023|55296),t=56320|1023&t),s.push(t)}}return String.fromCharCode.apply(null,s)},e.TextEncoder=t,e.TextDecoder=i}("undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0);const kG=new TextDecoder("utf-8");const TG=new TextEncoder;class AG{constructor(e=8192,t={}){let i=!1;"number"==typeof e?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const r=t.offset?t.offset>>>0:0,n=e.byteLength-r;let s=r;(ArrayBuffer.isView(e)||e instanceof AG)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+r),e=e.buffer),this.lastWrittenByte=i?n:0,this.buffer=e,this.length=n,this.byteLength=n,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,n),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(void 0===e)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const t=2*(this.offset+e),i=new Uint8Array(t);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=this.byteLength=t,this._data=new DataView(this.buffer)}return this}readBoolean(){return 0!==this.readUint8()}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){const t=new Uint8Array(e);for(let i=0;i<e;i++)t[i]=this.readByte();return t}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let i=0;i<e;i++)t+=this.readChar();return t}readUtf8(e=1){return t=this.readBytes(e),kG.decode(t);var t}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(function(e){return TG.encode(e)}(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}
/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */function wG(e){let t=e.length;for(;--t>=0;)e[t]=0}const EG=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),JG=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),RG=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),xG=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),GG=new Array(576);wG(GG);const DG=new Array(60);wG(DG);const BG=new Array(512);wG(BG);const NG=new Array(256);wG(NG);const QG=new Array(29);wG(QG);const MG=new Array(30);function ZG(e,t,i,r,n){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=r,this.max_length=n,this.has_stree=e&&e.length}let PG,OG,LG;function XG(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}wG(MG);const VG=e=>e<256?BG[e]:BG[256+(e>>>7)],FG=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},WG=(e,t,i)=>{e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,FG(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)},UG=(e,t,i)=>{WG(e,i[2*t],i[2*t+1])},HG=(e,t)=>{let i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1},KG=(e,t,i)=>{const r=new Array(16);let n,s,a=0;for(n=1;n<=15;n++)r[n]=a=a+i[n-1]<<1;for(s=0;s<=t;s++){let t=e[2*s+1];0!==t&&(e[2*s]=HG(r[t]++,t))}},YG=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},zG=e=>{e.bi_valid>8?FG(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},jG=(e,t,i,r)=>{const n=2*t,s=2*i;return e[n]<e[s]||e[n]===e[s]&&r[t]<=r[i]},qG=(e,t,i)=>{const r=e.heap[i];let n=i<<1;for(;n<=e.heap_len&&(n<e.heap_len&&jG(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!jG(t,r,e.heap[n],e.depth));)e.heap[i]=e.heap[n],i=n,n<<=1;e.heap[i]=r},$G=(e,t,i)=>{let r,n,s,a,o=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],n=e.pending_buf[e.l_buf+o],o++,0===r?UG(e,n,t):(s=NG[n],UG(e,s+256+1,t),a=EG[s],0!==a&&(n-=QG[s],WG(e,n,a)),r--,s=VG(r),UG(e,s,i),a=JG[s],0!==a&&(r-=MG[s],WG(e,r,a)))}while(o<e.last_lit);UG(e,256,t)},eD=(e,t)=>{const i=t.dyn_tree,r=t.stat_desc.static_tree,n=t.stat_desc.has_stree,s=t.stat_desc.elems;let a,o,l,h=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<s;a++)0!==i[2*a]?(e.heap[++e.heap_len]=h=a,e.depth[a]=0):i[2*a+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=h<2?++h:0,i[2*l]=1,e.depth[l]=0,e.opt_len--,n&&(e.static_len-=r[2*l+1]);for(t.max_code=h,a=e.heap_len>>1;a>=1;a--)qG(e,i,a);l=s;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],qG(e,i,1),o=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=o,i[2*l]=i[2*a]+i[2*o],e.depth[l]=(e.depth[a]>=e.depth[o]?e.depth[a]:e.depth[o])+1,i[2*a+1]=i[2*o+1]=l,e.heap[1]=l++,qG(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const i=t.dyn_tree,r=t.max_code,n=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length;let h,u,d,c,p,g,f=0;for(c=0;c<=15;c++)e.bl_count[c]=0;for(i[2*e.heap[e.heap_max]+1]=0,h=e.heap_max+1;h<573;h++)u=e.heap[h],c=i[2*i[2*u+1]+1]+1,c>l&&(c=l,f++),i[2*u+1]=c,u>r||(e.bl_count[c]++,p=0,u>=o&&(p=a[u-o]),g=i[2*u],e.opt_len+=g*(c+p),s&&(e.static_len+=g*(n[2*u+1]+p)));if(0!==f){do{for(c=l-1;0===e.bl_count[c];)c--;e.bl_count[c]--,e.bl_count[c+1]+=2,e.bl_count[l]--,f-=2}while(f>0);for(c=l;0!==c;c--)for(u=e.bl_count[c];0!==u;)d=e.heap[--h],d>r||(i[2*d+1]!==c&&(e.opt_len+=(c-i[2*d+1])*i[2*d],i[2*d+1]=c),u--)}})(e,t),KG(i,h,e.bl_count)},tD=(e,t,i)=>{let r,n,s=-1,a=t[1],o=0,l=7,h=4;for(0===a&&(l=138,h=3),t[2*(i+1)+1]=65535,r=0;r<=i;r++)n=a,a=t[2*(r+1)+1],++o<l&&n===a||(o<h?e.bl_tree[2*n]+=o:0!==n?(n!==s&&e.bl_tree[2*n]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,s=n,0===a?(l=138,h=3):n===a?(l=6,h=3):(l=7,h=4))},iD=(e,t,i)=>{let r,n,s=-1,a=t[1],o=0,l=7,h=4;for(0===a&&(l=138,h=3),r=0;r<=i;r++)if(n=a,a=t[2*(r+1)+1],!(++o<l&&n===a)){if(o<h)do{UG(e,n,e.bl_tree)}while(0!=--o);else 0!==n?(n!==s&&(UG(e,n,e.bl_tree),o--),UG(e,16,e.bl_tree),WG(e,o-3,2)):o<=10?(UG(e,17,e.bl_tree),WG(e,o-3,3)):(UG(e,18,e.bl_tree),WG(e,o-11,7));o=0,s=n,0===a?(l=138,h=3):n===a?(l=6,h=3):(l=7,h=4)}};let rD=!1;const nD=(e,t,i,r)=>{WG(e,0+(r?1:0),3),((e,t,i,r)=>{zG(e),r&&(FG(e,i),FG(e,~i)),e.pending_buf.set(e.window.subarray(t,t+i),e.pending),e.pending+=i})(e,t,i,!0)};var sD=e=>{rD||((()=>{let e,t,i,r,n;const s=new Array(16);for(i=0,r=0;r<28;r++)for(QG[r]=i,e=0;e<1<<EG[r];e++)NG[i++]=r;for(NG[i-1]=r,n=0,r=0;r<16;r++)for(MG[r]=n,e=0;e<1<<JG[r];e++)BG[n++]=r;for(n>>=7;r<30;r++)for(MG[r]=n<<7,e=0;e<1<<JG[r]-7;e++)BG[256+n++]=r;for(t=0;t<=15;t++)s[t]=0;for(e=0;e<=143;)GG[2*e+1]=8,e++,s[8]++;for(;e<=255;)GG[2*e+1]=9,e++,s[9]++;for(;e<=279;)GG[2*e+1]=7,e++,s[7]++;for(;e<=287;)GG[2*e+1]=8,e++,s[8]++;for(KG(GG,287,s),e=0;e<30;e++)DG[2*e+1]=5,DG[2*e]=HG(e,5);PG=new ZG(GG,EG,257,286,15),OG=new ZG(DG,JG,0,30,15),LG=new ZG(new Array(0),RG,0,19,7)})(),rD=!0),e.l_desc=new XG(e.dyn_ltree,PG),e.d_desc=new XG(e.dyn_dtree,OG),e.bl_desc=new XG(e.bl_tree,LG),e.bi_buf=0,e.bi_valid=0,YG(e)},aD=(e,t,i,r)=>{let n,s,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),eD(e,e.l_desc),eD(e,e.d_desc),a=(e=>{let t;for(tD(e,e.dyn_ltree,e.l_desc.max_code),tD(e,e.dyn_dtree,e.d_desc.max_code),eD(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*xG[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),n=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=n&&(n=s)):n=s=i+5,i+4<=n&&-1!==t?nD(e,t,i,r):4===e.strategy||s===n?(WG(e,2+(r?1:0),3),$G(e,GG,DG)):(WG(e,4+(r?1:0),3),((e,t,i,r)=>{let n;for(WG(e,t-257,5),WG(e,i-1,5),WG(e,r-4,4),n=0;n<r;n++)WG(e,e.bl_tree[2*xG[n]+1],3);iD(e,e.dyn_ltree,t-1),iD(e,e.dyn_dtree,i-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),$G(e,e.dyn_ltree,e.dyn_dtree)),YG(e),r&&zG(e)},oD=(e,t,i)=>(e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(NG[i]+256+1)]++,e.dyn_dtree[2*VG(t)]++),e.last_lit===e.lit_bufsize-1),lD={_tr_init:sD,_tr_stored_block:nD,_tr_flush_block:aD,_tr_tally:oD,_tr_align:e=>{WG(e,2,3),UG(e,256,GG),(e=>{16===e.bi_valid?(FG(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var hD=(e,t,i,r)=>{let n=65535&e|0,s=e>>>16&65535|0,a=0;for(;0!==i;){a=i>2e3?2e3:i,i-=a;do{n=n+t[r++]|0,s=s+n|0}while(--a);n%=65521,s%=65521}return n|s<<16|0};const uD=new Uint32Array((()=>{let e,t=[];for(var i=0;i<256;i++){e=i;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t})());var dD=(e,t,i,r)=>{const n=uD,s=r+i;e^=-1;for(let i=r;i<s;i++)e=e>>>8^n[255&(e^t[i])];return-1^e},cD={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},pD={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:gD,_tr_stored_block:fD,_tr_flush_block:mD,_tr_tally:CD,_tr_align:yD}=lD,{Z_NO_FLUSH:bD,Z_PARTIAL_FLUSH:ID,Z_FULL_FLUSH:vD,Z_FINISH:_D,Z_BLOCK:SD,Z_OK:kD,Z_STREAM_END:TD,Z_STREAM_ERROR:AD,Z_DATA_ERROR:wD,Z_BUF_ERROR:ED,Z_DEFAULT_COMPRESSION:JD,Z_FILTERED:RD,Z_HUFFMAN_ONLY:xD,Z_RLE:GD,Z_FIXED:DD,Z_DEFAULT_STRATEGY:BD,Z_UNKNOWN:ND,Z_DEFLATED:QD}=pD,MD=(e,t)=>(e.msg=cD[t],t),ZD=e=>(e<<1)-(e>4?9:0),PD=e=>{let t=e.length;for(;--t>=0;)e[t]=0};let OD=(e,t,i)=>(t<<e.hash_shift^i)&e.hash_mask;const LD=e=>{const t=e.state;let i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+i),e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))},XD=(e,t)=>{mD(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,LD(e.strm)},VD=(e,t)=>{e.pending_buf[e.pending++]=t},FD=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},WD=(e,t,i,r)=>{let n=e.avail_in;return n>r&&(n=r),0===n?0:(e.avail_in-=n,t.set(e.input.subarray(e.next_in,e.next_in+n),i),1===e.state.wrap?e.adler=hD(e.adler,t,n,i):2===e.state.wrap&&(e.adler=dD(e.adler,t,n,i)),e.next_in+=n,e.total_in+=n,n)},UD=(e,t)=>{let i,r,n=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match;const l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,h=e.window,u=e.w_mask,d=e.prev,c=e.strstart+258;let p=h[s+a-1],g=h[s+a];e.prev_length>=e.good_match&&(n>>=2),o>e.lookahead&&(o=e.lookahead);do{if(i=t,h[i+a]===g&&h[i+a-1]===p&&h[i]===h[s]&&h[++i]===h[s+1]){s+=2,i++;do{}while(h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&h[++s]===h[++i]&&s<c);if(r=258-(c-s),s=c-258,r>a){if(e.match_start=t,a=r,r>=o)break;p=h[s+a-1],g=h[s+a]}}}while((t=d[t&u])>l&&0!=--n);return a<=e.lookahead?a:e.lookahead},HD=e=>{const t=e.w_size;let i,r,n,s,a;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-262)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,i=r;do{n=e.head[--i],e.head[i]=n>=t?n-t:0}while(--r);r=t,i=r;do{n=e.prev[--i],e.prev[i]=n>=t?n-t:0}while(--r);s+=t}if(0===e.strm.avail_in)break;if(r=WD(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=r,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=OD(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=OD(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)},KD=(e,t)=>{let i,r;for(;;){if(e.lookahead<262){if(HD(e),e.lookahead<262&&t===bD)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=OD(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-262&&(e.match_length=UD(e,i)),e.match_length>=3)if(r=CD(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=OD(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=OD(e,e.ins_h,e.window[e.strstart+1]);else r=CD(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(XD(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===_D?(XD(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(XD(e,!1),0===e.strm.avail_out)?1:2},YD=(e,t)=>{let i,r,n;for(;;){if(e.lookahead<262){if(HD(e),e.lookahead<262&&t===bD)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=OD(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-262&&(e.match_length=UD(e,i),e.match_length<=5&&(e.strategy===RD||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-3,r=CD(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=n&&(e.ins_h=OD(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(XD(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=CD(e,0,e.window[e.strstart-1]),r&&XD(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=CD(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===_D?(XD(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(XD(e,!1),0===e.strm.avail_out)?1:2};function zD(e,t,i,r,n){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=r,this.func=n}const jD=[new zD(0,0,0,0,((e,t)=>{let i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(HD(e),0===e.lookahead&&t===bD)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const r=e.block_start+i;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,XD(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(XD(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===_D?(XD(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(XD(e,!1),e.strm.avail_out),1)})),new zD(4,4,8,4,KD),new zD(4,5,16,8,KD),new zD(4,6,32,32,KD),new zD(4,4,16,16,YD),new zD(8,16,32,32,YD),new zD(8,16,128,128,YD),new zD(8,32,128,256,YD),new zD(32,128,258,1024,YD),new zD(32,258,258,4096,YD)];function qD(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=QD,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),PD(this.dyn_ltree),PD(this.dyn_dtree),PD(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),PD(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),PD(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const $D=e=>{if(!e||!e.state)return MD(e,AD);e.total_in=e.total_out=0,e.data_type=ND;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=bD,gD(t),kD},eB=e=>{const t=$D(e);var i;return t===kD&&((i=e.state).window_size=2*i.w_size,PD(i.head),i.max_lazy_match=jD[i.level].max_lazy,i.good_match=jD[i.level].good_length,i.nice_match=jD[i.level].nice_length,i.max_chain_length=jD[i.level].max_chain,i.strstart=0,i.block_start=0,i.lookahead=0,i.insert=0,i.match_length=i.prev_length=2,i.match_available=0,i.ins_h=0),t},tB=(e,t,i,r,n,s)=>{if(!e)return AD;let a=1;if(t===JD&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),n<1||n>9||i!==QD||r<8||r>15||t<0||t>9||s<0||s>DD)return MD(e,AD);8===r&&(r=9);const o=new qD;return e.state=o,o.strm=e,o.wrap=a,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=n+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<n+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=s,o.method=i,eB(e)};var iB=(e,t)=>{let i,r;if(!e||!e.state||t>SD||t<0)return e?MD(e,AD):AD;const n=e.state;if(!e.output||!e.input&&0!==e.avail_in||666===n.status&&t!==_D)return MD(e,0===e.avail_out?ED:AD);n.strm=e;const s=n.last_flush;if(n.last_flush=t,42===n.status)if(2===n.wrap)e.adler=0,VD(n,31),VD(n,139),VD(n,8),n.gzhead?(VD(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),VD(n,255&n.gzhead.time),VD(n,n.gzhead.time>>8&255),VD(n,n.gzhead.time>>16&255),VD(n,n.gzhead.time>>24&255),VD(n,9===n.level?2:n.strategy>=xD||n.level<2?4:0),VD(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(VD(n,255&n.gzhead.extra.length),VD(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=dD(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(VD(n,0),VD(n,0),VD(n,0),VD(n,0),VD(n,0),VD(n,9===n.level?2:n.strategy>=xD||n.level<2?4:0),VD(n,3),n.status=113);else{let t=QD+(n.w_bits-8<<4)<<8,i=-1;i=n.strategy>=xD||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=i<<6,0!==n.strstart&&(t|=32),t+=31-t%31,n.status=113,FD(n,t),0!==n.strstart&&(FD(n,e.adler>>>16),FD(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(e.adler=dD(e.adler,n.pending_buf,n.pending-i,i)),LD(e),i=n.pending,n.pending!==n.pending_buf_size));)VD(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=dD(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=dD(e.adler,n.pending_buf,n.pending-i,i)),LD(e),i=n.pending,n.pending===n.pending_buf_size)){r=1;break}r=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,VD(n,r)}while(0!==r);n.gzhead.hcrc&&n.pending>i&&(e.adler=dD(e.adler,n.pending_buf,n.pending-i,i)),0===r&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=dD(e.adler,n.pending_buf,n.pending-i,i)),LD(e),i=n.pending,n.pending===n.pending_buf_size)){r=1;break}r=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,VD(n,r)}while(0!==r);n.gzhead.hcrc&&n.pending>i&&(e.adler=dD(e.adler,n.pending_buf,n.pending-i,i)),0===r&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&LD(e),n.pending+2<=n.pending_buf_size&&(VD(n,255&e.adler),VD(n,e.adler>>8&255),e.adler=0,n.status=113)):n.status=113),0!==n.pending){if(LD(e),0===e.avail_out)return n.last_flush=-1,kD}else if(0===e.avail_in&&ZD(t)<=ZD(s)&&t!==_D)return MD(e,ED);if(666===n.status&&0!==e.avail_in)return MD(e,ED);if(0!==e.avail_in||0!==n.lookahead||t!==bD&&666!==n.status){let i=n.strategy===xD?((e,t)=>{let i;for(;;){if(0===e.lookahead&&(HD(e),0===e.lookahead)){if(t===bD)return 1;break}if(e.match_length=0,i=CD(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(XD(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===_D?(XD(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(XD(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===GD?((e,t)=>{let i,r,n,s;const a=e.window;for(;;){if(e.lookahead<=258){if(HD(e),e.lookahead<=258&&t===bD)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=e.strstart-1,r=a[n],r===a[++n]&&r===a[++n]&&r===a[++n])){s=e.strstart+258;do{}while(r===a[++n]&&r===a[++n]&&r===a[++n]&&r===a[++n]&&r===a[++n]&&r===a[++n]&&r===a[++n]&&r===a[++n]&&n<s);e.match_length=258-(s-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=CD(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=CD(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(XD(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===_D?(XD(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(XD(e,!1),0===e.strm.avail_out)?1:2})(n,t):jD[n.level].func(n,t);if(3!==i&&4!==i||(n.status=666),1===i||3===i)return 0===e.avail_out&&(n.last_flush=-1),kD;if(2===i&&(t===ID?yD(n):t!==SD&&(fD(n,0,0,!1),t===vD&&(PD(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),LD(e),0===e.avail_out))return n.last_flush=-1,kD}return t!==_D?kD:n.wrap<=0?TD:(2===n.wrap?(VD(n,255&e.adler),VD(n,e.adler>>8&255),VD(n,e.adler>>16&255),VD(n,e.adler>>24&255),VD(n,255&e.total_in),VD(n,e.total_in>>8&255),VD(n,e.total_in>>16&255),VD(n,e.total_in>>24&255)):(FD(n,e.adler>>>16),FD(n,65535&e.adler)),LD(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?kD:TD)},rB=(e,t)=>{let i=t.length;if(!e||!e.state)return AD;const r=e.state,n=r.wrap;if(2===n||1===n&&42!==r.status||r.lookahead)return AD;if(1===n&&(e.adler=hD(e.adler,t,i,0)),r.wrap=0,i>=r.w_size){0===n&&(PD(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(i-r.w_size,i),0),t=e,i=r.w_size}const s=e.avail_in,a=e.next_in,o=e.input;for(e.avail_in=i,e.next_in=0,e.input=t,HD(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=OD(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,HD(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=o,e.avail_in=s,r.wrap=n,kD},nB={deflateInit:(e,t)=>tB(e,t,QD,15,8,BD),deflateInit2:tB,deflateReset:eB,deflateResetKeep:$D,deflateSetHeader:(e,t)=>e&&e.state?2!==e.state.wrap?AD:(e.state.gzhead=t,kD):AD,deflate:iB,deflateEnd:e=>{if(!e||!e.state)return AD;const t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?MD(e,AD):(e.state=null,113===t?MD(e,wD):kD)},deflateSetDictionary:rB,deflateInfo:"pako deflate (from Nodeca project)"};const sB=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var aB=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(const t in i)sB(i,t)&&(e[t]=i[t])}}return e},oB=e=>{let t=0;for(let i=0,r=e.length;i<r;i++)t+=e[i].length;const i=new Uint8Array(t);for(let t=0,r=0,n=e.length;t<n;t++){let n=e[t];i.set(n,r),r+=n.length}return i};let lB=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){lB=!1}const hB=new Uint8Array(256);for(let e=0;e<256;e++)hB[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;hB[254]=hB[254]=1;var uB=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,i,r,n,s,a=e.length,o=0;for(n=0;n<a;n++)i=e.charCodeAt(n),55296==(64512&i)&&n+1<a&&(r=e.charCodeAt(n+1),56320==(64512&r)&&(i=65536+(i-55296<<10)+(r-56320),n++)),o+=i<128?1:i<2048?2:i<65536?3:4;for(t=new Uint8Array(o),s=0,n=0;s<o;n++)i=e.charCodeAt(n),55296==(64512&i)&&n+1<a&&(r=e.charCodeAt(n+1),56320==(64512&r)&&(i=65536+(i-55296<<10)+(r-56320),n++)),i<128?t[s++]=i:i<2048?(t[s++]=192|i>>>6,t[s++]=128|63&i):i<65536?(t[s++]=224|i>>>12,t[s++]=128|i>>>6&63,t[s++]=128|63&i):(t[s++]=240|i>>>18,t[s++]=128|i>>>12&63,t[s++]=128|i>>>6&63,t[s++]=128|63&i);return t},dB=(e,t)=>{const i=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,n;const s=new Array(2*i);for(n=0,r=0;r<i;){let t=e[r++];if(t<128){s[n++]=t;continue}let a=hB[t];if(a>4)s[n++]=65533,r+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&r<i;)t=t<<6|63&e[r++],a--;a>1?s[n++]=65533:t<65536?s[n++]=t:(t-=65536,s[n++]=55296|t>>10&1023,s[n++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&lB)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let i="";for(let r=0;r<t;r++)i+=String.fromCharCode(e[r]);return i})(s,n)},cB=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let i=t-1;for(;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+hB[e[i]]>t?i:t};var pB=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const gB=Object.prototype.toString,{Z_NO_FLUSH:fB,Z_SYNC_FLUSH:mB,Z_FULL_FLUSH:CB,Z_FINISH:yB,Z_OK:bB,Z_STREAM_END:IB,Z_DEFAULT_COMPRESSION:vB,Z_DEFAULT_STRATEGY:_B,Z_DEFLATED:SB}=pD;function kB(e){this.options=aB({level:vB,method:SB,chunkSize:16384,windowBits:15,memLevel:8,strategy:_B},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new pB,this.strm.avail_out=0;let i=nB.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==bB)throw new Error(cD[i]);if(t.header&&nB.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?uB(t.dictionary):"[object ArrayBuffer]"===gB.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,i=nB.deflateSetDictionary(this.strm,e),i!==bB)throw new Error(cD[i]);this._dict_set=!0}}kB.prototype.push=function(e,t){const i=this.strm,r=this.options.chunkSize;let n,s;if(this.ended)return!1;for(s=t===~~t?t:!0===t?yB:fB,"string"==typeof e?i.input=uB(e):"[object ArrayBuffer]"===gB.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(r),i.next_out=0,i.avail_out=r),(s===mB||s===CB)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(n=nB.deflate(i,s),n===IB)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),n=nB.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===bB;if(0!==i.avail_out){if(s>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},kB.prototype.onData=function(e){this.chunks.push(e)},kB.prototype.onEnd=function(e){e===bB&&(this.result=oB(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var TB=function(e,t){let i,r,n,s,a,o,l,h,u,d,c,p,g,f,m,C,y,b,I,v,_,S,k,T;const A=e.state;i=e.next_in,k=e.input,r=i+(e.avail_in-5),n=e.next_out,T=e.output,s=n-(t-e.avail_out),a=n+(e.avail_out-257),o=A.dmax,l=A.wsize,h=A.whave,u=A.wnext,d=A.window,c=A.hold,p=A.bits,g=A.lencode,f=A.distcode,m=(1<<A.lenbits)-1,C=(1<<A.distbits)-1;e:do{p<15&&(c+=k[i++]<<p,p+=8,c+=k[i++]<<p,p+=8),y=g[c&m];t:for(;;){if(b=y>>>24,c>>>=b,p-=b,b=y>>>16&255,0===b)T[n++]=65535&y;else{if(!(16&b)){if(0==(64&b)){y=g[(65535&y)+(c&(1<<b)-1)];continue t}if(32&b){A.mode=12;break e}e.msg="invalid literal/length code",A.mode=30;break e}I=65535&y,b&=15,b&&(p<b&&(c+=k[i++]<<p,p+=8),I+=c&(1<<b)-1,c>>>=b,p-=b),p<15&&(c+=k[i++]<<p,p+=8,c+=k[i++]<<p,p+=8),y=f[c&C];i:for(;;){if(b=y>>>24,c>>>=b,p-=b,b=y>>>16&255,!(16&b)){if(0==(64&b)){y=f[(65535&y)+(c&(1<<b)-1)];continue i}e.msg="invalid distance code",A.mode=30;break e}if(v=65535&y,b&=15,p<b&&(c+=k[i++]<<p,p+=8,p<b&&(c+=k[i++]<<p,p+=8)),v+=c&(1<<b)-1,v>o){e.msg="invalid distance too far back",A.mode=30;break e}if(c>>>=b,p-=b,b=n-s,v>b){if(b=v-b,b>h&&A.sane){e.msg="invalid distance too far back",A.mode=30;break e}if(_=0,S=d,0===u){if(_+=l-b,b<I){I-=b;do{T[n++]=d[_++]}while(--b);_=n-v,S=T}}else if(u<b){if(_+=l+u-b,b-=u,b<I){I-=b;do{T[n++]=d[_++]}while(--b);if(_=0,u<I){b=u,I-=b;do{T[n++]=d[_++]}while(--b);_=n-v,S=T}}}else if(_+=u-b,b<I){I-=b;do{T[n++]=d[_++]}while(--b);_=n-v,S=T}for(;I>2;)T[n++]=S[_++],T[n++]=S[_++],T[n++]=S[_++],I-=3;I&&(T[n++]=S[_++],I>1&&(T[n++]=S[_++]))}else{_=n-v;do{T[n++]=T[_++],T[n++]=T[_++],T[n++]=T[_++],I-=3}while(I>2);I&&(T[n++]=T[_++],I>1&&(T[n++]=T[_++]))}break}}break}}while(i<r&&n<a);I=p>>3,i-=I,p-=I<<3,c&=(1<<p)-1,e.next_in=i,e.next_out=n,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=n<a?a-n+257:257-(n-a),A.hold=c,A.bits=p};const AB=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),wB=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),EB=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),JB=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var RB=(e,t,i,r,n,s,a,o)=>{const l=o.bits;let h,u,d,c,p,g,f=0,m=0,C=0,y=0,b=0,I=0,v=0,_=0,S=0,k=0,T=null,A=0;const w=new Uint16Array(16),E=new Uint16Array(16);let J,R,x,G=null,D=0;for(f=0;f<=15;f++)w[f]=0;for(m=0;m<r;m++)w[t[i+m]]++;for(b=l,y=15;y>=1&&0===w[y];y--);if(b>y&&(b=y),0===y)return n[s++]=20971520,n[s++]=20971520,o.bits=1,0;for(C=1;C<y&&0===w[C];C++);for(b<C&&(b=C),_=1,f=1;f<=15;f++)if(_<<=1,_-=w[f],_<0)return-1;if(_>0&&(0===e||1!==y))return-1;for(E[1]=0,f=1;f<15;f++)E[f+1]=E[f]+w[f];for(m=0;m<r;m++)0!==t[i+m]&&(a[E[t[i+m]]++]=m);if(0===e?(T=G=a,g=19):1===e?(T=AB,A-=257,G=wB,D-=257,g=256):(T=EB,G=JB,g=-1),k=0,m=0,f=C,p=s,I=b,v=0,d=-1,S=1<<b,c=S-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){J=f-v,a[m]<g?(R=0,x=a[m]):a[m]>g?(R=G[D+a[m]],x=T[A+a[m]]):(R=96,x=0),h=1<<f-v,u=1<<I,C=u;do{u-=h,n[p+(k>>v)+u]=J<<24|R<<16|x|0}while(0!==u);for(h=1<<f-1;k&h;)h>>=1;if(0!==h?(k&=h-1,k+=h):k=0,m++,0==--w[f]){if(f===y)break;f=t[i+a[m]]}if(f>b&&(k&c)!==d){for(0===v&&(v=b),p+=C,I=f-v,_=1<<I;I+v<y&&(_-=w[I+v],!(_<=0));)I++,_<<=1;if(S+=1<<I,1===e&&S>852||2===e&&S>592)return 1;d=k&c,n[d]=b<<24|I<<16|p-s|0}}return 0!==k&&(n[p+k]=f-v<<24|64<<16|0),o.bits=b,0};const{Z_FINISH:xB,Z_BLOCK:GB,Z_TREES:DB,Z_OK:BB,Z_STREAM_END:NB,Z_NEED_DICT:QB,Z_STREAM_ERROR:MB,Z_DATA_ERROR:ZB,Z_MEM_ERROR:PB,Z_BUF_ERROR:OB,Z_DEFLATED:LB}=pD,XB=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function VB(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const FB=e=>{if(!e||!e.state)return MB;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,BB},WB=e=>{if(!e||!e.state)return MB;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,FB(e)},UB=(e,t)=>{let i;if(!e||!e.state)return MB;const r=e.state;return t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?MB:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=i,r.wbits=t,WB(e))},HB=(e,t)=>{if(!e)return MB;const i=new VB;e.state=i,i.window=null;const r=UB(e,t);return r!==BB&&(e.state=null),r};let KB,YB,zB=!0;const jB=e=>{if(zB){KB=new Int32Array(512),YB=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(RB(1,e.lens,0,288,KB,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;RB(2,e.lens,0,32,YB,0,e.work,{bits:5}),zB=!1}e.lencode=KB,e.lenbits=9,e.distcode=YB,e.distbits=5},qB=(e,t,i,r)=>{let n;const s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(i-s.wsize,i),0),s.wnext=0,s.whave=s.wsize):(n=s.wsize-s.wnext,n>r&&(n=r),s.window.set(t.subarray(i-r,i-r+n),s.wnext),(r-=n)?(s.window.set(t.subarray(i-r,i),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=n,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=n))),0};var $B=(e,t)=>{let i,r,n,s,a,o,l,h,u,d,c,p,g,f,m,C,y,b,I,v,_,S,k=0;const T=new Uint8Array(4);let A,w;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return MB;i=e.state,12===i.mode&&(i.mode=13),a=e.next_out,n=e.output,l=e.avail_out,s=e.next_in,r=e.input,o=e.avail_in,h=i.hold,u=i.bits,d=o,c=l,S=BB;e:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;u<16;){if(0===o)break e;o--,h+=r[s++]<<u,u+=8}if(2&i.wrap&&35615===h){i.check=0,T[0]=255&h,T[1]=h>>>8&255,i.check=dD(i.check,T,2,0),h=0,u=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&h)<<8)+(h>>8))%31){e.msg="incorrect header check",i.mode=30;break}if((15&h)!==LB){e.msg="unknown compression method",i.mode=30;break}if(h>>>=4,u-=4,_=8+(15&h),0===i.wbits)i.wbits=_;else if(_>i.wbits){e.msg="invalid window size",i.mode=30;break}i.dmax=1<<i.wbits,e.adler=i.check=1,i.mode=512&h?10:12,h=0,u=0;break;case 2:for(;u<16;){if(0===o)break e;o--,h+=r[s++]<<u,u+=8}if(i.flags=h,(255&i.flags)!==LB){e.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=h>>8&1),512&i.flags&&(T[0]=255&h,T[1]=h>>>8&255,i.check=dD(i.check,T,2,0)),h=0,u=0,i.mode=3;case 3:for(;u<32;){if(0===o)break e;o--,h+=r[s++]<<u,u+=8}i.head&&(i.head.time=h),512&i.flags&&(T[0]=255&h,T[1]=h>>>8&255,T[2]=h>>>16&255,T[3]=h>>>24&255,i.check=dD(i.check,T,4,0)),h=0,u=0,i.mode=4;case 4:for(;u<16;){if(0===o)break e;o--,h+=r[s++]<<u,u+=8}i.head&&(i.head.xflags=255&h,i.head.os=h>>8),512&i.flags&&(T[0]=255&h,T[1]=h>>>8&255,i.check=dD(i.check,T,2,0)),h=0,u=0,i.mode=5;case 5:if(1024&i.flags){for(;u<16;){if(0===o)break e;o--,h+=r[s++]<<u,u+=8}i.length=h,i.head&&(i.head.extra_len=h),512&i.flags&&(T[0]=255&h,T[1]=h>>>8&255,i.check=dD(i.check,T,2,0)),h=0,u=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&(p=i.length,p>o&&(p=o),p&&(i.head&&(_=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(r.subarray(s,s+p),_)),512&i.flags&&(i.check=dD(i.check,r,p,s)),o-=p,s+=p,i.length-=p),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===o)break e;p=0;do{_=r[s+p++],i.head&&_&&i.length<65536&&(i.head.name+=String.fromCharCode(_))}while(_&&p<o);if(512&i.flags&&(i.check=dD(i.check,r,p,s)),o-=p,s+=p,_)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===o)break e;p=0;do{_=r[s+p++],i.head&&_&&i.length<65536&&(i.head.comment+=String.fromCharCode(_))}while(_&&p<o);if(512&i.flags&&(i.check=dD(i.check,r,p,s)),o-=p,s+=p,_)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;u<16;){if(0===o)break e;o--,h+=r[s++]<<u,u+=8}if(h!==(65535&i.check)){e.msg="header crc mismatch",i.mode=30;break}h=0,u=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=12;break;case 10:for(;u<32;){if(0===o)break e;o--,h+=r[s++]<<u,u+=8}e.adler=i.check=XB(h),h=0,u=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,i.hold=h,i.bits=u,QB;e.adler=i.check=1,i.mode=12;case 12:if(t===GB||t===DB)break e;case 13:if(i.last){h>>>=7&u,u-=7&u,i.mode=27;break}for(;u<3;){if(0===o)break e;o--,h+=r[s++]<<u,u+=8}switch(i.last=1&h,h>>>=1,u-=1,3&h){case 0:i.mode=14;break;case 1:if(jB(i),i.mode=20,t===DB){h>>>=2,u-=2;break e}break;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=30}h>>>=2,u-=2;break;case 14:for(h>>>=7&u,u-=7&u;u<32;){if(0===o)break e;o--,h+=r[s++]<<u,u+=8}if((65535&h)!=(h>>>16^65535)){e.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&h,h=0,u=0,i.mode=15,t===DB)break e;case 15:i.mode=16;case 16:if(p=i.length,p){if(p>o&&(p=o),p>l&&(p=l),0===p)break e;n.set(r.subarray(s,s+p),a),o-=p,s+=p,l-=p,a+=p,i.length-=p;break}i.mode=12;break;case 17:for(;u<14;){if(0===o)break e;o--,h+=r[s++]<<u,u+=8}if(i.nlen=257+(31&h),h>>>=5,u-=5,i.ndist=1+(31&h),h>>>=5,u-=5,i.ncode=4+(15&h),h>>>=4,u-=4,i.nlen>286||i.ndist>30){e.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;u<3;){if(0===o)break e;o--,h+=r[s++]<<u,u+=8}i.lens[E[i.have++]]=7&h,h>>>=3,u-=3}for(;i.have<19;)i.lens[E[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,A={bits:i.lenbits},S=RB(0,i.lens,0,19,i.lencode,0,i.work,A),i.lenbits=A.bits,S){e.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;k=i.lencode[h&(1<<i.lenbits)-1],m=k>>>24,C=k>>>16&255,y=65535&k,!(m<=u);){if(0===o)break e;o--,h+=r[s++]<<u,u+=8}if(y<16)h>>>=m,u-=m,i.lens[i.have++]=y;else{if(16===y){for(w=m+2;u<w;){if(0===o)break e;o--,h+=r[s++]<<u,u+=8}if(h>>>=m,u-=m,0===i.have){e.msg="invalid bit length repeat",i.mode=30;break}_=i.lens[i.have-1],p=3+(3&h),h>>>=2,u-=2}else if(17===y){for(w=m+3;u<w;){if(0===o)break e;o--,h+=r[s++]<<u,u+=8}h>>>=m,u-=m,_=0,p=3+(7&h),h>>>=3,u-=3}else{for(w=m+7;u<w;){if(0===o)break e;o--,h+=r[s++]<<u,u+=8}h>>>=m,u-=m,_=0,p=11+(127&h),h>>>=7,u-=7}if(i.have+p>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=30;break}for(;p--;)i.lens[i.have++]=_}}if(30===i.mode)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,A={bits:i.lenbits},S=RB(1,i.lens,0,i.nlen,i.lencode,0,i.work,A),i.lenbits=A.bits,S){e.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,A={bits:i.distbits},S=RB(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,A),i.distbits=A.bits,S){e.msg="invalid distances set",i.mode=30;break}if(i.mode=20,t===DB)break e;case 20:i.mode=21;case 21:if(o>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,i.hold=h,i.bits=u,TB(e,c),a=e.next_out,n=e.output,l=e.avail_out,s=e.next_in,r=e.input,o=e.avail_in,h=i.hold,u=i.bits,12===i.mode&&(i.back=-1);break}for(i.back=0;k=i.lencode[h&(1<<i.lenbits)-1],m=k>>>24,C=k>>>16&255,y=65535&k,!(m<=u);){if(0===o)break e;o--,h+=r[s++]<<u,u+=8}if(C&&0==(240&C)){for(b=m,I=C,v=y;k=i.lencode[v+((h&(1<<b+I)-1)>>b)],m=k>>>24,C=k>>>16&255,y=65535&k,!(b+m<=u);){if(0===o)break e;o--,h+=r[s++]<<u,u+=8}h>>>=b,u-=b,i.back+=b}if(h>>>=m,u-=m,i.back+=m,i.length=y,0===C){i.mode=26;break}if(32&C){i.back=-1,i.mode=12;break}if(64&C){e.msg="invalid literal/length code",i.mode=30;break}i.extra=15&C,i.mode=22;case 22:if(i.extra){for(w=i.extra;u<w;){if(0===o)break e;o--,h+=r[s++]<<u,u+=8}i.length+=h&(1<<i.extra)-1,h>>>=i.extra,u-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;k=i.distcode[h&(1<<i.distbits)-1],m=k>>>24,C=k>>>16&255,y=65535&k,!(m<=u);){if(0===o)break e;o--,h+=r[s++]<<u,u+=8}if(0==(240&C)){for(b=m,I=C,v=y;k=i.distcode[v+((h&(1<<b+I)-1)>>b)],m=k>>>24,C=k>>>16&255,y=65535&k,!(b+m<=u);){if(0===o)break e;o--,h+=r[s++]<<u,u+=8}h>>>=b,u-=b,i.back+=b}if(h>>>=m,u-=m,i.back+=m,64&C){e.msg="invalid distance code",i.mode=30;break}i.offset=y,i.extra=15&C,i.mode=24;case 24:if(i.extra){for(w=i.extra;u<w;){if(0===o)break e;o--,h+=r[s++]<<u,u+=8}i.offset+=h&(1<<i.extra)-1,h>>>=i.extra,u-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===l)break e;if(p=c-l,i.offset>p){if(p=i.offset-p,p>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=30;break}p>i.wnext?(p-=i.wnext,g=i.wsize-p):g=i.wnext-p,p>i.length&&(p=i.length),f=i.window}else f=n,g=a-i.offset,p=i.length;p>l&&(p=l),l-=p,i.length-=p;do{n[a++]=f[g++]}while(--p);0===i.length&&(i.mode=21);break;case 26:if(0===l)break e;n[a++]=i.length,l--,i.mode=21;break;case 27:if(i.wrap){for(;u<32;){if(0===o)break e;o--,h|=r[s++]<<u,u+=8}if(c-=l,e.total_out+=c,i.total+=c,c&&(e.adler=i.check=i.flags?dD(i.check,n,c,a-c):hD(i.check,n,c,a-c)),c=l,(i.flags?h:XB(h))!==i.check){e.msg="incorrect data check",i.mode=30;break}h=0,u=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;u<32;){if(0===o)break e;o--,h+=r[s++]<<u,u+=8}if(h!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=30;break}h=0,u=0}i.mode=29;case 29:S=NB;break e;case 30:S=ZB;break e;case 31:return PB;default:return MB}return e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,i.hold=h,i.bits=u,(i.wsize||c!==e.avail_out&&i.mode<30&&(i.mode<27||t!==xB))&&qB(e,e.output,e.next_out,c-e.avail_out),d-=e.avail_in,c-=e.avail_out,e.total_in+=d,e.total_out+=c,i.total+=c,i.wrap&&c&&(e.adler=i.check=i.flags?dD(i.check,n,c,e.next_out-c):hD(i.check,n,c,e.next_out-c)),e.data_type=i.bits+(i.last?64:0)+(12===i.mode?128:0)+(20===i.mode||15===i.mode?256:0),(0===d&&0===c||t===xB)&&S===BB&&(S=OB),S},eN={inflateReset:WB,inflateReset2:UB,inflateResetKeep:FB,inflateInit:e=>HB(e,15),inflateInit2:HB,inflate:$B,inflateEnd:e=>{if(!e||!e.state)return MB;let t=e.state;return t.window&&(t.window=null),e.state=null,BB},inflateGetHeader:(e,t)=>{if(!e||!e.state)return MB;const i=e.state;return 0==(2&i.wrap)?MB:(i.head=t,t.done=!1,BB)},inflateSetDictionary:(e,t)=>{const i=t.length;let r,n,s;return e&&e.state?(r=e.state,0!==r.wrap&&11!==r.mode?MB:11===r.mode&&(n=1,n=hD(n,t,i,0),n!==r.check)?ZB:(s=qB(e,t,i,i),s?(r.mode=31,PB):(r.havedict=1,BB))):MB},inflateInfo:"pako inflate (from Nodeca project)"};var tN=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const iN=Object.prototype.toString,{Z_NO_FLUSH:rN,Z_FINISH:nN,Z_OK:sN,Z_STREAM_END:aN,Z_NEED_DICT:oN,Z_STREAM_ERROR:lN,Z_DATA_ERROR:hN,Z_MEM_ERROR:uN}=pD;function dN(e){this.options=aB({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new pB,this.strm.avail_out=0;let i=eN.inflateInit2(this.strm,t.windowBits);if(i!==sN)throw new Error(cD[i]);if(this.header=new tN,eN.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=uB(t.dictionary):"[object ArrayBuffer]"===iN.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=eN.inflateSetDictionary(this.strm,t.dictionary),i!==sN)))throw new Error(cD[i])}function cN(e,t){const i=new dN(t);if(i.push(e),i.err)throw i.msg||cD[i.err];return i.result}dN.prototype.push=function(e,t){const i=this.strm,r=this.options.chunkSize,n=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(a=t===~~t?t:!0===t?nN:rN,"[object ArrayBuffer]"===iN.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(r),i.next_out=0,i.avail_out=r),s=eN.inflate(i,a),s===oN&&n&&(s=eN.inflateSetDictionary(i,n),s===sN?s=eN.inflate(i,a):s===hN&&(s=oN));i.avail_in>0&&s===aN&&i.state.wrap>0&&0!==e[i.next_in];)eN.inflateReset(i),s=eN.inflate(i,a);switch(s){case lN:case hN:case oN:case uN:return this.onEnd(s),this.ended=!0,!1}if(o=i.avail_out,i.next_out&&(0===i.avail_out||s===aN))if("string"===this.options.to){let e=cB(i.output,i.next_out),t=i.next_out-e,n=dB(i.output,e);i.next_out=t,i.avail_out=r-t,t&&i.output.set(i.output.subarray(e,e+t),0),this.onData(n)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(s!==sN||0!==o){if(s===aN)return s=eN.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},dN.prototype.onData=function(e){this.chunks.push(e)},dN.prototype.onEnd=function(e){e===sN&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=oB(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var pN={Inflate:dN,inflate:cN,inflateRaw:function(e,t){return(t=t||{}).raw=!0,cN(e,t)},ungzip:cN,constants:pD};const{Inflate:gN,inflate:fN,inflateRaw:mN,ungzip:CN}=pN;var yN=gN,bN=fN;const IN=[137,80,78,71,13,10,26,10],vN=[];for(let e=0;e<256;e++){let t=e;for(let e=0;e<8;e++)1&t?t=3988292384^t>>>1:t>>>=1;vN[e]=t}function _N(e,t){return(4294967295^function(e,t,i){let r=e;for(let e=0;e<i;e++)r=vN[255&(r^t[e])]^r>>>8;return r}(4294967295,e,t))>>>0}var SN,kN,TN,AN;!function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.GREYSCALE=0]="GREYSCALE",e[e.TRUECOLOUR=2]="TRUECOLOUR",e[e.INDEXED_COLOUR=3]="INDEXED_COLOUR",e[e.GREYSCALE_ALPHA=4]="GREYSCALE_ALPHA",e[e.TRUECOLOUR_ALPHA=6]="TRUECOLOUR_ALPHA"}(SN||(SN={})),function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.DEFLATE=0]="DEFLATE"}(kN||(kN={})),function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.ADAPTIVE=0]="ADAPTIVE"}(TN||(TN={})),function(e){e[e.UNKNOWN=-1]="UNKNOWN",e[e.NO_INTERLACE=0]="NO_INTERLACE",e[e.ADAM7=1]="ADAM7"}(AN||(AN={}));const wN=new Uint8Array(0),EN=new Uint16Array([255]),JN=255===new Uint8Array(EN.buffer)[0];class RN extends AG{constructor(e,t={}){super(e);const{checkCrc:i=!1}=t;this._checkCrc=i,this._inflator=new yN,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._end=!1,this._hasPalette=!1,this._palette=[],this._compressionMethod=kN.UNKNOWN,this._filterMethod=TN.UNKNOWN,this._interlaceMethod=AN.UNKNOWN,this._colorType=-1,this.setBigEndian()}decode(){for(this.decodeSignature();!this._end;)this.decodeChunk();return this.decodeImage(),this._png}decodeSignature(){for(let e=0;e<IN.length;e++)if(this.readUint8()!==IN[e])throw new Error(`wrong PNG signature. Byte at ${e} should be ${IN[e]}.`)}decodeChunk(){const e=this.readUint32(),t=this.readChars(4),i=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case"tEXt":this.decodetEXt(e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e)}if(this.offset-i!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);if(this._checkCrc){const i=this.readUint32(),r=e+4,n=_N(new Uint8Array(this.buffer,this.byteOffset+this.offset-r-4,r),r);if(n!==i)throw new Error(`CRC mismatch for chunk ${t}. Expected ${i}, found ${n}`)}else this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=function(e){if(1!==e&&2!==e&&4!==e&&8!==e&&16!==e)throw new Error(`invalid bit depth: ${e}`);return e}(this.readUint8());const t=this.readUint8();let i;switch(this._colorType=t,t){case SN.GREYSCALE:i=1;break;case SN.TRUECOLOUR:i=3;break;case SN.INDEXED_COLOUR:i=1;break;case SN.GREYSCALE_ALPHA:i=2;break;case SN.TRUECOLOUR_ALPHA:i=4;break;default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==kN.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodePLTE(e){if(e%3!=0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const i=[];this._palette=i;for(let e=0;e<t;e++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._inflator.push(new Uint8Array(this.buffer,this.offset+this.byteOffset,e)),this.skip(e)}decodetRNS(e){if(3===this._colorType){if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const e=this.readByte();this._palette[t].push(e)}for(;t<this._palette.length;t++)this._palette[t].push(255)}}decodeiCCP(e){let t,i="";for(;"\0"!==(t=this.readChar());)i+=t;const r=this.readUint8();if(r!==kN.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const n=this.readBytes(e-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:bN(n)}}decodetEXt(e){let t,i="";for(;"\0"!==(t=this.readChar());)i+=t;this._png.text[i]=this.readChars(e-i.length-1)}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),i=this.readByte();this._png.resolution={x:e,y:t,unit:i}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._inflator.result;if(this._filterMethod!==TN.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod!==AN.NO_INTERLACE)throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this.decodeInterlaceNull(e)}decodeInterlaceNull(e){const t=this._png.height,i=this._png.channels*this._png.depth/8,r=this._png.width*i,n=new Uint8Array(this._png.height*r);let s,a,o=wN,l=0;for(let h=0;h<t;h++){switch(s=e.subarray(l+1,l+1+r),a=n.subarray(h*r,(h+1)*r),e[l]){case 0:xN(s,a,r);break;case 1:GN(s,a,r,i);break;case 2:DN(s,a,o,r);break;case 3:BN(s,a,o,r,i);break;case 4:NN(s,a,o,r,i);break;default:throw new Error(`Unsupported filter: ${e[l]}`)}o=a,l+=r+1}if(this._hasPalette&&(this._png.palette=this._palette),16===this._png.depth){const e=new Uint16Array(n.buffer);if(JN)for(let t=0;t<e.length;t++)e[t]=(255&(h=e[t]))<<8|h>>8&255;this._png.data=e}else this._png.data=n;var h}}function xN(e,t,i){for(let r=0;r<i;r++)t[r]=e[r]}function GN(e,t,i,r){let n=0;for(;n<r;n++)t[n]=e[n];for(;n<i;n++)t[n]=e[n]+t[n-r]&255}function DN(e,t,i,r){let n=0;if(0===i.length)for(;n<r;n++)t[n]=e[n];else for(;n<r;n++)t[n]=e[n]+i[n]&255}function BN(e,t,i,r,n){let s=0;if(0===i.length){for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+(t[s-n]>>1)&255}else{for(;s<n;s++)t[s]=e[s]+(i[s]>>1)&255;for(;s<r;s++)t[s]=e[s]+(t[s-n]+i[s]>>1)&255}}function NN(e,t,i,r,n){let s=0;if(0===i.length){for(;s<n;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-n]&255}else{for(;s<n;s++)t[s]=e[s]+i[s]&255;for(;s<r;s++)t[s]=e[s]+QN(t[s-n],i[s],i[s-n])&255}}function QN(e,t,i){const r=e+t-i,n=Math.abs(r-e),s=Math.abs(r-t),a=Math.abs(r-i);return n<=s&&n<=a?e:s<=a?t:i}var MN;function ZN({text:e,onClick:t}){return CJ.exports.jsx("div",{className:"file-import hover-interact",onClick:t,children:CJ.exports.jsx(Nx,{text:e})})}function PN(e){const t=Xg(e);alert(t)}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"}(MN||(MN={}));var ON=Jx((function({store:e,handler:t=(t=>{e.setSpritesheet(t)}),text:i="UI.import.texture",callback:r}){const s=n.exports.useRef();return CJ.exports.jsxs(CJ.exports.Fragment,{children:[CJ.exports.jsx(ZN,{text:i,onClick:()=>s.current.click()}),CJ.exports.jsx("input",{type:"file",style:{display:"none"},accept:".png, .xnb",onChange:async function(i){if(!s.current)return;const n=s.current.files[0];if(!n)return;const[,a]=function(e){let t=e.match(/(.*)\.([^\s.]+)$/);return null===t?[e,null]:[t[1],t[2]]}(n.name),o=await n.arrayBuffer();if("png"===a){const{width:i,height:s,data:a}=await function(e,t){return new RN(e,t).decode()}(o),l=URL.createObjectURL(n);return t({width:i,height:s,data:a,blobURL:l}),void("function"==typeof r&&r(e))}try{const i=await function(e){return SG(new IG,{type:"bufferToXnb",data:e}).then((({header:e,readers:t,content:i})=>new vG(e,t,i)))}(o),{content:n,type:s}=await function(e){return SG(new IG,{type:"xnbDataToContent",data:e}).then((({content:e,type:t})=>new _G(e,t)))}(i);if("Texture2D"!==s)return void PN("error.noTextureXnb");const{width:a,height:l,data:h}=i.content.export,u=URL.createObjectURL(n);t({width:a,height:l,data:h,blobURL:u}),"function"==typeof r&&r(e)}catch(i){PN("error.errorReadingXnb"),console.error(i)}},ref:s})]})}));const LN=UJ.getProps.bind(UJ);function XN(e,t){e.adjustSelect(t)}function VN(){const{dataSet:e}=LN("body");return CJ.exports.jsx(CJ.exports.Fragment,{children:["male","male_bald","female","female_bald"].map((function(t){return CJ.exports.jsx(ON,{store:e,handler:i=>{e.setSpritesheet(i,`body_${t}`)},text:`UI.import.body.${t}`},t)}))})}function FN(){const{selection:e,dataSet:t}=LN("body");return CJ.exports.jsx(ON,{store:t,callback:({count:t})=>XN(e,t),handler:e=>{t.setSkinColor(e)},text:"UI.import.skin"})}function WN(){const{selection:e,dataSet:t}=LN("hairstyle"),i=({count:t})=>XN(e,t);return CJ.exports.jsxs(CJ.exports.Fragment,{children:[CJ.exports.jsx(ON,{store:t,callback:i}),CJ.exports.jsx(ON,{store:t,callback:i,handler:e=>{t.setAdditionalSheet({hairstyles2:e.blobURL})},text:"UI.import.additionalTexture"})]})}function UN({name:e}){const{dataSet:t}=LN(e);return CJ.exports.jsx(ON,{store:t})}const HN=UJ.getProps.bind(UJ);function KN({store:e}){return CJ.exports.jsx("div",{className:"ui-icon reset-icon hover-interact",onClick:()=>e.resetData()})}function YN({name:e}){const t=function(e){if("skin"===e){const{dataSet:e}=HN("body");return e.resetSkin.bind(e)}if("body"===e){const{dataSet:e}=HN("body");return e.resetBody.bind(e)}const{dataSet:t}=HN(e);return t.resetData.bind(t)}(e);return CJ.exports.jsxs("div",{className:"reset-button hover-interact",onClick:t,children:[CJ.exports.jsx("span",{className:"ui-icon reset-icon-white inline"}),CJ.exports.jsx(Bx,{text:"UI.import.reset"})]})}function zN(){return CJ.exports.jsxs("div",{className:"reset-button hover-interact",onClick:()=>UJ.resetAll(),children:[CJ.exports.jsx("span",{className:"ui-icon reset-icon-white inline"}),CJ.exports.jsx(Bx,{text:"UI.import.resetAll"})]})}function jN(){return CJ.exports.jsx(xx,{button:CJ.exports.jsx("p",{className:"file-import",children:CJ.exports.jsx(Nx,{text:"UI.import.body"})}),wrapperClass:"dropdown-wrapper-center",type:"dropdown",children:CJ.exports.jsx(VN,{})})}const qN=UJ.getProps.bind(UJ);function $N({name:e}){return CJ.exports.jsxs("h2",{children:[CJ.exports.jsx("span",{className:`ui-icon ${e}-icon inline`}),CJ.exports.jsx("span",{children:" "}),CJ.exports.jsx(Bx,{text:`title.${e}`})]})}const eQ=({name:e,additionalDefaultImage:t={},importers:i,children:r})=>{const{selection:s,dataSet:a,defaultImage:o}=qN(e),l=n.exports.useContext(ox);return CJ.exports.jsxs("div",{className:`controller-item controller-item-${e}`,children:[CJ.exports.jsxs("div",{className:"controller-header",children:[CJ.exports.jsx($N,{name:e}),CJ.exports.jsxs("div",{className:"file-importer-wrapper",children:[i,CJ.exports.jsx(KN,{store:a})]})]}),CJ.exports.jsx(gG,{name:e,selection:s,dataSet:a,defaultImage:o,additionalDefaultImage:t,swiper:l,hudType:"body"===e?"skinColor":"itemList"}),CJ.exports.jsx("div",{className:"controller-sub",children:r})]})},tQ=()=>{const e="body",{selection:t}=qN(e);return CJ.exports.jsx(eQ,{name:e,importers:CJ.exports.jsxs(CJ.exports.Fragment,{children:[CJ.exports.jsx(jN,{}),CJ.exports.jsx(FN,{})]}),children:CJ.exports.jsx(CG,{type:e,selection:t})})},iQ=()=>{const e="hats",{selection:t}=qN(e);return CJ.exports.jsx(eQ,{name:e,importers:CJ.exports.jsx(UN,{name:e}),children:CJ.exports.jsx(yG,{type:e,selection:t})})},rQ=()=>{const e="hairstyle",{selection:t}=qN(e);return CJ.exports.jsx(eQ,{name:e,additionalDefaultImage:{hairstyles2:"assets/hairstyles2.png"},importers:CJ.exports.jsx(WN,{}),children:CJ.exports.jsx(CG,{type:e,selection:t})})},nQ=({name:e})=>{const{selection:t}=qN(e);return CJ.exports.jsxs(eQ,{name:e,importers:CJ.exports.jsx(UN,{name:e}),children:[CJ.exports.jsx(CG,{type:e,selection:t}),CJ.exports.jsx(yG,{type:e,selection:t})]})};function sQ({name:e,children:t}){return CJ.exports.jsxs("div",{className:"import-hub-card",children:[CJ.exports.jsx($N,{name:e}),CJ.exports.jsx("div",{className:"import-hub-card-items",children:t}),CJ.exports.jsx(YN,{name:e})]})}function aQ(){return CJ.exports.jsxs("div",{className:"import-hub-list",children:[CJ.exports.jsx(sQ,{name:"body",children:CJ.exports.jsx(VN,{})}),CJ.exports.jsx(sQ,{name:"skin",children:CJ.exports.jsx(FN,{})}),CJ.exports.jsx(sQ,{name:"hats",children:CJ.exports.jsx(UN,{name:"hats"})}),CJ.exports.jsx(sQ,{name:"hairstyle",children:CJ.exports.jsx(WN,{})}),CJ.exports.jsx(sQ,{name:"shirts",children:CJ.exports.jsx(UN,{name:"shirts"})}),CJ.exports.jsx(sQ,{name:"pants",children:CJ.exports.jsx(UN,{name:"pants"})})]})}function oQ(){return CJ.exports.jsxs(xx,{wrapperClass:"import-hub-wrapper",buttonClass:"ui-icon import-button",listClass:"modal scrolling-modal",type:"modal",children:[CJ.exports.jsx(aQ,{}),CJ.exports.jsx(zN,{})]})}function lQ(){return CJ.exports.jsxs("div",{className:"pc-banner",children:[CJ.exports.jsx(Dx,{}),CJ.exports.jsx(Mx,{}),CJ.exports.jsx(oQ,{})]})}function hQ({className:e,isActivated:t,onClick:i}){return CJ.exports.jsx("div",{className:`hamburger-button ${e} ${t?"activated":""}`,onClick:i,children:new Array(11).fill(0).map(((e,t)=>CJ.exports.jsx("div",{},t)))})}function uQ(){let[e,t]=n.exports.useState("none"),[i,r]=n.exports.useState(!1);const s="menu"===e?"":"inactive",a="howto"===e?"":"inactive",o="import"===e?"":"inactive",l="howto"===e||"import"===e?"":"inactive",h=i?"":"inactive";return CJ.exports.jsxs("div",{className:"mobile-banner",children:[CJ.exports.jsx(hQ,{className:"mobile-menu-button hover-interact",isActivated:"menu"===e,onClick:function(){t((e=>"none"===e?"menu":"none"))}}),CJ.exports.jsx("div",{className:`modal-bg mobile-menu-modal-bg ${s}`,onClick:()=>t("none")}),CJ.exports.jsxs("div",{className:`mobile-menu-list ${s}`,children:[CJ.exports.jsxs("h2",{className:"hover-interact",onClick:()=>r((e=>!e)),children:[CJ.exports.jsx("span",{className:"ui-icon language-button inline"})," ",CJ.exports.jsx(Bx,{text:"UI.aside.language"})]}),CJ.exports.jsx("div",{className:`dropdown-list language-list ${h}`,children:CJ.exports.jsx(Gx,{})}),CJ.exports.jsxs("h2",{className:"hover-interact",onClick:()=>t("howto"),children:[CJ.exports.jsx("span",{className:"ui-icon help-button inline"})," ",CJ.exports.jsx(Bx,{text:"UI.aside.help"})]}),CJ.exports.jsxs("h2",{className:"hover-interact",onClick:()=>t("import"),children:[CJ.exports.jsx("span",{className:"ui-icon import-button inline"})," ",CJ.exports.jsx(Bx,{text:"UI.aside.import"})]})]}),CJ.exports.jsx("div",{className:`modal-bg ${l}`,onClick:()=>t("none")}),CJ.exports.jsxs("div",{className:`modal ${a}`,children:[CJ.exports.jsx("div",{className:"ui-icon close-button modal-close hover-interact",onClick:()=>t("none")}),CJ.exports.jsx(Qx,{})]}),CJ.exports.jsxs("div",{className:`modal scrolling-modal ${o}`,children:[CJ.exports.jsx("div",{className:"ui-icon close-button modal-close hover-interact",onClick:()=>t("none")}),CJ.exports.jsx(aQ,{}),CJ.exports.jsx(zN,{})]})]})}function dQ(){return CJ.exports.jsxs(Fg,{children:[CJ.exports.jsx(lQ,{}),CJ.exports.jsx(uQ,{})]})}function cQ(){return CJ.exports.jsxs(Fg,{children:[CJ.exports.jsx(KJ,{}),CJ.exports.jsxs(cx,{ids:["body","hats","hairstyle","shirts","pants"],children:[CJ.exports.jsx(tQ,{}),CJ.exports.jsx(iQ,{}),CJ.exports.jsx(rQ,{}),CJ.exports.jsx(nQ,{name:"shirts"}),CJ.exports.jsx(nQ,{name:"pants"})]})]})}function pQ(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh",`${e}px`)}function gQ(e,t){const i=document.getElementById(t);Ou(i).render(e)}function fQ(){pQ(),window.addEventListener("resize",pQ),gQ(CJ.exports.jsx(cQ,{}),"app"),gQ(CJ.exports.jsx(dQ,{}),"banner")}export{fQ as default};
